"use strict";var CAe=Object.defineProperty,EAe=Object.defineProperties,DAe=Object.getOwnPropertyDescriptors,kQ=Object.getOwnPropertySymbols,SAe=Object.prototype.hasOwnProperty,wAe=Object.prototype.propertyIsEnumerable,NQ=(It,Ns,Sr)=>Ns in It?CAe(It,Ns,{enumerable:!0,configurable:!0,writable:!0,value:Sr}):It[Ns]=Sr,xe=(It,Ns)=>{for(var Sr in Ns||(Ns={}))SAe.call(Ns,Sr)&&NQ(It,Sr,Ns[Sr]);if(kQ)for(var Sr of kQ(Ns))wAe.call(Ns,Sr)&&NQ(It,Sr,Ns[Sr]);return It},Tn=(It,Ns)=>EAe(It,DAe(Ns));(self.webpackChunkTempleWebsite=self.webpackChunkTempleWebsite||[]).push([[179],{337:()=>{function It(r){return"function"==typeof r}function Ns(r){const e=r(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Sr=Ns(r=>function(e){r(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,n)=>`${n+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Ld(r,t){if(r){const e=r.indexOf(t);0<=e&&r.splice(e,1)}}class rn{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(It(i))try{i()}catch(s){t=s instanceof Sr?s.errors:[s]}const{_teardowns:n}=this;if(n){this._teardowns=null;for(const s of n)try{gL(s)}catch(a){t=null!=t?t:[],a instanceof Sr?t=[...t,...a.errors]:t.push(a)}}if(t)throw new Sr(t)}}add(t){var e;if(t&&t!==this)if(this.closed)gL(t);else{if(t instanceof rn){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(e=this._teardowns)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Ld(e,t)}remove(t){const{_teardowns:e}=this;e&&Ld(e,t),t instanceof rn&&t._removeParent(this)}}rn.EMPTY=(()=>{const r=new rn;return r.closed=!0,r})();const fL=rn.EMPTY;function mL(r){return r instanceof rn||r&&"closed"in r&&It(r.remove)&&It(r.add)&&It(r.unsubscribe)}function gL(r){It(r)?r():r.unsubscribe()}const au={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ob={setTimeout(...r){const{delegate:t}=ob;return((null==t?void 0:t.setTimeout)||setTimeout)(...r)},clearTimeout(r){const{delegate:t}=ob;return((null==t?void 0:t.clearTimeout)||clearTimeout)(r)},delegate:void 0};function vL(r){ob.setTimeout(()=>{const{onUnhandledError:t}=au;if(!t)throw r;t(r)})}function Rd(){}const _Q=Tw("C",void 0,void 0);function Tw(r,t,e){return{kind:r,value:t,error:e}}let ou=null;function lb(r){if(au.useDeprecatedSynchronousErrorHandling){const t=!ou;if(t&&(ou={errorThrown:!1,error:null}),r(),t){const{errorThrown:e,error:i}=ou;if(ou=null,e)throw i}}else r()}class Iw extends rn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,mL(t)&&t.add(this)):this.destination=FQ}static create(t,e,i){return new Aw(t,e,i)}next(t){this.isStopped?Ow(Tw("N",t,void 0),this):this._next(t)}error(t){this.isStopped?Ow(Tw("E",void 0,t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ow(_Q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Aw extends Iw{constructor(t,e,i){let n;if(super(),It(t))n=t;else if(t){let s;({next:n,error:e,complete:i}=t),this&&au.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe()):s=t,n=null==n?void 0:n.bind(s),e=null==e?void 0:e.bind(s),i=null==i?void 0:i.bind(s)}this.destination={next:n?xw(n):Rd,error:xw(null!=e?e:yL),complete:i?xw(i):Rd}}}function xw(r,t){return(...e)=>{try{r(...e)}catch(i){au.useDeprecatedSynchronousErrorHandling?function(r){au.useDeprecatedSynchronousErrorHandling&&ou&&(ou.errorThrown=!0,ou.error=r)}(i):vL(i)}}}function yL(r){throw r}function Ow(r,t){const{onStoppedNotification:e}=au;e&&ob.setTimeout(()=>e(r,t))}const FQ={closed:!0,next:Rd,error:yL,complete:Rd},kw="function"==typeof Symbol&&Symbol.observable||"@@observable";function Qh(r){return r}let zi=(()=>{class r{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new r;return i.source=this,i.operator=e,i}subscribe(e,i,n){const s=function(r){return r&&r instanceof Iw||function(r){return r&&It(r.next)&&It(r.error)&&It(r.complete)}(r)&&mL(r)}(e)?e:new Aw(e,i,n);return lb(()=>{const{operator:a,source:o}=this;s.add(a?a.call(s,o):o?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=CL(i))((n,s)=>{let a;a=this.subscribe(o=>{try{e(o)}catch(l){s(l),null==a||a.unsubscribe()}},s,n)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[kw](){return this}pipe(...e){return function(r){return 0===r.length?Qh:1===r.length?r[0]:function(e){return r.reduce((i,n)=>n(i),e)}}(e)(this)}toPromise(e){return new(e=CL(e))((i,n)=>{let s;this.subscribe(a=>s=a,a=>n(a),()=>i(s))})}}return r.create=t=>new r(t),r})();function CL(r){var t;return null!==(t=null!=r?r:au.Promise)&&void 0!==t?t:Promise}const BQ=Ns(r=>function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let kt=(()=>{class r extends zi{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new EL(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new BQ}next(e){lb(()=>{if(this._throwIfClosed(),!this.isStopped){const i=this.observers.slice();for(const n of i)n.next(e)}})}error(e){lb(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){lb(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:n,observers:s}=this;return i||n?fL:(s.push(e),new rn(()=>Ld(s,e)))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:n,isStopped:s}=this;i?e.error(n):s&&e.complete()}asObservable(){const e=new zi;return e.source=this,e}}return r.create=(t,e)=>new EL(t,e),r})();class EL extends kt{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:fL}}function DL(r){return It(null==r?void 0:r.lift)}function In(r){return t=>{if(DL(t))return t.lift(function(e){try{return r(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}class fn extends Iw{constructor(t,e,i,n,s){super(t),this.onFinalize=s,this._next=e?function(a){try{e(a)}catch(o){t.error(o)}}:super._next,this._error=n?function(a){try{n(a)}catch(o){t.error(o)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}function Ut(r,t){return In((e,i)=>{let n=0;e.subscribe(new fn(i,s=>{i.next(r.call(t,s,n++))}))})}function lu(r){return this instanceof lu?(this.v=r,this):new lu(r)}function UQ(r,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=e.apply(r,t||[]),s=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(p){i[p]&&(n[p]=function(f){return new Promise(function(m,g){s.push([p,f,m,g])>1||o(p,f)})})}function o(p,f){try{!function(p){p.value instanceof lu?Promise.resolve(p.value.v).then(h,c):d(s[0][2],p)}(i[p](f))}catch(m){d(s[0][3],m)}}function h(p){o("next",p)}function c(p){o("throw",p)}function d(p,f){p(f),s.shift(),s.length&&o(s[0][0],s[0][1])}}function WQ(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=r[Symbol.asyncIterator];return t?t.call(r):(r=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],i=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=r[s]&&function(a){return new Promise(function(o,l){!function(s,a,o,l){Promise.resolve(l).then(function(h){s({value:h,done:o})},a)}(o,l,(a=r[s](a)).done,a.value)})}}}const _w=r=>r&&"number"==typeof r.length&&"function"!=typeof r;function TL(r){return It(null==r?void 0:r.then)}function IL(r){return It(r[kw])}function AL(r){return Symbol.asyncIterator&&It(null==r?void 0:r[Symbol.asyncIterator])}function xL(r){return new TypeError(`You provided ${null!==r&&"object"==typeof r?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const OL="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function kL(r){return It(null==r?void 0:r[OL])}function NL(r){return UQ(this,arguments,function*(){const e=r.getReader();try{for(;;){const{value:i,done:n}=yield lu(e.read());if(n)return yield lu(void 0);yield yield lu(i)}}finally{e.releaseLock()}})}function _L(r){return It(null==r?void 0:r.getReader)}function oa(r){if(r instanceof zi)return r;if(null!=r){if(IL(r))return function(r){return new zi(t=>{const e=r[kw]();if(It(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(r);if(_w(r))return function(r){return new zi(t=>{for(let e=0;e<r.length&&!t.closed;e++)t.next(r[e]);t.complete()})}(r);if(TL(r))return function(r){return new zi(t=>{r.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,vL)})}(r);if(AL(r))return LL(r);if(kL(r))return function(r){return new zi(t=>{for(const e of r)if(t.next(e),t.closed)return;t.complete()})}(r);if(_L(r))return function(r){return LL(NL(r))}(r)}throw xL(r)}function LL(r){return new zi(t=>{(function(r,t){var e,i,n,s;return function(r,t,e,i){return new(e||(e=Promise))(function(s,a){function o(c){try{h(i.next(c))}catch(d){a(d)}}function l(c){try{h(i.throw(c))}catch(d){a(d)}}function h(c){c.done?s(c.value):function(s){return s instanceof e?s:new e(function(a){a(s)})}(c.value).then(o,l)}h((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=WQ(r);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(a){n={error:a}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(n)throw n.error}}t.complete()})})(r,t).catch(e=>t.error(e))})}function Bl(r,t,e,i=0,n=!1){const s=t.schedule(function(){e(),n?r.add(this.schedule(null,i)):this.unsubscribe()},i);if(r.add(s),!n)return s}function is(r,t,e=1/0){return It(t)?is((i,n)=>Ut((s,a)=>t(i,s,n,a))(oa(r(i,n))),e):("number"==typeof t&&(e=t),In((i,n)=>function(r,t,e,i,n,s,a,o){const l=[];let h=0,c=0,d=!1;const p=()=>{d&&!l.length&&!h&&t.complete()},f=g=>h<i?m(g):l.push(g),m=g=>{h++;let y=!1;oa(e(g,c++)).subscribe(new fn(t,C=>{t.next(C)},()=>{y=!0},void 0,()=>{if(y)try{for(h--;l.length&&h<i;){const C=l.shift();m(C)}p()}catch(C){t.error(C)}}))};return r.subscribe(new fn(t,f,()=>{d=!0,p()})),()=>{}}(i,n,r,e)))}function bm(r=1/0){return is(Qh,r)}const Xo=new zi(r=>r.complete());function RL(r){return r&&It(r.schedule)}function Lw(r){return r[r.length-1]}function PL(r){return It(Lw(r))?r.pop():void 0}function Cm(r){return RL(Lw(r))?r.pop():void 0}function FL(r,t=0){return In((e,i)=>{e.subscribe(new fn(i,n=>Bl(i,r,()=>i.next(n),t),()=>Bl(i,r,()=>i.complete(),t),n=>Bl(i,r,()=>i.error(n),t)))})}function VL(r,t=0){return In((e,i)=>{i.add(r.schedule(()=>e.subscribe(i),t))})}function jL(r,t){if(!r)throw new Error("Iterable cannot be null");return new zi(e=>{Bl(e,t,()=>{const i=r[Symbol.asyncIterator]();Bl(e,t,()=>{i.next().then(n=>{n.done?e.complete():e.next(n.value)})},0,!0)})})}function _s(r,t){return t?function(r,t){if(null!=r){if(IL(r))return function(r,t){return oa(r).pipe(VL(t),FL(t))}(r,t);if(_w(r))return function(r,t){return new zi(e=>{let i=0;return t.schedule(function(){i===r.length?e.complete():(e.next(r[i++]),e.closed||this.schedule())})})}(r,t);if(TL(r))return function(r,t){return oa(r).pipe(VL(t),FL(t))}(r,t);if(AL(r))return jL(r,t);if(kL(r))return function(r,t){return new zi(e=>{let i;return Bl(e,t,()=>{i=r[OL](),Bl(e,t,()=>{let n,s;try{({value:n,done:s}=i.next())}catch(a){return void e.error(a)}s?e.complete():e.next(n)},0,!0)}),()=>It(null==i?void 0:i.return)&&i.return()})}(r,t);if(_L(r))return function(r,t){return jL(NL(r),t)}(r,t)}throw xL(r)}(r,t):oa(r)}function Hl(...r){const t=Cm(r),e=function(r,t){return"number"==typeof Lw(r)?r.pop():1/0}(r),i=r;return i.length?1===i.length?oa(i[0]):bm(e)(_s(i,t)):Xo}function wr(r){return r<=0?()=>Xo:In((t,e)=>{let i=0;t.subscribe(new fn(e,n=>{++i<=r&&(e.next(n),r<=i&&e.complete())}))})}function BL(r={}){const{connector:t=(()=>new kt),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:n=!0}=r;return s=>{let a=null,o=null,l=null,h=0,c=!1,d=!1;const p=()=>{null==o||o.unsubscribe(),o=null},f=()=>{p(),a=l=null,c=d=!1},m=()=>{const g=a;f(),null==g||g.unsubscribe()};return In((g,y)=>{h++,!d&&!c&&p();const C=l=null!=l?l:t();y.add(()=>{h--,0===h&&!d&&!c&&(o=Rw(m,n))}),C.subscribe(y),a||(a=new Aw({next:E=>C.next(E),error:E=>{d=!0,p(),o=Rw(f,e,E),C.error(E)},complete:()=>{c=!0,p(),o=Rw(f,i),C.complete()}}),_s(g).subscribe(a))})(s)}}function Rw(r,t,...e){return!0===t?(r(),null):!1===t?null:t(...e).pipe(wr(1)).subscribe(()=>r())}function Xi(r){for(let t in r)if(r[t]===Xi)return t;throw Error("Could not find renamed property on target object.")}function Pw(r,t){for(const e in t)t.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(r[e]=t[e])}function di(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(di).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const t=r.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Fw(r,t){return null==r||""===r?null===t?"":t:null==t||""===t?r:r+" "+t}const lG=Xi({__forward_ref__:Xi});function Qi(r){return r.__forward_ref__=Qi,r.toString=function(){return di(this())},r}function Pt(r){return HL(r)?r():r}function HL(r){return"function"==typeof r&&r.hasOwnProperty(lG)&&r.__forward_ref__===Qi}class la extends Error{constructor(t,e){super(function(r,t){return`${r?`NG0${r}: `:""}${t}`}(t,e)),this.code=t}}function wt(r){return"string"==typeof r?r:null==r?"":String(r)}function Mr(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():wt(r)}function hb(r,t){const e=t?` in ${t}`:"";throw new la("201",`No provider for ${Mr(r)} found${e}`)}function ca(r,t){null==r&&function(r,t,e,i){throw new Error(`ASSERTION ERROR: ${r}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,r,null,"!=")}function ke(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Wt(r){return{providers:r.providers||[],imports:r.imports||[]}}function jw(r){return zL(r,cb)||zL(r,WL)}function zL(r,t){return r.hasOwnProperty(t)?r[t]:null}function UL(r){return r&&(r.hasOwnProperty(Bw)||r.hasOwnProperty(mG))?r[Bw]:null}const cb=Xi({\u0275prov:Xi}),Bw=Xi({\u0275inj:Xi}),WL=Xi({ngInjectableDef:Xi}),mG=Xi({ngInjectorDef:Xi});var At=(()=>((At=At||{})[At.Default=0]="Default",At[At.Host=1]="Host",At[At.Self=2]="Self",At[At.SkipSelf=4]="SkipSelf",At[At.Optional=8]="Optional",At))();let Hw;function Gh(r){const t=Hw;return Hw=r,t}function qL(r,t,e){const i=jw(r);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&At.Optional?null:void 0!==t?t:void hb(di(r),"Injector")}function $h(r){return{toString:r}.toString()}var Na=(()=>((Na=Na||{})[Na.OnPush=0]="OnPush",Na[Na.Default=1]="Default",Na))(),po=(()=>{return(r=po||(po={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",po;var r})();const vG="undefined"!=typeof globalThis&&globalThis,yG="undefined"!=typeof window&&window,bG="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gi=vG||"undefined"!=typeof global&&global||yG||bG,Pd={},Zi=[],ub=Xi({\u0275cmp:Xi}),zw=Xi({\u0275dir:Xi}),Uw=Xi({\u0275pipe:Xi}),YL=Xi({\u0275mod:Xi}),Ul=Xi({\u0275fac:Xi}),Em=Xi({__NG_ELEMENT_ID__:Xi});let CG=0;function ci(r){return $h(()=>{const e={},i={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Na.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Zi,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||po.Emulated,id:"c",styles:r.styles||Zi,_:null,setInput:null,schemas:r.schemas||null,tView:null},n=r.directives,s=r.features,a=r.pipes;return i.id+=CG++,i.inputs=KL(r.inputs,e),i.outputs=KL(r.outputs),s&&s.forEach(o=>o(i)),i.directiveDefs=n?()=>("function"==typeof n?n():n).map(QL):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(GL):null,i})}function QL(r){return rr(r)||function(r){return r[zw]||null}(r)}function GL(r){return function(r){return r[Uw]||null}(r)}const $L={};function $t(r){return $h(()=>{const t={type:r.type,bootstrap:r.bootstrap||Zi,declarations:r.declarations||Zi,imports:r.imports||Zi,exports:r.exports||Zi,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&($L[r.id]=r.type),t})}function KL(r,t){if(null==r)return Pd;const e={};for(const i in r)if(r.hasOwnProperty(i)){let n=r[i],s=n;Array.isArray(n)&&(s=n[1],n=n[0]),e[n]=i,t&&(t[n]=s)}return e}const Be=ci;function rr(r){return r[ub]||null}function _a(r,t){const e=r[YL]||null;if(!e&&!0===t)throw new Error(`Type ${di(r)} does not have '\u0275mod' property.`);return e}function Zo(r){return Array.isArray(r)&&"object"==typeof r[1]}function mo(r){return Array.isArray(r)&&!0===r[1]}function Yw(r){return 0!=(8&r.flags)}function mb(r){return 2==(2&r.flags)}function gb(r){return 1==(1&r.flags)}function go(r){return null!==r.template}function TG(r){return 0!=(512&r[2])}function pu(r,t){return r.hasOwnProperty(Ul)?r[Ul]:null}class xG{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function or(){return ZL}function ZL(r){return r.type.prototype.ngOnChanges&&(r.setInput=kG),OG}function OG(){const r=eR(this),t=null==r?void 0:r.current;if(t){const e=r.previous;if(e===Pd)r.previous=t;else for(let i in t)e[i]=t[i];r.current=null,this.ngOnChanges(t)}}function kG(r,t,e,i){const n=eR(r)||function(r,t){return r[JL]=t}(r,{previous:Pd,current:null}),s=n.current||(n.current={}),a=n.previous,o=this.declaredInputs[e],l=a[o];s[o]=new xG(l&&l.currentValue,t,a===Pd),r[i]=t}or.ngInherit=!0;const JL="__ngSimpleChanges__";function eR(r){return r[JL]||null}const tR="http://www.w3.org/2000/svg";let $w;function Kw(){return void 0!==$w?$w:"undefined"!=typeof document?document:void 0}function jn(r){return!!r.listen}const nR={createRenderer:(r,t)=>Kw()};function ns(r){for(;Array.isArray(r);)r=r[0];return r}function vb(r,t){return ns(t[r])}function Pa(r,t){return ns(t[r.index])}function Xw(r,t){return r.data[t]}function da(r,t){const e=t[r];return Zo(e)?e:e[0]}function sR(r){return 4==(4&r[2])}function Zw(r){return 128==(128&r[2])}function Xh(r,t){return null==t?null:r[t]}function rR(r){r[18]=0}function Jw(r,t){r[5]+=t;let e=r,i=r[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const Ct={lFrame:pR(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function aR(){return Ct.bindingsEnabled}function be(){return Ct.lFrame.lView}function pi(){return Ct.lFrame.tView}function pa(r){return Ct.lFrame.contextLView=r,r[8]}function Es(){let r=oR();for(;null!==r&&64===r.type;)r=r.parent;return r}function oR(){return Ct.lFrame.currentTNode}function Jo(r,t){const e=Ct.lFrame;e.currentTNode=r,e.isParent=t}function eM(){return Ct.lFrame.isParent}function tM(){Ct.lFrame.isParent=!1}function yb(){return Ct.isInCheckNoChangesMode}function bb(r){Ct.isInCheckNoChangesMode=r}function zd(){return Ct.lFrame.bindingIndex++}function ql(r){const t=Ct.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+r,e}function YG(r,t){const e=Ct.lFrame;e.bindingIndex=e.bindingRootIndex=r,iM(t)}function iM(r){Ct.lFrame.currentDirectiveIndex=r}function nM(r){const t=Ct.lFrame.currentDirectiveIndex;return-1===t?null:r[t]}function cR(){return Ct.lFrame.currentQueryIndex}function sM(r){Ct.lFrame.currentQueryIndex=r}function GG(r){const t=r[1];return 2===t.type?t.declTNode:1===t.type?r[6]:null}function uR(r,t,e){if(e&At.SkipSelf){let n=t,s=r;for(;!(n=n.parent,null!==n||e&At.Host||(n=GG(s),null===n||(s=s[15],10&n.type))););if(null===n)return!1;t=n,r=s}const i=Ct.lFrame=dR();return i.currentTNode=t,i.lView=r,!0}function Cb(r){const t=dR(),e=r[1];Ct.lFrame=t,t.currentTNode=e.firstChild,t.lView=r,t.tView=e,t.contextLView=r,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function dR(){const r=Ct.lFrame,t=null===r?null:r.child;return null===t?pR(r):t}function pR(r){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=t),t}function fR(){const r=Ct.lFrame;return Ct.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const mR=fR;function Eb(){const r=fR();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Ir(){return Ct.lFrame.selectedIndex}function Zh(r){Ct.lFrame.selectedIndex=r}function Bn(){const r=Ct.lFrame;return Xw(r.tView,r.selectedIndex)}function Db(r,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=r.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:o,ngAfterViewInit:l,ngAfterViewChecked:h,ngOnDestroy:c}=s;a&&(r.contentHooks||(r.contentHooks=[])).push(-e,a),o&&((r.contentHooks||(r.contentHooks=[])).push(e,o),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(e,o)),l&&(r.viewHooks||(r.viewHooks=[])).push(-e,l),h&&((r.viewHooks||(r.viewHooks=[])).push(e,h),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(e,h)),null!=c&&(r.destroyHooks||(r.destroyHooks=[])).push(e,c)}}function Sb(r,t,e){vR(r,t,3,e)}function wb(r,t,e,i){(3&r[2])===e&&vR(r,t,e,i)}function aM(r,t){let e=r[2];(3&e)===t&&(e&=2047,e+=1,r[2]=e)}function vR(r,t,e,i){const s=null!=i?i:-1,a=t.length-1;let o=0;for(let l=void 0!==i?65535&r[18]:0;l<a;l++)if("number"==typeof t[l+1]){if(o=t[l],null!=i&&o>=i)break}else t[l]<0&&(r[18]+=65536),(o<s||-1==s)&&(t$(r,e,t,l),r[18]=(4294901760&r[18])+l+2),l++}function t$(r,t,e,i){const n=e[i]<0,s=e[i+1],o=r[n?-e[i]:e[i]];if(n){if(r[2]>>11<r[18]>>16&&(3&r[2])===t){r[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}class Tm{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Mb(r,t,e){const i=jn(r);let n=0;for(;n<e.length;){const s=e[n];if("number"==typeof s){if(0!==s)break;n++;const a=e[n++],o=e[n++],l=e[n++];i?r.setAttribute(t,o,l,a):t.setAttributeNS(a,o,l)}else{const a=s,o=e[++n];lM(a)?i&&r.setProperty(t,a,o):i?r.setAttribute(t,a,o):t.setAttribute(a,o),n++}}return n}function yR(r){return 3===r||4===r||6===r}function lM(r){return 64===r.charCodeAt(0)}function Tb(r,t){if(null!==t&&0!==t.length)if(null===r||0===r.length)r=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const n=t[i];"number"==typeof n?e=n:0===e||bR(r,e,n,null,-1===e||2===e?t[++i]:null)}}return r}function bR(r,t,e,i,n){let s=0,a=r.length;if(-1===t)a=-1;else for(;s<r.length;){const o=r[s++];if("number"==typeof o){if(o===t){a=-1;break}if(o>t){a=s-1;break}}}for(;s<r.length;){const o=r[s];if("number"==typeof o)break;if(o===e){if(null===i)return void(null!==n&&(r[s+1]=n));if(i===r[s+1])return void(r[s+2]=n)}s++,null!==i&&s++,null!==n&&s++}-1!==a&&(r.splice(a,0,t),s=a+1),r.splice(s++,0,e),null!==i&&r.splice(s++,0,i),null!==n&&r.splice(s++,0,n)}function CR(r){return-1!==r}function Ud(r){return 32767&r}function Wd(r,t){let e=function(r){return r>>16}(r),i=t;for(;e>0;)i=i[15],e--;return i}let hM=!0;function Ib(r){const t=hM;return hM=r,t}let o$=0;function Am(r,t){const e=uM(r,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(r.injectorIndex=t.length,cM(i.data,r),cM(t,null),cM(i.blueprint,null));const n=Ab(r,t),s=r.injectorIndex;if(CR(n)){const a=Ud(n),o=Wd(n,t),l=o[1].data;for(let h=0;h<8;h++)t[s+h]=o[a+h]|l[a+h]}return t[s+8]=n,s}function cM(r,t){r.push(0,0,0,0,0,0,0,0,t)}function uM(r,t){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===t[r.injectorIndex+8]?-1:r.injectorIndex}function Ab(r,t){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let e=0,i=null,n=t;for(;null!==n;){const s=n[1],a=s.type;if(i=2===a?s.declTNode:1===a?n[6]:null,null===i)return-1;if(e++,n=n[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function xb(r,t,e){!function(r,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Em)&&(i=e[Em]),null==i&&(i=e[Em]=o$++);const n=255&i;t.data[r+(n>>5)]|=1<<n}(r,t,e)}function SR(r,t,e){if(e&At.Optional)return r;hb(t,"NodeInjector")}function wR(r,t,e,i){if(e&At.Optional&&void 0===i&&(i=null),0==(e&(At.Self|At.Host))){const n=r[9],s=Gh(void 0);try{return n?n.get(t,i,e&At.Optional):qL(t,i,e&At.Optional)}finally{Gh(s)}}return SR(i,t,e)}function MR(r,t,e,i=At.Default,n){if(null!==r){const s=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const t=r.hasOwnProperty(Em)?r[Em]:void 0;return"number"==typeof t?t>=0?255&t:c$:t}(e);if("function"==typeof s){if(!uR(t,r,i))return i&At.Host?SR(n,e,i):wR(t,e,i,n);try{const a=s(i);if(null!=a||i&At.Optional)return a;hb(e)}finally{mR()}}else if("number"==typeof s){let a=null,o=uM(r,t),l=-1,h=i&At.Host?t[16][6]:null;for((-1===o||i&At.SkipSelf)&&(l=-1===o?Ab(r,t):t[o+8],-1!==l&&AR(i,!1)?(a=t[1],o=Ud(l),t=Wd(l,t)):o=-1);-1!==o;){const c=t[1];if(IR(s,o,c.data)){const d=u$(o,t,e,a,i,h);if(d!==TR)return d}l=t[o+8],-1!==l&&AR(i,t[1].data[o+8]===h)&&IR(s,o,t)?(a=c,o=Ud(l),t=Wd(l,t)):o=-1}}}return wR(t,e,i,n)}const TR={};function c$(){return new qd(Es(),be())}function u$(r,t,e,i,n,s){const a=t[1],o=a.data[r+8],c=Ob(o,a,e,null==i?mb(o)&&hM:i!=a&&0!=(3&o.type),n&At.Host&&s===o);return null!==c?xm(t,a,c,o):TR}function Ob(r,t,e,i,n){const s=r.providerIndexes,a=t.data,o=1048575&s,l=r.directiveStart,c=s>>20,p=n?o+c:r.directiveEnd;for(let f=i?o:o+c;f<p;f++){const m=a[f];if(f<l&&e===m||f>=l&&m.type===e)return f}if(n){const f=a[l];if(f&&go(f)&&f.type===e)return l}return null}function xm(r,t,e,i){let n=r[e];const s=t.data;if(function(r){return r instanceof Tm}(n)){const a=n;a.resolving&&function(r,t){throw new la("200",`Circular dependency in DI detected for ${r}`)}(Mr(s[e]));const o=Ib(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?Gh(a.injectImpl):null;uR(r,i,At.Default);try{n=r[e]=a.factory(void 0,s,r,i),t.firstCreatePass&&e>=i.directiveStart&&function(r,t,e){const{ngOnChanges:i,ngOnInit:n,ngDoCheck:s}=t.type.prototype;if(i){const a=ZL(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(r,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(r,a)}n&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-r,n),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(r,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(r,s))}(e,s[e],t)}finally{null!==l&&Gh(l),Ib(o),a.resolving=!1,mR()}}return n}function IR(r,t,e){return!!(e[t+(r>>5)]&1<<r)}function AR(r,t){return!(r&At.Self||r&At.Host&&t)}class qd{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return MR(this._tNode,this._lView,t,i,e)}}function Rs(r){return $h(()=>{const t=r.prototype.constructor,e=t[Ul]||dM(t),i=Object.prototype;let n=Object.getPrototypeOf(r.prototype).constructor;for(;n&&n!==i;){const s=n[Ul]||dM(n);if(s&&s!==e)return s;n=Object.getPrototypeOf(n)}return s=>new s})}function dM(r){return HL(r)?()=>{const t=dM(Pt(r));return t&&t()}:pu(r)}function ec(r){return function(r,t){if("class"===t)return r.classes;if("style"===t)return r.styles;const e=r.attrs;if(e){const i=e.length;let n=0;for(;n<i;){const s=e[n];if(yR(s))break;if(0===s)n+=2;else if("number"==typeof s)for(n++;n<i&&"string"==typeof e[n];)n++;else{if(s===t)return e[n+1];n+=2}}}return null}(Es(),r)}const Qd="__parameters__";function $d(r,t,e){return $h(()=>{const i=function(r){return function(...e){if(r){const i=r(...e);for(const n in i)this[n]=i[n]}}}(t);function n(...s){if(this instanceof n)return i.apply(this,s),this;const a=new n(...s);return o.annotation=a,o;function o(l,h,c){const d=l.hasOwnProperty(Qd)?l[Qd]:Object.defineProperty(l,Qd,{value:[]})[Qd];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(a),l}}return e&&(n.prototype=Object.create(e.prototype)),n.prototype.ngMetadataName=r,n.annotationCls=n,n})}class Ve{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ke({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const f$=new Ve("AnalyzeForEntryComponents");function Fa(r,t){void 0===t&&(t=r);for(let e=0;e<r.length;e++){let i=r[e];Array.isArray(i)?(t===r&&(t=r.slice(0,e)),Fa(i,t)):t!==r&&t.push(i)}return t}function el(r,t){r.forEach(e=>Array.isArray(e)?el(e,t):t(e))}function xR(r,t,e){t>=r.length?r.push(e):r.splice(t,0,e)}function kb(r,t){return t>=r.length-1?r.pop():r.splice(t,1)[0]}function _m(r,t){const e=[];for(let i=0;i<r;i++)e.push(t);return e}function fa(r,t,e){let i=Kd(r,t);return i>=0?r[1|i]=e:(i=~i,function(r,t,e,i){let n=r.length;if(n==t)r.push(e,i);else if(1===n)r.push(i,r[0]),r[0]=e;else{for(n--,r.push(r[n-1],r[n]);n>t;)r[n]=r[n-2],n--;r[t]=e,r[t+1]=i}}(r,i,t,e)),i}function mM(r,t){const e=Kd(r,t);if(e>=0)return r[1|e]}function Kd(r,t){return function(r,t,e){let i=0,n=r.length>>e;for(;n!==i;){const s=i+(n-i>>1),a=r[s<<e];if(t===a)return s<<e;a>t?n=s:i=s+1}return~(n<<e)}(r,t,1)}const Lm={},vM="__NG_DI_FLAG__",_b="ngTempTokenPath",w$=/\n/gm,LR="__source",T$=Xi({provide:String,useValue:Xi});let Rm;function RR(r){const t=Rm;return Rm=r,t}function I$(r,t=At.Default){if(void 0===Rm)throw new Error("inject() must be called from an injection context");return null===Rm?qL(r,void 0,t):Rm.get(r,t&At.Optional?null:void 0,t)}function le(r,t=At.Default){return(Hw||I$)(Pt(r),t)}const yM=le;function bM(r){const t=[];for(let e=0;e<r.length;e++){const i=Pt(r[e]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let n,s=At.Default;for(let a=0;a<i.length;a++){const o=i[a],l=A$(o);"number"==typeof l?-1===l?n=o.token:s|=l:n=o}t.push(le(n,s))}else t.push(le(i))}return t}function Pm(r,t){return r[vM]=t,r.prototype[vM]=t,r}function A$(r){return r[vM]}const Fm=Pm($d("Inject",r=>({token:r})),-1),ma=Pm($d("Optional"),8),fu=Pm($d("SkipSelf"),4);let Rb,Pb;function Zd(r){var t;return(null==(t=function(){if(void 0===Rb&&(Rb=null,Gi.trustedTypes))try{Rb=Gi.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Rb}())?void 0:t.createHTML(r))||r}function HR(r){var t;return(null==(t=function(){if(void 0===Pb&&(Pb=null,Gi.trustedTypes))try{Pb=Gi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Pb}())?void 0:t.createHTML(r))||r}class mu{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class H$ extends mu{getTypeName(){return"HTML"}}class z$ extends mu{getTypeName(){return"Style"}}class U$ extends mu{getTypeName(){return"Script"}}class W$ extends mu{getTypeName(){return"URL"}}class q$ extends mu{getTypeName(){return"ResourceURL"}}function ga(r){return r instanceof mu?r.changingThisBreaksApplicationSecurity:r}function tl(r,t){const e=WR(r);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function WR(r){return r instanceof mu&&r.getTypeName()||null}class X${constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Zd(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Z${constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Zd(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=Zd(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let n=e.length-1;0<n;n--){const a=e.item(n).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&t.removeAttribute(a)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const eK=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,tK=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function jm(r){return(r=String(r)).match(eK)||r.match(tK)?r:"unsafe:"+r}function YR(r){return(r=String(r)).split(",").map(t=>jm(t.trim())).join(", ")}function il(r){const t={};for(const e of r.split(","))t[e]=!0;return t}function Bm(...r){const t={};for(const e of r)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const QR=il("area,br,col,hr,img,wbr"),GR=il("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$R=il("rp,rt"),SM=Bm(QR,Bm(GR,il("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bm($R,il("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bm($R,GR)),wM=il("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),MM=il("srcset"),KR=Bm(wM,MM,il("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),il("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),iK=il("script,style,template");class nK{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let n=this.checkClobberedElement(e,e.nextSibling);if(n){e=n;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!SM.hasOwnProperty(e))return this.sanitizedSomething=!0,!iK.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let n=0;n<i.length;n++){const s=i.item(n),a=s.name,o=a.toLowerCase();if(!KR.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let l=s.value;wM[o]&&(l=jm(l)),MM[o]&&(l=YR(l)),this.buf.push(" ",a,'="',XR(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();SM.hasOwnProperty(e)&&!QR.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(XR(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const sK=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rK=/([^\#-~ |!])/g;function XR(r){return r.replace(/&/g,"&amp;").replace(sK,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(rK,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fb;function ZR(r,t){let e=null;try{Fb=Fb||function(r){const t=new Z$(r);return function(){try{return!!(new window.DOMParser).parseFromString(Zd(""),"text/html")}catch(r){return!1}}()?new X$(t):t}(r);let i=t?String(t):"";e=Fb.getInertBodyElement(i);let n=5,s=i;do{if(0===n)throw new Error("Failed to sanitize html because the input is unstable");n--,i=s,s=e.innerHTML,e=Fb.getInertBodyElement(i)}while(i!==s);return Zd((new nK).sanitizeChildren(TM(e)||e))}finally{if(e){const i=TM(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function TM(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Ti=(()=>((Ti=Ti||{})[Ti.NONE=0]="NONE",Ti[Ti.HTML=1]="HTML",Ti[Ti.STYLE=2]="STYLE",Ti[Ti.SCRIPT=3]="SCRIPT",Ti[Ti.URL=4]="URL",Ti[Ti.RESOURCE_URL=5]="RESOURCE_URL",Ti))();function IM(r){const t=Hm();return t?HR(t.sanitize(Ti.HTML,r)||""):tl(r,"HTML")?HR(ga(r)):ZR(Kw(),wt(r))}function Vb(r){const t=Hm();return t?t.sanitize(Ti.URL,r)||"":tl(r,"URL")?ga(r):jm(wt(r))}function Hm(){const r=be();return r&&r[12]}const tP="__ngContext__";function lr(r,t){r[tP]=t}function xM(r){const t=function(r){return r[tP]||null}(r);return t?Array.isArray(t)?t:t.lView:null}function kM(r){return r.ngOriginalError}function SK(r,...t){r.error(...t)}class Yl{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=(r=t)&&r.ngErrorLogger||SK;var r;i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&kM(t);for(;e&&kM(e);)e=kM(e);return e||null}}const aP=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gi))();function nl(r){return r instanceof Function?r():r}var va=(()=>((va=va||{})[va.Important=1]="Important",va[va.DashCase=2]="DashCase",va))();function _M(r,t){return undefined(r,t)}function Um(r){const t=r[3];return mo(t)?t[3]:t}function LM(r){return uP(r[13])}function RM(r){return uP(r[4])}function uP(r){for(;null!==r&&!mo(r);)r=r[4];return r}function ep(r,t,e,i,n){if(null!=i){let s,a=!1;mo(i)?s=i:Zo(i)&&(a=!0,i=i[0]);const o=ns(i);0===r&&null!==e?null==n?vP(t,e,o):gu(t,e,o,n||null,!0):1===r&&null!==e?gu(t,e,o,n||null,!0):2===r?function(r,t,e){const i=jb(r,t);i&&function(r,t,e,i){jn(r)?r.removeChild(t,e,i):t.removeChild(e)}(r,i,t,e)}(t,o,a):3===r&&t.destroyNode(o),null!=s&&function(r,t,e,i,n){const s=e[7];s!==ns(e)&&ep(t,r,i,s,n);for(let o=10;o<e.length;o++){const l=e[o];Wm(l[1],l,r,t,i,s)}}(t,r,s,e,n)}}function FM(r,t,e){return jn(r)?r.createElement(t,e):null===e?r.createElement(t):r.createElementNS(e,t)}function pP(r,t){const e=r[9],i=e.indexOf(t),n=t[3];1024&t[2]&&(t[2]&=-1025,Jw(n,-1)),e.splice(i,1)}function VM(r,t){if(r.length<=10)return;const e=10+t,i=r[e];if(i){const n=i[17];null!==n&&n!==r&&pP(n,i),t>0&&(r[e-1][4]=i[4]);const s=kb(r,10+t);!function(r,t){Wm(r,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function fP(r,t){if(!(256&t[2])){const e=t[11];jn(e)&&e.destroyNode&&Wm(r,t,e,3,null,null),function(r){let t=r[13];if(!t)return jM(r[1],r);for(;t;){let e=null;if(Zo(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==r;)Zo(t)&&jM(t[1],t),t=t[3];null===t&&(t=r),Zo(t)&&jM(t[1],t),e=t&&t[4]}t=e}}(t)}}function jM(r,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(r,t){let e;if(null!=r&&null!=(e=r.destroyHooks))for(let i=0;i<e.length;i+=2){const n=t[e[i]];if(!(n instanceof Tm)){const s=e[i+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const o=n[s[a]],l=s[a+1];try{l.call(o)}finally{}}else try{s.call(n)}finally{}}}}(r,t),function(r,t){const e=r.cleanup,i=t[7];let n=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const a=e[s+1],o="function"==typeof a?a(t):ns(t[a]),l=i[n=e[s+2]],h=e[s+3];"boolean"==typeof h?o.removeEventListener(e[s],l,h):h>=0?i[n=h]():i[n=-h].unsubscribe(),s+=2}else{const a=i[n=e[s+1]];e[s].call(a)}if(null!==i){for(let s=n+1;s<i.length;s++)i[s]();t[7]=null}}(r,t),1===t[1].type&&jn(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&mo(t[3])){e!==t[3]&&pP(e,t);const i=t[19];null!==i&&i.detachView(r)}}}function mP(r,t,e){return function(r,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const n=r.data[i.directiveStart].encapsulation;if(n===po.None||n===po.Emulated)return null}return Pa(i,e)}(r,t.parent,e)}function gu(r,t,e,i,n){jn(r)?r.insertBefore(t,e,i,n):t.insertBefore(e,i,n)}function vP(r,t,e){jn(r)?r.appendChild(t,e):t.appendChild(e)}function yP(r,t,e,i,n){null!==i?gu(r,t,e,i,n):vP(r,t,e)}function jb(r,t){return jn(r)?r.parentNode(t):t.parentNode}function bP(r,t,e){return EP(r,t,e)}let EP=function(r,t,e){return 40&r.type?Pa(r,e):null};function Bb(r,t,e,i){const n=mP(r,i,t),s=t[11],o=bP(i.parent||t[6],i,t);if(null!=n)if(Array.isArray(e))for(let l=0;l<e.length;l++)yP(s,n,e[l],o,!1);else yP(s,n,e,o,!1)}function Hb(r,t){if(null!==t){const e=t.type;if(3&e)return Pa(t,r);if(4&e)return HM(-1,r[t.index]);if(8&e){const i=t.child;if(null!==i)return Hb(r,i);{const n=r[t.index];return mo(n)?HM(-1,n):ns(n)}}if(32&e)return _M(t,r)()||ns(r[t.index]);{const i=SP(r,t);return null!==i?Array.isArray(i)?i[0]:Hb(Um(r[16]),i):Hb(r,t.next)}}return null}function SP(r,t){return null!==t?r[16][6].projection[t.projection]:null}function HM(r,t){const e=10+r+1;if(e<t.length){const i=t[e],n=i[1].firstChild;if(null!==n)return Hb(i,n)}return t[7]}function zM(r,t,e,i,n,s,a){for(;null!=e;){const o=i[e.index],l=e.type;if(a&&0===t&&(o&&lr(ns(o),i),e.flags|=4),64!=(64&e.flags))if(8&l)zM(r,t,e.child,i,n,s,!1),ep(t,r,n,o,s);else if(32&l){const h=_M(e,i);let c;for(;c=h();)ep(t,r,n,c,s);ep(t,r,n,o,s)}else 16&l?MP(r,t,i,e,n,s):ep(t,r,n,o,s);e=a?e.projectionNext:e.next}}function Wm(r,t,e,i,n,s){zM(e,i,r.firstChild,t,n,s,!1)}function MP(r,t,e,i,n,s){const a=e[16],l=a[6].projection[i.projection];if(Array.isArray(l))for(let h=0;h<l.length;h++)ep(t,r,n,l[h],s);else zM(r,t,l,a[3],n,s,!0)}function TP(r,t,e){jn(r)?r.setAttribute(t,"style",e):t.style.cssText=e}function UM(r,t,e){jn(r)?""===e?r.removeAttribute(t,"class"):r.setAttribute(t,"class",e):t.className=e}function IP(r,t,e){let i=r.length;for(;;){const n=r.indexOf(t,e);if(-1===n)return n;if(0===n||r.charCodeAt(n-1)<=32){const s=t.length;if(n+s===i||r.charCodeAt(n+s)<=32)return n}e=n+1}}const AP="ng-template";function XK(r,t,e){let i=0;for(;i<r.length;){let n=r[i++];if(e&&"class"===n){if(n=r[i],-1!==IP(n.toLowerCase(),t,0))return!0}else if(1===n){for(;i<r.length&&"string"==typeof(n=r[i++]);)if(n.toLowerCase()===t)return!0;return!1}}return!1}function xP(r){return 4===r.type&&r.value!==AP}function ZK(r,t,e){return t===(4!==r.type||e?r.value:AP)}function JK(r,t,e){let i=4;const n=r.attrs||[],s=function(r){for(let t=0;t<r.length;t++)if(yR(r[t]))return t;return r.length}(n);let a=!1;for(let o=0;o<t.length;o++){const l=t[o];if("number"!=typeof l){if(!a)if(4&i){if(i=2|1&i,""!==l&&!ZK(r,l,e)||""===l&&1===t.length){if(vo(i))return!1;a=!0}}else{const h=8&i?l:t[++o];if(8&i&&null!==r.attrs){if(!XK(r.attrs,h,e)){if(vo(i))return!1;a=!0}continue}const d=eX(8&i?"class":l,n,xP(r),e);if(-1===d){if(vo(i))return!1;a=!0;continue}if(""!==h){let p;p=d>s?"":n[d+1].toLowerCase();const f=8&i?p:null;if(f&&-1!==IP(f,h,0)||2&i&&h!==p){if(vo(i))return!1;a=!0}}}}else{if(!a&&!vo(i)&&!vo(l))return!1;if(a&&vo(l))continue;a=!1,i=l|1&i}}return vo(i)||a}function vo(r){return 0==(1&r)}function eX(r,t,e,i){if(null===t)return-1;let n=0;if(i||!e){let s=!1;for(;n<t.length;){const a=t[n];if(a===r)return n;if(3===a||6===a)s=!0;else{if(1===a||2===a){let o=t[++n];for(;"string"==typeof o;)o=t[++n];continue}if(4===a)break;if(0===a){n+=4;continue}}n+=s?1:2}return-1}return function(r,t){let e=r.indexOf(4);if(e>-1)for(e++;e<r.length;){const i=r[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,r)}function OP(r,t,e=!1){for(let i=0;i<t.length;i++)if(JK(r,t[i],e))return!0;return!1}function sX(r,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(r.length===i.length){for(let n=0;n<r.length;n++)if(r[n]!==i[n])continue e;return!0}}return!1}function kP(r,t){return r?":not("+t.trim()+")":t}function rX(r){let t=r[0],e=1,i=2,n="",s=!1;for(;e<r.length;){let a=r[e];if("string"==typeof a)if(2&i){const o=r[++e];n+="["+a+(o.length>0?'="'+o+'"':"")+"]"}else 8&i?n+="."+a:4&i&&(n+=" "+a);else""!==n&&!vo(a)&&(t+=kP(s,n),n=""),i=a,s=s||!vo(i);e++}return""!==n&&(t+=kP(s,n)),t}const Mt={};function _e(r){NP(pi(),be(),Ir()+r,yb())}function NP(r,t,e,i){if(!i)if(3==(3&t[2])){const s=r.preOrderCheckHooks;null!==s&&Sb(t,s,e)}else{const s=r.preOrderHooks;null!==s&&wb(t,s,0,e)}Zh(e)}function zb(r,t){return r<<17|t<<2}function yo(r){return r>>17&32767}function WM(r){return 2|r}function Ql(r){return(131068&r)>>2}function qM(r,t){return-131069&r|t<<2}function YM(r){return 1|r}function UP(r,t){const e=r.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const n=e[i],s=e[i+1];if(-1!==s){const a=r.data[s];sM(n),a.contentQueries(2,t[s],s)}}}function qm(r,t,e,i,n,s,a,o,l,h){const c=t.blueprint.slice();return c[0]=n,c[2]=140|i,rR(c),c[3]=c[15]=r,c[8]=e,c[10]=a||r&&r[10],c[11]=o||r&&r[11],c[12]=l||r&&r[12]||null,c[9]=h||r&&r[9]||null,c[6]=s,c[16]=2==t.type?r[16]:c,c}function tp(r,t,e,i,n){let s=r.data[t];if(null===s)s=function(r,t,e,i,n){const s=oR(),a=eM(),l=r.data[t]=function(r,t,e,i,n,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:n,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,e,t,i,n);return null===r.firstChild&&(r.firstChild=l),null!==s&&(a?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(r,t,e,i,n),Ct.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=i,s.attrs=n;const a=function(){const r=Ct.lFrame,t=r.currentTNode;return r.isParent?t:t.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return Jo(s,!0),s}function ip(r,t,e,i){if(0===e)return-1;const n=t.length;for(let s=0;s<e;s++)t.push(i),r.blueprint.push(i),r.data.push(null);return n}function Ym(r,t,e){Cb(t);try{const i=r.viewQuery;null!==i&&cT(1,i,e);const n=r.template;null!==n&&WP(r,t,n,1,e),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&UP(r,t),r.staticViewQueries&&cT(2,r.viewQuery,e);const s=r.components;null!==s&&function(r,t){for(let e=0;e<t.length;e++)HX(r,t[e])}(t,s)}catch(i){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),i}finally{t[2]&=-5,Eb()}}function np(r,t,e,i){const n=t[2];if(256==(256&n))return;Cb(t);const s=yb();try{rR(t),function(r){Ct.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==e&&WP(r,t,e,2,i);const a=3==(3&n);if(!s)if(a){const h=r.preOrderCheckHooks;null!==h&&Sb(t,h,null)}else{const h=r.preOrderHooks;null!==h&&wb(t,h,0,null),aM(t,0)}if(function(r){for(let t=LM(r);null!==t;t=RM(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const n=e[i],s=n[3];0==(1024&n[2])&&Jw(s,1),n[2]|=1024}}}(t),function(r){for(let t=LM(r);null!==t;t=RM(t))for(let e=10;e<t.length;e++){const i=t[e],n=i[1];Zw(i)&&np(n,i,n.template,i[8])}}(t),null!==r.contentQueries&&UP(r,t),!s)if(a){const h=r.contentCheckHooks;null!==h&&Sb(t,h)}else{const h=r.contentHooks;null!==h&&wb(t,h,1),aM(t,1)}!function(r,t){const e=r.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const n=e[i];if(n<0)Zh(~n);else{const s=n,a=e[++i],o=e[++i];YG(a,s),o(2,t[s])}}}finally{Zh(-1)}}(r,t);const o=r.components;null!==o&&function(r,t){for(let e=0;e<t.length;e++)BX(r,t[e])}(t,o);const l=r.viewQuery;if(null!==l&&cT(2,l,i),!s)if(a){const h=r.viewCheckHooks;null!==h&&Sb(t,h)}else{const h=r.viewHooks;null!==h&&wb(t,h,2),aM(t,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Jw(t[3],-1))}finally{Eb()}}function EX(r,t,e,i){const n=t[10],s=!yb(),a=sR(t);try{s&&!a&&n.begin&&n.begin(),a&&Ym(r,t,i),np(r,t,e,i)}finally{s&&!a&&n.end&&n.end()}}function WP(r,t,e,i,n){const s=Ir(),a=2&i;try{Zh(-1),a&&t.length>20&&NP(r,t,20,yb()),e(i,n)}finally{Zh(s)}}function qP(r,t,e){if(Yw(t)){const n=t.directiveEnd;for(let s=t.directiveStart;s<n;s++){const a=r.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}}function iT(r,t,e){!aR()||(function(r,t,e,i){const n=e.directiveStart,s=e.directiveEnd;r.firstCreatePass||Am(e,t),lr(i,t);const a=e.initialInputs;for(let o=n;o<s;o++){const l=r.data[o],h=go(l);h&&RX(t,e,l);const c=xm(t,r,o,e);lr(c,t),null!==a&&PX(0,o-n,c,l,0,a),h&&(da(e.index,t)[8]=c)}}(r,t,e,Pa(e,t)),128==(128&e.flags)&&function(r,t,e){const i=e.directiveStart,n=e.directiveEnd,a=e.index,o=Ct.lFrame.currentDirectiveIndex;try{Zh(a);for(let l=i;l<n;l++){const h=r.data[l],c=t[l];iM(l),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&JP(h,c)}}finally{Zh(-1),iM(o)}}(r,t,e))}function nT(r,t,e=Pa){const i=t.localNames;if(null!==i){let n=t.index+1;for(let s=0;s<i.length;s+=2){const a=i[s+1],o=-1===a?e(t,r):r[a];r[n++]=o}}}function YP(r){const t=r.tView;return null===t||t.incompleteFirstPass?r.tView=qb(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):t}function qb(r,t,e,i,n,s,a,o,l,h){const c=20+i,d=c+n,p=function(r,t){const e=[];for(let i=0;i<t;i++)e.push(i<r?null:Mt);return e}(c,d),f="function"==typeof h?h():h;return p[1]={type:r,blueprint:p,template:e,queries:null,viewQuery:o,declTNode:t,data:p.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function $P(r,t,e,i){const n=rF(t);null===e?n.push(i):(n.push(e),r.firstCreatePass&&aF(r).push(i,n.length-1))}function KP(r,t,e){for(let i in r)if(r.hasOwnProperty(i)){const n=r[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,n):e[i]=[t,n]}return e}function ya(r,t,e,i,n,s,a,o){const l=Pa(t,e);let c,h=t.inputs;!o&&null!=h&&(c=h[i])?(hF(r,e,c,i,n),mb(t)&&function(r,t){const e=da(t,r);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(i),n=null!=a?a(n,t.value||"",i):n,jn(s)?s.setProperty(l,i,n):lM(i)||(l.setProperty?l.setProperty(i,n):l[i]=n))}function sT(r,t,e,i){let n=!1;if(aR()){const s=function(r,t,e){const i=r.directiveRegistry;let n=null;if(i)for(let s=0;s<i.length;s++){const a=i[s];OP(e,a.selectors,!1)&&(n||(n=[]),xb(Am(e,t),r,a.type),go(a)?(eF(r,e),n.unshift(a)):n.push(a))}return n}(r,t,e),a=null===i?null:{"":-1};if(null!==s){n=!0,tF(e,r.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let o=!1,l=!1,h=ip(r,t,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];e.mergedAttrs=Tb(e.mergedAttrs,d.hostAttrs),iF(r,e,t,h,d),LX(h,d,a),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);const p=d.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(e.index),o=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e.index),l=!0),h++}!function(r,t){const i=t.directiveEnd,n=r.data,s=t.attrs,a=[];let o=null,l=null;for(let h=t.directiveStart;h<i;h++){const c=n[h],d=c.inputs,p=null===s||xP(t)?null:FX(d,s);a.push(p),o=KP(d,h,o),l=KP(c.outputs,h,l)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=o,t.outputs=l}(r,e)}a&&function(r,t,e){if(t){const i=r.localNames=[];for(let n=0;n<t.length;n+=2){const s=e[t[n+1]];if(null==s)throw new la("301",`Export of name '${t[n+1]}' not found!`);i.push(t[n],s)}}}(e,i,a)}return e.mergedAttrs=Tb(e.mergedAttrs,e.attrs),n}function ZP(r,t,e,i,n,s){const a=s.hostBindings;if(a){let o=r.hostBindingOpCodes;null===o&&(o=r.hostBindingOpCodes=[]);const l=~t.index;(function(r){let t=r.length;for(;t>0;){const e=r[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=l&&o.push(l),o.push(i,n,a)}}function JP(r,t){null!==r.hostBindings&&r.hostBindings(1,t)}function eF(r,t){t.flags|=2,(r.components||(r.components=[])).push(t.index)}function LX(r,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=r;go(t)&&(e[""]=r)}}function tF(r,t,e){r.flags|=1,r.directiveStart=t,r.directiveEnd=t+e,r.providerIndexes=t}function iF(r,t,e,i,n){r.data[i]=n;const s=n.factory||(n.factory=pu(n.type)),a=new Tm(s,go(n),null);r.blueprint[i]=a,e[i]=a,ZP(r,t,0,i,ip(r,e,n.hostVars,Mt),n)}function RX(r,t,e){const i=Pa(t,r),n=YP(e),s=r[10],a=Yb(r,qm(r,n,null,e.onPush?64:16,i,t,s,s.createRenderer(i,e),null,null));r[t.index]=a}function sl(r,t,e,i,n,s){const a=Pa(r,t);!function(r,t,e,i,n,s,a){if(null==s)jn(r)?r.removeAttribute(t,n,e):t.removeAttribute(n);else{const o=null==a?wt(s):a(s,i||"",n);jn(r)?r.setAttribute(t,n,o,e):e?t.setAttributeNS(e,n,o):t.setAttribute(n,o)}}(t[11],a,s,r.value,e,i,n)}function PX(r,t,e,i,n,s){const a=s[t];if(null!==a){const o=i.setInput;for(let l=0;l<a.length;){const h=a[l++],c=a[l++],d=a[l++];null!==o?i.setInput(e,d,h,c):e[c]=d}}}function FX(r,t){let e=null,i=0;for(;i<t.length;){const n=t[i];if(0!==n)if(5!==n){if("number"==typeof n)break;r.hasOwnProperty(n)&&(null===e&&(e=[]),e.push(n,r[n],t[i+1])),i+=2}else i+=2;else i+=4}return e}function nF(r,t,e,i){return new Array(r,!0,!1,t,null,0,i,e,null,null)}function BX(r,t){const e=da(t,r);if(Zw(e)){const i=e[1];80&e[2]?np(i,e,i.template,e[8]):e[5]>0&&aT(e)}}function aT(r){for(let i=LM(r);null!==i;i=RM(i))for(let n=10;n<i.length;n++){const s=i[n];if(1024&s[2]){const a=s[1];np(a,s,a.template,s[8])}else s[5]>0&&aT(s)}const e=r[1].components;if(null!==e)for(let i=0;i<e.length;i++){const n=da(e[i],r);Zw(n)&&n[5]>0&&aT(n)}}function HX(r,t){const e=da(t,r),i=e[1];(function(r,t){for(let e=t.length;e<r.blueprint.length;e++)t.push(r.blueprint[e])})(i,e),Ym(i,e,e[8])}function Yb(r,t){return r[13]?r[14][4]=t:r[13]=t,r[14]=t,t}function oT(r){for(;r;){r[2]|=64;const t=Um(r);if(TG(r)&&!t)return r;r=t}return null}function hT(r,t,e){const i=t[10];i.begin&&i.begin();try{np(r,t,r.template,e)}catch(n){throw lF(t,n),n}finally{i.end&&i.end()}}function sF(r){!function(r){for(let t=0;t<r.components.length;t++){const e=r.components[t],i=xM(e),n=i[1];EX(n,i,n.template,e)}}(r[8])}function cT(r,t,e){sM(0),t(r,e)}const YX=(()=>Promise.resolve(null))();function rF(r){return r[7]||(r[7]=[])}function aF(r){return r.cleanup||(r.cleanup=[])}function lF(r,t){const e=r[9],i=e?e.get(Yl,null):null;i&&i.handleError(t)}function hF(r,t,e,i,n){for(let s=0;s<e.length;){const a=e[s++],o=e[s++],l=t[a],h=r.data[a];null!==h.setInput?h.setInput(l,n,i,o):l[o]=n}}function Gl(r,t,e){const i=vb(t,r);!function(r,t,e){jn(r)?r.setValue(t,e):t.textContent=e}(r[11],i,e)}function Qb(r,t,e){let i=e?r.styles:null,n=e?r.classes:null,s=0;if(null!==t)for(let a=0;a<t.length;a++){const o=t[a];"number"==typeof o?s=o:1==s?n=Fw(n,o):2==s&&(i=Fw(i,o+": "+t[++a]+";"))}e?r.styles=i:r.stylesWithoutHost=i,e?r.classes=n:r.classesWithoutHost=n}const uT=new Ve("INJECTOR",-1);class cF{get(t,e=Lm){if(e===Lm){const i=new Error(`NullInjectorError: No provider for ${di(t)}!`);throw i.name="NullInjectorError",i}return e}}const dT=new Ve("Set Injector scope."),Qm={},$X={};let pT;function uF(){return void 0===pT&&(pT=new cF),pT}function dF(r,t=null,e=null,i){const n=pF(r,t,e,i);return n._resolveInjectorDefTypes(),n}function pF(r,t=null,e=null,i){return new KX(r,e,t||uF(),i)}class KX{constructor(t,e,i,n=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&el(e,o=>this.processProvider(o,t,e)),el([t],o=>this.processInjectorType(o,[],s)),this.records.set(uT,sp(void 0,this));const a=this.records.get(dT);this.scope=null!=a?a.value:null,this.source=n||("object"==typeof t?null:di(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Lm,i=At.Default){this.assertNotDestroyed();const n=RR(this),s=Gh(void 0);try{if(!(i&At.SkipSelf)){let o=this.records.get(t);if(void 0===o){const l=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Ve)&&jw(t);o=l&&this.injectableDefInScope(l)?sp(fT(t),Qm):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(i&At.Self?uF():this.parent).get(t,e=i&At.Optional&&e===Lm?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[_b]=a[_b]||[]).unshift(di(t)),n)throw a;return function(r,t,e,i){const n=r[_b];throw t[LR]&&n.unshift(t[LR]),r.message=function(r,t,e,i=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let n=di(t);if(Array.isArray(t))n=t.map(di).join(" -> ");else if("object"==typeof t){let s=[];for(let a in t)if(t.hasOwnProperty(a)){let o=t[a];s.push(a+":"+("string"==typeof o?JSON.stringify(o):di(o)))}n=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${n}]: ${r.replace(w$,"\n  ")}`}("\n"+r.message,n,e,i),r.ngTokenPath=n,r[_b]=null,r}(a,t,"R3InjectorError",this.source)}throw a}finally{Gh(s),RR(n)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,n)=>t.push(di(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=Pt(t)))return!1;let n=UL(t);const s=null==n&&t.ngModule||void 0,a=void 0===s?t:s,o=-1!==i.indexOf(a);if(void 0!==s&&(n=UL(s)),null==n)return!1;if(null!=n.imports&&!o){let c;i.push(a);try{el(n.imports,d=>{this.processInjectorType(d,e,i)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:p,providers:f}=c[d];el(f,m=>this.processProvider(m,p,f||Zi))}}this.injectorDefTypes.add(a);const l=pu(a)||(()=>new a);this.records.set(a,sp(l,Qm));const h=n.providers;if(null!=h&&!o){const c=t;el(h,d=>this.processProvider(d,c,h))}return void 0!==s&&void 0!==t.providers}processProvider(t,e,i){let n=rp(t=Pt(t))?t:Pt(t&&t.provide);const s=function(r,t,e){return mF(r)?sp(void 0,r.useValue):sp(fF(r),Qm)}(t);if(rp(t)||!0!==t.multi)this.records.get(n);else{let a=this.records.get(n);a||(a=sp(void 0,Qm,!0),a.factory=()=>bM(a.multi),this.records.set(n,a)),n=t,a.multi.push(t)}this.records.set(n,s)}hydrate(t,e){return e.value===Qm&&(e.value=$X,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(r=e.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(e.value),e.value;var r}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Pt(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function fT(r){const t=jw(r),e=null!==t?t.factory:pu(r);if(null!==e)return e;if(r instanceof Ve)throw new Error(`Token ${di(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const t=r.length;if(t>0){const i=_m(t,"?");throw new Error(`Can't resolve all parameters for ${di(r)}: (${i.join(", ")}).`)}const e=function(r){const t=r&&(r[cb]||r[WL]);if(t){const e=function(r){if(r.hasOwnProperty("name"))return r.name;const t=(""+r).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(r);return null!==e?()=>e.factory(r):()=>new r}(r);throw new Error("unreachable")}function fF(r,t,e){let i;if(rp(r)){const n=Pt(r);return pu(n)||fT(n)}if(mF(r))i=()=>Pt(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))i=()=>r.useFactory(...bM(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))i=()=>le(Pt(r.useExisting));else{const n=Pt(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return pu(n)||fT(n);i=()=>new n(...bM(r.deps))}return i}function sp(r,t,e=!1){return{factory:r,value:t,multi:e?[]:void 0}}function mF(r){return null!==r&&"object"==typeof r&&T$ in r}function rp(r){return"function"==typeof r}let An=(()=>{class r{static create(e,i){var n;if(Array.isArray(e))return dF({name:""},i,e,"");{const s=null!=(n=e.name)?n:"";return dF({name:s},e.parent,e.providers,s)}}}return r.THROW_IF_NOT_FOUND=Lm,r.NULL=new cF,r.\u0275prov=ke({token:r,providedIn:"any",factory:()=>le(uT)}),r.__NG_ELEMENT_ID__=-1,r})();function dZ(r,t){Db(xM(r)[1],Es())}function ft(r){let t=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),e=!0;const i=[r];for(;t;){let n;if(go(r))n=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");n=t.\u0275dir}if(n){if(e){i.push(n);const a=r;a.inputs=vT(r.inputs),a.declaredInputs=vT(r.declaredInputs),a.outputs=vT(r.outputs);const o=n.hostBindings;o&&gZ(r,o);const l=n.viewQuery,h=n.contentQueries;if(l&&fZ(r,l),h&&mZ(r,h),Pw(r.inputs,n.inputs),Pw(r.declaredInputs,n.declaredInputs),Pw(r.outputs,n.outputs),go(n)&&n.data.animation){const c=r.data;c.animation=(c.animation||[]).concat(n.data.animation)}}const s=n.features;if(s)for(let a=0;a<s.length;a++){const o=s[a];o&&o.ngInherit&&o(r),o===ft&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(r){let t=0,e=null;for(let i=r.length-1;i>=0;i--){const n=r[i];n.hostVars=t+=n.hostVars,n.hostAttrs=Tb(n.hostAttrs,e=Tb(e,n.hostAttrs))}}(i)}function vT(r){return r===Pd?{}:r===Zi?[]:r}function fZ(r,t){const e=r.viewQuery;r.viewQuery=e?(i,n)=>{t(i,n),e(i,n)}:t}function mZ(r,t){const e=r.contentQueries;r.contentQueries=e?(i,n,s)=>{t(i,n,s),e(i,n,s)}:t}function gZ(r,t){const e=r.hostBindings;r.hostBindings=e?(i,n)=>{t(i,n),e(i,n)}:t}let Gb=null;function ap(){if(!Gb){const r=Gi.Symbol;if(r&&r.iterator)Gb=r.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Gb=i)}}}return Gb}function Gm(r){return!!yT(r)&&(Array.isArray(r)||!(r instanceof Map)&&ap()in r)}function yT(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function hr(r,t,e){return!Object.is(r[t],e)&&(r[t]=e,!0)}function Vi(r,t,e,i){const n=be();return hr(n,zd(),t)&&(pi(),sl(Bn(),n,r,t,e,i)),Vi}function lp(r,t,e,i){return hr(r,zd(),e)?t+wt(e)+i:Mt}function yt(r,t,e,i,n,s,a,o){const l=be(),h=pi(),c=r+20,d=h.firstCreatePass?function(r,t,e,i,n,s,a,o,l){const h=t.consts,c=tp(t,r,4,a||null,Xh(h,o));sT(t,e,c,Xh(h,l)),Db(t,c);const d=c.tViews=qb(2,c,i,n,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h);return null!==t.queries&&(t.queries.template(t,c),d.queries=t.queries.embeddedTView(c)),c}(c,h,l,t,e,i,n,s,a):h.data[c];Jo(d,!1);const p=l[11].createComment("");Bb(h,l,p,d),lr(p,l),Yb(l,l[c]=nF(p,l,p,d)),gb(d)&&iT(h,l,d),null!=a&&nT(l,d,o)}function $l(r){return function(r,t){return r[t]}(Ct.lFrame.contextLView,20+r)}function K(r,t=At.Default){const e=be();return null===e?le(r,t):MR(Es(),e,Pt(r),t)}function Xb(){throw new Error("invalid")}function Ne(r,t,e){const i=be();return hr(i,zd(),t)&&ya(pi(),Bn(),i,r,t,i[11],e,!1),Ne}function ST(r,t,e,i,n){const a=n?"class":"style";hF(r,e,t.inputs[a],a,i)}function W(r,t,e,i){const n=be(),s=pi(),a=20+r,o=n[11],l=n[a]=FM(o,t,Ct.lFrame.currentNamespace),h=s.firstCreatePass?function(r,t,e,i,n,s,a){const o=t.consts,h=tp(t,r,2,n,Xh(o,s));return sT(t,e,h,Xh(o,a)),null!==h.attrs&&Qb(h,h.attrs,!1),null!==h.mergedAttrs&&Qb(h,h.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,h),h}(a,s,n,0,t,e,i):s.data[a];Jo(h,!0);const c=h.mergedAttrs;null!==c&&Mb(o,l,c);const d=h.classes;null!==d&&UM(o,l,d);const p=h.styles;null!==p&&TP(o,l,p),64!=(64&h.flags)&&Bb(s,n,l,h),0===Ct.lFrame.elementDepthCount&&lr(l,n),Ct.lFrame.elementDepthCount++,gb(h)&&(iT(s,n,h),qP(s,h,n)),null!==i&&nT(n,h)}function q(){let r=Es();eM()?tM():(r=r.parent,Jo(r,!1));const t=r;Ct.lFrame.elementDepthCount--;const e=pi();e.firstCreatePass&&(Db(e,r),Yw(r)&&e.queries.elementEnd(r)),null!=t.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(t)&&ST(e,t,be(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(t)&&ST(e,t,be(),t.stylesWithoutHost,!1)}function Ce(r,t,e,i){W(r,t,e,i),q()}function yu(r,t,e){const i=be(),n=pi(),s=r+20,a=n.firstCreatePass?function(r,t,e,i,n){const s=t.consts,a=Xh(s,i),o=tp(t,r,8,"ng-container",a);return null!==a&&Qb(o,a,!0),sT(t,e,o,Xh(s,n)),null!==t.queries&&t.queries.elementStart(t,o),o}(s,n,i,t,e):n.data[s];Jo(a,!0);const o=i[s]=i[11].createComment("");Bb(n,i,o,a),lr(o,i),gb(a)&&(iT(n,i,a),qP(n,a,i)),null!=e&&nT(i,a)}function bu(){let r=Es();const t=pi();eM()?tM():(r=r.parent,Jo(r,!1)),t.firstCreatePass&&(Db(t,r),Yw(r)&&t.queries.elementEnd(r))}function Kl(){return be()}function Km(r){return!!r&&"function"==typeof r.then}const wT=function(r){return!!r&&"function"==typeof r.subscribe};function xt(r,t,e,i){const n=be(),s=pi(),a=Es();return function(r,t,e,i,n,s,a,o){const l=gb(i),c=r.firstCreatePass&&aF(r),d=t[8],p=rF(t);let f=!0;if(3&i.type||o){const y=Pa(i,t),C=o?o(y):y,E=p.length,S=o?w=>o(ns(w[i.index])):i.index;if(jn(e)){let w=null;if(!o&&l&&(w=function(r,t,e,i){const n=r.cleanup;if(null!=n)for(let s=0;s<n.length-1;s+=2){const a=n[s];if(a===e&&n[s+1]===i){const o=t[7],l=n[s+2];return o.length>l?o[l]:null}"string"==typeof a&&(s+=2)}return null}(r,t,n,i.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,f=!1;else{s=MT(i,t,d,s,!1);const A=e.listen(C,n,s);p.push(s,A),c&&c.push(n,S,E,E+1)}}else s=MT(i,t,d,s,!0),C.addEventListener(n,s,a),p.push(s),c&&c.push(n,S,E,a)}else s=MT(i,t,d,s,!1);const m=i.outputs;let g;if(f&&null!==m&&(g=m[n])){const y=g.length;if(y)for(let C=0;C<y;C+=2){const T=t[g[C]][g[C+1]].subscribe(s),k=p.length;p.push(s,T),c&&c.push(n,i.index,k,-(k+1))}}}(s,n,n[11],a,r,t,!!e,i),xt}function KF(r,t,e,i){try{return!1!==e(i)}catch(n){return lF(r,n),!1}}function MT(r,t,e,i,n){return function s(a){if(a===Function)return i;const o=2&r.flags?da(r.index,t):t;0==(32&t[2])&&oT(o);let l=KF(t,0,i,a),h=s.__ngNextListenerFn__;for(;h;)l=KF(t,0,h,a)&&l,h=h.__ngNextListenerFn__;return n&&!1===l&&(a.preventDefault(),a.returnValue=!1),l}}function Nt(r=1){return function(r){return(Ct.lFrame.contextLView=function(r,t){for(;r>0;)t=t[15],r--;return t}(r,Ct.lFrame.contextLView))[8]}(r)}function GZ(r,t){let e=null;const i=function(r){const t=r.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(r);for(let n=0;n<t.length;n++){const s=t[n];if("*"!==s){if(null===i?OP(r,s,!0):sX(i,s))return n}else e=n}return e}function Co(r){const t=be()[16][6];if(!t.projection){const i=t.projection=_m(r?r.length:1,null),n=i.slice();let s=t.child;for(;null!==s;){const a=r?GZ(s,r):0;null!==a&&(n[a]?n[a].projectionNext=s:i[a]=s,n[a]=s),s=s.next}}}function Hn(r,t=0,e){const i=be(),n=pi(),s=tp(n,20+r,16,null,e||null);null===s.projection&&(s.projection=t),tM(),64!=(64&s.flags)&&function(r,t,e){MP(t[11],0,t,e,mP(r,e,t),bP(e.parent||t[6],e,t))}(n,i,s)}function aV(r,t,e,i,n){const s=r[e+1],a=null===t;let o=i?yo(s):Ql(s),l=!1;for(;0!==o&&(!1===l||a);){const c=r[o+1];XZ(r[o],t)&&(l=!0,r[o+1]=i?YM(c):WM(c)),o=i?yo(c):Ql(c)}l&&(r[e+1]=i?WM(s):YM(s))}function XZ(r,t){return null===r||null==t||(Array.isArray(r)?r[1]:r)===t||!(!Array.isArray(r)||"string"!=typeof t)&&Kd(r,t)>=0}const Ss={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oV(r){return r.substring(Ss.key,Ss.keyEnd)}function lV(r,t){const e=Ss.textEnd;return e===t?-1:(t=Ss.keyEnd=function(r,t,e){for(;t<e&&r.charCodeAt(t)>32;)t++;return t}(r,Ss.key=t,e),vp(r,t,e))}function vp(r,t,e){for(;t<e&&r.charCodeAt(t)<=32;)t++;return t}function Cu(r,t,e){return Eo(r,t,e,!1),Cu}function ss(r,t){return Eo(r,t,null,!0),ss}function Xl(r){Do(fa,ol,r,!0)}function ol(r,t){for(let e=function(r){return function(r){Ss.key=0,Ss.keyEnd=0,Ss.value=0,Ss.valueEnd=0,Ss.textEnd=r.length}(r),lV(r,vp(r,0,Ss.textEnd))}(t);e>=0;e=lV(t,e))fa(r,oV(t),!0)}function Eo(r,t,e,i){const n=be(),s=pi(),a=ql(2);s.firstUpdatePass&&fV(s,r,a,i),t!==Mt&&hr(n,a,t)&&gV(s,s.data[Ir()],n,n[11],r,n[a+1]=function(r,t){return null==r||("string"==typeof t?r+=t:"object"==typeof r&&(r=di(ga(r)))),r}(t,e),i,a)}function Do(r,t,e,i){const n=pi(),s=ql(2);n.firstUpdatePass&&fV(n,null,s,i);const a=be();if(e!==Mt&&hr(a,s,e)){const o=n.data[Ir()];if(yV(o,i)&&!pV(n,s)){let l=i?o.classesWithoutHost:o.stylesWithoutHost;null!==l&&(e=Fw(l,e||"")),ST(n,o,a,e,i)}else!function(r,t,e,i,n,s,a,o){n===Mt&&(n=Zi);let l=0,h=0,c=0<n.length?n[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const p=l<n.length?n[l+1]:void 0,f=h<s.length?s[h+1]:void 0;let g,m=null;c===d?(l+=2,h+=2,p!==f&&(m=d,g=f)):null===d||null!==c&&c<d?(l+=2,m=c):(h+=2,m=d,g=f),null!==m&&gV(r,t,e,i,m,g,a,o),c=l<n.length?n[l]:null,d=h<s.length?s[h]:null}}(n,o,a,a[11],a[s+1],a[s+1]=function(r,t,e){if(null==e||""===e)return Zi;const i=[],n=ga(e);if(Array.isArray(n))for(let s=0;s<n.length;s++)r(i,n[s],!0);else if("object"==typeof n)for(const s in n)n.hasOwnProperty(s)&&r(i,s,n[s]);else"string"==typeof n&&t(i,n);return i}(r,t,e),i,s)}}function pV(r,t){return t>=r.expandoStartIndex}function fV(r,t,e,i){const n=r.data;if(null===n[e+1]){const s=n[Ir()],a=pV(r,e);yV(s,i)&&null===t&&!a&&(t=!1),t=function(r,t,e,i){const n=nM(r);let s=i?t.residualClasses:t.residualStyles;if(null===n)0===(i?t.classBindings:t.styleBindings)&&(e=Xm(e=IT(null,r,t,e,i),t.attrs,i),s=null);else{const a=t.directiveStylingLast;if(-1===a||r[a]!==n)if(e=IT(n,r,t,e,i),null===s){let l=function(r,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Ql(i))return r[yo(i)]}(r,t,i);void 0!==l&&Array.isArray(l)&&(l=IT(null,r,t,l[1],i),l=Xm(l,t.attrs,i),function(r,t,e,i){r[yo(e?t.classBindings:t.styleBindings)]=i}(r,t,i,l))}else s=function(r,t,e){let i;const n=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<n;s++)i=Xm(i,r[s].hostAttrs,e);return Xm(i,t.attrs,e)}(r,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(n,s,t,i),function(r,t,e,i,n,s){let a=s?t.classBindings:t.styleBindings,o=yo(a),l=Ql(a);r[i]=e;let c,h=!1;if(Array.isArray(e)){const d=e;c=d[1],(null===c||Kd(d,c)>0)&&(h=!0)}else c=e;if(n)if(0!==l){const p=yo(r[o+1]);r[i+1]=zb(p,o),0!==p&&(r[p+1]=qM(r[p+1],i)),r[o+1]=function(r,t){return 131071&r|t<<17}(r[o+1],i)}else r[i+1]=zb(o,0),0!==o&&(r[o+1]=qM(r[o+1],i)),o=i;else r[i+1]=zb(l,0),0===o?o=i:r[l+1]=qM(r[l+1],i),l=i;h&&(r[i+1]=WM(r[i+1])),aV(r,c,i,!0),aV(r,c,i,!1),function(r,t,e,i,n){const s=n?r.residualClasses:r.residualStyles;null!=s&&"string"==typeof t&&Kd(s,t)>=0&&(e[i+1]=YM(e[i+1]))}(t,c,r,i,s),a=zb(o,l),s?t.classBindings=a:t.styleBindings=a}(n,s,t,e,a,i)}}function IT(r,t,e,i,n){let s=null;const a=e.directiveEnd;let o=e.directiveStylingLast;for(-1===o?o=e.directiveStart:o++;o<a&&(s=t[o],i=Xm(i,s.hostAttrs,n),s!==r);)o++;return null!==r&&(e.directiveStylingLast=o),i}function Xm(r,t,e){const i=e?1:2;let n=-1;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?n=a:n===i&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),fa(r,a,!!e||t[++s]))}return void 0===r?null:r}function gV(r,t,e,i,n,s,a,o){if(!(3&t.type))return;const l=r.data,h=l[o+1];Zb(function(r){return 1==(1&r)}(h)?vV(l,t,e,n,Ql(h),a):void 0)||(Zb(s)||function(r){return 2==(2&r)}(h)&&(s=vV(l,null,e,n,o,a)),function(r,t,e,i,n){const s=jn(r);if(t)n?s?r.addClass(e,i):e.classList.add(i):s?r.removeClass(e,i):e.classList.remove(i);else{let a=-1===i.indexOf("-")?void 0:va.DashCase;if(null==n)s?r.removeStyle(e,i,a):e.style.removeProperty(i);else{const o="string"==typeof n&&n.endsWith("!important");o&&(n=n.slice(0,-10),a|=va.Important),s?r.setStyle(e,i,n,a):e.style.setProperty(i,n,o?"important":"")}}}(i,a,vb(Ir(),e),n,s))}function vV(r,t,e,i,n,s){const a=null===t;let o;for(;n>0;){const l=r[n],h=Array.isArray(l),c=h?l[1]:l,d=null===c;let p=e[n+1];p===Mt&&(p=d?Zi:void 0);let f=d?mM(p,i):c===i?p:void 0;if(h&&!Zb(f)&&(f=mM(l,i)),Zb(f)&&(o=f,a))return o;const m=r[n+1];n=a?yo(m):Ql(m)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(o=mM(l,i))}return o}function Zb(r){return void 0!==r}function yV(r,t){return 0!=(r.flags&(t?16:32))}function he(r,t=""){const e=be(),i=pi(),n=r+20,s=i.firstCreatePass?tp(i,n,1,t,null):i.data[n],a=e[n]=function(r,t){return jn(r)?r.createText(t):r.createTextNode(t)}(e[11],t);Bb(i,e,a,s),Jo(s,!1)}function Eu(r){return ll("",r,""),Eu}function ll(r,t,e){const i=be(),n=lp(i,r,t,e);return n!==Mt&&Gl(i,Ir(),n),ll}function Zm(r,t,e){const i=be();return hr(i,zd(),t)&&ya(pi(),Bn(),i,r,t,i[11],e,!0),Zm}function AT(r,t,e){const i=be();if(hr(i,zd(),t)){const s=pi(),a=Bn();ya(s,a,i,r,t,function(r,t,e){return(null===r||go(r))&&(e=function(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(e[t.index])),e[11]}(nM(s.data),a,i),e,!0)}return AT}const Du=void 0;var OJ=["en",[["a","p"],["AM","PM"],Du],[["AM","PM"],Du,Du],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Du,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Du,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Du,"{1} 'at' {0}",Du],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const e=Math.floor(Math.abs(r)),i=r.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let yp={};function VV(r){return r in yp||(yp[r]=Gi.ng&&Gi.ng.common&&Gi.ng.common.locales&&Gi.ng.common.locales[r]),yp[r]}var Ue=(()=>((Ue=Ue||{})[Ue.LocaleId=0]="LocaleId",Ue[Ue.DayPeriodsFormat=1]="DayPeriodsFormat",Ue[Ue.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ue[Ue.DaysFormat=3]="DaysFormat",Ue[Ue.DaysStandalone=4]="DaysStandalone",Ue[Ue.MonthsFormat=5]="MonthsFormat",Ue[Ue.MonthsStandalone=6]="MonthsStandalone",Ue[Ue.Eras=7]="Eras",Ue[Ue.FirstDayOfWeek=8]="FirstDayOfWeek",Ue[Ue.WeekendRange=9]="WeekendRange",Ue[Ue.DateFormat=10]="DateFormat",Ue[Ue.TimeFormat=11]="TimeFormat",Ue[Ue.DateTimeFormat=12]="DateTimeFormat",Ue[Ue.NumberSymbols=13]="NumberSymbols",Ue[Ue.NumberFormats=14]="NumberFormats",Ue[Ue.CurrencyCode=15]="CurrencyCode",Ue[Ue.CurrencySymbol=16]="CurrencySymbol",Ue[Ue.CurrencyName=17]="CurrencyName",Ue[Ue.Currencies=18]="Currencies",Ue[Ue.Directionality=19]="Directionality",Ue[Ue.PluralCase=20]="PluralCase",Ue[Ue.ExtraData=21]="ExtraData",Ue))();const Jb="en-US";let jV=Jb;function kT(r,t,e,i,n){if(r=Pt(r),Array.isArray(r))for(let s=0;s<r.length;s++)kT(r[s],t,e,i,n);else{const s=pi(),a=be();let o=rp(r)?r:Pt(r.provide),l=fF(r);const h=Es(),c=1048575&h.providerIndexes,d=h.directiveStart,p=h.providerIndexes>>20;if(rp(r)||!r.multi){const f=new Tm(l,n,K),m=_T(o,t,n?c:c+p,d);-1===m?(xb(Am(h,a),s,o),NT(s,r,t.length),t.push(o),h.directiveStart++,h.directiveEnd++,n&&(h.providerIndexes+=1048576),e.push(f),a.push(f)):(e[m]=f,a[m]=f)}else{const f=_T(o,t,c+p,d),m=_T(o,t,c,c+p),g=f>=0&&e[f],y=m>=0&&e[m];if(n&&!y||!n&&!g){xb(Am(h,a),s,o);const C=function(r,t,e,i,n){const s=new Tm(r,e,K);return s.multi=[],s.index=t,s.componentProviders=0,hj(s,n,i&&!e),s}(n?Aee:Iee,e.length,n,i,l);!n&&y&&(e[m].providerFactory=C),NT(s,r,t.length,0),t.push(o),h.directiveStart++,h.directiveEnd++,n&&(h.providerIndexes+=1048576),e.push(C),a.push(C)}else NT(s,r,f>-1?f:m,hj(e[n?m:f],l,!n&&i));!n&&i&&y&&e[m].componentProviders++}}}function NT(r,t,e,i){const n=rp(t),s=function(r){return!!r.useClass}(t);if(n||s){const l=(s?Pt(t.useClass):t).prototype.ngOnDestroy;if(l){const h=r.destroyHooks||(r.destroyHooks=[]);if(!n&&t.multi){const c=h.indexOf(e);-1===c?h.push(e,[i,l]):h[c+1].push(i,l)}else h.push(e,l)}}}function hj(r,t,e){return e&&r.componentProviders++,r.multi.push(t)-1}function _T(r,t,e,i){for(let n=e;n<i;n++)if(t[n]===r)return n;return-1}function Iee(r,t,e,i){return LT(this.multi,[])}function Aee(r,t,e,i){const n=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,o=xm(e,e[1],this.providerFactory.index,i);s=o.slice(0,a),LT(n,s);for(let l=a;l<o.length;l++)s.push(o[l])}else s=[],LT(n,s);return s}function LT(r,t){for(let e=0;e<r.length;e++)t.push((0,r[e])());return t}function Ii(r,t=[]){return e=>{e.providersResolver=(i,n)=>function(r,t,e){const i=pi();if(i.firstCreatePass){const n=go(r);kT(e,i.data,i.blueprint,n,!0),kT(t,i.data,i.blueprint,n,!1)}}(i,n?n(r):r,t)}}class cj{}class Nee{resolveComponentFactory(t){throw function(r){const t=Error(`No component factory found for ${di(r)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=r,t}(t)}}let nc=(()=>{class r{}return r.NULL=new Nee,r})();function _ee(){return Cp(Es(),be())}function Cp(r,t){return new Ai(Pa(r,t))}let Ai=(()=>{class r{constructor(e){this.nativeElement=e}}return r.__NG_ELEMENT_ID__=_ee,r})();function Lee(r){return r instanceof Ai?r.nativeElement:r}class ng{}let So=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function(){const r=be(),e=da(Es().index,r);return function(r){return r[11]}(Zo(e)?e:r)}(),r})(),Fee=(()=>{class r{}return r.\u0275prov=ke({token:r,providedIn:"root",factory:()=>null}),r})();class sc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Vee=new sc("13.0.3"),RT={};function r0(r,t,e,i,n=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&i.push(ns(s)),mo(s))for(let o=10;o<s.length;o++){const l=s[o],h=l[1].firstChild;null!==h&&r0(l[1],l,h,i)}const a=e.type;if(8&a)r0(r,t,e.child,i);else if(32&a){const o=_M(e,t);let l;for(;l=o();)i.push(l)}else if(16&a){const o=SP(t,e);if(Array.isArray(o))i.push(...o);else{const l=Um(t[16]);r0(l[1],l,o,i,!0)}}e=n?e.projectionNext:e.next}return i}class sg{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return r0(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(mo(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(VM(t,i),kb(e,i))}this._attachedToViewContainer=!1}fP(this._lView[1],this._lView)}onDestroy(t){$P(this._lView[1],this._lView,null,t)}markForCheck(){oT(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){hT(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,t,e){bb(!0);try{hT(r,t,e)}finally{bb(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Wm(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class jee extends sg{constructor(t){super(t),this._view=t}detectChanges(){sF(this._view)}checkNoChanges(){!function(r){bb(!0);try{sF(r)}finally{bb(!1)}}(this._view)}get context(){return null}}class dj extends nc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=rr(t);return new PT(e,this.ngModule)}}function pj(r){const t=[];for(let e in r)r.hasOwnProperty(e)&&t.push({propName:r[e],templateName:e});return t}const Hee=new Ve("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>aP});class PT extends cj{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(rX).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return pj(this.componentDef.inputs)}get outputs(){return pj(this.componentDef.outputs)}create(t,e,i,n){const s=(n=n||this.ngModule)?function(r,t){return{get:(e,i,n)=>{const s=r.get(e,RT,n);return s!==RT||i===RT?s:t.get(e,i,n)}}}(t,n.injector):t,a=s.get(ng,nR),o=s.get(Fee,null),l=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",c=i?function(r,t,e){if(jn(r))return r.selectRootElement(t,e===po.ShadowDom);let i="string"==typeof t?r.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):FM(a.createRenderer(null,this.componentDef),h,function(r){const t=r.toLowerCase();return"svg"===t?tR:"math"===t?"http://www.w3.org/1998/MathML/":null}(h)),d=this.componentDef.onPush?576:528,p=function(r,t){return{components:[],scheduler:r||aP,clean:YX,playerHandler:t||null,flags:0}}(),f=qb(0,null,null,1,0,null,null,null,null,null),m=qm(null,f,p,d,null,null,a,l,o,s);let g,y;Cb(m);try{const C=function(r,t,e,i,n,s){const a=e[1];e[20]=r;const l=tp(a,20,2,"#host",null),h=l.mergedAttrs=t.hostAttrs;null!==h&&(Qb(l,h,!0),null!==r&&(Mb(n,r,h),null!==l.classes&&UM(n,r,l.classes),null!==l.styles&&TP(n,r,l.styles)));const c=i.createRenderer(r,t),d=qm(e,YP(t),null,t.onPush?64:16,e[20],l,i,c,s||null,null);return a.firstCreatePass&&(xb(Am(l,e),a,t.type),eF(a,l),tF(l,e.length,1)),Yb(e,d),e[20]=d}(c,this.componentDef,m,a,l);if(c)if(i)Mb(l,c,["ng-version",Vee.full]);else{const{attrs:E,classes:S}=function(r){const t=[],e=[];let i=1,n=2;for(;i<r.length;){let s=r[i];if("string"==typeof s)2===n?""!==s&&t.push(s,r[++i]):8===n&&e.push(s);else{if(!vo(n))break;n=s}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);E&&Mb(l,c,E),S&&S.length>0&&UM(l,c,S.join(" "))}if(y=Xw(f,20),void 0!==e){const E=y.projection=[];for(let S=0;S<this.ngContentSelectors.length;S++){const w=e[S];E.push(null!=w?Array.from(w):null)}}g=function(r,t,e,i,n){const s=e[1],a=function(r,t,e){const i=Es();r.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),iF(r,i,t,ip(r,t,1,null),e));const n=xm(t,r,i.directiveStart,i);lr(n,t);const s=Pa(i,t);return s&&lr(s,t),n}(s,e,t);if(i.components.push(a),r[8]=a,n&&n.forEach(l=>l(a,t)),t.contentQueries){const l=Es();t.contentQueries(1,a,l.directiveStart)}const o=Es();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Zh(o.index),ZP(e[1],o,0,o.directiveStart,o.directiveEnd,t),JP(t,a)),a}(C,this.componentDef,m,p,[dZ]),Ym(f,m,null)}finally{Eb()}return new Wee(this.componentType,g,Cp(y,m),m,y)}}class Wee extends class{}{constructor(t,e,i,n,s){super(),this.location=i,this._rootLView=n,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new jee(n),this.componentType=t}get injector(){return new qd(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Zl{}class fj{}const Ep=new Map;class vj extends Zl{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new dj(this);const i=_a(t);this._bootstrapComponents=nl(i.bootstrap),this._r3Injector=pF(t,e,[{provide:Zl,useValue:this},{provide:nc,useValue:this.componentFactoryResolver}],di(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=An.THROW_IF_NOT_FOUND,i=At.Default){return t===An||t===Zl||t===uT?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class FT extends fj{constructor(t){super(),this.moduleType=t,null!==_a(t)&&function(r){const t=new Set;!function e(i){const n=_a(i,!0),s=n.id;null!==s&&(function(r,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${r} - ${di(t)} vs ${di(t.name)}`)}(s,Ep.get(s),i),Ep.set(s,i));const a=nl(n.imports);for(const o of a)t.has(o)||(t.add(o),e(o))}(r)}(t)}create(t){return new vj(this.moduleType,t)}}function VT(r){return t=>{setTimeout(r,void 0,t)}}const _t=class extends kt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var l,h,c;let n=t,s=e||(()=>null),a=i;if(t&&"object"==typeof t){const d=t;n=null==(l=d.next)?void 0:l.bind(d),s=null==(h=d.error)?void 0:h.bind(d),a=null==(c=d.complete)?void 0:c.bind(d)}this.__isAsync&&(s=VT(s),n&&(n=VT(n)),a&&(a=VT(a)));const o=super.subscribe({next:n,error:s,complete:a});return t instanceof rn&&t.add(o),o}};function cte(){return this._results[ap()]()}class Dp{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=ap(),i=Dp.prototype;i[e]||(i[e]=cte)}get changes(){return this._changes||(this._changes=new _t)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const n=Fa(t);(this._changesDetected=!function(r,t,e){if(r.length!==t.length)return!1;for(let i=0;i<r.length;i++){let n=r[i],s=t[i];if(e&&(n=e(n),s=e(s)),s!==n)return!1}return!0}(i._results,n,e))&&(i._results=n,i.length=n.length,i.last=n[this.length-1],i.first=n[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let wo=(()=>{class r{}return r.__NG_ELEMENT_ID__=pte,r})();const ute=wo,dte=class extends ute{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=qm(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(e)),Ym(e,i,t),new sg(i)}};function pte(){return a0(Es(),be())}function a0(r,t){return 4&r.type?new dte(t,r,Cp(r,t)):null}let ws=(()=>{class r{}return r.__NG_ELEMENT_ID__=fte,r})();function fte(){return Tj(Es(),be())}const mte=ws,wj=class extends mte{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Cp(this._hostTNode,this._hostLView)}get injector(){return new qd(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ab(this._hostTNode,this._hostLView);if(CR(t)){const e=Wd(t,this._hostLView),i=Ud(t);return new qd(e[1].data[i+8],e)}return new qd(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Mj(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const n=t.createEmbeddedView(e||{});return this.insert(n,i),n}createComponent(t,e,i,n,s){const a=t&&!function(r){return"function"==typeof r}(t);let o;if(a)o=e;else{const d=e||{};o=d.index,i=d.injector,n=d.projectableNodes,s=d.ngModuleRef}const l=a?t:new PT(rr(t)),h=i||this.parentInjector;if(!s&&null==l.ngModule&&h){const d=h.get(Zl,null);d&&(s=d)}const c=l.create(h,n,void 0,s);return this.insert(c.hostView,o),c}insert(t,e){const i=t._lView,n=i[1];if(mo(i[3])){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const d=i[3],p=new wj(d,d[6],d[3]);p.detach(p.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;!function(r,t,e,i){const n=10+i,s=e.length;i>0&&(e[n-1][4]=t),i<s-10?(t[4]=e[n],xR(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const a=t[17];null!==a&&e!==a&&function(r,t){const e=r[9];t[16]!==t[3][3][16]&&(r[2]=!0),null===e?r[9]=[t]:e.push(t)}(a,t);const o=t[19];null!==o&&o.insertView(r),t[2]|=128}(n,i,a,s);const o=HM(s,a),l=i[11],h=jb(l,a[7]);return null!==h&&function(r,t,e,i,n,s){i[0]=n,i[6]=t,Wm(r,i,e,1,n,s)}(n,a[6],l,i,h,o),t.attachToViewContainerRef(),xR(jT(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Mj(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=VM(this._lContainer,e);i&&(kb(jT(this._lContainer),e),fP(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=VM(this._lContainer,e);return i&&null!=kb(jT(this._lContainer),e)?new sg(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Mj(r){return r[8]}function jT(r){return r[8]||(r[8]=[])}function Tj(r,t){let e;const i=t[r.index];if(mo(i))e=i;else{let n;if(8&r.type)n=ns(i);else{const s=t[11];n=s.createComment("");const a=Pa(r,t);gu(s,jb(s,a),n,function(r,t){return jn(r)?r.nextSibling(t):t.nextSibling}(s,a),!1)}t[r.index]=e=nF(i,t,n,r),Yb(t,e)}return new wj(e,r,t)}class BT{constructor(t){this.queryList=t,this.matches=null}clone(){return new BT(this.queryList)}setDirty(){this.queryList.setDirty()}}class HT{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,n=[];for(let s=0;s<i;s++){const a=e.getByIndex(s);n.push(this.queries[a.indexInDeclarationView].clone())}return new HT(n)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==kj(t,e).matches&&this.queries[e].setDirty()}}class Ij{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class zT{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const n=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,n);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new zT(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class UT{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new UT(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let n=0;n<i.length;n++){const s=i[n];this.matchTNodeWithReadOption(t,e,yte(e,s)),this.matchTNodeWithReadOption(t,e,Ob(e,t,s,!1,!1))}else i===wo?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ob(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const n=this.metadata.read;if(null!==n)if(n===Ai||n===ws||n===wo&&4&e.type)this.addMatch(e.index,-2);else{const s=Ob(e,t,n,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function yte(r,t){const e=r.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Cte(r,t,e,i){return-1===e?function(r,t){return 11&r.type?Cp(r,t):4&r.type?a0(r,t):null}(t,r):-2===e?function(r,t,e){return e===Ai?Cp(t,r):e===wo?a0(t,r):e===ws?Tj(t,r):void 0}(r,t,i):xm(r,r[1],e,t)}function Aj(r,t,e,i){const n=t[19].queries[i];if(null===n.matches){const s=r.data,a=e.matches,o=[];for(let l=0;l<a.length;l+=2){const h=a[l];o.push(h<0?null:Cte(t,s[h],a[l+1],e.metadata.read))}n.matches=o}return n.matches}function WT(r,t,e,i){const n=r.queries.getByIndex(e),s=n.matches;if(null!==s){const a=Aj(r,t,n,e);for(let o=0;o<s.length;o+=2){const l=s[o];if(l>0)i.push(a[o/2]);else{const h=s[o+1],c=t[-l];for(let d=10;d<c.length;d++){const p=c[d];p[17]===p[3]&&WT(p[1],p,h,i)}if(null!==c[9]){const d=c[9];for(let p=0;p<d.length;p++){const f=d[p];WT(f[1],f,h,i)}}}}}return i}function Pe(r){const t=be(),e=pi(),i=cR();sM(i+1);const n=kj(e,i);if(r.dirty&&sR(t)===(2==(2&n.metadata.flags))){if(null===n.matches)r.reset([]);else{const s=n.crossesNgTemplate?WT(e,t,i,[]):Aj(e,t,n,i);r.reset(s,Lee),r.notifyOnChanges()}return!0}return!1}function ja(r,t,e){const i=pi();i.firstCreatePass&&(Oj(i,new Ij(r,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),xj(i,be(),t)}function Ke(r,t,e,i){const n=pi();if(n.firstCreatePass){const s=Es();Oj(n,new Ij(t,e,i),s.index),function(r,t){const e=r.contentQueries||(r.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(r.queries.length-1,t)}(n,r),2==(2&e)&&(n.staticContentQueries=!0)}xj(n,be(),e)}function Fe(){return r=be(),t=cR(),r[19].queries[t].queryList;var r,t}function xj(r,t,e){const i=new Dp(4==(4&e));$P(r,t,i,i.destroy),null===t[19]&&(t[19]=new HT),t[19].queries.push(new BT(i))}function Oj(r,t,e){null===r.queries&&(r.queries=new zT),r.queries.track(new UT(t,e))}function kj(r,t){return r.queries.getByIndex(t)}function Nj(r,t){return a0(r,t)}function h0(...r){}const c0=new Ve("Application Initializer");let wp=(()=>{class r{constructor(e){this.appInits=e,this.resolve=h0,this.reject=h0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,n)=>{this.resolve=i,this.reject=n})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const s=this.appInits[n]();if(Km(s))e.push(s);else if(wT(s)){const a=new Promise((o,l)=>{s.subscribe({complete:o,error:l})});e.push(a)}}Promise.all(e).then(()=>{i()}).catch(n=>{this.reject(n)}),0===e.length&&i(),this.initialized=!0}}return r.\u0275fac=function(e){return new(e||r)(le(c0,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const lg=new Ve("AppId"),zte={provide:lg,useFactory:function(){return`${KT()}${KT()}${KT()}`},deps:[]};function KT(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Kj=new Ve("Platform Initializer"),hg=new Ve("Platform ID"),Xj=new Ve("appBootstrapListener");let Zj=(()=>{class r{log(e){console.log(e)}warn(e){console.warn(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const Jl=new Ve("LocaleId"),Jj=new Ve("DefaultCurrencyCode");class Ute{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let u0=(()=>{class r{compileModuleSync(e){return new FT(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=nl(_a(e).declarations).reduce((a,o)=>{const l=rr(o);return l&&a.push(new PT(l)),a},[]);return new Ute(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const qte=(()=>Promise.resolve(0))();function XT(r){"undefined"==typeof Zone?qte.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class qt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _t(!1),this.onMicrotaskEmpty=new _t(!1),this.onStable=new _t(!1),this.onError=new _t(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=!i&&e,n.shouldCoalesceRunChangeDetection=i,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let r=Gi.requestAnimationFrame,t=Gi.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&t){const e=r[Zone.__symbol__("OriginalDelegate")];e&&(r=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(r){const t=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Gi,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,JT(r),r.isCheckStableRunning=!0,ZT(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),JT(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,n,s,a,o)=>{try{return eB(r),e.invokeTask(n,s,a,o)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||r.shouldCoalesceRunChangeDetection)&&t(),tB(r)}},onInvoke:(e,i,n,s,a,o,l)=>{try{return eB(r),e.invoke(n,s,a,o,l)}finally{r.shouldCoalesceRunChangeDetection&&t(),tB(r)}},onHasTask:(e,i,n,s)=>{e.hasTask(n,s),i===n&&("microTask"==s.change?(r._hasPendingMicrotasks=s.microTask,JT(r),ZT(r)):"macroTask"==s.change&&(r.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,n,s)=>(e.handleError(n,s),r.runOutsideAngular(()=>r.onError.emit(s)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(qt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,n){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+n,t,Qte,h0,h0);try{return s.runTask(a,e,i)}finally{s.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const Qte={};function ZT(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function JT(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function eB(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function tB(r){r._nesting--,ZT(r)}class Kte{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _t,this.onMicrotaskEmpty=new _t,this.onStable=new _t,this.onError=new _t}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,n){return t.apply(e,i)}}let eI=(()=>{class r{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qt.assertNotInAngularZone(),XT(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())XT(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,n){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:n})}whenStable(e,i,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,n){return[]}}return r.\u0275fac=function(e){return new(e||r)(le(qt))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),iB=(()=>{class r{constructor(){this._applications=new Map,tI.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return tI.findTestabilityInTree(this,e,i)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();class Xte{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let Mo,tI=new Xte;const nB=new Ve("AllowMultipleToken");class sB{constructor(t,e){this.name=t,this.token=e}}function rB(r,t,e=[]){const i=`Platform: ${t}`,n=new Ve(i);return(s=[])=>{let a=aB();if(!a||a.injector.get(nB,!1))if(r)r(e.concat(s).concat({provide:n,useValue:!0}));else{const o=e.concat(s).concat({provide:n,useValue:!0},{provide:dT,useValue:"platform"});!function(r){if(Mo&&!Mo.destroyed&&!Mo.injector.get(nB,!1))throw new la("400","");Mo=r.get(oB);const t=r.get(Kj,null);t&&t.forEach(e=>e())}(An.create({providers:o,name:i}))}return function(r){const t=aB();if(!t)throw new la("401","");return t}()}}function aB(){return Mo&&!Mo.destroyed?Mo:null}let oB=(()=>{class r{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const o=function(r,t){let e;return e="noop"===r?new Kte:("zone.js"===r?void 0:r)||new qt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:qt,useValue:o}];return o.run(()=>{const h=An.create({providers:l,parent:this.injector,name:e.moduleType.name}),c=e.create(h),d=c.injector.get(Yl,null);if(!d)throw new la("402","");return o.runOutsideAngular(()=>{const p=o.onError.subscribe({next:f=>{d.handleError(f)}});c.onDestroy(()=>{iI(this._modules,c),p.unsubscribe()})}),function(r,t,e){try{const i=e();return Km(i)?i.catch(n=>{throw t.runOutsideAngular(()=>r.handleError(n)),n}):i}catch(i){throw t.runOutsideAngular(()=>r.handleError(i)),i}}(d,o,()=>{const p=c.injector.get(wp);return p.runInitializers(),p.donePromise.then(()=>(function(r){ca(r,"Expected localeId to be defined"),"string"==typeof r&&(jV=r.toLowerCase().replace(/_/g,"-"))}(c.injector.get(Jl,Jb)||Jb),this._moduleDoBootstrap(c),c))})})}bootstrapModule(e,i=[]){const n=lB({},i);return function(r,t,e){const i=new FT(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,n))}_moduleDoBootstrap(e){const i=e.injector.get(rc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(n=>i.bootstrap(n));else{if(!e.instance.ngDoBootstrap)throw new la("403","");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new la("404","");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(e){return new(e||r)(le(An))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();function lB(r,t){return Array.isArray(t)?t.reduce(lB,r):xe(xe({},r),t)}let rc=(()=>{class r{constructor(e,i,n,s,a){this._zone=e,this._injector=i,this._exceptionHandler=n,this._componentFactoryResolver=s,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new zi(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),l=new zi(h=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{qt.assertNotInAngularZone(),XT(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{qt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{c.unsubscribe(),d.unsubscribe()}});this.isStable=Hl(o,l.pipe(BL()))}bootstrap(e,i){if(!this._initStatus.done)throw new la("405","");let n;n=e instanceof cj?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const s=function(r){return r.isBoundToModule}(n)?void 0:this._injector.get(Zl),o=n.create(An.NULL,[],i||n.selector,s),l=o.location.nativeElement,h=o.injector.get(eI,null),c=h&&o.injector.get(iB);return h&&c&&c.registerApplication(l,h),o.onDestroy(()=>{this.detachView(o.hostView),iI(this.components,o),c&&c.unregisterApplication(l)}),this._loadComponent(o),o}tick(){if(this._runningTick)throw new la("101","");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;iI(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Xj,[]).concat(this._bootstrapListeners).forEach(n=>n(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(e){return new(e||r)(le(qt),le(An),le(Yl),le(nc),le(wp))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();function iI(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}let cB=!0,ac=(()=>{class r{}return r.__NG_ELEMENT_ID__=lie,r})();function lie(r){return function(r,t,e){if(mb(r)&&!e){const i=da(r.index,t);return new sg(i,i)}return 47&r.type?new sg(t[16],t):null}(Es(),be(),16==(16&r))}class vB{constructor(){}supports(t){return Gm(t)}create(t){return new mie(t)}}const fie=(r,t)=>t;class mie{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||fie}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,n=0,s=null;for(;e||i;){const a=!i||e&&e.currentIndex<bB(i,n,s)?e:i,o=bB(a,n,s),l=a.currentIndex;if(a===i)n--,i=i._nextRemoved;else if(e=e._next,null==a.previousIndex)n++;else{s||(s=[]);const h=o-n,c=l-n;if(h!=c){for(let p=0;p<h;p++){const f=p<s.length?s[p]:s[p]=0,m=f+p;c<=m&&m<h&&(s[p]=f+1)}s[a.previousIndex]=c-h}}o!==l&&t(a,o,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Gm(t))throw new Error(`Error trying to diff '${di(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n,s,a,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let o=0;o<this.length;o++)s=t[o],a=this._trackByFn(o,s),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,s,a,o)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,a,o),i=!0),e=e._next}else n=0,function(r,t){if(Array.isArray(r))for(let e=0;e<r.length;e++)t(r[e]);else{const e=r[ap()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,o=>{a=this._trackByFn(n,o),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,o,a,n)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,a,n),i=!0),e=e._next,n++}),this.length=n;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,n){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,n)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,n))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,n)):t=this._addAfter(new gie(e,i),s,n),t}_verifyReinsertion(t,e,i,n){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,n):t.currentIndex!=n&&(t.currentIndex=n,this._addToMoves(t,n)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const n=t._prevRemoved,s=t._nextRemoved;return null===n?this._removalsHead=s:n._nextRemoved=s,null===s?this._removalsTail=n:s._prevRemoved=n,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const n=null===e?this._itHead:e._next;return t._next=n,t._prev=e,null===n?this._itTail=t:n._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new yB),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yB),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class gie{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vie{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class yB{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new vie,this.map.set(e,i)),i.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bB(r,t,e){const i=r.previousIndex;if(null===i)return i;let n=0;return e&&i<e.length&&(n=e[i]),i+t+n}class CB{constructor(){}supports(t){return t instanceof Map||yT(t)}create(){return new yie}}class yie{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||yT(t)))throw new Error(`Error trying to diff '${di(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(n,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const s=n._prev,a=n._next;return s&&(s._next=a),a&&(a._prev=s),n._next=null,n._prev=null,n}const i=new bie(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class bie{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function EB(){return new cg([new vB])}let cg=(()=>{class r{constructor(e){this.factories=e}static create(e,i){if(null!=i){const n=i.factories.slice();e=e.concat(n)}return new r(e)}static extend(e){return{provide:r,useFactory:i=>r.create(e,i||EB()),deps:[[r,new fu,new ma]]}}find(e){const i=this.factories.find(n=>n.supports(e));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(r){return r.name||typeof r}(e)}'`)}}return r.\u0275prov=ke({token:r,providedIn:"root",factory:EB}),r})();function DB(){return new Mp([new CB])}let Mp=(()=>{class r{constructor(e){this.factories=e}static create(e,i){if(i){const n=i.factories.slice();e=e.concat(n)}return new r(e)}static extend(e){return{provide:r,useFactory:i=>r.create(e,i||DB()),deps:[[r,new fu,new ma]]}}find(e){const i=this.factories.find(n=>n.supports(e));if(i)return i;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return r.\u0275prov=ke({token:r,providedIn:"root",factory:DB}),r})();const Eie=[new CB],Sie=new cg([new vB]),wie=new Mp(Eie),Mie=rB(null,"core",[{provide:hg,useValue:"unknown"},{provide:oB,deps:[An]},{provide:iB,deps:[]},{provide:Zj,deps:[]}]),Oie=[{provide:rc,useClass:rc,deps:[qt,An,Yl,nc,wp]},{provide:Hee,deps:[qt],useFactory:function(r){let t=[];return r.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:wp,useClass:wp,deps:[[new ma,c0]]},{provide:u0,useClass:u0,deps:[]},zte,{provide:cg,useFactory:function(){return Sie},deps:[]},{provide:Mp,useFactory:function(){return wie},deps:[]},{provide:Jl,useFactory:function(r){return r||"undefined"!=typeof $localize&&$localize.locale||Jb},deps:[[new Fm(Jl),new ma,new fu]]},{provide:Jj,useValue:"USD"}];let Nie=(()=>{class r{constructor(e){}}return r.\u0275fac=function(e){return new(e||r)(le(rc))},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({providers:Oie}),r})(),p0=null;function hl(){return p0}const Xt=new Ve("DocumentToken");let wu=(()=>{class r{historyGo(e){throw new Error("Not implemented")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=ke({token:r,factory:function(){return le(SB)},providedIn:"platform"}),r})();const Fie=new Ve("Location Initialized");let SB=(()=>{class r extends wu{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hl().getBaseHref(this._doc)}onPopState(e){const i=hl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=hl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,n){wB()?this._history.pushState(e,i,n):this.location.hash=n}replaceState(e,i,n){wB()?this._history.replaceState(e,i,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return r.\u0275fac=function(e){return new(e||r)(le(Xt))},r.\u0275prov=ke({token:r,factory:function(){return new SB(le(Xt))},providedIn:"platform"}),r})();function wB(){return!!window.history.pushState}function oI(r,t){if(0==r.length)return t;if(0==t.length)return r;let e=0;return r.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?r+t.substring(1):1==e?r+t:r+"/"+t}function MB(r){const t=r.match(/#|\?|$/),e=t&&t.index||r.length;return r.slice(0,e-("/"===r[e-1]?1:0))+r.slice(e)}function eh(r){return r&&"?"!==r[0]?"?"+r:r}let Tp=(()=>{class r{historyGo(e){throw new Error("Not implemented")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=ke({token:r,factory:function(){return function(r){const t=le(Xt).location;return new TB(le(wu),t&&t.origin||"")}()},providedIn:"root"}),r})();const lI=new Ve("appBaseHref");let TB=(()=>{class r extends Tp{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return oI(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+eh(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${i}${n}`:i}pushState(e,i,n,s){const a=this.prepareExternalUrl(n+eh(s));this._platformLocation.pushState(e,i,a)}replaceState(e,i,n,s){const a=this.prepareExternalUrl(n+eh(s));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,n;null==(n=(i=this._platformLocation).historyGo)||n.call(i,e)}}return r.\u0275fac=function(e){return new(e||r)(le(wu),le(lI,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),Bie=(()=>{class r extends Tp{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=oI(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,n,s){let a=this.prepareExternalUrl(n+eh(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,n,s){let a=this.prepareExternalUrl(n+eh(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,n;null==(n=(i=this._platformLocation).historyGo)||n.call(i,e)}}return r.\u0275fac=function(e){return new(e||r)(le(wu),le(lI,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),f0=(()=>{class r{constructor(e,i){this._subject=new _t,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=MB(IB(n)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+eh(i))}normalize(e){return r.stripTrailingSlash(function(r,t){return r&&t.startsWith(r)?t.substring(r.length):t}(this._baseHref,IB(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",n=null){this._platformStrategy.pushState(n,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+eh(i)),n)}replaceState(e,i="",n=null){this._platformStrategy.replaceState(n,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+eh(i)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,n;null==(n=(i=this._platformStrategy).historyGo)||n.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(n=>n(e,i))}subscribe(e,i,n){return this._subject.subscribe({next:e,error:i,complete:n})}}return r.normalizeQueryParams=eh,r.joinWithSlash=oI,r.stripTrailingSlash=MB,r.\u0275fac=function(e){return new(e||r)(le(Tp),le(wu))},r.\u0275prov=ke({token:r,factory:function(){return new f0(le(Tp),le(wu))},providedIn:"root"}),r})();function IB(r){return r.replace(/\/index.html$/,"")}var rs=(()=>((rs=rs||{})[rs.Zero=0]="Zero",rs[rs.One=1]="One",rs[rs.Two=2]="Two",rs[rs.Few=3]="Few",rs[rs.Many=4]="Many",rs[rs.Other=5]="Other",rs))();const $ie=function(r){return function(r){const t=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let e=VV(t);if(e)return e;const i=t.split("-")[0];if(e=VV(i),e)return e;if("en"===i)return OJ;throw new Error(`Missing locale data for the locale "${r}".`)}(r)[Ue.PluralCase]};class w0{}let wne=(()=>{class r extends w0{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch($ie(i||this.locale)(e)){case rs.Zero:return"zero";case rs.One:return"one";case rs.Two:return"two";case rs.Few:return"few";case rs.Many:return"many";default:return"other"}}}return r.\u0275fac=function(e){return new(e||r)(le(Jl))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();function PB(r,t){t=encodeURIComponent(t);for(const e of r.split(";")){const i=e.indexOf("="),[n,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(n.trim()===t)return decodeURIComponent(s)}return null}let vI=(()=>{class r{constructor(e,i,n,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=n,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Gm(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${di(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(n=>{i?this._renderer.addClass(this._ngEl.nativeElement,n):this._renderer.removeClass(this._ngEl.nativeElement,n)})}}return r.\u0275fac=function(e){return new(e||r)(K(cg),K(Mp),K(Ai),K(So))},r.\u0275dir=Be({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),r})();class Tne{constructor(t,e,i,n){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let FB=(()=>{class r{constructor(e,i,n){this._viewContainer=e,this._template=i,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(r){return r.name||typeof r}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((n,s,a)=>{if(null==n.previousIndex){const o=this._viewContainer.createEmbeddedView(this._template,new Tne(null,this._ngForOf,-1,-1),null===a?void 0:a),l=new VB(n,o);i.push(l)}else if(null==a)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const o=this._viewContainer.get(s);this._viewContainer.move(o,a);const l=new VB(n,o);i.push(l)}});for(let n=0;n<i.length;n++)this._perViewChange(i[n].view,i[n].record);for(let n=0,s=this._viewContainer.length;n<s;n++){const a=this._viewContainer.get(n);a.context.index=n,a.context.count=s,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange(n=>{this._viewContainer.get(n.currentIndex).context.$implicit=n.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return r.\u0275fac=function(e){return new(e||r)(K(ws),K(wo),K(cg))},r.\u0275dir=Be({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),r})();class VB{constructor(t,e){this.record=t,this.view=e}}let oc=(()=>{class r{constructor(e,i){this._viewContainer=e,this._context=new Ane,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){jB("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){jB("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return r.\u0275fac=function(e){return new(e||r)(K(ws),K(wo))},r.\u0275dir=Be({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),r})();class Ane{constructor(){this.$implicit=null,this.ngIf=null}}function jB(r,t){if(t&&!t.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${di(t)}'.`)}class yI{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let pg=(()=>{class r{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=Be({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),r})(),bI=(()=>{class r{constructor(e,i,n){this.ngSwitch=n,n._addCase(),this._view=new yI(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return r.\u0275fac=function(e){return new(e||r)(K(ws),K(wo),K(pg,9))},r.\u0275dir=Be({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),r})(),BB=(()=>{class r{constructor(e,i,n){n._addDefault(new yI(e,i))}}return r.\u0275fac=function(e){return new(e||r)(K(ws),K(wo),K(pg,9))},r.\u0275dir=Be({type:r,selectors:[["","ngSwitchDefault",""]]}),r})(),lc=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({providers:[{provide:w0,useClass:wne}]}),r})();const UB="browser";let nse=(()=>{class r{}return r.\u0275prov=ke({token:r,providedIn:"root",factory:()=>new sse(le(Xt),window)}),r})();class sse{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(r,t){const e=r.getElementById(t)||r.getElementsByName(t)[0];if(e)return e;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const i=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let n=i.currentNode;for(;n;){const s=n.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}n=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,n=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],n-s[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=WB(this.window.history)||WB(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function WB(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class qB{}class DI extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var r;r=new DI,p0||(p0=r)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(fg=fg||document.querySelector("base"),fg?fg.getAttribute("href"):null);return null==e?null:function(r){M0=M0||document.createElement("a"),M0.setAttribute("href",r);const t=M0.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){fg=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return PB(document.cookie,t)}}let M0,fg=null;const YB=new Ve("TRANSITION_ID"),cse=[{provide:c0,useFactory:function(r,t,e){return()=>{e.get(wp).donePromise.then(()=>{const i=hl(),n=t.querySelectorAll(`style[ng-transition="${r}"]`);for(let s=0;s<n.length;s++)i.remove(n[s])})}},deps:[YB,Xt,An],multi:!0}];class SI{static init(){var r;r=new SI,tI=r}addToWindow(t){Gi.getAngularTestability=(i,n=!0)=>{const s=t.findTestabilityInTree(i,n);if(null==s)throw new Error("Could not find testability for element.");return s},Gi.getAllAngularTestabilities=()=>t.getAllTestabilities(),Gi.getAllAngularRootElements=()=>t.getAllRootElements(),Gi.frameworkStabilizers||(Gi.frameworkStabilizers=[]),Gi.frameworkStabilizers.push(i=>{const n=Gi.getAllAngularTestabilities();let s=n.length,a=!1;const o=function(l){a=a||l,s--,0==s&&i(a)};n.forEach(function(l){l.whenStable(o)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const n=t.getTestability(e);return null!=n?n:i?hl().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let use=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const T0=new Ve("EventManagerPlugins");let I0=(()=>{class r{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(n=>n.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,n){return this._findPluginFor(i).addEventListener(e,i,n)}addGlobalEventListener(e,i,n){return this._findPluginFor(i).addGlobalEventListener(e,i,n)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const n=this._plugins;for(let s=0;s<n.length;s++){const a=n[s];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return r.\u0275fac=function(e){return new(e||r)(le(T0),le(qt))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();class QB{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const n=hl().getGlobalEventTarget(this._doc,t);if(!n)throw new Error(`Unsupported event target ${n} for event ${e}`);return this.addEventListener(n,e,i)}}let GB=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(n=>{this._stylesSet.has(n)||(this._stylesSet.add(n),i.add(n))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),mg=(()=>{class r extends GB{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,n){e.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,n.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach($B),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,n)=>{this._addStylesToHost(e,n,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach($B))}}return r.\u0275fac=function(e){return new(e||r)(le(Xt))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();function $B(r){hl().remove(r)}const wI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},MI=/%COMP%/g;function A0(r,t,e){for(let i=0;i<t.length;i++){let n=t[i];Array.isArray(n)?A0(r,n,e):(n=n.replace(MI,r),e.push(n))}return e}function ZB(r){return t=>{if("__ngUnwrap__"===t)return r;!1===r(t)&&(t.preventDefault(),t.returnValue=!1)}}let x0=(()=>{class r{constructor(e,i,n){this.eventManager=e,this.sharedStylesHost=i,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new TI(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case po.Emulated:{let n=this.rendererByCompId.get(i.id);return n||(n=new vse(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,n)),n.applyToHost(e),n}case 1:case po.ShadowDom:return new yse(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const n=A0(i.id,i.styles,[]);this.sharedStylesHost.addStyles(n),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(e){return new(e||r)(le(I0),le(mg),le(lg))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();class TI{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(wI[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,n){if(n){e=n+":"+e;const s=wI[n];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const n=wI[i];n?t.removeAttributeNS(n,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,n){n&(va.DashCase|va.Important)?t.style.setProperty(e,i,n&va.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&va.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ZB(i)):this.eventManager.addEventListener(t,e,ZB(i))}}class vse extends TI{constructor(t,e,i,n){super(t),this.component=i;const s=A0(n+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(MI,n+"-"+i.id),this.hostAttr=function(r){return"_nghost-%COMP%".replace(MI,r)}(n+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class yse extends TI{constructor(t,e,i,n){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=A0(n.id,n.styles,[]);for(let a=0;a<s.length;a++){const o=document.createElement("style");o.textContent=s[a],this.shadowRoot.appendChild(o)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let bse=(()=>{class r extends QB{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,n){return e.addEventListener(i,n,!1),()=>this.removeEventListener(e,i,n)}removeEventListener(e,i,n){return e.removeEventListener(i,n)}}return r.\u0275fac=function(e){return new(e||r)(le(Xt))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const eH=["alt","control","meta","shift"],Ese={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tH={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Dse={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let Sse=(()=>{class r extends QB{constructor(e){super(e)}supports(e){return null!=r.parseEventName(e)}addEventListener(e,i,n){const s=r.parseEventName(i),a=r.eventCallback(s.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hl().onAndCancel(e,s.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;const s=r._normalizeKey(i.pop());let a="";if(eH.forEach(l=>{const h=i.indexOf(l);h>-1&&(i.splice(h,1),a+=l+".")}),a+=s,0!=i.length||0===s.length)return null;const o={};return o.domEventName=n,o.fullKey=a,o}static getEventFullKey(e){let i="",n=function(r){let t=r.key;if(null==t){if(t=r.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===r.location&&tH.hasOwnProperty(t)&&(t=tH[t]))}return Ese[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),eH.forEach(s=>{s!=n&&Dse[s](e)&&(i+=s+".")}),i+=n,i}static eventCallback(e,i,n){return s=>{r.getEventFullKey(s)===e&&n.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return r.\u0275fac=function(e){return new(e||r)(le(Xt))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const Ase=rB(Mie,"browser",[{provide:hg,useValue:UB},{provide:Kj,useValue:function(){DI.makeCurrent(),SI.init()},multi:!0},{provide:Xt,useFactory:function(){return r=document,$w=r,document;var r},deps:[]}]),xse=[{provide:dT,useValue:"root"},{provide:Yl,useFactory:function(){return new Yl},deps:[]},{provide:T0,useClass:bse,multi:!0,deps:[Xt,qt,hg]},{provide:T0,useClass:Sse,multi:!0,deps:[Xt]},{provide:x0,useClass:x0,deps:[I0,mg,lg]},{provide:ng,useExisting:x0},{provide:GB,useExisting:mg},{provide:mg,useClass:mg,deps:[Xt]},{provide:eI,useClass:eI,deps:[qt]},{provide:I0,useClass:I0,deps:[T0,qt]},{provide:qB,useClass:use,deps:[]}];let iH=(()=>{class r{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:r,providers:[{provide:lg,useValue:e.appId},{provide:YB,useExisting:lg},cse]}}}return r.\u0275fac=function(e){return new(e||r)(le(r,12))},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({providers:xse,imports:[lc,Nie]}),r})();"undefined"!=typeof window&&window;let O0=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=ke({token:r,factory:function(e){let i=null;return i=e?new(e||r):le(rH),i},providedIn:"root"}),r})(),rH=(()=>{class r extends O0{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Ti.NONE:return i;case Ti.HTML:return tl(i,"HTML")?ga(i):ZR(this._doc,String(i)).toString();case Ti.STYLE:return tl(i,"Style")?ga(i):i;case Ti.SCRIPT:if(tl(i,"Script"))return ga(i);throw new Error("unsafe value used in a script context");case Ti.URL:return WR(i),tl(i,"URL")?ga(i):jm(String(i));case Ti.RESOURCE_URL:if(tl(i,"ResourceURL"))return ga(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function(r){return new H$(r)}(e)}bypassSecurityTrustStyle(e){return function(r){return new z$(r)}(e)}bypassSecurityTrustScript(e){return function(r){return new U$(r)}(e)}bypassSecurityTrustUrl(e){return function(r){return new W$(r)}(e)}bypassSecurityTrustResourceUrl(e){return function(r){return new q$(r)}(e)}}return r.\u0275fac=function(e){return new(e||r)(le(Xt))},r.\u0275prov=ke({token:r,factory:function(e){let i=null;return i=e?new e:function(r){return new rH(r.get(Xt))}(le(An)),i},providedIn:"root"}),r})();class aH{}const ih="*";function Ip(r,t){return{type:7,name:r,definitions:t,options:{}}}function cc(r,t=null){return{type:4,styles:t,timings:r}}function oH(r,t=null){return{type:2,steps:r,options:t}}function cr(r){return{type:6,styles:r,offset:null}}function nh(r,t,e){return{type:0,name:r,styles:t,options:e}}function sh(r,t,e=null){return{type:1,expr:r,animation:t,options:e}}function Hse(r=null){return{type:9,options:r}}function zse(r,t,e=null){return{type:11,selector:r,animation:t,options:e}}function lH(r){Promise.resolve(null).then(r)}class Ap{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){lH(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class hH{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,n=0;const s=this.players.length;0==s?lH(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++n==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,o)=>Math.max(a,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const n=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(n)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const cH=["toast-component",""];function Use(r,t){if(1&r){const e=Kl();W(0,"button",5),xt("click",function(){return pa(e),Nt().remove()}),W(1,"span",6),he(2,"\xd7"),q(),q()}}function Wse(r,t){if(1&r&&(yu(0),he(1),bu()),2&r){const e=Nt(2);_e(1),ll("[",e.duplicatesCount+1,"]")}}function qse(r,t){if(1&r&&(W(0,"div"),he(1),yt(2,Wse,2,1,"ng-container",4),q()),2&r){const e=Nt();Xl(e.options.titleClass),Vi("aria-label",e.title),_e(1),ll(" ",e.title," "),_e(1),Ne("ngIf",e.duplicatesCount)}}function Yse(r,t){if(1&r&&Ce(0,"div",7),2&r){const e=Nt();Xl(e.options.messageClass),Ne("innerHTML",e.message,IM)}}function Qse(r,t){if(1&r&&(W(0,"div",8),he(1),q()),2&r){const e=Nt();Xl(e.options.messageClass),Vi("aria-label",e.message),_e(1),ll(" ",e.message," ")}}function Gse(r,t){if(1&r&&(W(0,"div"),Ce(1,"div",9),q()),2&r){const e=Nt();_e(1),Cu("width",e.width+"%")}}function $se(r,t){if(1&r){const e=Kl();W(0,"button",5),xt("click",function(){return pa(e),Nt().remove()}),W(1,"span",6),he(2,"\xd7"),q(),q()}}function Kse(r,t){if(1&r&&(yu(0),he(1),bu()),2&r){const e=Nt(2);_e(1),ll("[",e.duplicatesCount+1,"]")}}function Xse(r,t){if(1&r&&(W(0,"div"),he(1),yt(2,Kse,2,1,"ng-container",4),q()),2&r){const e=Nt();Xl(e.options.titleClass),Vi("aria-label",e.title),_e(1),ll(" ",e.title," "),_e(1),Ne("ngIf",e.duplicatesCount)}}function Zse(r,t){if(1&r&&Ce(0,"div",7),2&r){const e=Nt();Xl(e.options.messageClass),Ne("innerHTML",e.message,IM)}}function Jse(r,t){if(1&r&&(W(0,"div",8),he(1),q()),2&r){const e=Nt();Xl(e.options.messageClass),Vi("aria-label",e.message),_e(1),ll(" ",e.message," ")}}function ere(r,t){if(1&r&&(W(0,"div"),Ce(1,"div",9),q()),2&r){const e=Nt();_e(1),Cu("width",e.width+"%")}}class tre{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class k0{constructor(t,e,i,n,s,a){this.toastId=t,this.config=e,this.message=i,this.title=n,this.toastType=s,this.toastRef=a,this._onTap=new kt,this._onAction=new kt,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const uH={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},dH=new Ve("ToastConfig");class nre{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new kt,this._activate=new kt,this._manualClose=new kt,this._resetTimeout=new kt,this._countDuplicate=new kt}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class sre{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,i){return t===k0?this._toastPackage:this._parentInjector.get(t,e,i)}}class rre extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){const i=this._componentFactoryResolver.resolveComponentFactory(t.component);let n;return n=i.create(t.injector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class are{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let ore=(()=>{class r{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}}return r.\u0275fac=function(e){return new(e||r)(le(Xt))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),lre=(()=>{class r{constructor(e,i,n,s){this._overlayContainer=e,this._componentFactoryResolver=i,this._appRef=n,this._document=s,this._paneElements=new Map}create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(e),n.classList.add("toast-container"),i?i.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(e){return new rre(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new are(this._createPortalHost(e))}}return r.\u0275fac=function(e){return new(e||r)(le(ore),le(nc),le(rc),le(Xt))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),xI=(()=>{class r{constructor(e,i,n,s,a){this.overlay=i,this._injector=n,this.sanitizer=s,this.ngZone=a,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=xe(xe({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=xe(xe({},e.default.iconClasses),e.config.iconClasses))}show(e,i,n={},s=""){return this._preBuildNotification(s,e,i,this.applyConfig(n))}success(e,i,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,i,this.applyConfig(n))}error(e,i,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,i,this.applyConfig(n))}info(e,i,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,i,this.applyConfig(n))}warning(e,i,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,i,this.applyConfig(n))}clear(e){for(const i of this.toasts)if(void 0!==e){if(i.toastId===e)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(e){const i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}findDuplicate(e="",i="",n,s){const{includeTitleDuplicates:a}=this.toastrConfig;for(const o of this.toasts){const l=a&&o.title===e;if((!a||l)&&o.message===i)return o.toastRef.onDuplicate(n,s),o}return null}applyConfig(e={}){return xe(xe({},this.toastrConfig),e)}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,n,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,n,s)):this._buildNotification(e,i,n,s)}_buildNotification(e,i,n,s){if(!s.toastComponent)throw new Error("toastComponent required");const a=this.findDuplicate(n,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||i)&&this.toastrConfig.preventDuplicates&&null!==a)return a;this.previousToastMessage=i;let o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let h=i;i&&s.enableHtml&&(h=this.sanitizer.sanitize(Ti.HTML,i));const c=new nre(l),d=new k0(this.index,s,h,n,e,c),p=new sre(d,this._injector),f=new tre(s.toastComponent,p),m=l.attach(f,this.toastrConfig.newestOnTop);c.componentInstance=m.instance;const g={toastId:this.index,title:n||"",message:i||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:m};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{g.toastRef.activate()})),this.toasts.push(g),g}}return r.\u0275fac=function(e){return new(e||r)(le(dH),le(lre),le(An),le(O0),le(qt))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),hre=(()=>{class r{constructor(e,i,n){this.toastrService=e,this.toastPackage=i,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Tn(xe({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Tn(xe({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Tn(xe({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}return r.\u0275fac=function(e){return new(e||r)(K(xI),K(k0),K(qt))},r.\u0275cmp=ci({type:r,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,i){1&e&&xt("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&e&&(AT("@flyInOut",i.state),Xl(i.toastClasses),Cu("display",i.displayStyle))},attrs:cH,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,i){1&e&&(yt(0,Use,3,0,"button",0),yt(1,qse,3,5,"div",1),yt(2,Yse,1,3,"div",2),yt(3,Qse,2,4,"div",3),yt(4,Gse,2,2,"div",4)),2&e&&(Ne("ngIf",i.options.closeButton),_e(1),Ne("ngIf",i.title),_e(1),Ne("ngIf",i.message&&i.options.enableHtml),_e(1),Ne("ngIf",i.message&&!i.options.enableHtml),_e(1),Ne("ngIf",i.options.progressBar))},directives:[oc],encapsulation:2,data:{animation:[Ip("flyInOut",[nh("inactive",cr({opacity:0})),nh("active",cr({opacity:1})),nh("removed",cr({opacity:0})),sh("inactive => active",cc("{{ easeTime }}ms {{ easing }}")),sh("active => removed",cc("{{ easeTime }}ms {{ easing }}"))])]}}),r})();const cre=Tn(xe({},uH),{toastComponent:hre});let ure=(()=>{class r{static forRoot(e={}){return{ngModule:r,providers:[{provide:dH,useValue:{default:cre,config:e}}]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({imports:[[lc]]}),r})(),dre=(()=>{class r{constructor(e,i,n){this.toastrService=e,this.toastPackage=i,this.appRef=n,this.width=-1,this.toastClasses="",this.state="inactive",this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return r.\u0275fac=function(e){return new(e||r)(K(xI),K(k0),K(rc))},r.\u0275cmp=ci({type:r,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(e,i){1&e&&xt("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&e&&(Xl(i.toastClasses),Cu("display",i.displayStyle))},attrs:cH,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,i){1&e&&(yt(0,$se,3,0,"button",0),yt(1,Xse,3,5,"div",1),yt(2,Zse,1,3,"div",2),yt(3,Jse,2,4,"div",3),yt(4,ere,2,2,"div",4)),2&e&&(Ne("ngIf",i.options.closeButton),_e(1),Ne("ngIf",i.title),_e(1),Ne("ngIf",i.message&&i.options.enableHtml),_e(1),Ne("ngIf",i.message&&!i.options.enableHtml),_e(1),Ne("ngIf",i.options.progressBar))},directives:[oc],encapsulation:2}),r})();function pt(...r){return _s(r,Cm(r))}Tn(xe({},uH),{toastComponent:dre});class ba extends kt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:pre}=Array,{getPrototypeOf:fre,prototype:mre,keys:gre}=Object;function pH(r){if(1===r.length){const t=r[0];if(pre(t))return{args:t,keys:null};if(function(r){return r&&"object"==typeof r&&fre(r)===mre}(t)){const e=gre(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:r,keys:null}}const{isArray:yre}=Array;function OI(r){return Ut(t=>function(r,t){return yre(t)?r(...t):r(t)}(r,t))}function fH(r,t){return r.reduce((e,i,n)=>(e[i]=t[n],e),{})}function mH(r,t,e){r?Bl(e,r,t):t()}const N0=Ns(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});function _0(...r){return bm(1)(_s(r,Cm(r)))}function kI(r){return new zi(t=>{oa(r()).subscribe(t)})}function gH(){return In((r,t)=>{let e=null;r._refCount++;const i=new fn(t,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(e=null);const n=r._connection,s=e;e=null,n&&(!s||n===s)&&n.unsubscribe(),t.unsubscribe()});r.subscribe(i),i.closed||(e=r.connect())})}class Sre extends zi{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,DL(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new rn;const e=this.getSubject();t.add(this.source.subscribe(new fn(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=rn.EMPTY)}return t}refCount(){return gH()(this)}}function Ao(r,t){return In((e,i)=>{let n=null,s=0,a=!1;const o=()=>a&&!n&&i.complete();e.subscribe(new fn(i,l=>{null==n||n.unsubscribe();let h=0;const c=s++;oa(r(l,c)).subscribe(n=new fn(i,d=>i.next(t?t(l,d,c,h++):d),()=>{n=null,o()}))},()=>{a=!0,o()}))})}function rh(...r){const t=Cm(r);return In((e,i)=>{(t?_0(r,e,t):_0(r,e)).subscribe(i)})}function wre(r,t,e,i,n){return(s,a)=>{let o=e,l=t,h=0;s.subscribe(new fn(a,c=>{const d=h++;l=o?r(l,c,d):(o=!0,c),i&&a.next(l)},n&&(()=>{o&&a.next(l),a.complete()})))}}function vH(r,t){return In(wre(r,t,arguments.length>=2,!0))}function ur(r,t){return In((e,i)=>{let n=0;e.subscribe(new fn(i,s=>r.call(t,s,n++)&&i.next(s)))})}function ah(r){return In((t,e)=>{let s,i=null,n=!1;i=t.subscribe(new fn(e,void 0,void 0,a=>{s=oa(r(a,ah(r)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):n=!0})),n&&(i.unsubscribe(),i=null,s.subscribe(e))})}function xp(r,t){return It(t)?is(r,t,1):is(r,1)}function NI(r){return r<=0?()=>Xo:In((t,e)=>{let i=[];t.subscribe(new fn(e,n=>{i.push(n),r<i.length&&i.shift()},()=>{for(const n of i)e.next(n);e.complete()},void 0,()=>{i=null}))})}function yH(r=Mre){return In((t,e)=>{let i=!1;t.subscribe(new fn(e,n=>{i=!0,e.next(n)},()=>i?e.complete():e.error(r())))})}function Mre(){return new N0}function bH(r){return In((t,e)=>{let i=!1;t.subscribe(new fn(e,n=>{i=!0,e.next(n)},()=>{i||e.next(r),e.complete()}))})}function Op(r,t){const e=arguments.length>=2;return i=>i.pipe(r?ur((n,s)=>r(n,s,i)):Qh,wr(1),e?bH(t):yH(()=>new N0))}function Qs(r,t,e){const i=It(r)||t||e?{next:r,error:t,complete:e}:r;return i?In((n,s)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let o=!0;n.subscribe(new fn(s,l=>{var h;null===(h=i.next)||void 0===h||h.call(i,l),s.next(l)},()=>{var l;o=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var h;o=!1,null===(h=i.error)||void 0===h||h.call(i,l),s.error(l)},()=>{var l,h;o&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(h=i.finalize)||void 0===h||h.call(i)}))}):Qh}function CH(r){return In((t,e)=>{try{t.subscribe(e)}finally{e.add(r)}})}class oh{constructor(t,e){this.id=t,this.url=e}}class L0 extends oh{constructor(t,e,i="imperative",n=null){super(t,e),this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gg extends oh{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class EH extends oh{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ire extends oh{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Are extends oh{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xre extends oh{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ore extends oh{constructor(t,e,i,n,s){super(t,e),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kre extends oh{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nre extends oh{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DH{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class SH{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _re{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lre{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rre{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pre{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wH{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Zt="primary";class Fre{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function kp(r){return new Fre(r)}const MH="ngNavigationCancelingError";function _I(r){const t=Error("NavigationCancelingError: "+r);return t[MH]=!0,t}function jre(r,t,e){const i=e.path.split("/");if(i.length>r.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<r.length))return null;const n={};for(let s=0;s<i.length;s++){const a=i[s],o=r[s];if(a.startsWith(":"))n[a.substring(1)]=o;else if(a!==o.path)return null}return{consumed:r.slice(0,i.length),posParams:n}}function cl(r,t){const e=r?Object.keys(r):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let n;for(let s=0;s<e.length;s++)if(n=e[s],!TH(r[n],t[n]))return!1;return!0}function TH(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;const e=[...r].sort(),i=[...t].sort();return e.every((n,s)=>i[s]===n)}return r===t}function IH(r){return Array.prototype.concat.apply([],r)}function AH(r){return r.length>0?r[r.length-1]:null}function Gs(r,t){for(const e in r)r.hasOwnProperty(e)&&t(r[e],e)}function ul(r){return wT(r)?r:Km(r)?_s(Promise.resolve(r)):pt(r)}const zre={exact:function kH(r,t,e){if(!Tu(r.segments,t.segments)||!R0(r.segments,t.segments,e)||r.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!r.children[i]||!kH(r.children[i],t.children[i],e))return!1;return!0},subset:NH},xH={exact:function(r,t){return cl(r,t)},subset:function(r,t){return Object.keys(t).length<=Object.keys(r).length&&Object.keys(t).every(e=>TH(r[e],t[e]))},ignored:()=>!0};function OH(r,t,e){return zre[e.paths](r.root,t.root,e.matrixParams)&&xH[e.queryParams](r.queryParams,t.queryParams)&&!("exact"===e.fragment&&r.fragment!==t.fragment)}function NH(r,t,e){return _H(r,t,t.segments,e)}function _H(r,t,e,i){if(r.segments.length>e.length){const n=r.segments.slice(0,e.length);return!(!Tu(n,e)||t.hasChildren()||!R0(n,e,i))}if(r.segments.length===e.length){if(!Tu(r.segments,e)||!R0(r.segments,e,i))return!1;for(const n in t.children)if(!r.children[n]||!NH(r.children[n],t.children[n],i))return!1;return!0}{const n=e.slice(0,r.segments.length),s=e.slice(r.segments.length);return!!(Tu(r.segments,n)&&R0(r.segments,n,i)&&r.children[Zt])&&_H(r.children[Zt],t,s,i)}}function R0(r,t,e){return t.every((i,n)=>xH[e](r[n].parameters,i.parameters))}class Mu{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kp(this.queryParams)),this._queryParamMap}toString(){return Qre.serialize(this)}}class oi{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Gs(e,(i,n)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return P0(this)}}class vg{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=kp(this.parameters)),this._parameterMap}toString(){return VH(this)}}function Tu(r,t){return r.length===t.length&&r.every((e,i)=>e.path===t[i].path)}class LH{}class RH{parse(t){const e=new iae(t);return new Mu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${yg(t.root,!0)}`,i=function(r){const t=Object.keys(r).map(e=>{const i=r[e];return Array.isArray(i)?i.map(n=>`${F0(e)}=${F0(n)}`).join("&"):`${F0(e)}=${F0(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);var r;return`${e}${i}${"string"==typeof t.fragment?`#${r=t.fragment,encodeURI(r)}`:""}`}}const Qre=new RH;function P0(r){return r.segments.map(t=>VH(t)).join("/")}function yg(r,t){if(!r.hasChildren())return P0(r);if(t){const e=r.children[Zt]?yg(r.children[Zt],!1):"",i=[];return Gs(r.children,(n,s)=>{s!==Zt&&i.push(`${s}:${yg(n,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(r,t){let e=[];return Gs(r.children,(i,n)=>{n===Zt&&(e=e.concat(t(i,n)))}),Gs(r.children,(i,n)=>{n!==Zt&&(e=e.concat(t(i,n)))}),e}(r,(i,n)=>n===Zt?[yg(r.children[Zt],!1)]:[`${n}:${yg(i,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[Zt]?`${P0(r)}/${e[0]}`:`${P0(r)}/(${e.join("//")})`}}function PH(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function F0(r){return PH(r).replace(/%3B/gi,";")}function LI(r){return PH(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function V0(r){return decodeURIComponent(r)}function FH(r){return V0(r.replace(/\+/g,"%20"))}function VH(r){return`${LI(r.path)}${function(r){return Object.keys(r).map(t=>`;${LI(t)}=${LI(r[t])}`).join("")}(r.parameters)}`}const Xre=/^[^\/()?;=#]+/;function j0(r){const t=r.match(Xre);return t?t[0]:""}const Zre=/^[^=?&#]+/,eae=/^[^&#]+/;class iae{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new oi([],{}):new oi([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Zt]=new oi(t,e)),i}parseSegment(){const t=j0(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new vg(V0(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=j0(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const n=j0(this.remaining);n&&(i=n,this.capture(i))}t[V0(e)]=V0(i)}parseQueryParam(t){const e=function(r){const t=r.match(Zre);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function(r){const t=r.match(eae);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const n=FH(e),s=FH(i);if(t.hasOwnProperty(n)){let a=t[n];Array.isArray(a)||(a=[a],t[n]=a),a.push(s)}else t[n]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=j0(this.remaining),n=this.remaining[i.length];if("/"!==n&&")"!==n&&";"!==n)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Zt);const a=this.parseChildren();e[s]=1===Object.keys(a).length?a[Zt]:new oi([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class jH{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=RI(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=RI(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=PI(t,this._root);return e.length<2?[]:e[e.length-2].children.map(n=>n.value).filter(n=>n!==t)}pathFromRoot(t){return PI(t,this._root).map(e=>e.value)}}function RI(r,t){if(r===t.value)return t;for(const e of t.children){const i=RI(r,e);if(i)return i}return null}function PI(r,t){if(r===t.value)return[t];for(const e of t.children){const i=PI(r,e);if(i.length)return i.unshift(t),i}return[]}class lh{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Np(r){const t={};return r&&r.children.forEach(e=>t[e.value.outlet]=e),t}class BH extends jH{constructor(t,e){super(t),this.snapshot=e,FI(this,t)}toString(){return this.snapshot.toString()}}function HH(r,t){const e=function(r,t){const a=new B0([],{},{},"",{},Zt,t,null,r.root,-1,{});return new UH("",new lh(a,[]))}(r,t),i=new ba([new vg("",{})]),n=new ba({}),s=new ba({}),a=new ba({}),o=new ba(""),l=new _p(i,n,a,o,s,Zt,t,e.root);return l.snapshot=e.root,new BH(new lh(l,[]),e)}class _p{constructor(t,e,i,n,s,a,o,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=s,this.outlet=a,this.component=o,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ut(t=>kp(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ut(t=>kp(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zH(r,t="emptyOnly"){const e=r.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const n=e[i],s=e[i-1];if(n.routeConfig&&""===n.routeConfig.path)i--;else{if(s.component)break;i--}}return function(r){return r.reduce((t,e)=>({params:xe(xe({},t.params),e.params),data:xe(xe({},t.data),e.data),resolve:xe(xe({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class B0{constructor(t,e,i,n,s,a,o,l,h,c,d){this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=s,this.outlet=a,this.component=o,this.routeConfig=l,this._urlSegment=h,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class UH extends jH{constructor(t,e){super(e),this.url=t,FI(this,e)}toString(){return WH(this._root)}}function FI(r,t){t.value._routerState=r,t.children.forEach(e=>FI(r,e))}function WH(r){const t=r.children.length>0?` { ${r.children.map(WH).join(", ")} } `:"";return`${r.value}${t}`}function VI(r){if(r.snapshot){const t=r.snapshot,e=r._futureSnapshot;r.snapshot=e,cl(t.queryParams,e.queryParams)||r.queryParams.next(e.queryParams),t.fragment!==e.fragment&&r.fragment.next(e.fragment),cl(t.params,e.params)||r.params.next(e.params),function(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;++e)if(!cl(r[e],t[e]))return!1;return!0}(t.url,e.url)||r.url.next(e.url),cl(t.data,e.data)||r.data.next(e.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function jI(r,t){const e=cl(r.params,t.params)&&function(r,t){return Tu(r,t)&&r.every((e,i)=>cl(e.parameters,t[i].parameters))}(r.url,t.url);return e&&!(!r.parent!=!t.parent)&&(!r.parent||jI(r.parent,t.parent))}function bg(r,t,e){if(e&&r.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const n=function(r,t,e){return t.children.map(i=>{for(const n of e.children)if(r.shouldReuseRoute(i.value,n.value.snapshot))return bg(r,i,n);return bg(r,i)})}(r,t,e);return new lh(i,n)}{if(r.shouldAttach(t.value)){const s=r.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(o=>bg(r,o)),a}}const i=function(r){return new _p(new ba(r.url),new ba(r.params),new ba(r.queryParams),new ba(r.fragment),new ba(r.data),r.outlet,r.component,r)}(t.value),n=t.children.map(s=>bg(r,s));return new lh(i,n)}}function H0(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function Cg(r){return"object"==typeof r&&null!=r&&r.outlets}function BI(r,t,e,i,n){let s={};return i&&Gs(i,(a,o)=>{s[o]=Array.isArray(a)?a.map(l=>`${l}`):`${a}`}),new Mu(e.root===r?t:qH(e.root,r,t),s,n)}function qH(r,t,e){const i={};return Gs(r.children,(n,s)=>{i[s]=n===t?e:qH(n,t,e)}),new oi(r.segments,i)}class YH{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&H0(i[0]))throw new Error("Root segment cannot have matrix parameters");const n=i.find(Cg);if(n&&n!==AH(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class HI{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function QH(r,t,e){if(r||(r=new oi([],{})),0===r.segments.length&&r.hasChildren())return z0(r,t,e);const i=function(r,t,e){let i=0,n=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;n<r.segments.length;){if(i>=e.length)return s;const a=r.segments[n],o=e[i];if(Cg(o))break;const l=`${o}`,h=i<e.length-1?e[i+1]:null;if(n>0&&void 0===l)break;if(l&&h&&"object"==typeof h&&void 0===h.outlets){if(!$H(l,h,a))return s;i+=2}else{if(!$H(l,{},a))return s;i++}n++}return{match:!0,pathIndex:n,commandIndex:i}}(r,t,e),n=e.slice(i.commandIndex);if(i.match&&i.pathIndex<r.segments.length){const s=new oi(r.segments.slice(0,i.pathIndex),{});return s.children[Zt]=new oi(r.segments.slice(i.pathIndex),r.children),z0(s,0,n)}return i.match&&0===n.length?new oi(r.segments,{}):i.match&&!r.hasChildren()?zI(r,t,e):i.match?z0(r,0,n):zI(r,t,e)}function z0(r,t,e){if(0===e.length)return new oi(r.segments,{});{const i=function(r){return Cg(r[0])?r[0].outlets:{[Zt]:r}}(e),n={};return Gs(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(n[a]=QH(r.children[a],t,s))}),Gs(r.children,(s,a)=>{void 0===i[a]&&(n[a]=s)}),new oi(r.segments,n)}}function zI(r,t,e){const i=r.segments.slice(0,t);let n=0;for(;n<e.length;){const s=e[n];if(Cg(s)){const l=fae(s.outlets);return new oi(i,l)}if(0===n&&H0(e[0])){i.push(new vg(r.segments[t].path,GH(e[0]))),n++;continue}const a=Cg(s)?s.outlets[Zt]:`${s}`,o=n<e.length-1?e[n+1]:null;a&&o&&H0(o)?(i.push(new vg(a,GH(o))),n+=2):(i.push(new vg(a,{})),n++)}return new oi(i,{})}function fae(r){const t={};return Gs(r,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=zI(new oi([],{}),0,e))}),t}function GH(r){const t={};return Gs(r,(e,i)=>t[i]=`${e}`),t}function $H(r,t,e){return r==e.path&&cl(t,e.parameters)}class gae{constructor(t,e,i,n){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=n}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),VI(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const n=Np(e);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,n[a],i),delete n[a]}),Gs(n,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const n=t.value,s=e?e.value:null;if(n===s)if(n.component){const a=i.getContext(n.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),n=i&&t.value.component?i.children:e,s=Np(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],n);if(i&&i.outlet){const a=i.outlet.detach(),o=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:o})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),n=i&&t.value.component?i.children:e,s=Np(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],n);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const n=Np(e);t.children.forEach(s=>{this.activateRoutes(s,n[s.value.outlet],i),this.forwardEvent(new Pre(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Lre(t.value.snapshot))}activateRoutes(t,e,i){const n=t.value,s=e?e.value:null;if(VI(n),n===s)if(n.component){const a=i.getOrCreateContext(n.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(n.component){const a=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){const o=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),a.children.onOutletReAttached(o.contexts),a.attachRef=o.componentRef,a.route=o.route.value,a.outlet&&a.outlet.attach(o.componentRef,o.route.value),VI(o.route.value),this.activateChildRoutes(t,null,a.children)}else{const o=function(r){for(let t=r.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(n.snapshot),l=o?o.module.componentFactoryResolver:null;a.attachRef=null,a.route=n,a.resolver=l,a.outlet&&a.outlet.activateWith(n,l),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class UI{constructor(t,e){this.routes=t,this.module=e}}function uc(r){return"function"==typeof r}function Iu(r){return r instanceof Mu}const Eg=Symbol("INITIAL_VALUE");function Dg(){return Ao(r=>function(...r){const t=Cm(r),e=PL(r),{args:i,keys:n}=pH(r);if(0===i.length)return _s([],t);const s=new zi(function(r,t,e=Qh){return i=>{mH(t,()=>{const{length:n}=r,s=new Array(n);let a=n,o=n;for(let l=0;l<n;l++)mH(t,()=>{const h=_s(r[l],t);let c=!1;h.subscribe(new fn(i,d=>{s[l]=d,c||(c=!0,o--),o||i.next(e(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,n?a=>fH(n,a):Qh));return e?s.pipe(OI(e)):s}(r.map(t=>t.pipe(wr(1),rh(Eg)))).pipe(vH((t,e)=>{let i=!1;return e.reduce((n,s,a)=>n!==Eg?n:(s===Eg&&(i=!0),i||!1!==s&&a!==e.length-1&&!Iu(s)?n:s),t)},Eg),ur(t=>t!==Eg),Ut(t=>Iu(t)?t:!0===t),wr(1)))}class Sae{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Sg,this.attachRef=null}}class Sg{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Sae,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let WI=(()=>{class r{constructor(e,i,n,s,a){this.parentContexts=e,this.location=i,this.resolver=n,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new _t,this.deactivateEvents=new _t,this.attachEvents=new _t,this.detachEvents=new _t,this.name=s||Zt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const a=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),o=this.parentContexts.getOrCreateContext(this.name).children,l=new wae(e,o,this.location.injector);this.activated=this.location.createComponent(a,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(e){return new(e||r)(K(Sg),K(ws),K(nc),ec("name"),K(ac))},r.\u0275dir=Be({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),r})();class wae{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===_p?this.route:t===Sg?this.childContexts:this.parent.get(t,e)}}let KH=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=ci({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&Ce(0,"router-outlet")},directives:[WI],encapsulation:2}),r})();function XH(r,t=""){for(let e=0;e<r.length;e++){const i=r[e];Mae(i,Tae(t,i))}}function Mae(r,t){r.children&&XH(r.children,t)}function Tae(r,t){return t?r||t.path?r&&!t.path?`${r}/`:!r&&t.path?t.path:`${r}/${t.path}`:"":r}function qI(r){const t=r.children&&r.children.map(qI),e=t?Tn(xe({},r),{children:t}):xe({},r);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Zt&&(e.component=KH),e}function za(r){return r.outlet||Zt}function ZH(r,t){const e=r.filter(i=>za(i)===t);return e.push(...r.filter(i=>za(i)!==t)),e}const JH={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function U0(r,t,e){var o;if(""===t.path)return"full"===t.pathMatch&&(r.hasChildren()||e.length>0)?xe({},JH):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const n=(t.matcher||jre)(e,r,t);if(!n)return xe({},JH);const s={};Gs(n.posParams,(l,h)=>{s[h]=l.path});const a=n.consumed.length>0?xe(xe({},s),n.consumed[n.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:n.consumed,lastChild:n.consumed.length,parameters:a,positionalParamSegments:null!=(o=n.posParams)?o:{}}}function W0(r,t,e,i,n="corrected"){if(e.length>0&&function(r,t,e){return e.some(i=>q0(r,t,i)&&za(i)!==Zt)}(r,e,i)){const a=new oi(t,function(r,t,e,i){const n={};n[Zt]=i,i._sourceSegment=r,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&za(s)!==Zt){const a=new oi([],{});a._sourceSegment=r,a._segmentIndexShift=t.length,n[za(s)]=a}return n}(r,t,i,new oi(e,r.children)));return a._sourceSegment=r,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function(r,t,e){return e.some(i=>q0(r,t,i))}(r,e,i)){const a=new oi(r.segments,function(r,t,e,i,n,s){const a={};for(const o of i)if(q0(r,e,o)&&!n[za(o)]){const l=new oi([],{});l._sourceSegment=r,l._segmentIndexShift="legacy"===s?r.segments.length:t.length,a[za(o)]=l}return xe(xe({},n),a)}(r,t,e,i,r.children,n));return a._sourceSegment=r,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const s=new oi(r.segments,r.children);return s._sourceSegment=r,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function q0(r,t,e){return(!(r.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function ez(r,t,e,i){return!!(za(r)===i||i!==Zt&&q0(t,e,r))&&("**"===r.path||U0(t,r,e).matched)}function tz(r,t,e){return 0===t.length&&!r.children[e]}class wg{constructor(t){this.segmentGroup=t||null}}class iz{constructor(t){this.urlTree=t}}function Y0(r){return new zi(t=>t.error(new wg(r)))}function nz(r){return new zi(t=>t.error(new iz(r)))}function kae(r){return new zi(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r}'`)))}class Lae{constructor(t,e,i,n,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=n,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(Zl)}apply(){const t=W0(this.urlTree.root,[],[],this.config).segmentGroup,e=new oi(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Zt).pipe(Ut(s=>this.createUrlTree(YI(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ah(s=>{if(s instanceof iz)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof wg?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Zt).pipe(Ut(n=>this.createUrlTree(YI(n),t.queryParams,t.fragment))).pipe(ah(n=>{throw n instanceof wg?this.noMatchError(n):n}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const n=t.segments.length>0?new oi([],{[Zt]:t}):t;return new Mu(n,e,i)}expandSegmentGroup(t,e,i,n){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(Ut(s=>new oi([],s))):this.expandSegment(t,i,e,i.segments,n,!0)}expandChildren(t,e,i){const n=[];for(const s of Object.keys(i.children))"primary"===s?n.unshift(s):n.push(s);return _s(n).pipe(xp(s=>{const a=i.children[s],o=ZH(e,s);return this.expandSegmentGroup(t,o,a,s).pipe(Ut(l=>({segment:l,outlet:s})))}),vH((s,a)=>(s[a.outlet]=a.segment,s),{}),function(r,t){const e=arguments.length>=2;return i=>i.pipe(r?ur((n,s)=>r(n,s,i)):Qh,NI(1),e?bH(t):yH(()=>new N0))}())}expandSegment(t,e,i,n,s,a){return _s(i).pipe(xp(o=>this.expandSegmentAgainstRoute(t,e,i,o,n,s,a).pipe(ah(h=>{if(h instanceof wg)return pt(null);throw h}))),Op(o=>!!o),ah((o,l)=>{if(o instanceof N0||"EmptyError"===o.name){if(tz(e,n,s))return pt(new oi([],{}));throw new wg(e)}throw o}))}expandSegmentAgainstRoute(t,e,i,n,s,a,o){return ez(n,e,s,a)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,e,n,s,a):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,n,s,a):Y0(e):Y0(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,n,s,a){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,n,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,n,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,n){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?nz(s):this.lineralizeSegments(i,s).pipe(is(a=>{const o=new oi(a,{});return this.expandSegment(t,o,e,a,n,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,n,s,a){const{matched:o,consumedSegments:l,lastChild:h,positionalParamSegments:c}=U0(e,n,s);if(!o)return Y0(e);const d=this.applyRedirectCommands(l,n.redirectTo,c);return n.redirectTo.startsWith("/")?nz(d):this.lineralizeSegments(n,d).pipe(is(p=>this.expandSegment(t,e,i,p.concat(s.slice(h)),a,!1)))}matchSegmentAgainstRoute(t,e,i,n,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?pt(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(Ut(p=>(i._loadedConfig=p,new oi(n,{})))):pt(new oi(n,{}));const{matched:a,consumedSegments:o,lastChild:l}=U0(e,i,n);if(!a)return Y0(e);const h=n.slice(l);return this.getChildConfig(t,i,n).pipe(is(d=>{const p=d.module,f=d.routes,{segmentGroup:m,slicedSegments:g}=W0(e,o,h,f),y=new oi(m.segments,m.children);if(0===g.length&&y.hasChildren())return this.expandChildren(p,f,y).pipe(Ut(w=>new oi(o,w)));if(0===f.length&&0===g.length)return pt(new oi(o,{}));const C=za(i)===s;return this.expandSegment(p,y,f,g,C?Zt:s,!0).pipe(Ut(S=>new oi(o.concat(S.segments),S.children)))}))}getChildConfig(t,e,i){return e.children?pt(new UI(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?pt(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(is(n=>{return n?this.configLoader.load(t.injector,e).pipe(Ut(s=>(e._loadedConfig=s,s))):(r=e,new zi(t=>t.error(_I(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`))));var r})):pt(new UI([],t))}runCanLoadGuards(t,e,i){const n=e.canLoad;return n&&0!==n.length?pt(n.map(a=>{const o=t.get(a);let l;if((r=o)&&uc(r.canLoad))l=o.canLoad(e,i);else{if(!uc(o))throw new Error("Invalid CanLoad guard");l=o(e,i)}var r;return ul(l)})).pipe(Dg(),Qs(a=>{if(!Iu(a))return;const o=_I(`Redirecting to "${this.urlSerializer.serialize(a)}"`);throw o.url=a,o}),Ut(a=>!0===a)):pt(!0)}lineralizeSegments(t,e){let i=[],n=e.root;for(;;){if(i=i.concat(n.segments),0===n.numberOfChildren)return pt(i);if(n.numberOfChildren>1||!n.children[Zt])return kae(t.redirectTo);n=n.children[Zt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,n){const s=this.createSegmentGroup(t,e.root,i,n);return new Mu(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Gs(t,(n,s)=>{if("string"==typeof n&&n.startsWith(":")){const o=n.substring(1);i[s]=e[o]}else i[s]=n}),i}createSegmentGroup(t,e,i,n){const s=this.createSegments(t,e.segments,i,n);let a={};return Gs(e.children,(o,l)=>{a[l]=this.createSegmentGroup(t,o,i,n)}),new oi(s,a)}createSegments(t,e,i,n){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,n):this.findOrReturn(s,i))}findPosParam(t,e,i){const n=i[e.path.substring(1)];if(!n)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return n}findOrReturn(t,e){let i=0;for(const n of e){if(n.path===t.path)return e.splice(i),n;i++}return t}}function YI(r){const t={};for(const i of Object.keys(r.children)){const s=YI(r.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function(r){if(1===r.numberOfChildren&&r.children[Zt]){const t=r.children[Zt];return new oi(r.segments.concat(t.segments),t.children)}return r}(new oi(r.segments,t))}class sz{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Q0{constructor(t,e){this.component=t,this.route=e}}function Fae(r,t,e){const i=r._root;return Mg(i,t?t._root:null,e,[i.value])}function G0(r,t,e){const i=function(r){if(!r)return null;for(let t=r.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(r)}function Mg(r,t,e,i,n={canDeactivateChecks:[],canActivateChecks:[]}){const s=Np(t);return r.children.forEach(a=>{(function(r,t,e,i,n={canDeactivateChecks:[],canActivateChecks:[]}){const s=r.value,a=t?t.value:null,o=e?e.getContext(r.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const l=function(r,t,e){if("function"==typeof e)return e(r,t);switch(e){case"pathParamsChange":return!Tu(r.url,t.url);case"pathParamsOrQueryParamsChange":return!Tu(r.url,t.url)||!cl(r.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jI(r,t)||!cl(r.queryParams,t.queryParams);default:return!jI(r,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);l?n.canActivateChecks.push(new sz(i)):(s.data=a.data,s._resolvedData=a._resolvedData),Mg(r,t,s.component?o?o.children:null:e,i,n),l&&o&&o.outlet&&o.outlet.isActivated&&n.canDeactivateChecks.push(new Q0(o.outlet.component,a))}else a&&Tg(t,o,n),n.canActivateChecks.push(new sz(i)),Mg(r,null,s.component?o?o.children:null:e,i,n)})(a,s[a.value.outlet],e,i.concat([a.value]),n),delete s[a.value.outlet]}),Gs(s,(a,o)=>Tg(a,e.getContext(o),n)),n}function Tg(r,t,e){const i=Np(r),n=r.value;Gs(i,(s,a)=>{Tg(s,n.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new Q0(n.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,n))}class Kae{}function rz(r){return new zi(t=>t.error(r))}class Zae{constructor(t,e,i,n,s,a){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=n,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a}recognize(){const t=W0(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Zt);if(null===e)return null;const i=new B0([],Object.freeze({}),Object.freeze(xe({},this.urlTree.queryParams)),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),n=new lh(i,e),s=new UH(this.url,n);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=zH(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(n=>this.inheritParamsAndData(n))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const a=e.children[s],o=ZH(t,s),l=this.processSegmentGroup(o,a,s);if(null===l)return null;i.push(...l)}const n=az(i);return n.sort((t,e)=>t.value.outlet===Zt?-1:e.value.outlet===Zt?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,i,n){for(const s of t){const a=this.processSegmentAgainstRoute(s,e,i,n);if(null!==a)return a}return tz(e,i,n)?[]:null}processSegmentAgainstRoute(t,e,i,n){if(t.redirectTo||!ez(t,e,i,n))return null;let s,a=[],o=[];if("**"===t.path){const f=i.length>0?AH(i).parameters:{};s=new B0(i,f,Object.freeze(xe({},this.urlTree.queryParams)),this.urlTree.fragment,hz(t),za(t),t.component,t,oz(e),lz(e)+i.length,cz(t))}else{const f=U0(e,t,i);if(!f.matched)return null;a=f.consumedSegments,o=i.slice(f.lastChild),s=new B0(a,f.parameters,Object.freeze(xe({},this.urlTree.queryParams)),this.urlTree.fragment,hz(t),za(t),t.component,t,oz(e),lz(e)+a.length,cz(t))}const l=(r=t).children?r.children:r.loadChildren?r._loadedConfig.routes:[],{segmentGroup:h,slicedSegments:c}=W0(e,a,o,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);var r;if(0===c.length&&h.hasChildren()){const f=this.processChildren(l,h);return null===f?null:[new lh(s,f)]}if(0===l.length&&0===c.length)return[new lh(s,[])];const d=za(t)===n,p=this.processSegment(l,h,c,d?Zt:n);return null===p?null:[new lh(s,p)]}}function toe(r){const t=r.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function az(r){const t=[],e=new Set;for(const i of r){if(!toe(i)){t.push(i);continue}const n=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==n?(n.children.push(...i.children),e.add(n)):t.push(i)}for(const i of e){const n=az(i.children);t.push(new lh(i.value,n))}return t.filter(i=>!e.has(i))}function oz(r){let t=r;for(;t._sourceSegment;)t=t._sourceSegment;return t}function lz(r){let t=r,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function hz(r){return r.data||{}}function cz(r){return r.resolve||{}}function QI(r){return Ao(t=>{const e=r(t);return e?_s(e).pipe(Ut(()=>t)):pt(t)})}class hoe extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const GI=new Ve("ROUTES");class uz{constructor(t,e,i,n){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=n}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Ut(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const a=s.create(t);return new UI(IH(a.injector.get(GI,void 0,At.Self|At.Optional)).map(qI),a)}),ah(s=>{throw e._loader$=void 0,s}));return e._loader$=new Sre(n,()=>new kt).pipe(gH()),e._loader$}loadModuleFactory(t){return ul(t()).pipe(is(e=>e instanceof fj?pt(e):_s(this.compiler.compileModuleAsync(e))))}}class uoe{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function doe(r){throw r}function poe(r,t,e){return t.parse("/")}function dz(r,t){return pt(null)}const foe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},moe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let dr=(()=>{class r{constructor(e,i,n,s,a,o,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=n,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new kt,this.errorHandler=doe,this.malformedUriErrorHandler=poe,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:dz,afterPreactivation:dz},this.urlHandlingStrategy=new uoe,this.routeReuseStrategy=new hoe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=a.get(Zl),this.console=a.get(Zj);const d=a.get(qt);this.isNgZoneEnabled=d instanceof qt&&qt.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new Mu(new oi([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new uz(a,o,p=>this.triggerEvent(new DH(p)),p=>this.triggerEvent(new SH(p))),this.routerState=HH(this.currentUrlTree,this.rootComponentType),this.transitions=new ba({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null==(e=this.location.getState())?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(ur(n=>0!==n.id),Ut(n=>Tn(xe({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl)})),Ao(n=>{let s=!1,a=!1;return pt(n).pipe(Qs(o=>{this.currentNavigation={id:o.id,initialUrl:o.currentRawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Tn(xe({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ao(o=>{const l=this.browserUrlTree.toString(),h=!this.navigated||o.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||h)&&this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return $0(o.source)&&(this.browserUrlTree=o.extractedUrl),pt(o).pipe(Ao(d=>{const p=this.transitions.getValue();return i.next(new L0(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),p!==this.transitions.getValue()?Xo:Promise.resolve(d)}),function(r,t,e,i){return Ao(n=>function(r,t,e,i,n){return new Lae(r,t,e,i,n).apply()}(r,t,e,n.extractedUrl,i).pipe(Ut(s=>Tn(xe({},n),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Qs(d=>{this.currentNavigation=Tn(xe({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(r,t,e,i,n){return is(s=>function(r,t,e,i,n="emptyOnly",s="legacy"){try{const a=new Zae(r,t,e,i,n,s).recognize();return null===a?rz(new Kae):pt(a)}catch(a){return rz(a)}}(r,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,n).pipe(Ut(a=>Tn(xe({},s),{targetSnapshot:a}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Qs(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const p=new Are(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);i.next(p)}));if(h&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:p,extractedUrl:f,source:m,restoredState:g,extras:y}=o,C=new L0(p,this.serializeUrl(f),m,g);i.next(C);const E=HH(f,this.rootComponentType).snapshot;return pt(Tn(xe({},o),{targetSnapshot:E,urlAfterRedirects:f,extras:Tn(xe({},y),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=o.rawUrl,o.resolve(null),Xo}),QI(o=>{const{targetSnapshot:l,id:h,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:p,replaceUrl:f}}=o;return this.hooks.beforePreactivation(l,{navigationId:h,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!p,replaceUrl:!!f})}),Qs(o=>{const l=new xre(o.id,this.serializeUrl(o.extractedUrl),this.serializeUrl(o.urlAfterRedirects),o.targetSnapshot);this.triggerEvent(l)}),Ut(o=>Tn(xe({},o),{guards:Fae(o.targetSnapshot,o.currentSnapshot,this.rootContexts)})),function(r,t){return is(e=>{const{targetSnapshot:i,currentSnapshot:n,guards:{canActivateChecks:s,canDeactivateChecks:a}}=e;return 0===a.length&&0===s.length?pt(Tn(xe({},e),{guardsResult:!0})):function(r,t,e,i){return _s(r).pipe(is(n=>function(r,t,e,i,n){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?pt(s.map(o=>{const l=G0(o,t,n);let h;if(function(r){return r&&uc(r.canDeactivate)}(l))h=ul(l.canDeactivate(r,t,e,i));else{if(!uc(l))throw new Error("Invalid CanDeactivate guard");h=ul(l(r,t,e,i))}return h.pipe(Op())})).pipe(Dg()):pt(!0)}(n.component,n.route,e,t,i)),Op(n=>!0!==n,!0))}(a,i,n,r).pipe(is(o=>o&&function(r){return"boolean"==typeof r}(o)?function(r,t,e,i){return _s(t).pipe(xp(n=>_0(function(r,t){return null!==r&&t&&t(new _re(r)),pt(!0)}(n.route.parent,i),function(r,t){return null!==r&&t&&t(new Rre(r)),pt(!0)}(n.route,i),function(r,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function(r){const t=r.routeConfig?r.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:r,guards:t}:null}(a)).filter(a=>null!==a).map(a=>kI(()=>pt(a.guards.map(l=>{const h=G0(l,a.node,e);let c;if(function(r){return r&&uc(r.canActivateChild)}(h))c=ul(h.canActivateChild(i,r));else{if(!uc(h))throw new Error("Invalid CanActivateChild guard");c=ul(h(i,r))}return c.pipe(Op())})).pipe(Dg())));return pt(s).pipe(Dg())}(r,n.path,e),function(r,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return pt(!0);const n=i.map(s=>kI(()=>{const a=G0(s,t,e);let o;if(function(r){return r&&uc(r.canActivate)}(a))o=ul(a.canActivate(t,r));else{if(!uc(a))throw new Error("Invalid CanActivate guard");o=ul(a(t,r))}return o.pipe(Op())}));return pt(n).pipe(Dg())}(r,n.route,e))),Op(n=>!0!==n,!0))}(i,s,r,t):pt(o)),Ut(o=>Tn(xe({},e),{guardsResult:o})))})}(this.ngModule.injector,o=>this.triggerEvent(o)),Qs(o=>{if(Iu(o.guardsResult)){const h=_I(`Redirecting to "${this.serializeUrl(o.guardsResult)}"`);throw h.url=o.guardsResult,h}const l=new Ore(o.id,this.serializeUrl(o.extractedUrl),this.serializeUrl(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.triggerEvent(l)}),ur(o=>!!o.guardsResult||(this.restoreHistory(o),this.cancelNavigationTransition(o,""),!1)),QI(o=>{if(o.guards.canActivateChecks.length)return pt(o).pipe(Qs(l=>{const h=new kre(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(h)}),Ao(l=>{let h=!1;return pt(l).pipe(function(r,t){return is(e=>{const{targetSnapshot:i,guards:{canActivateChecks:n}}=e;if(!n.length)return pt(e);let s=0;return _s(n).pipe(xp(a=>function(r,t,e,i){return function(r,t,e,i){const n=Object.keys(r);if(0===n.length)return pt({});const s={};return _s(n).pipe(is(a=>function(r,t,e,i){const n=G0(r,t,i);return ul(n.resolve?n.resolve(t,e):n(t,e))}(r[a],t,e,i).pipe(Qs(o=>{s[a]=o}))),NI(1),is(()=>Object.keys(s).length===n.length?pt(s):Xo))}(r._resolve,r,t,i).pipe(Ut(s=>(r._resolvedData=s,r.data=xe(xe({},r.data),zH(r,e).resolve),null)))}(a.route,i,r,t)),Qs(()=>s++),NI(1),is(a=>s===n.length?pt(e):Xo))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Qs({next:()=>h=!0,complete:()=>{h||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Qs(l=>{const h=new Nre(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(h)}))}),QI(o=>{const{targetSnapshot:l,id:h,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:p,replaceUrl:f}}=o;return this.hooks.afterPreactivation(l,{navigationId:h,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!p,replaceUrl:!!f})}),Ut(o=>{const l=function(r,t,e){const i=bg(r,t._root,e?e._root:void 0);return new BH(i,t)}(this.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return Tn(xe({},o),{targetRouterState:l})}),Qs(o=>{this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects)}),((r,t,e)=>Ut(i=>(new gae(t,i.targetRouterState,i.currentRouterState,e).activate(r),i)))(this.rootContexts,this.routeReuseStrategy,o=>this.triggerEvent(o)),Qs({next(){s=!0},complete(){s=!0}}),CH(()=>{var o;s||a||this.cancelNavigationTransition(n,`Navigation ID ${n.id} is not equal to the current navigation id ${this.navigationId}`),(null==(o=this.currentNavigation)?void 0:o.id)===n.id&&(this.currentNavigation=null)}),ah(o=>{if(a=!0,function(r){return r&&r[MH]}(o)){const l=Iu(o.url);l||(this.navigated=!0,this.restoreHistory(n,!0));const h=new EH(n.id,this.serializeUrl(n.extractedUrl),o.message);i.next(h),l?setTimeout(()=>{const c=this.urlHandlingStrategy.merge(o.url,this.rawUrlTree),d={skipLocationChange:n.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$0(n.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:n.resolve,reject:n.reject,promise:n.promise})},0):n.resolve(!1)}else{this.restoreHistory(n,!0);const l=new Ire(n.id,this.serializeUrl(n.extractedUrl),o);i.next(l);try{n.resolve(this.errorHandler(o))}catch(h){n.reject(h)}}return Xo}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(xe(xe({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var o;const n={replaceUrl:!0},s=(null==(o=e.state)?void 0:o.navigationId)?e.state:null;if(s){const l=xe({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(n.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,s,n)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){XH(e),this.config=e.map(qI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:n,queryParams:s,fragment:a,queryParamsHandling:o,preserveFragment:l}=i,h=n||this.routerState.root,c=l?this.currentUrlTree.fragment:a;let d=null;switch(o){case"merge":d=xe(xe({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(r,t,e,i,n){if(0===e.length)return BI(t.root,t.root,t,i,n);const s=function(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new YH(!0,0,r);let t=0,e=!1;const i=r.reduce((n,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const o={};return Gs(s.outlets,(l,h)=>{o[h]="string"==typeof l?l.split("/"):l}),[...n,{outlets:o}]}if(s.segmentPath)return[...n,s.segmentPath]}return"string"!=typeof s?[...n,s]:0===a?(s.split("/").forEach((o,l)=>{0==l&&"."===o||(0==l&&""===o?e=!0:".."===o?t++:""!=o&&n.push(o))}),n):[...n,s]},[]);return new YH(e,t,i)}(e);if(s.toRoot())return BI(t.root,new oi([],{}),t,i,n);const a=function(r,t,e){if(r.isAbsolute)return new HI(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new HI(s,s===t.root,0)}const i=H0(r.commands[0])?0:1;return function(r,t,e){let i=r,n=t,s=e;for(;s>n;){if(s-=n,i=i.parent,!i)throw new Error("Invalid number of '../'");n=i.segments.length}return new HI(i,!1,n-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,r.numberOfDoubleDots)}(s,t,r),o=a.processChildren?z0(a.segmentGroup,a.index,s.commands):QH(a.segmentGroup,a.index,s.commands);return BI(a.segmentGroup,o,t,i,n)}(h,this.currentUrlTree,e,d,null!=c?c:null)}navigateByUrl(e,i={skipLocationChange:!1}){const n=Iu(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(r){for(let t=0;t<r.length;t++){const e=r[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(n){i=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return i}isActive(e,i){let n;if(n=!0===i?xe({},foe):!1===i?xe({},moe):i,Iu(e))return OH(this.currentUrlTree,e,n);const s=this.parseUrl(e);return OH(this.currentUrlTree,s,n)}removeEmptyProps(e){return Object.keys(e).reduce((i,n)=>{const s=e[n];return null!=s&&(i[n]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new gg(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,n,s,a){var C,E,S;if(this.disposed)return Promise.resolve(!1);const o=this.transitions.value,l=$0(i)&&o&&!$0(o.source),h=o.rawUrl.toString()===e.toString(),c=o.id===(null==(C=this.currentNavigation)?void 0:C.id);if(l&&h&&c)return Promise.resolve(!0);let p,f,m;a?(p=a.resolve,f=a.reject,m=a.promise):m=new Promise((w,A)=>{p=w,f=A});const g=++this.navigationId;let y;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),y=n&&n.\u0275routerPageId?n.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!=(E=this.browserPageId)?E:0:(null!=(S=this.browserPageId)?S:0)+1):y=0,this.setTransition({id:g,targetPageId:y,source:i,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:p,reject:f,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(w=>Promise.reject(w))}setBrowserUrl(e,i){const n=this.urlSerializer.serialize(e),s=xe(xe({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(n)||i.extras.replaceUrl?this.location.replaceState(n,"",s):this.location.go(n,"",s)}restoreHistory(e,i=!1){var n,s;if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(n=this.currentNavigation)?void 0:n.finalUrl)||0===a?this.currentUrlTree===(null==(s=this.currentNavigation)?void 0:s.finalUrl)&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const n=new EH(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return r.\u0275fac=function(e){Xb()},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();function $0(r){return"imperative"!==r}let Au=(()=>{class r{constructor(e,i,n,s,a){this.router=e,this.route=i,this.tabIndexAttribute=n,this.renderer=s,this.el=a,this.commands=null,this.onChanges=new kt,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,n=this.el.nativeElement;null!==e?i.setAttribute(n,"tabindex",e):i.removeAttribute(n,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Lp(this.skipLocationChange),replaceUrl:Lp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Lp(this.preserveFragment)})}}return r.\u0275fac=function(e){return new(e||r)(K(dr),K(_p),ec("tabindex"),K(So),K(Ai))},r.\u0275dir=Be({type:r,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&xt("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[or]}),r})(),$I=(()=>{class r{constructor(e,i,n){this.router=e,this.route=i,this.locationStrategy=n,this.commands=null,this.href=null,this.onChanges=new kt,this.subscription=e.events.subscribe(s=>{s instanceof gg&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,n,s,a){if(0!==e||i||n||s||a||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const o={skipLocationChange:Lp(this.skipLocationChange),replaceUrl:Lp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Lp(this.preserveFragment)})}}return r.\u0275fac=function(e){return new(e||r)(K(dr),K(_p),K(Tp))},r.\u0275dir=Be({type:r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&xt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&Vi("target",i.target)("href",i.href,Vb)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[or]}),r})();function Lp(r){return""===r||!!r}let KI=(()=>{class r{constructor(e,i,n,s,a,o){this.router=e,this.element=i,this.renderer=n,this.cdr=s,this.link=a,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new _t,this.routerEventsSubscription=e.events.subscribe(l=>{l instanceof gg&&this.update()})}ngAfterContentInit(){pt(this.links.changes,this.linksWithHrefs.changes,pt(null)).pipe(bm()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var i;null==(i=this.linkInputChangesSubscription)||i.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=_s(e).pipe(bm()).subscribe(n=>{this.isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(n=>!!n)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null==(e=this.linkInputChangesSubscription)||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function(r){return!!r.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>!!n.urlTree&&e.isActive(n.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return r.\u0275fac=function(e){return new(e||r)(K(dr),K(Ai),K(So),K(ac),K(Au,8),K($I,8))},r.\u0275dir=Be({type:r,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,n){if(1&e&&(Ke(n,Au,5),Ke(n,$I,5)),2&e){let s;Pe(s=Fe())&&(i.links=s),Pe(s=Fe())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[or]}),r})();class pz{}class fz{preload(t,e){return pt(null)}}let mz=(()=>{class r{constructor(e,i,n,s){this.router=e,this.injector=n,this.preloadingStrategy=s,this.loader=new uz(n,i,l=>e.triggerEvent(new DH(l)),l=>e.triggerEvent(new SH(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(ur(e=>e instanceof gg),xp(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Zl);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const n=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const a=s._loadedConfig;n.push(this.processRoutes(a.module,a.routes))}else s.loadChildren&&!s.canLoad?n.push(this.preloadConfig(e,s)):s.children&&n.push(this.processRoutes(e,s.children));return _s(n).pipe(bm(),Ut(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?pt(i._loadedConfig):this.loader.load(e.injector,i)).pipe(is(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return r.\u0275fac=function(e){return new(e||r)(le(dr),le(u0),le(An),le(pz))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),XI=(()=>{class r{constructor(e,i,n={}){this.router=e,this.viewportScroller=i,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof L0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof gg&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof wH&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new wH(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(e){Xb()},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const xu=new Ve("ROUTER_CONFIGURATION"),gz=new Ve("ROUTER_FORROOT_GUARD"),boe=[f0,{provide:LH,useClass:RH},{provide:dr,useFactory:function(r,t,e,i,n,s,a={},o,l){const h=new dr(null,r,t,e,i,n,IH(s));return o&&(h.urlHandlingStrategy=o),l&&(h.routeReuseStrategy=l),function(r,t){r.errorHandler&&(t.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(t.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(t.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(t.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(t.urlUpdateStrategy=r.urlUpdateStrategy),r.canceledNavigationResolution&&(t.canceledNavigationResolution=r.canceledNavigationResolution)}(a,h),a.enableTracing&&h.events.subscribe(c=>{var d,p;null==(d=console.group)||d.call(console,`Router Event: ${c.constructor.name}`),console.log(c.toString()),console.log(c),null==(p=console.groupEnd)||p.call(console)}),h},deps:[LH,Sg,f0,An,u0,GI,xu,[class{},new ma],[class{},new ma]]},Sg,{provide:_p,useFactory:function(r){return r.routerState.root},deps:[dr]},mz,fz,class{preload(t,e){return e().pipe(ah(()=>pt(null)))}},{provide:xu,useValue:{enableTracing:!1}}];function Coe(){return new sB("Router",dr)}let vz=(()=>{class r{constructor(e,i){}static forRoot(e,i){return{ngModule:r,providers:[boe,yz(e),{provide:gz,useFactory:Soe,deps:[[dr,new ma,new fu]]},{provide:xu,useValue:i||{}},{provide:Tp,useFactory:Doe,deps:[wu,[new Fm(lI),new ma],xu]},{provide:XI,useFactory:Eoe,deps:[dr,nse,xu]},{provide:pz,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:fz},{provide:sB,multi:!0,useFactory:Coe},[ZI,{provide:c0,multi:!0,useFactory:Ioe,deps:[ZI]},{provide:bz,useFactory:Aoe,deps:[ZI]},{provide:Xj,multi:!0,useExisting:bz}]]}}static forChild(e){return{ngModule:r,providers:[yz(e)]}}}return r.\u0275fac=function(e){return new(e||r)(le(gz,8),le(dr,8))},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({}),r})();function Eoe(r,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new XI(r,t,e)}function Doe(r,t,e={}){return e.useHash?new Bie(r,t):new TB(r,t)}function Soe(r){return"guarded"}function yz(r){return[{provide:f$,multi:!0,useValue:r},{provide:GI,multi:!0,useValue:r}]}let ZI=(()=>{class r{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new kt}appInitializer(){return this.injector.get(Fie,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const n=new Promise(o=>i=o),s=this.injector.get(dr),a=this.injector.get(xu);return"disabled"===a.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?pt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),n})}bootstrapListener(e){const i=this.injector.get(xu),n=this.injector.get(mz),s=this.injector.get(XI),a=this.injector.get(dr),o=this.injector.get(rc);e===o.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&a.initialNavigation(),n.setUpPreloading(),s.init(),a.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return r.\u0275fac=function(e){return new(e||r)(le(An))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();function Ioe(r){return r.appInitializer.bind(r)}function Aoe(r){return r.bootstrapListener.bind(r)}const bz=new Ve("Router Initializer");class Cz{}class Ez{}class hh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const n=e.slice(0,i),s=n.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(n,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const n=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(n,i),this.maybeSetNormalizedName(e,n))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof hh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new hh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof hh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const n=("a"===t.op?this.headers.get(e):void 0)||[];n.push(...i),this.headers.set(e,n);break;case"d":const s=t.value;if(s){let a=this.headers.get(e);if(!a)return;a=a.filter(o=>-1===s.indexOf(o)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Ooe{encodeKey(t){return Dz(t)}encodeValue(t){return Dz(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Noe=/%(\d[a-f0-9])/gi,_oe={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Dz(r){return encodeURIComponent(r).replace(Noe,(t,e)=>{var i;return null!=(i=_oe[e])?i:t})}function Sz(r){return`${r}`}class dc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ooe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(r,t){const e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(n=>{const s=n.indexOf("="),[a,o]=-1==s?[t.decodeKey(n),""]:[t.decodeKey(n.slice(0,s)),t.decodeValue(n.slice(s+1))],l=e.get(a)||[];l.push(o),e.set(a,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const n=t[i];Array.isArray(n)?n.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:n,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new dc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Sz(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const n=i.indexOf(Sz(t.value));-1!==n&&i.splice(n,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Loe{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function wz(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function Mz(r){return"undefined"!=typeof Blob&&r instanceof Blob}function Tz(r){return"undefined"!=typeof FormData&&r instanceof FormData}class Ig{constructor(t,e,i,n){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==i?i:null,s=n):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new hh),this.context||(this.context=new Loe),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const o=e.indexOf("?");this.urlWithParams=e+(-1===o?"?":o<e.length-1?"&":"")+a}}else this.params=new dc,this.urlWithParams=e}serializeBody(){return null===this.body?null:wz(this.body)||Mz(this.body)||Tz(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof dc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Tz(this.body)?null:Mz(this.body)?this.body.type||null:wz(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof dc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var d;const e=t.method||this.method,i=t.url||this.url,n=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,h=t.params||this.params;const c=null!=(d=t.context)?d:this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((p,f)=>p.set(f,t.setHeaders[f]),l)),t.setParams&&(h=Object.keys(t.setParams).reduce((p,f)=>p.set(f,t.setParams[f]),h)),new Ig(e,i,s,{params:h,headers:l,context:c,reportProgress:o,responseType:n,withCredentials:a})}}var os=(()=>((os=os||{})[os.Sent=0]="Sent",os[os.UploadProgress=1]="UploadProgress",os[os.ResponseHeader=2]="ResponseHeader",os[os.DownloadProgress=3]="DownloadProgress",os[os.Response=4]="Response",os[os.User=5]="User",os))();class JI{constructor(t,e=200,i="OK"){this.headers=t.headers||new hh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class eA extends JI{constructor(t={}){super(t),this.type=os.ResponseHeader}clone(t={}){return new eA({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class K0 extends JI{constructor(t={}){super(t),this.type=os.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new K0({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Iz extends JI{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function tA(r,t){return{body:t,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let Ou=(()=>{class r{constructor(e){this.handler=e}request(e,i,n={}){let s;if(e instanceof Ig)s=e;else{let l,h;l=n.headers instanceof hh?n.headers:new hh(n.headers),n.params&&(h=n.params instanceof dc?n.params:new dc({fromObject:n.params})),s=new Ig(e,i,void 0!==n.body?n.body:null,{headers:l,context:n.context,params:h,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const a=pt(s).pipe(xp(l=>this.handler.handle(l)));if(e instanceof Ig||"events"===n.observe)return a;const o=a.pipe(ur(l=>l instanceof K0));switch(n.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return o.pipe(Ut(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return o.pipe(Ut(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return o.pipe(Ut(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return o.pipe(Ut(l=>l.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new dc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,n={}){return this.request("PATCH",e,tA(n,i))}post(e,i,n={}){return this.request("POST",e,tA(n,i))}put(e,i,n={}){return this.request("PUT",e,tA(n,i))}}return r.\u0275fac=function(e){return new(e||r)(le(Cz))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();class Az{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const iA=new Ve("HTTP_INTERCEPTORS");let Foe=(()=>{class r{intercept(e,i){return i.handle(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const Voe=/^\)\]\}',?\n/;let xz=(()=>{class r{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new zi(i=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((f,m)=>n.setRequestHeader(f,m.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const f=e.detectContentTypeHeader();null!==f&&n.setRequestHeader("Content-Type",f)}if(e.responseType){const f=e.responseType.toLowerCase();n.responseType="json"!==f?f:"text"}const s=e.serializeBody();let a=null;const o=()=>{if(null!==a)return a;const f=1223===n.status?204:n.status,m=n.statusText||"OK",g=new hh(n.getAllResponseHeaders()),y=function(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(n)||e.url;return a=new eA({headers:g,status:f,statusText:m,url:y}),a},l=()=>{let{headers:f,status:m,statusText:g,url:y}=o(),C=null;204!==m&&(C=void 0===n.response?n.responseText:n.response),0===m&&(m=C?200:0);let E=m>=200&&m<300;if("json"===e.responseType&&"string"==typeof C){const S=C;C=C.replace(Voe,"");try{C=""!==C?JSON.parse(C):null}catch(w){C=S,E&&(E=!1,C={error:w,text:C})}}E?(i.next(new K0({body:C,headers:f,status:m,statusText:g,url:y||void 0})),i.complete()):i.error(new Iz({error:C,headers:f,status:m,statusText:g,url:y||void 0}))},h=f=>{const{url:m}=o(),g=new Iz({error:f,status:n.status||0,statusText:n.statusText||"Unknown Error",url:m||void 0});i.error(g)};let c=!1;const d=f=>{c||(i.next(o()),c=!0);let m={type:os.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(m.total=f.total),"text"===e.responseType&&!!n.responseText&&(m.partialText=n.responseText),i.next(m)},p=f=>{let m={type:os.UploadProgress,loaded:f.loaded};f.lengthComputable&&(m.total=f.total),i.next(m)};return n.addEventListener("load",l),n.addEventListener("error",h),n.addEventListener("timeout",h),n.addEventListener("abort",h),e.reportProgress&&(n.addEventListener("progress",d),null!==s&&n.upload&&n.upload.addEventListener("progress",p)),n.send(s),i.next({type:os.Sent}),()=>{n.removeEventListener("error",h),n.removeEventListener("abort",h),n.removeEventListener("load",l),n.removeEventListener("timeout",h),e.reportProgress&&(n.removeEventListener("progress",d),null!==s&&n.upload&&n.upload.removeEventListener("progress",p)),n.readyState!==n.DONE&&n.abort()}})}}return r.\u0275fac=function(e){return new(e||r)(le(qB))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const nA=new Ve("XSRF_COOKIE_NAME"),sA=new Ve("XSRF_HEADER_NAME");class Oz{}let Boe=(()=>{class r{constructor(e,i,n){this.doc=e,this.platform=i,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=PB(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return r.\u0275fac=function(e){return new(e||r)(le(Xt),le(hg),le(nA))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),rA=(()=>{class r{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return r.\u0275fac=function(e){return new(e||r)(le(Oz),le(sA))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),Hoe=(()=>{class r{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(iA,[]);this.chain=i.reduceRight((n,s)=>new Az(n,s),this.backend)}return this.chain.handle(e)}}return r.\u0275fac=function(e){return new(e||r)(le(Ez),le(An))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),zoe=(()=>{class r{static disable(){return{ngModule:r,providers:[{provide:rA,useClass:Foe}]}}static withOptions(e={}){return{ngModule:r,providers:[e.cookieName?{provide:nA,useValue:e.cookieName}:[],e.headerName?{provide:sA,useValue:e.headerName}:[]]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({providers:[rA,{provide:iA,useExisting:rA,multi:!0},{provide:Oz,useClass:Boe},{provide:nA,useValue:"XSRF-TOKEN"},{provide:sA,useValue:"X-XSRF-TOKEN"}]}),r})(),Uoe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({providers:[Ou,{provide:Cz,useClass:Hoe},xz,{provide:Ez,useExisting:xz}],imports:[[zoe.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),r})(),Woe=(()=>{class r{constructor(e){this.http=e}registerUser(e){return this.http.post(qoe,e)}loginUser(e){return this.http.post(Yoe,e)}}return r.\u0275fac=function(e){return new(e||r)(le(Ou))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const ch="https://www.bso-toronto.ca:3000/api/",qoe=ch+"auth/register/",Yoe=ch+"auth/login/";let aA=(()=>{class r{constructor(e){this.http=e}upload(e,i){const n=new FormData;return Array.from(e).forEach(s=>{n.append("files",s,s.name)}),this.http.post(i,n)}getFileList(e){return this.http.get(e)}}return r.\u0275fac=function(e){return new(e||r)(le(Ou))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ku=(()=>{class r{constructor(e){this.toastrService=e,this.notificationSubject=new kt,this.notificationSubject.subscribe({next:i=>{switch(i.type){case Ui.success:this.toastrService.success(i.message);break;case Ui.error:this.toastrService.error(i.message);break;case Ui.warning:this.toastrService.warning(i.message);break;default:this.toastrService.info(i.message)}},error:i=>{console.log("Error while processing toastr message-",i)}})}sendMessage(e){this.notificationSubject.next(e)}}return r.\u0275fac=function(e){return new(e||r)(le(xI))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Ui=(()=>{return(r=Ui||(Ui={}))[r.success=0]="success",r[r.warning=1]="warning",r[r.error=2]="error",r[r.info=3]="info",Ui;var r})();function kz(...r){const t=PL(r),{args:e,keys:i}=pH(r),n=new zi(s=>{const{length:a}=e;if(!a)return void s.complete();const o=new Array(a);let l=a,h=a;for(let c=0;c<a;c++){let d=!1;oa(e[c]).subscribe(new fn(s,p=>{d||(d=!0,h--),o[c]=p},()=>l--,void 0,()=>{(!l||!d)&&(h||s.next(i?fH(i,o):o),s.complete())}))}});return t?n.pipe(OI(t)):n}let Nz=(()=>{class r{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=n=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return r.\u0275fac=function(e){return new(e||r)(K(So),K(Ai))},r.\u0275dir=Be({type:r}),r})(),Nu=(()=>{class r extends Nz{}return r.\u0275fac=function(){let t;return function(i){return(t||(t=Rs(r)))(i||r)}}(),r.\u0275dir=Be({type:r,features:[ft]}),r})();const xo=new Ve("NgValueAccessor"),Zoe={provide:xo,useExisting:Qi(()=>Rp),multi:!0},ele=new Ve("CompositionEventMode");let Rp=(()=>{class r extends Nz{constructor(e,i,n){super(e,i),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const r=hl()?hl().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return r.\u0275fac=function(e){return new(e||r)(K(So),K(Ai),K(ele,8))},r.\u0275dir=Be({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&xt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Ii([Zoe]),ft]}),r})();function pc(r){return null==r||0===r.length}function Lz(r){return null!=r&&"number"==typeof r.length}const $s=new Ve("NgValidators"),fc=new Ve("NgAsyncValidators"),tle=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qr{static min(t){return function(r){return t=>{if(pc(t.value)||pc(r))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<r?{min:{min:r,actual:t.value}}:null}}(t)}static max(t){return function(r){return t=>{if(pc(t.value)||pc(r))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>r?{max:{max:r,actual:t.value}}:null}}(t)}static required(t){return function(r){return pc(r.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(r){return!0===r.value?null:{required:!0}}(t)}static email(t){return function(r){return pc(r.value)||tle.test(r.value)?null:{email:!0}}(t)}static minLength(t){return function(r){return t=>pc(t.value)||!Lz(t.value)?null:t.value.length<r?{minlength:{requiredLength:r,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(r){return t=>Lz(t.value)&&t.value.length>r?{maxlength:{requiredLength:r,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(r){if(!r)return Ag;let t,e;return"string"==typeof r?(e="","^"!==r.charAt(0)&&(e+="^"),e+=r,"$"!==r.charAt(r.length-1)&&(e+="$"),t=new RegExp(e)):(e=r.toString(),t=r),i=>{if(pc(i.value))return null;const n=i.value;return t.test(n)?null:{pattern:{requiredPattern:e,actualValue:n}}}}(t)}static nullValidator(t){return null}static compose(t){return Gz(t)}static composeAsync(t){return $z(t)}}function Ag(r){return null}function Uz(r){return null!=r}function Wz(r){const t=Km(r)?_s(r):r;return wT(t),t}function qz(r){let t={};return r.forEach(e=>{t=null!=e?xe(xe({},t),e):t}),0===Object.keys(t).length?null:t}function Yz(r,t){return t.map(e=>e(r))}function Qz(r){return r.map(t=>function(r){return!r.validate}(t)?t:e=>t.validate(e))}function Gz(r){if(!r)return null;const t=r.filter(Uz);return 0==t.length?null:function(e){return qz(Yz(e,t))}}function oA(r){return null!=r?Gz(Qz(r)):null}function $z(r){if(!r)return null;const t=r.filter(Uz);return 0==t.length?null:function(e){return kz(Yz(e,t).map(Wz)).pipe(Ut(qz))}}function lA(r){return null!=r?$z(Qz(r)):null}function Kz(r,t){return null===r?[t]:Array.isArray(r)?[...r,t]:[r,t]}function Xz(r){return r._rawValidators}function Zz(r){return r._rawAsyncValidators}function hA(r){return r?Array.isArray(r)?r:[r]:[]}function X0(r,t){return Array.isArray(r)?r.includes(t):r===t}function Jz(r,t){const e=hA(t);return hA(r).forEach(n=>{X0(e,n)||e.push(n)}),e}function e2(r,t){return hA(t).filter(e=>!X0(r,e))}class t2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=oA(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=lA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class kr extends t2{get formDirective(){return null}get path(){return null}}class dl extends t2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class n2{constructor(t){this._cd=t}is(t){var e,i,n;return"submitted"===t?!!(null==(e=this._cd)?void 0:e.submitted):!!(null==(n=null==(i=this._cd)?void 0:i.control)?void 0:n[t])}}let Z0=(()=>{class r extends n2{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(K(dl,2))},r.\u0275dir=Be({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&ss("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[ft]}),r})(),Pp=(()=>{class r extends n2{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(K(kr,10))},r.\u0275dir=Be({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&ss("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[ft]}),r})();function xg(r,t){dA(r,t),t.valueAccessor.writeValue(r.value),function(r,t){t.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&s2(r,t)})}(r,t),function(r,t){const e=(i,n)=>{t.valueAccessor.writeValue(i),n&&t.viewToModelUpdate(i)};r.registerOnChange(e),t._registerOnDestroy(()=>{r._unregisterOnChange(e)})}(r,t),function(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&s2(r,t),"submit"!==r.updateOn&&r.markAsTouched()})}(r,t),function(r,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};r.registerOnDisabledChange(e),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}(r,t)}function tC(r,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),nC(r,t),r&&(t._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function iC(r,t){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function dA(r,t){const e=Xz(r);null!==t.validator?r.setValidators(Kz(e,t.validator)):"function"==typeof e&&r.setValidators([e]);const i=Zz(r);null!==t.asyncValidator?r.setAsyncValidators(Kz(i,t.asyncValidator)):"function"==typeof i&&r.setAsyncValidators([i]);const n=()=>r.updateValueAndValidity();iC(t._rawValidators,n),iC(t._rawAsyncValidators,n)}function nC(r,t){let e=!1;if(null!==r){if(null!==t.validator){const n=Xz(r);if(Array.isArray(n)&&n.length>0){const s=n.filter(a=>a!==t.validator);s.length!==n.length&&(e=!0,r.setValidators(s))}}if(null!==t.asyncValidator){const n=Zz(r);if(Array.isArray(n)&&n.length>0){const s=n.filter(a=>a!==t.asyncValidator);s.length!==n.length&&(e=!0,r.setAsyncValidators(s))}}}const i=()=>{};return iC(t._rawValidators,i),iC(t._rawAsyncValidators,i),e}function s2(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function r2(r,t){dA(r,t)}function a2(r,t){r._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function sC(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}const Og="VALID",rC="INVALID",Fp="PENDING",kg="DISABLED";function mA(r){return(vA(r)?r.validators:r)||null}function o2(r){return Array.isArray(r)?oA(r):r||null}function gA(r,t){return(vA(t)?t.asyncValidators:r)||null}function l2(r){return Array.isArray(r)?lA(r):r||null}function vA(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class yA{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=o2(this._rawValidators),this._composedAsyncValidatorFn=l2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Og}get invalid(){return this.status===rC}get pending(){return this.status==Fp}get disabled(){return this.status===kg}get enabled(){return this.status!==kg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=o2(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=l2(t)}addValidators(t){this.setValidators(Jz(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Jz(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(e2(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(e2(t,this._rawAsyncValidators))}hasValidator(t){return X0(this._rawValidators,t)}hasAsyncValidator(t){return X0(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Fp,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=kg,this.errors=null,this._forEachChild(i=>{i.disable(Tn(xe({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Tn(xe({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Og,this._forEachChild(i=>{i.enable(Tn(xe({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Tn(xe({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Og||this.status===Fp)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kg:Og}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Fp,this._hasOwnPendingAsyncValidator=!0;const e=Wz(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(r,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=r;return t.forEach(n=>{i=i instanceof Ng?i.controls.hasOwnProperty(n)?i.controls[n]:null:i instanceof bA&&i.at(n)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new _t,this.statusChanges=new _t}_calculateStatus(){return this._allControlsDisabled()?kg:this.errors?rC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fp)?Fp:this._anyControlsHaveStatus(rC)?rC:Og}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){vA(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class _u extends yA{constructor(t=null,e,i){super(mA(e),gA(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){sC(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){sC(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ng extends yA{constructor(t,e,i){super(mA(e),gA(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,n)=>{i.reset(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof _u?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((n,s)=>{i=e(i,n,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class bA extends yA{constructor(t,e,i){super(mA(e),gA(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,n)=>{this.at(n)&&this.at(n).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,n)=>{i.reset(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof _u?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const fle={provide:kr,useExisting:Qi(()=>Lu)},_g=(()=>Promise.resolve(null))();let Lu=(()=>{class r extends kr{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new _t,this.form=new Ng({},oA(e),lA(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){_g.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),xg(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){_g.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),sC(this._directives,e)})}addFormGroup(e){_g.then(()=>{const i=this._findContainer(e.path),n=new Ng({});r2(n,e),i.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){_g.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){_g.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,a2(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return r.\u0275fac=function(e){return new(e||r)(K($s,10),K(fc,10))},r.\u0275dir=Be({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&xt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ii([fle]),ft]}),r})(),Vp=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=Be({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})(),f2=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({}),r})();const CA=new Ve("NgModelWithFormControlWarning"),Dle={provide:kr,useExisting:Qi(()=>mc)};let mc=(()=>{class r extends kr{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _t,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return xg(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){tC(e.control||null,e,!1),sC(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,a2(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,n=this.form.get(e.path);i!==n&&(tC(i||null,e),n instanceof _u&&(xg(n,e),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);r2(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(r,t){return nC(r,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dA(this.form,this),this._oldForm&&nC(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(e){return new(e||r)(K($s,10),K(fc,10))},r.\u0275dir=Be({type:r,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&xt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ii([Dle]),ft,or]}),r})();const Mle={provide:dl,useExisting:Qi(()=>Lg)};let Lg=(()=>{class r extends dl{constructor(e,i,n,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new _t,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(n),this.valueAccessor=function(r,t){if(!t)return null;let e,i,n;return Array.isArray(t),t.forEach(s=>{s.constructor===Rp?e=s:function(r){return Object.getPrototypeOf(r.constructor)===Nu}(s)?i=s:n=s}),n||i||e||null}(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(r,t){if(!r.hasOwnProperty("model"))return!1;const e=r.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(r,t){return[...t.path,r]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return r._ngModelWarningSentOnce=!1,r.\u0275fac=function(e){return new(e||r)(K(kr,13),K($s,10),K(fc,10),K(xo,10),K(CA,8))},r.\u0275dir=Be({type:r,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ii([Mle]),ft,or]}),r})(),x2=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({imports:[[f2]]}),r})(),Ble=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({imports:[x2]}),r})(),O2=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:CA,useValue:e.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({imports:[x2]}),r})(),IA=(()=>{class r{group(e,i=null){const n=this._reduceControls(e);let o,s=null,a=null;return null!=i&&(function(r){return void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn}(i)?(s=null!=i.validators?i.validators:null,a=null!=i.asyncValidators?i.asyncValidators:null,o=null!=i.updateOn?i.updateOn:void 0):(s=null!=i.validator?i.validator:null,a=null!=i.asyncValidator?i.asyncValidator:null)),new Ng(n,{asyncValidators:a,updateOn:o,validators:s})}control(e,i,n){return new _u(e,i,n)}array(e,i,n){const s=e.map(a=>this._createControl(a));return new bA(s,i,n)}_reduceControls(e){const i={};return Object.keys(e).forEach(n=>{i[n]=this._createControl(e[n])}),i}_createControl(e){return e instanceof _u||e instanceof Ng||e instanceof bA?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:O2}),r})(),k2=(()=>{class r{constructor(e,i){this.uploadService=e,this.notificationService=i}ngOnDestroy(){}selectDocuments(e){e.target.files.length>10?(this.notificationService.sendMessage({message:"Too many files to upload. Keep uploaded file number below 10",type:Ui.warning}),e.target.value=""):e.target.files.length>0&&(this.documents=e.target.files)}onSubmit(e){e.preventDefault(),this.uploadService.upload(this.documents,"https://www.bso-toronto.ca:3000/api/operation/upload/files").subscribe({next:i=>{this.notificationService.sendMessage({message:"Files Uploaded successfully",type:Ui.success})},error:i=>{this.notificationService.sendMessage({message:"Files could not be uploaded: "+i.error.msg,type:Ui.error})}})}}return r.\u0275fac=function(e){return new(e||r)(K(aA),K(ku))},r.\u0275cmp=ci({type:r,selectors:[["app-document-upload"]],decls:8,vars:0,consts:[[2,"text-align","center"],["type","file","name","document","multiple","",3,"change"],["type","submit",3,"click"]],template:function(e,i){1&e&&(W(0,"div",0),W(1,"form"),W(2,"div"),W(3,"input",1),xt("change",function(s){return i.selectDocuments(s)}),q(),Ce(4,"br"),W(5,"div"),W(6,"button",2),xt("click",function(s){return i.onSubmit(s)}),he(7,"Upload"),q(),q(),q(),q(),q())},directives:[Vp,Pp,Lu],styles:[""]}),r})();function AA(r){this.message=r}(AA.prototype=new Error).name="InvalidCharacterError";var N2="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(r){var t=String(r).replace(/=+$/,"");if(t.length%4==1)throw new AA("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,i,n=0,s=0,a="";i=t.charAt(s++);~i&&(e=n%4?64*e+i:i,n++%4)?a+=String.fromCharCode(255&e>>(-2*n&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return a};function oC(r){this.message=r}(oC.prototype=new Error).name="InvalidTokenError";function uh(r){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(r)}function Yle(r,t){return r&t}function lC(r,t){return r|t}function _2(r,t){return r^t}function L2(r,t){return r&~t}function Qle(r){if(0==r)return-1;var t=0;return 0==(65535&r)&&(r>>=16,t+=16),0==(255&r)&&(r>>=8,t+=8),0==(15&r)&&(r>>=4,t+=4),0==(3&r)&&(r>>=2,t+=2),0==(1&r)&&++t,t}function Gle(r){for(var t=0;0!=r;)r&=r-1,++t;return t}var jp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function hC(r){var t,e,i="";for(t=0;t+3<=r.length;t+=3)e=parseInt(r.substring(t,t+3),16),i+=jp.charAt(e>>6)+jp.charAt(63&e);for(t+1==r.length?(e=parseInt(r.substring(t,t+1),16),i+=jp.charAt(e<<2)):t+2==r.length&&(e=parseInt(r.substring(t,t+2),16),i+=jp.charAt(e>>2)+jp.charAt((3&e)<<4));(3&i.length)>0;)i+="=";return i}function xA(r){var e,t="",i=0,n=0;for(e=0;e<r.length&&"="!=r.charAt(e);++e){var s=jp.indexOf(r.charAt(e));s<0||(0==i?(t+=uh(s>>2),n=3&s,i=1):1==i?(t+=uh(n<<2|s>>4),n=15&s,i=2):2==i?(t+=uh(n),t+=uh(s>>2),n=3&s,i=3):(t+=uh(n<<2|s>>4),t+=uh(15&s),i=0))}return 1==i&&(t+=uh(n<<2)),t}var Bp,Ru,OA={decode:function(r){var t;if(void 0===Ru){var i="= \f\n\r\t\xa0\u2028\u2029";for(Ru=Object.create(null),t=0;t<64;++t)Ru["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)]=t;for(Ru["-"]=62,Ru._=63,t=0;t<i.length;++t)Ru[i.charAt(t)]=-1}var n=[],s=0,a=0;for(t=0;t<r.length;++t){var o=r.charAt(t);if("="==o)break;if(-1!=(o=Ru[o])){if(void 0===o)throw new Error("Illegal character at offset "+t);s|=o,++a>=4?(n[n.length]=s>>16,n[n.length]=s>>8&255,n[n.length]=255&s,s=0,a=0):s<<=6}}switch(a){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:n[n.length]=s>>10;break;case 3:n[n.length]=s>>16,n[n.length]=s>>8&255}return n},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(r){var t=OA.re.exec(r);if(t)if(t[1])r=t[1];else{if(!t[2])throw new Error("RegExp out of sync");r=t[2]}return OA.decode(r)}},Hp=1e13,Rg=function(){function r(t){this.buf=[+t||0]}return r.prototype.mulAdd=function(t,e){var s,a,i=this.buf,n=i.length;for(s=0;s<n;++s)(a=i[s]*t+e)<Hp?e=0:a-=(e=0|a/Hp)*Hp,i[s]=a;e>0&&(i[s]=e)},r.prototype.sub=function(t){var n,s,e=this.buf,i=e.length;for(n=0;n<i;++n)(s=e[n]-t)<0?(s+=Hp,t=1):t=0,e[n]=s;for(;0===e[e.length-1];)e.pop()},r.prototype.toString=function(t){if(10!=(t||10))throw new Error("only base 10 is supported");for(var e=this.buf,i=e[e.length-1].toString(),n=e.length-2;n>=0;--n)i+=(Hp+e[n]).toString().substring(1);return i},r.prototype.valueOf=function(){for(var t=this.buf,e=0,i=t.length-1;i>=0;--i)e=e*Hp+t[i];return e},r.prototype.simplify=function(){var t=this.buf;return 1==t.length?t[0]:this},r}(),Kle=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,Xle=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function zp(r,t){return r.length>t&&(r=r.substring(0,t)+"\u2026"),r}var gc,kA=function(){function r(t,e){this.hexDigits="0123456789ABCDEF",t instanceof r?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=e)}return r.prototype.get=function(t){if(void 0===t&&(t=this.pos++),t>=this.enc.length)throw new Error("Requesting byte offset ".concat(t," on a stream of length ").concat(this.enc.length));return"string"==typeof this.enc?this.enc.charCodeAt(t):this.enc[t]},r.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},r.prototype.hexDump=function(t,e,i){for(var n="",s=t;s<e;++s)if(n+=this.hexByte(this.get(s)),!0!==i)switch(15&s){case 7:n+="  ";break;case 15:n+="\n";break;default:n+=" "}return n},r.prototype.isASCII=function(t,e){for(var i=t;i<e;++i){var n=this.get(i);if(n<32||n>176)return!1}return!0},r.prototype.parseStringISO=function(t,e){for(var i="",n=t;n<e;++n)i+=String.fromCharCode(this.get(n));return i},r.prototype.parseStringUTF=function(t,e){for(var i="",n=t;n<e;){var s=this.get(n++);i+=String.fromCharCode(s<128?s:s>191&&s<224?(31&s)<<6|63&this.get(n++):(15&s)<<12|(63&this.get(n++))<<6|63&this.get(n++))}return i},r.prototype.parseStringBMP=function(t,e){for(var n,s,i="",a=t;a<e;)n=this.get(a++),s=this.get(a++),i+=String.fromCharCode(n<<8|s);return i},r.prototype.parseTime=function(t,e,i){var n=this.parseStringISO(t,e),s=(i?Kle:Xle).exec(n);return s?(i&&(s[1]=+s[1],s[1]+=+s[1]<70?2e3:1900),n=s[1]+"-"+s[2]+"-"+s[3]+" "+s[4],s[5]&&(n+=":"+s[5],s[6]&&(n+=":"+s[6],s[7]&&(n+="."+s[7]))),s[8]&&(n+=" UTC","Z"!=s[8]&&(n+=s[8],s[9]&&(n+=":"+s[9]))),n):"Unrecognized time: "+n},r.prototype.parseInteger=function(t,e){for(var a,i=this.get(t),n=i>127,s=n?255:0,o="";i==s&&++t<e;)i=this.get(t);if(0==(a=e-t))return n?-1:0;if(a>4){for(o=i,a<<=3;0==(128&(+o^s));)o=+o<<1,--a;o="("+a+" bit)\n"}n&&(i-=256);for(var l=new Rg(i),h=t+1;h<e;++h)l.mulAdd(256,this.get(h));return o+l.toString()},r.prototype.parseBitString=function(t,e,i){for(var n=this.get(t),a="("+((e-t-1<<3)-n)+" bit)\n",o="",l=t+1;l<e;++l){for(var h=this.get(l),c=l==e-1?n:0,d=7;d>=c;--d)o+=h>>d&1?"1":"0";if(o.length>i)return a+zp(o,i)}return a+o},r.prototype.parseOctetString=function(t,e,i){if(this.isASCII(t,e))return zp(this.parseStringISO(t,e),i);var n=e-t,s="("+n+" byte)\n";n>(i/=2)&&(e=t+i);for(var a=t;a<e;++a)s+=this.hexByte(this.get(a));return n>i&&(s+="\u2026"),s},r.prototype.parseOID=function(t,e,i){for(var n="",s=new Rg,a=0,o=t;o<e;++o){var l=this.get(o);if(s.mulAdd(128,127&l),a+=7,!(128&l)){if(""===n)if((s=s.simplify())instanceof Rg)s.sub(80),n="2."+s.toString();else{var h=s<80?s<40?0:1:2;n=h+"."+(s-40*h)}else n+="."+s.toString();if(n.length>i)return zp(n,i);s=new Rg,a=0}}return a>0&&(n+=".incomplete"),n},r}(),Zle=function(){function r(t,e,i,n,s){if(!(n instanceof F2))throw new Error("Invalid tag value.");this.stream=t,this.header=e,this.length=i,this.tag=n,this.sub=s}return r.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},r.prototype.content=function(t){if(void 0===this.tag)return null;void 0===t&&(t=1/0);var e=this.posContent(),i=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+i,t);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(e)?"false":"true";case 2:return this.stream.parseInteger(e,e+i);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(e,e+i,t);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+i,t);case 6:return this.stream.parseOID(e,e+i,t);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return zp(this.stream.parseStringUTF(e,e+i),t);case 18:case 19:case 20:case 21:case 22:case 26:return zp(this.stream.parseStringISO(e,e+i),t);case 30:return zp(this.stream.parseStringBMP(e,e+i),t);case 23:case 24:return this.stream.parseTime(e,e+i,23==this.tag.tagNumber)}return null},r.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},r.prototype.toPrettyString=function(t){void 0===t&&(t="");var e=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(e+="+"),e+=this.length,this.tag.tagConstructed?e+=" (constructed)":this.tag.isUniversal()&&(3==this.tag.tagNumber||4==this.tag.tagNumber)&&null!==this.sub&&(e+=" (encapsulates)"),e+="\n",null!==this.sub){t+="  ";for(var i=0,n=this.sub.length;i<n;++i)e+=this.sub[i].toPrettyString(t)}return e},r.prototype.posStart=function(){return this.stream.pos},r.prototype.posContent=function(){return this.stream.pos+this.header},r.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},r.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},r.decodeLength=function(t){var e=t.get(),i=127&e;if(i==e)return i;if(i>6)throw new Error("Length over 48 bits not supported at position "+(t.pos-1));if(0===i)return null;e=0;for(var n=0;n<i;++n)e=256*e+t.get();return e},r.prototype.getHexStringValue=function(){return this.toHexString().substr(2*this.header,2*this.length)},r.decode=function(t){var e;e=t instanceof kA?t:new kA(t,0);var i=new kA(e),n=new F2(e),s=r.decodeLength(e),a=e.pos,o=a-i.pos,l=null,h=function(){var d=[];if(null!==s){for(var p=a+s;e.pos<p;)d[d.length]=r.decode(e);if(e.pos!=p)throw new Error("Content size is not correct for container starting at offset "+a)}else try{for(;;){var f=r.decode(e);if(f.tag.isEOC())break;d[d.length]=f}s=a-e.pos}catch(m){throw new Error("Exception while decoding undefined length content: "+m)}return d};if(n.tagConstructed)l=h();else if(n.isUniversal()&&(3==n.tagNumber||4==n.tagNumber))try{if(3==n.tagNumber&&0!=e.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");l=h();for(var c=0;c<l.length;++c)if(l[c].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(d){l=null}if(null===l){if(null===s)throw new Error("We can't skip over an invalid tag with undefined length at offset "+a);e.pos=a+Math.abs(s)}return new r(i,o,s,n,l)},r}(),F2=function(){function r(t){var e=t.get();if(this.tagClass=e>>6,this.tagConstructed=0!=(32&e),this.tagNumber=31&e,31==this.tagNumber){var i=new Rg;do{e=t.get(),i.mulAdd(128,127&e)}while(128&e);this.tagNumber=i.simplify()}}return r.prototype.isUniversal=function(){return 0===this.tagClass},r.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},r}(),Nr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],ehe=(1<<26)/Nr[Nr.length-1],jt=function(){function r(t,e,i){null!=t&&("number"==typeof t?this.fromNumber(t,e,i):this.fromString(t,null==e&&"string"!=typeof t?256:e))}return r.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,i=(1<<e)-1,s=!1,a="",o=this.t,l=this.DB-o*this.DB%e;if(o-- >0)for(l<this.DB&&(n=this[o]>>l)>0&&(s=!0,a=uh(n));o>=0;)l<e?(n=(this[o]&(1<<l)-1)<<e-l,n|=this[--o]>>(l+=this.DB-e)):(n=this[o]>>(l-=e)&i,l<=0&&(l+=this.DB,--o)),n>0&&(s=!0),s&&(a+=uh(n));return s?a:"0"},r.prototype.negate=function(){var t=si();return r.ZERO.subTo(this,t),t},r.prototype.abs=function(){return this.s<0?this.negate():this},r.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var i=this.t;if(0!=(e=i-t.t))return this.s<0?-e:e;for(;--i>=0;)if(0!=(e=this[i]-t[i]))return e;return 0},r.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+uC(this[this.t-1]^this.s&this.DM)},r.prototype.mod=function(t){var e=si();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(r.ZERO)>0&&t.subTo(e,e),e},r.prototype.modPowInt=function(t,e){var i;return i=t<256||e.isEven()?new j2(e):new B2(e),this.exp(t,i)},r.prototype.clone=function(){var t=si();return this.copyTo(t),t},r.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},r.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},r.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},r.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},r.prototype.toByteArray=function(){var t=this.t,e=[];e[0]=this.s;var n,i=this.DB-t*this.DB%8,s=0;if(t-- >0)for(i<this.DB&&(n=this[t]>>i)!=(this.s&this.DM)>>i&&(e[s++]=n|this.s<<this.DB-i);t>=0;)i<8?(n=(this[t]&(1<<i)-1)<<8-i,n|=this[--t]>>(i+=this.DB-8)):(n=this[t]>>(i-=8)&255,i<=0&&(i+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==s&&(128&this.s)!=(128&n)&&++s,(s>0||n!=this.s)&&(e[s++]=n);return e},r.prototype.equals=function(t){return 0==this.compareTo(t)},r.prototype.min=function(t){return this.compareTo(t)<0?this:t},r.prototype.max=function(t){return this.compareTo(t)>0?this:t},r.prototype.and=function(t){var e=si();return this.bitwiseTo(t,Yle,e),e},r.prototype.or=function(t){var e=si();return this.bitwiseTo(t,lC,e),e},r.prototype.xor=function(t){var e=si();return this.bitwiseTo(t,_2,e),e},r.prototype.andNot=function(t){var e=si();return this.bitwiseTo(t,L2,e),e},r.prototype.not=function(){for(var t=si(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},r.prototype.shiftLeft=function(t){var e=si();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},r.prototype.shiftRight=function(t){var e=si();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},r.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+Qle(this[t]);return this.s<0?this.t*this.DB:-1},r.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,i=0;i<this.t;++i)t+=Gle(this[i]^e);return t},r.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},r.prototype.setBit=function(t){return this.changeBit(t,lC)},r.prototype.clearBit=function(t){return this.changeBit(t,L2)},r.prototype.flipBit=function(t){return this.changeBit(t,_2)},r.prototype.add=function(t){var e=si();return this.addTo(t,e),e},r.prototype.subtract=function(t){var e=si();return this.subTo(t,e),e},r.prototype.multiply=function(t){var e=si();return this.multiplyTo(t,e),e},r.prototype.divide=function(t){var e=si();return this.divRemTo(t,e,null),e},r.prototype.remainder=function(t){var e=si();return this.divRemTo(t,null,e),e},r.prototype.divideAndRemainder=function(t){var e=si(),i=si();return this.divRemTo(t,e,i),[e,i]},r.prototype.modPow=function(t,e){var n,a,i=t.bitLength(),s=vc(1);if(i<=0)return s;n=i<18?1:i<48?3:i<144?4:i<768?5:6,a=i<8?new j2(e):e.isEven()?new ihe(e):new B2(e);var o=[],l=3,h=n-1,c=(1<<n)-1;if(o[1]=a.convert(this),n>1){var d=si();for(a.sqrTo(o[1],d);l<=c;)o[l]=si(),a.mulTo(d,o[l-2],o[l]),l+=2}var f,y,p=t.t-1,m=!0,g=si();for(i=uC(t[p])-1;p>=0;){for(i>=h?f=t[p]>>i-h&c:(f=(t[p]&(1<<i+1)-1)<<h-i,p>0&&(f|=t[p-1]>>this.DB+i-h)),l=n;0==(1&f);)f>>=1,--l;if((i-=l)<0&&(i+=this.DB,--p),m)o[f].copyTo(s),m=!1;else{for(;l>1;)a.sqrTo(s,g),a.sqrTo(g,s),l-=2;l>0?a.sqrTo(s,g):(y=s,s=g,g=y),a.mulTo(g,o[f],s)}for(;p>=0&&0==(t[p]&1<<i);)a.sqrTo(s,g),y=s,s=g,g=y,--i<0&&(i=this.DB-1,--p)}return a.revert(s)},r.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return r.ZERO;for(var i=t.clone(),n=this.clone(),s=vc(1),a=vc(0),o=vc(0),l=vc(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),e?((!s.isEven()||!a.isEven())&&(s.addTo(this,s),a.subTo(t,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),e?((!o.isEven()||!l.isEven())&&(o.addTo(this,o),l.subTo(t,l)),o.rShiftTo(1,o)):l.isEven()||l.subTo(t,l),l.rShiftTo(1,l);i.compareTo(n)>=0?(i.subTo(n,i),e&&s.subTo(o,s),a.subTo(l,a)):(n.subTo(i,n),e&&o.subTo(s,o),l.subTo(a,l))}return 0!=n.compareTo(r.ONE)?r.ZERO:l.compareTo(t)>=0?l.subtract(t):l.signum()<0?(l.addTo(t,l),l.signum()<0?l.add(t):l):l},r.prototype.pow=function(t){return this.exp(t,new the)},r.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),i=t.s<0?t.negate():t.clone();if(e.compareTo(i)<0){var n=e;e=i,i=n}var s=e.getLowestSetBit(),a=i.getLowestSetBit();if(a<0)return e;for(s<a&&(a=s),a>0&&(e.rShiftTo(a,e),i.rShiftTo(a,i));e.signum()>0;)(s=e.getLowestSetBit())>0&&e.rShiftTo(s,e),(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),e.compareTo(i)>=0?(e.subTo(i,e),e.rShiftTo(1,e)):(i.subTo(e,i),i.rShiftTo(1,i));return a>0&&i.lShiftTo(a,i),i},r.prototype.isProbablePrime=function(t){var e,i=this.abs();if(1==i.t&&i[0]<=Nr[Nr.length-1]){for(e=0;e<Nr.length;++e)if(i[0]==Nr[e])return!0;return!1}if(i.isEven())return!1;for(e=1;e<Nr.length;){for(var n=Nr[e],s=e+1;s<Nr.length&&n<ehe;)n*=Nr[s++];for(n=i.modInt(n);e<s;)if(n%Nr[e++]==0)return!1}return i.millerRabin(t)},r.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},r.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},r.prototype.fromString=function(t,e){var i;if(16==e)i=4;else if(8==e)i=3;else if(256==e)i=8;else if(2==e)i=1;else if(32==e)i=5;else{if(4!=e)return void this.fromRadix(t,e);i=2}this.t=0,this.s=0;for(var n=t.length,s=!1,a=0;--n>=0;){var o=8==i?255&+t[n]:z2(t,n);o<0?"-"==t.charAt(n)&&(s=!0):(s=!1,0==a?this[this.t++]=o:a+i>this.DB?(this[this.t-1]|=(o&(1<<this.DB-a)-1)<<a,this[this.t++]=o>>this.DB-a):this[this.t-1]|=o<<a,(a+=i)>=this.DB&&(a-=this.DB))}8==i&&0!=(128&+t[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),s&&r.ZERO.subTo(this,this)},r.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},r.prototype.dlShiftTo=function(t,e){var i;for(i=this.t-1;i>=0;--i)e[i+t]=this[i];for(i=t-1;i>=0;--i)e[i]=0;e.t=this.t+t,e.s=this.s},r.prototype.drShiftTo=function(t,e){for(var i=t;i<this.t;++i)e[i-t]=this[i];e.t=Math.max(this.t-t,0),e.s=this.s},r.prototype.lShiftTo=function(t,e){for(var i=t%this.DB,n=this.DB-i,s=(1<<n)-1,a=Math.floor(t/this.DB),o=this.s<<i&this.DM,l=this.t-1;l>=0;--l)e[l+a+1]=this[l]>>n|o,o=(this[l]&s)<<i;for(l=a-1;l>=0;--l)e[l]=0;e[a]=o,e.t=this.t+a+1,e.s=this.s,e.clamp()},r.prototype.rShiftTo=function(t,e){e.s=this.s;var i=Math.floor(t/this.DB);if(i>=this.t)e.t=0;else{var n=t%this.DB,s=this.DB-n,a=(1<<n)-1;e[0]=this[i]>>n;for(var o=i+1;o<this.t;++o)e[o-i-1]|=(this[o]&a)<<s,e[o-i]=this[o]>>n;n>0&&(e[this.t-i-1]|=(this.s&a)<<s),e.t=this.t-i,e.clamp()}},r.prototype.subTo=function(t,e){for(var i=0,n=0,s=Math.min(t.t,this.t);i<s;)n+=this[i]-t[i],e[i++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;i<this.t;)n+=this[i],e[i++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;i<t.t;)n-=t[i],e[i++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[i++]=this.DV+n:n>0&&(e[i++]=n),e.t=i,e.clamp()},r.prototype.multiplyTo=function(t,e){var i=this.abs(),n=t.abs(),s=i.t;for(e.t=s+n.t;--s>=0;)e[s]=0;for(s=0;s<n.t;++s)e[s+i.t]=i.am(0,n[s],e,s,0,i.t);e.s=0,e.clamp(),this.s!=t.s&&r.ZERO.subTo(e,e)},r.prototype.squareTo=function(t){for(var e=this.abs(),i=t.t=2*e.t;--i>=0;)t[i]=0;for(i=0;i<e.t-1;++i){var n=e.am(i,e[i],t,2*i,0,1);(t[i+e.t]+=e.am(i+1,2*e[i],t,2*i+1,n,e.t-i-1))>=e.DV&&(t[i+e.t]-=e.DV,t[i+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(i,e[i],t,2*i,0,1)),t.s=0,t.clamp()},r.prototype.divRemTo=function(t,e,i){var n=t.abs();if(!(n.t<=0)){var s=this.abs();if(s.t<n.t)return null!=e&&e.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=si());var a=si(),o=this.s,l=t.s,h=this.DB-uC(n[n.t-1]);h>0?(n.lShiftTo(h,a),s.lShiftTo(h,i)):(n.copyTo(a),s.copyTo(i));var c=a.t,d=a[c-1];if(0!=d){var p=d*(1<<this.F1)+(c>1?a[c-2]>>this.F2:0),f=this.FV/p,m=(1<<this.F1)/p,g=1<<this.F2,y=i.t,C=y-c,E=null==e?si():e;for(a.dlShiftTo(C,E),i.compareTo(E)>=0&&(i[i.t++]=1,i.subTo(E,i)),r.ONE.dlShiftTo(c,E),E.subTo(a,a);a.t<c;)a[a.t++]=0;for(;--C>=0;){var S=i[--y]==d?this.DM:Math.floor(i[y]*f+(i[y-1]+g)*m);if((i[y]+=a.am(0,S,i,C,0,c))<S)for(a.dlShiftTo(C,E),i.subTo(E,i);i[y]<--S;)i.subTo(E,i)}null!=e&&(i.drShiftTo(c,e),o!=l&&r.ZERO.subTo(e,e)),i.t=c,i.clamp(),h>0&&i.rShiftTo(h,i),o<0&&r.ZERO.subTo(i,i)}}},r.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},r.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},r.prototype.exp=function(t,e){if(t>4294967295||t<1)return r.ONE;var i=si(),n=si(),s=e.convert(this),a=uC(t)-1;for(s.copyTo(i);--a>=0;)if(e.sqrTo(i,n),(t&1<<a)>0)e.mulTo(n,s,i);else{var o=i;i=n,n=o}return e.revert(i)},r.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},r.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),i=Math.pow(t,e),n=vc(i),s=si(),a=si(),o="";for(this.divRemTo(n,s,a);s.signum()>0;)o=(i+a.intValue()).toString(t).substr(1)+o,s.divRemTo(n,s,a);return a.intValue().toString(t)+o},r.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var i=this.chunkSize(e),n=Math.pow(e,i),s=!1,a=0,o=0,l=0;l<t.length;++l){var h=z2(t,l);h<0?"-"==t.charAt(l)&&0==this.signum()&&(s=!0):(o=e*o+h,++a>=i&&(this.dMultiply(n),this.dAddOffset(o,0),a=0,o=0))}a>0&&(this.dMultiply(Math.pow(e,a)),this.dAddOffset(o,0)),s&&r.ZERO.subTo(this,this)},r.prototype.fromNumber=function(t,e,i){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(r.ONE.shiftLeft(t-1),lC,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(r.ONE.shiftLeft(t-1),this);else{var n=[],s=7&t;n.length=1+(t>>3),e.nextBytes(n),s>0?n[0]&=(1<<s)-1:n[0]=0,this.fromString(n,256)}},r.prototype.bitwiseTo=function(t,e,i){var n,s,a=Math.min(t.t,this.t);for(n=0;n<a;++n)i[n]=e(this[n],t[n]);if(t.t<this.t){for(s=t.s&this.DM,n=a;n<this.t;++n)i[n]=e(this[n],s);i.t=this.t}else{for(s=this.s&this.DM,n=a;n<t.t;++n)i[n]=e(s,t[n]);i.t=t.t}i.s=e(this.s,t.s),i.clamp()},r.prototype.changeBit=function(t,e){var i=r.ONE.shiftLeft(t);return this.bitwiseTo(i,e,i),i},r.prototype.addTo=function(t,e){for(var i=0,n=0,s=Math.min(t.t,this.t);i<s;)n+=this[i]+t[i],e[i++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;i<this.t;)n+=this[i],e[i++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;i<t.t;)n+=t[i],e[i++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[i++]=n:n<-1&&(e[i++]=this.DV+n),e.t=i,e.clamp()},r.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},r.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},r.prototype.multiplyLowerTo=function(t,e,i){var n=Math.min(this.t+t.t,e);for(i.s=0,i.t=n;n>0;)i[--n]=0;for(var s=i.t-this.t;n<s;++n)i[n+this.t]=this.am(0,t[n],i,n,0,this.t);for(s=Math.min(t.t,e);n<s;++n)this.am(0,t[n],i,n,0,e-n);i.clamp()},r.prototype.multiplyUpperTo=function(t,e,i){--e;var n=i.t=this.t+t.t-e;for(i.s=0;--n>=0;)i[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)i[this.t+n-e]=this.am(e-n,t[n],i,0,0,this.t+n-e);i.clamp(),i.drShiftTo(1,i)},r.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,i=this.s<0?t-1:0;if(this.t>0)if(0==e)i=this[0]%t;else for(var n=this.t-1;n>=0;--n)i=(e*i+this[n])%t;return i},r.prototype.millerRabin=function(t){var e=this.subtract(r.ONE),i=e.getLowestSetBit();if(i<=0)return!1;var n=e.shiftRight(i);(t=t+1>>1)>Nr.length&&(t=Nr.length);for(var s=si(),a=0;a<t;++a){s.fromInt(Nr[Math.floor(Math.random()*Nr.length)]);var o=s.modPow(n,this);if(0!=o.compareTo(r.ONE)&&0!=o.compareTo(e)){for(var l=1;l++<i&&0!=o.compareTo(e);)if(0==(o=o.modPowInt(2,this)).compareTo(r.ONE))return!1;if(0!=o.compareTo(e))return!1}}return!0},r.prototype.square=function(){var t=si();return this.squareTo(t),t},r.prototype.gcda=function(t,e){var i=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(i.compareTo(n)<0){var s=i;i=n,n=s}var a=i.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)e(i);else{a<o&&(o=a),o>0&&(i.rShiftTo(o,i),n.rShiftTo(o,n));var l=function(){(a=i.getLowestSetBit())>0&&i.rShiftTo(a,i),(a=n.getLowestSetBit())>0&&n.rShiftTo(a,n),i.compareTo(n)>=0?(i.subTo(n,i),i.rShiftTo(1,i)):(n.subTo(i,n),n.rShiftTo(1,n)),i.signum()>0?setTimeout(l,0):(o>0&&n.lShiftTo(o,n),setTimeout(function(){e(n)},0))};setTimeout(l,10)}},r.prototype.fromNumberAsync=function(t,e,i,n){if("number"==typeof e)if(t<2)this.fromInt(1);else{this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(r.ONE.shiftLeft(t-1),lC,this),this.isEven()&&this.dAddOffset(1,0);var s=this,a=function(){s.dAddOffset(2,0),s.bitLength()>t&&s.subTo(r.ONE.shiftLeft(t-1),s),s.isProbablePrime(e)?setTimeout(function(){n()},0):setTimeout(a,0)};setTimeout(a,0)}else{var o=[],l=7&t;o.length=1+(t>>3),e.nextBytes(o),l>0?o[0]&=(1<<l)-1:o[0]=0,this.fromString(o,256)}},r}(),the=function(){function r(){}return r.prototype.convert=function(t){return t},r.prototype.revert=function(t){return t},r.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i)},r.prototype.sqrTo=function(t,e){t.squareTo(e)},r}(),j2=function(){function r(t){this.m=t}return r.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},r.prototype.revert=function(t){return t},r.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},r.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i),this.reduce(i)},r.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},r}(),B2=function(){function r(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}return r.prototype.convert=function(t){var e=si();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(jt.ZERO)>0&&this.m.subTo(e,e),e},r.prototype.revert=function(t){var e=si();return t.copyTo(e),this.reduce(e),e},r.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var i=32767&t[e],n=i*this.mpl+((i*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[i=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[i]>=t.DV;)t[i]-=t.DV,t[++i]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},r.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i),this.reduce(i)},r.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},r}(),ihe=function(){function r(t){this.m=t,this.r2=si(),this.q3=si(),jt.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t)}return r.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=si();return t.copyTo(e),this.reduce(e),e},r.prototype.revert=function(t){return t},r.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},r.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i),this.reduce(i)},r.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},r}();function si(){return new jt(null)}function Un(r,t){return new jt(r,t)}var H2="undefined"!=typeof navigator;H2&&"Microsoft Internet Explorer"==navigator.appName?(jt.prototype.am=function(t,e,i,n,s,a){for(var o=32767&e,l=e>>15;--a>=0;){var h=32767&this[t],c=this[t++]>>15,d=l*h+c*o;s=((h=o*h+((32767&d)<<15)+i[n]+(1073741823&s))>>>30)+(d>>>15)+l*c+(s>>>30),i[n++]=1073741823&h}return s},gc=30):H2&&"Netscape"!=navigator.appName?(jt.prototype.am=function(t,e,i,n,s,a){for(;--a>=0;){var o=e*this[t++]+i[n]+s;s=Math.floor(o/67108864),i[n++]=67108863&o}return s},gc=26):(jt.prototype.am=function(t,e,i,n,s,a){for(var o=16383&e,l=e>>14;--a>=0;){var h=16383&this[t],c=this[t++]>>14,d=l*h+c*o;s=((h=o*h+((16383&d)<<14)+i[n]+s)>>28)+(d>>14)+l*c,i[n++]=268435455&h}return s},gc=28),jt.prototype.DB=gc,jt.prototype.DM=(1<<gc)-1,jt.prototype.DV=1<<gc,jt.prototype.FV=Math.pow(2,52),jt.prototype.F1=52-gc,jt.prototype.F2=2*gc-52;var Up,Ua,cC=[];for(Up="0".charCodeAt(0),Ua=0;Ua<=9;++Ua)cC[Up++]=Ua;for(Up="a".charCodeAt(0),Ua=10;Ua<36;++Ua)cC[Up++]=Ua;for(Up="A".charCodeAt(0),Ua=10;Ua<36;++Ua)cC[Up++]=Ua;function z2(r,t){var e=cC[r.charCodeAt(t)];return null==e?-1:e}function vc(r){var t=si();return t.fromInt(r),t}function uC(r){var e,t=1;return 0!=(e=r>>>16)&&(r=e,t+=16),0!=(e=r>>8)&&(r=e,t+=8),0!=(e=r>>4)&&(r=e,t+=4),0!=(e=r>>2)&&(r=e,t+=2),0!=(e=r>>1)&&(r=e,t+=1),t}jt.ZERO=vc(0),jt.ONE=vc(1);var dC,Oo,nhe=function(){function r(){this.i=0,this.j=0,this.S=[]}return r.prototype.init=function(t){var e,i,n;for(e=0;e<256;++e)this.S[e]=e;for(i=0,e=0;e<256;++e)n=this.S[e],this.S[e]=this.S[i=i+this.S[e]+t[e%t.length]&255],this.S[i]=n;this.i=0,this.j=0},r.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]},r}(),yc=null;if(null==yc){yc=[],Oo=0;var pC=void 0;if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){var _A=new Uint32Array(256);for(window.crypto.getRandomValues(_A),pC=0;pC<_A.length;++pC)yc[Oo++]=255&_A[pC]}var fC=0,mC=function(r){if((fC=fC||0)>=256||Oo>=256)window.removeEventListener?window.removeEventListener("mousemove",mC,!1):window.detachEvent&&window.detachEvent("onmousemove",mC);else try{yc[Oo++]=255&r.x+r.y,fC+=1}catch(e){}};"undefined"!=typeof window&&(window.addEventListener?window.addEventListener("mousemove",mC,!1):window.attachEvent&&window.attachEvent("onmousemove",mC))}function rhe(){if(null==dC){for(dC=new nhe;Oo<256;){var r=Math.floor(65536*Math.random());yc[Oo++]=255&r}for(dC.init(yc),Oo=0;Oo<yc.length;++Oo)yc[Oo]=0;Oo=0}return dC.next()}var LA=function(){function r(){}return r.prototype.nextBytes=function(t){for(var e=0;e<t.length;++e)t[e]=rhe()},r}(),lhe=function(){function r(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return r.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},r.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),i=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(i)<0;)e=e.add(this.p);return e.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)},r.prototype.setPublic=function(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=Un(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key")},r.prototype.encrypt=function(t){var e=this.n.bitLength()+7>>3,i=function(r,t){if(t<r.length+11)return console.error("Message too long for RSA"),null;for(var e=[],i=r.length-1;i>=0&&t>0;){var n=r.charCodeAt(i--);n<128?e[--t]=n:n>127&&n<2048?(e[--t]=63&n|128,e[--t]=n>>6|192):(e[--t]=63&n|128,e[--t]=n>>6&63|128,e[--t]=n>>12|224)}e[--t]=0;for(var s=new LA,a=[];t>2;){for(a[0]=0;0==a[0];)s.nextBytes(a);e[--t]=a[0]}return e[--t]=2,e[--t]=0,new jt(e)}(t,e);if(null==i)return null;var n=this.doPublic(i);if(null==n)return null;for(var s=n.toString(16),a=s.length,o=0;o<2*e-a;o++)s="0"+s;return s},r.prototype.setPrivate=function(t,e,i){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=Un(t,16),this.e=parseInt(e,16),this.d=Un(i,16)):console.error("Invalid RSA private key")},r.prototype.setPrivateEx=function(t,e,i,n,s,a,o,l){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=Un(t,16),this.e=parseInt(e,16),this.d=Un(i,16),this.p=Un(n,16),this.q=Un(s,16),this.dmp1=Un(a,16),this.dmq1=Un(o,16),this.coeff=Un(l,16)):console.error("Invalid RSA private key")},r.prototype.generate=function(t,e){var i=new LA,n=t>>1;this.e=parseInt(e,16);for(var s=new jt(e,16);;){for(;this.p=new jt(t-n,1,i),0!=this.p.subtract(jt.ONE).gcd(s).compareTo(jt.ONE)||!this.p.isProbablePrime(10););for(;this.q=new jt(n,1,i),0!=this.q.subtract(jt.ONE).gcd(s).compareTo(jt.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var a=this.p;this.p=this.q,this.q=a}var o=this.p.subtract(jt.ONE),l=this.q.subtract(jt.ONE),h=o.multiply(l);if(0==h.gcd(s).compareTo(jt.ONE)){this.n=this.p.multiply(this.q),this.d=s.modInverse(h),this.dmp1=this.d.mod(o),this.dmq1=this.d.mod(l),this.coeff=this.q.modInverse(this.p);break}}},r.prototype.decrypt=function(t){var e=Un(t,16),i=this.doPrivate(e);return null==i?null:function(r,t){for(var e=r.toByteArray(),i=0;i<e.length&&0==e[i];)++i;if(e.length-i!=t-1||2!=e[i])return null;for(++i;0!=e[i];)if(++i>=e.length)return null;for(var n="";++i<e.length;){var s=255&e[i];s<128?n+=String.fromCharCode(s):s>191&&s<224?(n+=String.fromCharCode((31&s)<<6|63&e[i+1]),++i):(n+=String.fromCharCode((15&s)<<12|(63&e[i+1])<<6|63&e[i+2]),i+=2)}return n}(i,this.n.bitLength()+7>>3)},r.prototype.generateAsync=function(t,e,i){var n=new LA,s=t>>1;this.e=parseInt(e,16);var a=new jt(e,16),o=this,l=function(){var h=function(){if(o.p.compareTo(o.q)<=0){var p=o.p;o.p=o.q,o.q=p}var f=o.p.subtract(jt.ONE),m=o.q.subtract(jt.ONE),g=f.multiply(m);0==g.gcd(a).compareTo(jt.ONE)?(o.n=o.p.multiply(o.q),o.d=a.modInverse(g),o.dmp1=o.d.mod(f),o.dmq1=o.d.mod(m),o.coeff=o.q.modInverse(o.p),setTimeout(function(){i()},0)):setTimeout(l,0)},c=function(){o.q=si(),o.q.fromNumberAsync(s,1,n,function(){o.q.subtract(jt.ONE).gcda(a,function(p){0==p.compareTo(jt.ONE)&&o.q.isProbablePrime(10)?setTimeout(h,0):setTimeout(c,0)})})},d=function(){o.p=si(),o.p.fromNumberAsync(t-s,1,n,function(){o.p.subtract(jt.ONE).gcda(a,function(p){0==p.compareTo(jt.ONE)&&o.p.isProbablePrime(10)?setTimeout(c,0):setTimeout(d,0)})})};setTimeout(d,0)};setTimeout(l,0)},r.prototype.sign=function(t,e,i){var n=function(r){return gC[r]||""}(i),a=function(r,t){if(t<r.length+22)return console.error("Message too long for RSA"),null;for(var e=t-r.length-6,i="",n=0;n<e;n+=2)i+="ff";return Un("0001"+i+"00"+r,16)}(n+e(t).toString(),this.n.bitLength()/4);if(null==a)return null;var o=this.doPrivate(a);if(null==o)return null;var l=o.toString(16);return 0==(1&l.length)?l:"0"+l},r.prototype.verify=function(t,e,i){var n=Un(e,16),s=this.doPublic(n);if(null==s)return null;var o=function(r){for(var t in gC)if(gC.hasOwnProperty(t)){var e=gC[t],i=e.length;if(r.substr(0,i)==e)return r.substr(i)}return r}(s.toString(16).replace(/^1f+00/,""));return o==i(t).toString()},r}(),gC={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"},Xn={};Xn.lang={extend:function(r,t,e){if(!t||!r)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var i=function(){};if(i.prototype=t.prototype,r.prototype=new i,r.prototype.constructor=r,r.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),e){var n;for(n in e)r.prototype[n]=e[n];var s=function(){},a=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(s=function(o,l){for(n=0;n<a.length;n+=1){var h=a[n],c=l[h];"function"==typeof c&&c!=Object.prototype[h]&&(o[h]=c)}})}catch(o){}s(r.prototype,e)}}};var ve={};(void 0===ve.asn1||!ve.asn1)&&(ve.asn1={}),ve.asn1.ASN1Util=new function(){this.integerToByteHex=function(r){var t=r.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(r){var t=r.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var i=t.substr(1).length;i%2==1?i+=1:t.match(/^[0-7]/)||(i+=2);for(var n="",s=0;s<i;s++)n+="f";t=new jt(n,16).xor(r).add(jt.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(r,t){return hextopem(r,t)},this.newObject=function(r){var e=ve.asn1,i=e.DERBoolean,n=e.DERInteger,s=e.DERBitString,a=e.DEROctetString,o=e.DERNull,l=e.DERObjectIdentifier,h=e.DEREnumerated,c=e.DERUTF8String,d=e.DERNumericString,p=e.DERPrintableString,f=e.DERTeletexString,m=e.DERIA5String,g=e.DERUTCTime,y=e.DERGeneralizedTime,C=e.DERSequence,E=e.DERSet,S=e.DERTaggedObject,w=e.ASN1Util.newObject,A=Object.keys(r);if(1!=A.length)throw"key of param shall be only one.";var T=A[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+T+":"))throw"undefined key: "+T;if("bool"==T)return new i(r[T]);if("int"==T)return new n(r[T]);if("bitstr"==T)return new s(r[T]);if("octstr"==T)return new a(r[T]);if("null"==T)return new o(r[T]);if("oid"==T)return new l(r[T]);if("enum"==T)return new h(r[T]);if("utf8str"==T)return new c(r[T]);if("numstr"==T)return new d(r[T]);if("prnstr"==T)return new p(r[T]);if("telstr"==T)return new f(r[T]);if("ia5str"==T)return new m(r[T]);if("utctime"==T)return new g(r[T]);if("gentime"==T)return new y(r[T]);if("seq"==T){for(var k=r[T],j=[],J=0;J<k.length;J++){var ne=w(k[J]);j.push(ne)}return new C({array:j})}if("set"==T){for(k=r[T],j=[],J=0;J<k.length;J++)ne=w(k[J]),j.push(ne);return new E({array:j})}if("tag"==T){var R=r[T];if("[object Array]"===Object.prototype.toString.call(R)&&3==R.length){var G=w(R[2]);return new S({tag:R[0],explicit:R[1],obj:G})}var H={};if(void 0!==R.explicit&&(H.explicit=R.explicit),void 0!==R.tag&&(H.tag=R.tag),void 0===R.obj)throw"obj shall be specified for 'tag'.";return H.obj=w(R.obj),new S(H)}},this.jsonToASN1HEX=function(r){return this.newObject(r).getEncodedHex()}},ve.asn1.ASN1Util.oidHexToInt=function(r){for(var t="",e=parseInt(r.substr(0,2),16),s=(t=Math.floor(e/40)+"."+e%40,""),a=2;a<r.length;a+=2){var l=("00000000"+parseInt(r.substr(a,2),16).toString(2)).slice(-8);s+=l.substr(1,7),"0"==l.substr(0,1)&&(t=t+"."+new jt(s,2).toString(10),s="")}return t},ve.asn1.ASN1Util.oidIntToHex=function(r){var t=function(o){var l=o.toString(16);return 1==l.length&&(l="0"+l),l},e=function(o){var l="",c=new jt(o,10).toString(2),d=7-c.length%7;7==d&&(d=0);for(var p="",f=0;f<d;f++)p+="0";for(c=p+c,f=0;f<c.length-1;f+=7){var m=c.substr(f,7);f!=c.length-7&&(m="1"+m),l+=t(parseInt(m,2))}return l};if(!r.match(/^[0-9.]+$/))throw"malformed oid string: "+r;var i="",n=r.split("."),s=40*parseInt(n[0])+parseInt(n[1]);i+=t(s),n.splice(0,2);for(var a=0;a<n.length;a++)i+=e(n[a]);return i},ve.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var s=this.hV.length/2,a=s.toString(16);if(a.length%2==1&&(a="0"+a),s<128)return a;var o=a.length/2;if(o>15)throw"ASN.1 length too long to represent by 8x: n = "+s.toString(16);return(128+o).toString(16)+a},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},ve.asn1.DERAbstractString=function(r){ve.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(i){this.hTLV=null,this.isModified=!0,this.s=i,this.hV=stohex(this.s)},this.setStringHex=function(i){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=i},this.getFreshValueHex=function(){return this.hV},void 0!==r&&("string"==typeof r?this.setString(r):void 0!==r.str?this.setString(r.str):void 0!==r.hex&&this.setStringHex(r.hex))},Xn.lang.extend(ve.asn1.DERAbstractString,ve.asn1.ASN1Object),ve.asn1.DERAbstractTime=function(r){ve.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(i){return utc=i.getTime()+6e4*i.getTimezoneOffset(),new Date(utc)},this.formatDate=function(i,n,s){var a=this.zeroPadding,o=this.localDateToUTC(i),l=String(o.getFullYear());"utc"==n&&(l=l.substr(2,2));var m=l+a(String(o.getMonth()+1),2)+a(String(o.getDate()),2)+a(String(o.getHours()),2)+a(String(o.getMinutes()),2)+a(String(o.getSeconds()),2);if(!0===s){var g=o.getMilliseconds();if(0!=g){var y=a(String(g),3);m=m+"."+(y=y.replace(/[0]+$/,""))}}return m+"Z"},this.zeroPadding=function(i,n){return i.length>=n?i:new Array(n-i.length+1).join("0")+i},this.getString=function(){return this.s},this.setString=function(i){this.hTLV=null,this.isModified=!0,this.s=i,this.hV=stohex(i)},this.setByDateValue=function(i,n,s,a,o,l){var h=new Date(Date.UTC(i,n-1,s,a,o,l,0));this.setByDate(h)},this.getFreshValueHex=function(){return this.hV}},Xn.lang.extend(ve.asn1.DERAbstractTime,ve.asn1.ASN1Object),ve.asn1.DERAbstractStructured=function(r){ve.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==r&&void 0!==r.array&&(this.asn1Array=r.array)},Xn.lang.extend(ve.asn1.DERAbstractStructured,ve.asn1.ASN1Object),ve.asn1.DERBoolean=function(){ve.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},Xn.lang.extend(ve.asn1.DERBoolean,ve.asn1.ASN1Object),ve.asn1.DERInteger=function(r){ve.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=ve.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new jt(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==r&&(void 0!==r.bigint?this.setByBigInteger(r.bigint):void 0!==r.int?this.setByInteger(r.int):"number"==typeof r?this.setByInteger(r):void 0!==r.hex&&this.setValueHex(r.hex))},Xn.lang.extend(ve.asn1.DERInteger,ve.asn1.ASN1Object),ve.asn1.DERBitString=function(r){if(void 0!==r&&void 0!==r.obj){var t=ve.asn1.ASN1Util.newObject(r.obj);r.hex="00"+t.getEncodedHex()}ve.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,i){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+i},this.setByBinaryString=function(e){var i=8-(e=e.replace(/0+$/,"")).length%8;8==i&&(i=0);for(var n=0;n<=i;n++)e+="0";var s="";for(n=0;n<e.length-1;n+=8){var a=e.substr(n,8),o=parseInt(a,2).toString(16);1==o.length&&(o="0"+o),s+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+i+s},this.setByBooleanArray=function(e){for(var i="",n=0;n<e.length;n++)i+=1==e[n]?"1":"0";this.setByBinaryString(i)},this.newFalseArray=function(e){for(var i=new Array(e),n=0;n<e;n++)i[n]=!1;return i},this.getFreshValueHex=function(){return this.hV},void 0!==r&&("string"==typeof r&&r.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(r):void 0!==r.hex?this.setHexValueIncludingUnusedBits(r.hex):void 0!==r.bin?this.setByBinaryString(r.bin):void 0!==r.array&&this.setByBooleanArray(r.array))},Xn.lang.extend(ve.asn1.DERBitString,ve.asn1.ASN1Object),ve.asn1.DEROctetString=function(r){if(void 0!==r&&void 0!==r.obj){var t=ve.asn1.ASN1Util.newObject(r.obj);r.hex=t.getEncodedHex()}ve.asn1.DEROctetString.superclass.constructor.call(this,r),this.hT="04"},Xn.lang.extend(ve.asn1.DEROctetString,ve.asn1.DERAbstractString),ve.asn1.DERNull=function(){ve.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Xn.lang.extend(ve.asn1.DERNull,ve.asn1.ASN1Object),ve.asn1.DERObjectIdentifier=function(r){var t=function(i){var n=i.toString(16);return 1==n.length&&(n="0"+n),n},e=function(i){var n="",a=new jt(i,10).toString(2),o=7-a.length%7;7==o&&(o=0);for(var l="",h=0;h<o;h++)l+="0";for(a=l+a,h=0;h<a.length-1;h+=7){var c=a.substr(h,7);h!=a.length-7&&(c="1"+c),n+=t(parseInt(c,2))}return n};ve.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(i){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=i},this.setValueOidString=function(i){if(!i.match(/^[0-9.]+$/))throw"malformed oid string: "+i;var n="",s=i.split("."),a=40*parseInt(s[0])+parseInt(s[1]);n+=t(a),s.splice(0,2);for(var o=0;o<s.length;o++)n+=e(s[o]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.setValueName=function(i){var n=ve.asn1.x509.OID.name2oid(i);if(""===n)throw"DERObjectIdentifier oidName undefined: "+i;this.setValueOidString(n)},this.getFreshValueHex=function(){return this.hV},void 0!==r&&("string"==typeof r?r.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(r):this.setValueName(r):void 0!==r.oid?this.setValueOidString(r.oid):void 0!==r.hex?this.setValueHex(r.hex):void 0!==r.name&&this.setValueName(r.name))},Xn.lang.extend(ve.asn1.DERObjectIdentifier,ve.asn1.ASN1Object),ve.asn1.DEREnumerated=function(r){ve.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=ve.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new jt(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==r&&(void 0!==r.int?this.setByInteger(r.int):"number"==typeof r?this.setByInteger(r):void 0!==r.hex&&this.setValueHex(r.hex))},Xn.lang.extend(ve.asn1.DEREnumerated,ve.asn1.ASN1Object),ve.asn1.DERUTF8String=function(r){ve.asn1.DERUTF8String.superclass.constructor.call(this,r),this.hT="0c"},Xn.lang.extend(ve.asn1.DERUTF8String,ve.asn1.DERAbstractString),ve.asn1.DERNumericString=function(r){ve.asn1.DERNumericString.superclass.constructor.call(this,r),this.hT="12"},Xn.lang.extend(ve.asn1.DERNumericString,ve.asn1.DERAbstractString),ve.asn1.DERPrintableString=function(r){ve.asn1.DERPrintableString.superclass.constructor.call(this,r),this.hT="13"},Xn.lang.extend(ve.asn1.DERPrintableString,ve.asn1.DERAbstractString),ve.asn1.DERTeletexString=function(r){ve.asn1.DERTeletexString.superclass.constructor.call(this,r),this.hT="14"},Xn.lang.extend(ve.asn1.DERTeletexString,ve.asn1.DERAbstractString),ve.asn1.DERIA5String=function(r){ve.asn1.DERIA5String.superclass.constructor.call(this,r),this.hT="16"},Xn.lang.extend(ve.asn1.DERIA5String,ve.asn1.DERAbstractString),ve.asn1.DERUTCTime=function(r){ve.asn1.DERUTCTime.superclass.constructor.call(this,r),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==r&&(void 0!==r.str?this.setString(r.str):"string"==typeof r&&r.match(/^[0-9]{12}Z$/)?this.setString(r):void 0!==r.hex?this.setStringHex(r.hex):void 0!==r.date&&this.setByDate(r.date))},Xn.lang.extend(ve.asn1.DERUTCTime,ve.asn1.DERAbstractTime),ve.asn1.DERGeneralizedTime=function(r){ve.asn1.DERGeneralizedTime.superclass.constructor.call(this,r),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==r&&(void 0!==r.str?this.setString(r.str):"string"==typeof r&&r.match(/^[0-9]{14}Z$/)?this.setString(r):void 0!==r.hex?this.setStringHex(r.hex):void 0!==r.date&&this.setByDate(r.date),!0===r.millis&&(this.withMillis=!0))},Xn.lang.extend(ve.asn1.DERGeneralizedTime,ve.asn1.DERAbstractTime),ve.asn1.DERSequence=function(r){ve.asn1.DERSequence.superclass.constructor.call(this,r),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++)t+=this.asn1Array[e].getEncodedHex();return this.hV=t,this.hV}},Xn.lang.extend(ve.asn1.DERSequence,ve.asn1.DERAbstractStructured),ve.asn1.DERSet=function(r){ve.asn1.DERSet.superclass.constructor.call(this,r),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++)t.push(this.asn1Array[e].getEncodedHex());return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},void 0!==r&&void 0!==r.sortflag&&0==r.sortflag&&(this.sortFlag=!1)},Xn.lang.extend(ve.asn1.DERSet,ve.asn1.DERAbstractStructured),ve.asn1.DERTaggedObject=function(r){ve.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,i){this.hT=e,this.isExplicit=t,this.asn1Object=i,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=i.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==r&&(void 0!==r.tag&&(this.hT=r.tag),void 0!==r.explicit&&(this.isExplicit=r.explicit),void 0!==r.obj&&(this.asn1Object=r.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},Xn.lang.extend(ve.asn1.DERTaggedObject,ve.asn1.ASN1Object);var RA,r,dhe=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),W2=function(r){function t(e){var i=r.call(this)||this;return e&&("string"==typeof e?i.parseKey(e):(t.hasPrivateKeyProperty(e)||t.hasPublicKeyProperty(e))&&i.parsePropertiesFrom(e)),i}return dhe(t,r),t.prototype.parseKey=function(e){try{var i=0,n=0,a=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(e)?function(r){var t;if(void 0===Bp){var e="0123456789ABCDEF",i=" \f\n\r\t\xa0\u2028\u2029";for(Bp={},t=0;t<16;++t)Bp[e.charAt(t)]=t;for(e=e.toLowerCase(),t=10;t<16;++t)Bp[e.charAt(t)]=t;for(t=0;t<i.length;++t)Bp[i.charAt(t)]=-1}var n=[],s=0,a=0;for(t=0;t<r.length;++t){var o=r.charAt(t);if("="==o)break;if(-1!=(o=Bp[o])){if(void 0===o)throw new Error("Illegal character at offset "+t);s|=o,++a>=2?(n[n.length]=s,s=0,a=0):s<<=4}}if(a)throw new Error("Hex encoding incomplete: 4 bits missing");return n}(e):OA.unarmor(e),o=Zle.decode(a);if(3===o.sub.length&&(o=o.sub[2].sub[0]),9===o.sub.length){i=o.sub[1].getHexStringValue(),this.n=Un(i,16),n=o.sub[2].getHexStringValue(),this.e=parseInt(n,16);var l=o.sub[3].getHexStringValue();this.d=Un(l,16);var h=o.sub[4].getHexStringValue();this.p=Un(h,16);var c=o.sub[5].getHexStringValue();this.q=Un(c,16);var d=o.sub[6].getHexStringValue();this.dmp1=Un(d,16);var p=o.sub[7].getHexStringValue();this.dmq1=Un(p,16);var f=o.sub[8].getHexStringValue();this.coeff=Un(f,16)}else{if(2!==o.sub.length)return!1;if(o.sub[0].sub){var g=o.sub[1].sub[0];i=g.sub[0].getHexStringValue(),this.n=Un(i,16),n=g.sub[1].getHexStringValue(),this.e=parseInt(n,16)}else i=o.sub[0].getHexStringValue(),this.n=Un(i,16),n=o.sub[1].getHexStringValue(),this.e=parseInt(n,16)}return!0}catch(y){return!1}},t.prototype.getPrivateBaseKey=function(){var e={array:[new ve.asn1.DERInteger({int:0}),new ve.asn1.DERInteger({bigint:this.n}),new ve.asn1.DERInteger({int:this.e}),new ve.asn1.DERInteger({bigint:this.d}),new ve.asn1.DERInteger({bigint:this.p}),new ve.asn1.DERInteger({bigint:this.q}),new ve.asn1.DERInteger({bigint:this.dmp1}),new ve.asn1.DERInteger({bigint:this.dmq1}),new ve.asn1.DERInteger({bigint:this.coeff})]};return new ve.asn1.DERSequence(e).getEncodedHex()},t.prototype.getPrivateBaseKeyB64=function(){return hC(this.getPrivateBaseKey())},t.prototype.getPublicBaseKey=function(){var e=new ve.asn1.DERSequence({array:[new ve.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new ve.asn1.DERNull]}),i=new ve.asn1.DERSequence({array:[new ve.asn1.DERInteger({bigint:this.n}),new ve.asn1.DERInteger({int:this.e})]}),n=new ve.asn1.DERBitString({hex:"00"+i.getEncodedHex()});return new ve.asn1.DERSequence({array:[e,n]}).getEncodedHex()},t.prototype.getPublicBaseKeyB64=function(){return hC(this.getPublicBaseKey())},t.wordwrap=function(e,i){return i=i||64,e?e.match(RegExp("(.{1,"+i+"})( +|$\n?)|(.{1,"+i+"})","g")).join("\n"):e},t.prototype.getPrivateKey=function(){var e="-----BEGIN RSA PRIVATE KEY-----\n";return(e+=t.wordwrap(this.getPrivateBaseKeyB64())+"\n")+"-----END RSA PRIVATE KEY-----"},t.prototype.getPublicKey=function(){var e="-----BEGIN PUBLIC KEY-----\n";return(e+=t.wordwrap(this.getPublicBaseKeyB64())+"\n")+"-----END PUBLIC KEY-----"},t.hasPublicKeyProperty=function(e){return(e=e||{}).hasOwnProperty("n")&&e.hasOwnProperty("e")},t.hasPrivateKeyProperty=function(e){return(e=e||{}).hasOwnProperty("n")&&e.hasOwnProperty("e")&&e.hasOwnProperty("d")&&e.hasOwnProperty("p")&&e.hasOwnProperty("q")&&e.hasOwnProperty("dmp1")&&e.hasOwnProperty("dmq1")&&e.hasOwnProperty("coeff")},t.prototype.parsePropertiesFrom=function(e){this.n=e.n,this.e=e.e,e.hasOwnProperty("d")&&(this.d=e.d,this.p=e.p,this.q=e.q,this.dmp1=e.dmp1,this.dmq1=e.dmq1,this.coeff=e.coeff)},t}(lhe),phe="undefined"!=typeof process?null===(RA=process.env)||void 0===RA?void 0:RA.npm_package_version:void 0,fhe=function(){function r(t){void 0===t&&(t={}),this.default_key_size=(t=t||{}).default_key_size?parseInt(t.default_key_size,10):1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null}return r.prototype.setKey=function(t){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new W2(t)},r.prototype.setPrivateKey=function(t){this.setKey(t)},r.prototype.setPublicKey=function(t){this.setKey(t)},r.prototype.decrypt=function(t){try{return this.getKey().decrypt(xA(t))}catch(e){return!1}},r.prototype.encrypt=function(t){try{return hC(this.getKey().encrypt(t))}catch(e){return!1}},r.prototype.sign=function(t,e,i){try{return hC(this.getKey().sign(t,e,i))}catch(n){return!1}},r.prototype.verify=function(t,e,i){try{return this.getKey().verify(t,xA(e),i)}catch(n){return!1}},r.prototype.getKey=function(t){if(!this.key){if(this.key=new W2,t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},r.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},r.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},r.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},r.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},r.version=phe,r}();let ghe=(()=>{class r{constructor(){this.encryptMod=new fhe,this.encryptMod.setPublicKey("MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAjv3fKIQFHpS4VtofUzCnkT6i4/RcvKpH7JUGcArC+AXp2QLv9d/q/0wfaV7Y1rigQu+2segowTRbGv/7plNBrz5aAbCTkichHUNmukQaiNXDKPRaLtIXS2Y5Rx4fodXfX3ga4pJjy7SBLml/A97/3jBcJoBLMRM/Zfx5gfekmtKuKL3LJ3TAuGry85PXjfKP3+nAKoFY7uX5cXwmyzUHSo+JC8SBf5zCGkkbSRkB/Eg88h/XC38eXsmgkZlseOlsZap5+mvVwJ2gCj23A38p+x2OeNrHGr3GrrPeZMedOgZLNFNKjafnHopPN2Ct8rZMtp0bt7WN+zK5npJ96H4QUQIDAQAB")}encrypt(e){return this.encryptMod.encrypt(e)||""}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Wp=(()=>{class r{constructor(e,i,n,s){this.userService=e,this.encryptionService=i,this.router=n,this.notificationService=s,this.TOKEN_NAME="token",this.isLoggedIn$=new ba(!1),this.isLoggedIn$.next(!!this.token)}get token(){return localStorage.getItem(this.TOKEN_NAME)}isLoggedIn(){return this.isLoggedIn$.value}registerNewUser(e){this.userService.registerUser(e).subscribe({next:i=>{i.token&&(localStorage.setItem(this.TOKEN_NAME,i.token),this.isLoggedIn$.next(!0),this.notificationService.sendMessage({message:"User registered successfully",type:Ui.success}),this.router.navigateByUrl("/"))},error:i=>{this.notificationService.sendMessage({message:"User could not be registered: "+i.error.msg,type:Ui.error})}})}loginUser(e){e.password=this.encryptionService.encrypt(e.password),this.userService.loginUser(e).subscribe({next:i=>{i.token&&(localStorage.setItem(this.TOKEN_NAME,i.token),this.isLoggedIn$.next(!0),this.notificationService.sendMessage({message:"User Logged In successfully",type:Ui.success}),this.router.navigateByUrl("/"))},error:i=>{this.notificationService.sendMessage({message:"User could not be Logged In: "+i.error.msg,type:Ui.error})}})}logOut(){localStorage.removeItem(this.TOKEN_NAME),this.isLoggedIn$.next(!1),this.router.navigateByUrl("/login"),this.notificationService.sendMessage({message:"Logged Out Successfully",type:Ui.success})}get user(){return this.token?function(r,t){if("string"!=typeof r)throw new oC("Invalid token specified");var e=!0===(t=t||{}).header?0:1;try{return JSON.parse(function(r){var t=r.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(N2(t).replace(/(.)/g,function(i,n){var s=n.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}catch(e){return N2(t)}}(r.split(".")[e]))}catch(i){throw new oC("Invalid token specified: "+i.message)}}(this.token):null}}return r.\u0275fac=function(e){return new(e||r)(le(Woe),le(ghe),le(dr),le(ku))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),q2=(()=>{class r{constructor(e){this.authService=e}canActivate(e,i){return!!this.authService.user&&e.data.roles.includes(this.authService.user.role)}}return r.\u0275fac=function(e){return new(e||r)(le(Wp))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Bt(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s}"function"==typeof SuppressedError&&SuppressedError;var Fg="ej2_instances",Bhe=0;function vC(r,t){var e=t;return e.unshift(void 0),new(Function.prototype.bind.apply(r,e))}function _(r,t){for(var e=t,i=r.replace(/\[/g,".").replace(/\]/g,"").split("."),n=0;n<i.length&&!Le(e);n++)e=e[i[parseInt(n.toString(),10)]];return e}function We(r,t,e){var a,l,i=r.replace(/\[/g,".").replace(/\]/g,"").split("."),n=e||{},s=n,o=i.length;for(a=0;a<o;a++)l=i[parseInt(a.toString(),10)],a+1===o?s[""+l]=void 0===t?{}:t:u(s[""+l])&&(s[""+l]={}),s=s[""+l];return n}function yC(r,t){delete r[""+t]}var qp="undefined"!=typeof window?window:{};function ko(r){return!u(r)&&r.constructor==={}.constructor}function ls(r,t){if(!u(t))for(var e=r,i=t,s="deepMerge",a=0,o=Object.keys(t);a<o.length;a++){var l=o[a];u(e[""+s])||-1===e[""+s].indexOf(l)||!ko(i[""+l])&&!Array.isArray(i[""+l])?e[""+l]=i[""+l]:z(e[""+l],e[""+l],i[""+l],!0)}}function z(r,t,e,i){var n=r&&"object"==typeof r?r:{},s=arguments.length;i&&(s-=1);for(var a=function(h){if(!o[h])return"continue";var c=o[h];Object.keys(c).forEach(function(d){var m,p=n[""+d],f=c[""+d],g=Array.isArray(f)&&Array.isArray(p)&&f.length!==p.length,y=!je()||!(p instanceof Event||g);i&&y&&(ko(f)||Array.isArray(f))?ko(f)?(m=p||{},Array.isArray(m)&&m.hasOwnProperty("isComplexArray")?z(m,{},f,i):n[""+d]=z(m,{},f,i)):(m=je()?p&&Object.keys(f).length:p||[],n[""+d]=z([],m,f,m&&m.length||f&&f.length)):n[""+d]=f})},o=arguments,l=1;l<s;l++)a(l);return n}function u(r){return null==r}function Le(r){return void 0===r}function vt(r){return r+"_"+Bhe++}function bC(r,t){return r===t||!(r===document||!r)&&bC(r.parentNode,t)}function Yp(r){try{throw new Error(r)}catch(t){throw t.message+"\n"+t.stack}}function $(r){var t=r+"";return t.match(/auto|cm|mm|in|px|pt|pc|%|em|ex|ch|rem|vw|vh|vmin|vmax/)?t:t+"px"}function je(){return false}function Qp(r){return Node,r}function Wn(r,t){var e="string"==typeof r?document.querySelector(r):r;if(e[""+Fg])for(var i=0,n=e[""+Fg];i<n.length;i++){var s=n[i];if(s instanceof t)return s}return null}var qn,qhe={latn:{_digits:"0123456789",_type:"numeric"}},Q2={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221e",nan:"NaN",exponential:"E"},G2=[0,1,2,3,4,5,6,7,8,9],gn=function(){function r(){}return r.getMainObject=function(t,e){return _("main."+e,t)},r.getNumberingSystem=function(t){return _("supplemental.numberingSystems",t)||this.numberingSystems},r.reverseObject=function(t,e){for(var n={},s=0,a=e||Object.keys(t);s<a.length;s++){var o=a[s];n.hasOwnProperty(t[o])||(n[t[o]]=o)}return n},r.getSymbolRegex=function(t){var e=t.map(function(n){return n.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}).join("|");return new RegExp(e,"g")},r.getSymbolMatch=function(t){for(var i={},n=0,s=Object.keys(Q2);n<s.length;n++){var a=s[n];i[t[a]]=Q2[a]}return i},r.constructRegex=function(t){for(var e=t.length,i="",n=0;n<e;n++)i+=n!==e-1?t[parseInt(n.toString(),10)]+"|":t[parseInt(n.toString(),10)];return i},r.convertValueParts=function(t,e,i){return t.replace(e,function(n){return i[n]})},r.getDefaultNumberingSystem=function(t){var e={};return e.obj=_("numbers",t),e.nSystem=_("defaultNumberingSystem",e.obj),e},r.getCurrentNumericOptions=function(t,e,i,n){var s={},a=this.getDefaultNumberingSystem(t);if(!Le(a.nSystem)||n){var o=n?_("obj.mapperDigits",a):_(a.nSystem+"._digits",e);if(!Le(o)){s.numericPair=this.reverseObject(o,G2);var l=RegExp;s.numberParseRegex=new l(this.constructRegex(o),"g"),s.numericRegex="["+o[0]+"-"+o[9]+"]",i&&(s.numericRegex=o[0]+"-"+o[9],s.symbolNumberSystem=_(n?"numberSymbols":"symbols-numberSystem-"+a.nSystem,a.obj),s.symbolMatch=this.getSymbolMatch(s.symbolNumberSystem),s.numberSystem=a.nSystem)}}return s},r.getNumberMapper=function(t,e,i){var n={mapper:{}},s=this.getDefaultNumberingSystem(t);if(!Le(s.nSystem)){n.numberSystem=s.nSystem,n.numberSymbols=_("symbols-numberSystem-"+s.nSystem,s.obj),n.timeSeparator=_("timeSeparator",n.numberSymbols);var a=_(s.nSystem+"._digits",e);if(!Le(a))for(var o=0,l=G2;o<l.length;o++){var h=l[o];n.mapper[h]=a[h]}}return n},r.nPair="numericPair",r.nRegex="numericRegex",r.numberingSystems=qhe,r}(),Yhe={DJF:"Fdj",ERN:"Nfk",ETB:"Br",NAD:"$",ZAR:"R",XAF:"FCFA",GHS:"GH\u20b5",XDR:"XDR",AED:"\u062f.\u0625.",BHD:"\u062f.\u0628.",DZD:"\u062f.\u062c.",EGP:"\u062c.\u0645.",ILS:"\u20aa",IQD:"\u062f.\u0639.",JOD:"\u062f.\u0627.",KMF:"CF",KWD:"\u062f.\u0643.",LBP:"\u0644.\u0644.",LYD:"\u062f.\u0644.",MAD:"\u062f.\u0645.",MRU:"\u0623.\u0645.",OMR:"\u0631.\u0639.",QAR:"\u0631.\u0642.",SAR:"\u0631.\u0633.",SDG:"\u062c.\u0633.",SOS:"S",SSP:"\xa3",SYP:"\u0644.\u0633.",TND:"\u062f.\u062a.",YER:"\u0631.\u064a.",CLP:"$",INR:"\u20b9",TZS:"TSh",EUR:"\u20ac",AZN:"\u20bc",RUB:"\u20bd",BYN:"Br",ZMW:"K",BGN:"\u043b\u0432.",NGN:"\u20a6",XOF:"CFA",BDT:"\u09f3",CNY:"\xa5",BAM:"\u041a\u041c",UGX:"USh",USD:"$",CZK:"K\u010d",GBP:"\xa3",DKK:"kr.",KES:"Ksh",CHF:"CHF",MVR:"\u0783.",BTN:"Nu.",XCD:"EC$",AUD:"$",BBD:"$",BIF:"FBu",BMD:"$",BSD:"$",BWP:"P",BZD:"$",CAD:"$",NZD:"$",FJD:"$",FKP:"\xa3",GIP:"\xa3",GMD:"D",GYD:"$",HKD:"$",IDR:"Rp",JMD:"$",KYD:"$",LRD:"$",MGA:"Ar",MOP:"MOP$",MUR:"Rs",MWK:"MK",MYR:"RM",PGK:"K",PHP:"\u20b1",PKR:"Rs",RWF:"RF",SBD:"$",SCR:"SR",SEK:"kr",SGD:"$",SHP:"\xa3",SLL:"Le",ANG:"NAf.",SZL:"E",TOP:"T$",TTD:"$",VUV:"VT",WST:"WS$",ARS:"$",BOB:"Bs",BRL:"R$",COP:"$",CRC:"\u20a1",CUP:"$",DOP:"$",GTQ:"Q",HNL:"L",MXN:"$",NIO:"C$",PAB:"B/.",PEN:"S/",PYG:"\u20b2",UYU:"$",VES:"Bs.S",IRR:"\u0631\u064a\u0627\u0644",GNF:"FG",CDF:"FC",HTG:"G",XPF:"FCFP",HRK:"kn",HUF:"Ft",AMD:"\u058f",ISK:"kr",JPY:"\xa5",GEL:"\u20be",CVE:"\u200b",KZT:"\u20b8",KHR:"\u17db",KPW:"\u20a9",KRW:"\u20a9",KGS:"\u0441\u043e\u043c",AOA:"Kz",LAK:"\u20ad",MZN:"MTn",MKD:"\u0434\u0435\u043d",MNT:"\u20ae",BND:"$",MMK:"K",NOK:"kr",NPR:"\u0930\u0941",AWG:"Afl.",SRD:"$",PLN:"z\u0142",AFN:"\u060b",STN:"Db",MDL:"L",RON:"lei",UAH:"\u20b4",LKR:"\u0dbb\u0dd4.",ALL:"Lek\xeb",RSD:"\u0434\u0438\u043d.",TJS:"\u0441\u043c\u043d",THB:"\u0e3f",TMT:"m.",TRY:"\u20ba",UZS:"\u0441\u045e\u043c",VND:"\u20ab",TWD:"NT$"};!function(r){var t=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];r.getHijriDate=function(n){var s=n.getDate(),a=n.getMonth(),o=n.getFullYear(),l=a+1,h=o;l<3&&(h-=1,l+=12);var c=Math.floor(h/100),d=c-Math.floor(c/4)-2,p=Math.floor(365.25*(h+4716))+Math.floor(30.6001*(l+1))+s-d-1524,f=p+(d=(c=Math.floor((p-1867216.25)/36524.25))-Math.floor(c/4)+1)+1524,m=Math.floor((f-122.1)/365.25),g=Math.floor(365.25*m),y=Math.floor((f-g)/30.6001);s=f-g-Math.floor(30.6001*y),(a=Math.floor((f-g)/20.6001))>13&&(m+=1,a-=12),a-=1,o=m-4716;var C=p-24e5,E=10631/30,S=p-1948084,w=Math.floor(S/10631);S-=10631*w;var A=Math.floor((S-.1335)/E),T=30*w+A;S-=Math.floor(A*E+.1335);var k=Math.floor((S+28.5001)/29.5);13===k&&(k=12);for(var j=S-Math.floor(29.5001*k-29),J=0;J<t.length&&!(t[parseInt(J.toString(),10)]>C);J++);var ne=J+16260,R=Math.floor((ne-1)/12),G=R+1,H=ne-12*R,V=C-t[J-1]+1;return(V+"").length>2&&(V=j,H=k,G=T),{year:G,month:H,date:V}},r.toGregorian=function(n,s,a){var g=Math.floor(a+t[12*(n-1)+1+(s-1)-16260-1]-1+24e5+.5),y=Math.floor((g-1867216.25)/36524.25),C=1524+(y=g+1+y-Math.floor(y/4)),E=Math.floor((C-122.1)/365.25),S=Math.floor(365.25*E),w=Math.floor((C-S)/30.6001),A=C-S-Math.floor(30.6001*w),T=w-(w>13.5?13:1),k=E-(T>2.5?4716:4715);return k<=0&&T--,new Date(k+"/"+T+"/"+A)}}(qn||(qn={}));var Ghe=/\/MMMMM|MMMM|MMM|a|LLLL|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi,$2="stand-alone",$he=["sun","mon","tue","wed","thu","fri","sat"],K2={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"},Khe={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era",f:"milliseconds"},X2=function(){function r(){}return r.dateFormat=function(t,e,i){var n=this,s=rt.getDependables(i,t,e.calendar),o=(_("parserObject.numbers",s),s.dateObject),l={isIslamic:rt.islamicRegex.test(e.calendar)},h=e.format||rt.getResultantPattern(e.skeleton,s.dateObject,e.type,!1,"");if(l.dateSeperator=rt.getDateSeparator(s.dateObject),Le(h))Yp("Format options or type given must be invalid");else{h=rt.ConvertDateToWeekFormat(h),l.pattern=h,l.numMapper=gn.getNumberMapper(s.parserObject,gn.getNumberingSystem(i));for(var d=0,p=h.match(Ghe)||[];d<p.length;d++){var f=p[d],m=f.length,g=f[0];switch("K"===g&&(g="h"),g){case"E":case"c":l.weekday=s.dateObject[rt.days][$2][rt.monthIndex[m]];break;case"M":case"L":l.month=s.dateObject[rt.month][$2][rt.monthIndex[m]];break;case"a":l.designator=_("dayPeriods.format.wide",o);break;case"G":l.era=_("eras."+(m<=3?"eraAbbr":4===m?"eraNames":"eraNarrow"),s.dateObject);break;case"z":l.timeZone=_("dates.timeZoneNames",s.parserObject)}}}return function(C){return isNaN(C.getDate())?null:n.intDateFormatter(C,l)}},r.intDateFormatter=function(t,e){for(var n="",s=e.pattern.match(rt.dateParseRegex),a=this.getCurrentDateValue(t,e.isIslamic),o=0,l=s;o<l.length;o++){var h=l[o],c=h.length,d=h[0];"K"===d&&(d="h");var p=void 0,f="",m=void 0,g=void 0,y="";switch(d){case"M":case"L":p=a.month,c>2?n+=e.month[p]:m=!0;break;case"E":case"c":n+=e.weekday[$he[t.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(m=!0,"d"===d)p=a.date;else if("f"===d){m=!1,g=!0;var C=(f=(f=t[K2[d]]().toString()).substring(0,c)).length;if(c!==C){if(c>3)continue;for(var E=0;E<c-C;E++)f="0"+f.toString()}y+=f}else p=t[K2[d]]();"h"===d&&(p=p%12||12);break;case"y":g=!0,y+=a.year,2===c&&(y=y.substr(y.length-2));break;case"a":var S=t.getHours()<12?"am":"pm";n+=e.designator[S];break;case"G":var w=t.getFullYear()<0?0:1,A=e.era[w];u(A)&&(A=e.era[w?0:1]),n+=A||"";break;case"'":n+="''"===h?"'":h.replace(/'/g,"");break;case"z":var T=t.getTimezoneOffset(),k=c<4?"+H;-H":e.timeZone.hourFormat;k=k.replace(/:/g,e.numMapper.timeSeparator),0===T?n+=e.timeZone.gmtZeroFormat:(g=!0,y=this.getTimeZoneValue(T,k)),y=e.timeZone.gmtFormat.replace(/\{0\}/,y);break;case":":n+=e.numMapper.numberSymbols.timeSeparator;break;case"/":n+=e.dateSeperator;break;case"W":m=!0,p=rt.getWeekOfYear(t);break;default:n+=h}m&&(g=!0,y=this.checkTwodigitNumber(p,c)),g&&(n+=gn.convertValueParts(y,rt.latnParseRegex,e.numMapper.mapper))}return n},r.getCurrentDateValue=function(t,e){return e?qn.getHijriDate(t):{year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate()}},r.checkTwodigitNumber=function(t,e){var i=t+"";return 2===e&&2!==i.length?"0"+i:i},r.getTimeZoneValue=function(t,e){var i=this,s=e.split(";")[t>0?1:0],a=Math.abs(t);return s.replace(/HH?|mm/g,function(o){var l=o.length,h=-1!==o.indexOf("H");return i.checkTwodigitNumber(Math.floor(h?a/60:a%60),l)})},r}(),Z2={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},Gp=["infinity","nan","group","decimal","exponential"],J2=function(){function r(){}return r.numberFormatter=function(t,e,i){var l,n=this,s=z({},e),a={},o={},h=rt.getDependables(i,t,"",!0);o.numberMapper=gn.getNumberMapper(h.parserObject,gn.getNumberingSystem(i),!0),o.currencySymbol=rt.getCurrencySymbol(h.numericObject,s.currency||Bg,e.altSymbol),o.percentSymbol=o.numberMapper.numberSymbols.percentSign,o.minusSymbol=o.numberMapper.numberSymbols.minusSign;var d=o.numberMapper.numberSymbols;if(e.format&&!rt.formatRegex.test(e.format))a=rt.customFormat(e.format,o,h.numericObject);else{z(s,rt.getProperNumericSkeleton(e.format||"N")),s.isCurrency="currency"===s.type,s.isPercent="percent"===s.type,l=rt.getSymbolPattern(s.type,o.numberMapper.numberSystem,h.numericObject,s.isAccount),s.groupOne=this.checkValueRange(s.maximumSignificantDigits,s.minimumSignificantDigits,!0),this.checkValueRange(s.maximumFractionDigits,s.minimumFractionDigits,!1,!0),Le(s.fractionDigits)||(s.minimumFractionDigits=s.maximumFractionDigits=s.fractionDigits),Le(s.useGrouping)&&(s.useGrouping=!0),s.isCurrency&&(l=l.replace(/\u00A4/g,rt.defaultCurrency));var p=l.split(";");if(a.nData=rt.getFormatData(p[1]||"-"+p[0],!0,o.currencySymbol),a.pData=rt.getFormatData(p[0],!1,o.currencySymbol),s.useGrouping&&(s.groupSeparator=d[Gp[2]],s.groupData=this.getGroupingDetails(p[0])),Le(s.minimumFractionDigits)&&(s.minimumFractionDigits=a.nData.minimumFraction),Le(s.maximumFractionDigits)){var m=a.nData.maximumFraction;s.maximumFractionDigits=Le(m)&&s.isPercent?0:m}var g=s.minimumFractionDigits,y=s.maximumFractionDigits;!Le(g)&&!Le(y)&&g>y&&(s.maximumFractionDigits=g)}return z(a.nData,s),z(a.pData,s),function(C){return isNaN(C)?d[Gp[1]]:isFinite(C)?n.intNumberFormatter(C,a,o,e):d[Gp[0]]}},r.getGroupingDetails=function(t){var e={},i=t.match(rt.negativeDataRegex);if(i&&i[4]){var n=i[4],s=n.lastIndexOf(",");if(-1!==s){var a=n.split(".")[0];e.primary=a.length-s-1;var o=n.lastIndexOf(",",s-1);-1!==o&&(e.secondary=s-1-o)}}return e},r.checkValueRange=function(t,e,i,n){var s=n?"f":"s",a=0,o=Z2["l"+s],l=Z2["m"+s];if(Le(t)||(this.checkRange(t,o,n),a++),Le(e)||(this.checkRange(e,l,n),a++),2===a){if(!(t<e))return!0;Yp(l+"specified must be less than the"+o)}else i&&1===a&&Yp("Both"+l+"and"+l+"must be present");return!1},r.checkRange=function(t,e,i){var n=i?[0,20]:[1,21];(t<n[0]||t>n[1])&&Yp(e+"value must be within the range"+n[0]+"to"+n[1])},r.intNumberFormatter=function(t,e,i,n){var s;if(!Le(e.nData.type)){t<0?(t*=-1,s=e.nData):s=0===t&&e.zeroData||e.pData;var a="";if(s.isPercent&&(t*=100),s.groupOne)a=this.processSignificantDigits(t,s.minimumSignificantDigits,s.maximumSignificantDigits);else if(a=this.processFraction(t,s.minimumFractionDigits,s.maximumFractionDigits,n),s.minimumIntegerDigits&&(a=this.processMinimumIntegers(a,s.minimumIntegerDigits)),i.isCustomFormat&&s.minimumFractionDigits<s.maximumFractionDigits&&/\d+\.\d+/.test(a)){for(var o=a.split("."),l=o[1],c=l.length-1;c>=0&&"0"===l[""+c]&&c>=s.minimumFractionDigits;c--)l=l.slice(0,c);a=o[0]+"."+l}return"scientific"===s.type&&(a=(a=t.toExponential(s.maximumFractionDigits)).replace("e",i.numberMapper.numberSymbols[Gp[4]])),a=a.replace(".",i.numberMapper.numberSymbols[Gp[3]]),a="#,###,,;(#,###,,)"===s.format?this.customPivotFormat(parseInt(a)):a,s.useGrouping&&(a=this.groupNumbers(a,s.groupData.primary,s.groupSeparator||",",i.numberMapper.numberSymbols[Gp[3]]||".",s.groupData.secondary)),a=gn.convertValueParts(a,rt.latnParseRegex,i.numberMapper.mapper),"N/A"===s.nlead?s.nlead:"0"===a&&n&&"0"===n.format?a+s.nend:s.nlead+a+s.nend}},r.processSignificantDigits=function(t,e,i){var n=t+"";return n.length<e?t.toPrecision(e):+(n=t.toPrecision(i))+""},r.groupNumbers=function(t,e,i,n,s){for(var a=!u(s)&&0!==s,o=t.split(n),l=o[0],h=l.length,c="";h>e;)c=l.slice(h-e,h)+(c.length?i+c:""),h-=e,a&&(e=s,a=!1);return o[0]=l.slice(0,h)+(c.length?i:"")+c,o.join(n)},r.processFraction=function(t,e,i,n){var s=(t+"").split(".")[1],a=s?s.length:0;if(e&&a<e){var o="";if(0!==a){o+=t;for(var l=0;l<e-a;l++)o+="0";return o}return o=t.toFixed(e),t.toFixed(e)}if(!u(i)&&(a>i||0===i))return t.toFixed(i);var h=t+"";return"0"===h[0]&&n&&"###.00"===n.format&&(h=h.slice(1)),h},r.processMinimumIntegers=function(t,e){var i=t.split("."),n=i[0],s=n.length;if(s<e){for(var a=0;a<e-s;a++)n="0"+n;i[0]=n}return i.join(".")},r.customPivotFormat=function(t){if(t>=5e5){var n=(t/=1e6).toString().split(".")[1];return n&&+n.substring(0,1)>=5?Math.ceil(t).toString():Math.floor(t).toString()}return""},r}(),e4="stand-alone",ece=/^[0-9]*$/,t4={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth",milliseconds:"setMilliseconds"},ice=function(){function r(){}return r.dateParser=function(t,e,i){var c,n=this,s=rt.getDependables(i,t,e.calendar),a=gn.getCurrentNumericOptions(s.parserObject,gn.getNumberingSystem(i),!1,!1),o={},l=e.format||rt.getResultantPattern(e.skeleton,s.dateObject,e.type,!1,""),h="";if(Le(l))Yp("Format options or type given must be invalid");else{l=rt.ConvertDateToWeekFormat(l),o={isIslamic:rt.islamicRegex.test(e.calendar),pattern:l,evalposition:{},culture:t};for(var d=l.match(rt.dateParseRegex)||[],p=d.length,f=0,m=0,g=!1,y=a.numericRegex,C=gn.getNumberMapper(s.parserObject,gn.getNumberingSystem(i)),E=0;E<p;E++){var S=d[parseInt(E.toString(),10)],w=S.length,A="K"===S[0]?"h":S[0],T=void 0,k=void 0,j=Khe[A],J=2===w?"":"?";switch(g&&(f=m,g=!1),A){case"E":case"c":var R=gn.reverseObject(s.dateObject[rt.days][e4][rt.monthIndex[w]]);h+="("+Object.keys(R).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":case"f":if(k=!0,("M"===A||"L"===A)&&w>2){o[j]=gn.reverseObject(s.dateObject.months[e4][rt.monthIndex[w]]),h+="("+Object.keys(o[j]).join("|")+")"}else if("f"===A){if(w>3)continue;T=!0,h+="("+y+y+"?"+y+"?)"}else T=!0,h+="("+y+y+J+")";"h"===A&&(o.hour12=!0);break;case"W":h+="("+y+(1===w?"?":"")+y+")";break;case"y":k=T=!0,h+=2===w?"("+y+y+")":"("+y+"{"+w+",})";break;case"a":k=!0;var V=_("dayPeriods.format.wide",s.dateObject);o[j]=gn.reverseObject(V),h+="("+Object.keys(o[j]).join("|")+")";break;case"G":k=!0,o[j]=gn.reverseObject(_("eras."+(w<=3?"eraAbbr":4===w?"eraNames":"eraNarrow"),s.dateObject)),h+="("+Object.keys(o[j]).join("|")+"?)";break;case"z":k=0!==(new Date).getTimezoneOffset(),o[j]=_("dates.timeZoneNames",s.parserObject);var L=o[j],U=(c=w<4)?"+H;-H":L.hourFormat;U=U.replace(/:/g,C.timeSeparator),h+="("+this.parseTimeZoneRegx(U,L,y)+")?",g=!0,m=c?6:12;break;case"'":h+="("+S.replace(/'/g,"")+")?";break;default:h+="([\\D])"}if(k&&(o.evalposition[""+j]={isNumber:T,pos:E+1+f,hourOnly:c}),E===p-1&&!u(h)){var de=RegExp;o.parserRegex=new de("^"+h+"$","i")}}}return function(Se){var ge=n.internalDateParse(Se,o,a);if(u(ge)||!Object.keys(ge).length)return null;if(o.isIslamic){var we={},De=ge.year,Ge=ge.day,Me=ge.month,ht=De?De+"":"",Dt=2===ht.length;(!De||!Me||!Ge||Dt)&&(we=qn.getHijriDate(new Date)),Dt&&(De=parseInt((we.year+"").slice(0,2)+ht,10));var Je=qn.toGregorian(De||we.year,Me||we.month,Ge||we.date);ge.year=Je.getFullYear(),ge.month=Je.getMonth()+1,ge.day=Je.getDate()}return n.getDateObject(ge)}},r.getDateObject=function(t,e){var i=e||new Date;i.setMilliseconds(0);var s=t.year,a=t.designator,o=t.timeZone;Le(s)||((s+"").length<=2&&(s+=100*Math.floor(i.getFullYear()/100)),i.setFullYear(s));for(var c=0,d=["hour","minute","second","milliseconds","month","day"];c<d.length;c++){var p=d[c],f=t[p];if(Le(f)&&"day"===p&&i.setDate(1),!Le(f))if("month"===p){if((f-=1)<0||f>11)return new Date("invalid");var m=i.getDate();i.setDate(1),i[t4[p]](f);var g=new Date(i.getFullYear(),f+1,0).getDate();i.setDate(m<g?m:g)}else{if("day"===p){var y=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();if(f<1||f>y)return null}i[t4[p]](f)}}if(!Le(a)){var C=i.getHours();"pm"===a?i.setHours(C+(12===C?0:12)):12===C&&i.setHours(0)}if(!Le(o)){var E=o-i.getTimezoneOffset();0!==E&&i.setMinutes(i.getMinutes()+E)}return i},r.internalDateParse=function(t,e,i){var n=t.match(e.parserRegex),s={hour:0,minute:0,second:0};if(u(n))return null;for(var o=0,l=Object.keys(e.evalposition);o<l.length;o++){var h=l[o],c=e.evalposition[""+h],d=n[c.pos];if(c.isNumber)s[h]=this.internalNumberParser(d,i);else if("timeZone"!==h||Le(d))d="month"!==h||e.isIslamic||"en"!==e.culture&&"en-GB"!==e.culture&&"en-US"!==e.culture?d:d[0].toUpperCase()+d.substring(1).toLowerCase(),d="month"!==h&&"designator"===h&&"en-GB"===e.culture?d.toLowerCase():d,s[h]=e[h][d];else{var p=c.pos,f=void 0,m=n[p+1],g=!Le(m);c.hourOnly?f=60*this.getZoneValue(g,m,n[p+4],i):(f=60*this.getZoneValue(g,m,n[p+7],i),f+=this.getZoneValue(g,n[p+4],n[p+10],i)),u(f)||(s[""+h]=f)}}return e.hour12&&(s.hour12=!0),s},r.internalNumberParser=function(t,e){return t=gn.convertValueParts(t,e.numberParseRegex,e.numericPair),ece.test(t)?+t:null},r.parseTimeZoneRegx=function(t,e,i){var s,n=e.gmtFormat,a="("+i+")("+i+")";return s=t.replace("+","\\+"),(s=-1!==t.indexOf("HH")?s.replace(/HH|mm/g,"("+a+")"):s.replace(/H|m/g,"("+a+"?)")).split(";").map(function(l){return n.replace("{0}",l)}).join("|")+"|"+e.gmtZeroFormat},r.getZoneValue=function(t,e,i,n){var s=t?e:i;if(!s)return 0;var a=this.internalNumberParser(s,n);return t?-a:a},r}(),sce=new RegExp("^([^0-9]*)(([0-9,]*[0-9]+)(.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$"),rce=/,/g,ace=["minusSign","infinity"],oce=function(){function r(){}return r.numberParser=function(t,e,i){var o,n=this,s=rt.getDependables(i,t,"",!0),a={custom:!0};rt.formatRegex.test(e.format)||!e.format?(z(a,rt.getProperNumericSkeleton(e.format||"N")),a.custom=!1,a.fractionDigits||e.maximumFractionDigits&&(a.maximumFractionDigits=e.maximumFractionDigits)):z(a,rt.customFormat(e.format,null,null));var h;_("numbers",s.parserObject);if(o=gn.getCurrentNumericOptions(s.parserObject,gn.getNumberingSystem(i),!0,!1),a.symbolRegex=gn.getSymbolRegex(Object.keys(o.symbolMatch)),a.infinity=o.symbolNumberSystem[ace[1]],h=rt.getSymbolPattern(a.type,o.numberSystem,s.numericObject,a.isAccount)){var c=(h=h.replace(/\u00A4/g,rt.defaultCurrency)).split(";");a.nData=rt.getFormatData(c[1]||"-"+c[0],!0,""),a.pData=rt.getFormatData(c[0],!0,"")}return function(d){return n.getParsedNumber(d,a,o)}},r.getParsedNumber=function(t,e,i){var n,s,a,o,l,h;if(-1!==t.indexOf(e.infinity))return 1/0;t=gn.convertValueParts(t,e.symbolRegex,i.symbolMatch),0===(t=-1!==(t=gn.convertValueParts(t,i.numberParseRegex,i.numericPair)).indexOf("-")?t.replace("-.","-0."):t).indexOf(".")&&(t="0"+t);var c=t.match(sce);if(u(c))return NaN;o=c[1],a=c[2];var d=c[5];return l=c[6],s=(n=e.custom?o===e.nData.nlead&&l===e.nData.nend:-1!==o.indexOf(e.nData.nlead)&&-1!==l.indexOf(e.nData.nend))?e.nData.isPercent:e.pData.isPercent,a=a.replace(rce,""),d&&(a+=d),h=+a,("percent"===e.type||s)&&(h/=100),(e.custom||e.fractionDigits)&&(h=parseFloat(h.toFixed(e.custom?n?e.nData.maximumFractionDigits:e.pData.maximumFractionDigits:e.fractionDigits))),e.maximumFractionDigits&&(h=this.convertMaxFracDigits(a,e,h,n)),n&&(h*=-1),h},r.convertMaxFracDigits=function(t,e,i,n){var s=t.split(".");return s[1]&&s[1].length>e.maximumFractionDigits&&(i=+i.toFixed(e.custom?n?e.nData.maximumFractionDigits:e.pData.maximumFractionDigits:e.maximumFractionDigits)),i},r}(),Vg=function(){function r(t){this.ranArray=[],this.boundedEvents={},!u(t)&&(this.context=t)}return r.prototype.on=function(t,e,i,n){if(!u(e)){var s=i||this.context;if(this.notExist(t))return void(this.boundedEvents[""+t]=[{handler:e,context:s,id:n}]);u(n)?this.isHandlerPresent(this.boundedEvents[""+t],e)||this.boundedEvents[""+t].push({handler:e,context:s}):-1===this.ranArray.indexOf(n)&&(this.ranArray.push(n),this.boundedEvents[""+t].push({handler:e,context:s,id:n}))}},r.prototype.off=function(t,e,i){if(!this.notExist(t)){var n=_(t,this.boundedEvents);if(e){for(var s=0;s<n.length;s++)if(i){if(n[parseInt(s.toString(),10)].id===i){n.splice(s,1);var a=this.ranArray.indexOf(i);-1!==a&&this.ranArray.splice(a,1);break}}else if(e===n[parseInt(s.toString(),10)].handler){n.splice(s,1);break}}else delete this.boundedEvents[""+t]}},r.prototype.notify=function(t,e,i,n){if(this.notExist(t))i&&i.call(this,e);else{e&&(e.name=t);var a=_(t,this.boundedEvents).slice(0);if(window.Blazor)return this.blazorCallback(a,e,i,n,0);for(var o=0,l=a;o<l.length;o++){var h=l[o];h.handler.call(h.context,e)}i&&i.call(this,e)}},r.prototype.blazorCallback=function(t,e,i,n,s){var a=this,o=s===t.length-1;if(s<t.length){var l=t[parseInt(s.toString(),10)],h=l.handler.call(l.context,e);if(h&&"function"==typeof h.then){if(!i)return h;h.then(function(c){if(c="string"==typeof c&&a.isJson(c)?JSON.parse(c,a.dateReviver):c,z(e,e,c,!0),!i||!o)return a.blazorCallback(t,e,i,n,s+1);i.call(l.context,e)}).catch(function(c){n&&n.call(l.context,"string"==typeof c&&a.isJson(c)?JSON.parse(c,a.dateReviver):c)})}else{if(!i||!o)return this.blazorCallback(t,e,i,n,s+1);i.call(l.context,e)}}},r.prototype.dateReviver=function(t,e){return je&&"string"==typeof e&&null!==e.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?new Date(e):e},r.prototype.isJson=function(t){try{JSON.parse(t)}catch(e){return!1}return!0},r.prototype.destroy=function(){this.boundedEvents=this.context=void 0},r.prototype.offIntlEvents=function(){var t=this.boundedEvents.notifyExternalChange;if(t){for(var e=0;e<t.length;e++){var i=t[0].context;i&&i.detectFunction&&i.randomId&&!i.isRendered&&(this.off("notifyExternalChange",i.detectFunction,i.randomId),e--)}this.boundedEvents.notifyExternalChange.length||delete this.boundedEvents.notifyExternalChange}},r.prototype.notExist=function(t){return!1===this.boundedEvents.hasOwnProperty(t)||this.boundedEvents[t].length<=0},r.prototype.isHandlerPresent=function(t,e){for(var i=0,n=t;i<n.length;i++)if(n[i].handler===e)return!0;return!1},r}(),Pu=new Vg,ji={},jg="en-US",Bg="USD",UA=["numericObject","dateObject"],Li=function(){function r(t){t&&(this.culture=t)}return r.prototype.getDateFormat=function(t){return X2.dateFormat(this.getCulture(),t||{type:"date",skeleton:"short"},ji)},r.prototype.getNumberFormat=function(t){return t&&!t.currency&&(t.currency=Bg),J2.numberFormatter(this.getCulture(),t||{},ji)},r.prototype.getDateParser=function(t){return ice.dateParser(this.getCulture(),t||{skeleton:"short",type:"date"},ji)},r.prototype.getNumberParser=function(t){return oce.numberParser(this.getCulture(),t||{format:"N"},ji)},r.prototype.formatNumber=function(t,e){return this.getNumberFormat(e)(t)},r.prototype.formatDate=function(t,e){return this.getDateFormat(e)(t)},r.prototype.parseDate=function(t,e){return this.getDateParser(e)(t)},r.prototype.parseNumber=function(t,e){return this.getNumberParser(e)(t)},r.prototype.getDatePattern=function(t,e){return rt.getActualDateTimeFormat(this.getCulture(),t,ji,e)},r.prototype.getNumberPattern=function(t,e){return rt.getActualNumberFormat(this.getCulture(),t,ji,e)},r.prototype.getFirstDayOfWeek=function(){return rt.getWeekData(this.getCulture(),ji)},r.prototype.getCulture=function(){return this.culture||jg},r}();function Hg(r,t){var e=rt.getDependables(ji,r,"",!0)[UA[0]],i=rt.getDependables(ji,r,"")[UA[1]],n=_("defaultNumberingSystem",e),s=_("symbols-numberSystem-"+n,e),a=rt.getSymbolPattern(t||"decimal",n,e,!1);return z(s,rt.getFormatData(a,!0,"",!0),{dateSeparator:rt.getDateSeparator(i)})}function Ps(r){return rt.getDependables(ji,"",r,!1)[UA[1]]}var rt,i4=RegExp,n4={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}};!function(r){r.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,r.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*[0#\ ]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,r.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;var t=/[0-9]/g;r.defaultCurrency="$";var e=["infinity","nan","group","decimal"],i=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,n={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};r.dateConverterMapper=/dddd|ddd/gi,r.islamicRegex=/^islamic/;var a={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};r.formatRegex=new i4("(^[ncpae]{1})([0-1]?[0-9]|20)?$","i"),r.currencyFormatRegex=new i4("(^[ca]{1})([0-1]?[0-9]|20)?$","i"),r.curWithoutNumberRegex=/(c|a)$/gi;var o={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};function l(V,B,F,L,U){var ee,de=F||"date";if(U)ee=p({skeleton:V},U).format||p({skeleton:"d"},"en-US").format;else{if(-1!==r.basicPatterns.indexOf(V)){if(ee=_(de+"Formats."+V,B),"dateTime"===de){var Se=_("dateFormats."+V,B),ge=_("timeFormats."+V,B);ee=ee.replace("{1}",Se).replace("{0}",ge)}}else ee=_("dateTimeFormats.availableFormats."+V,B);Le(ee)&&"yMd"===V&&(ee="M/d/y")}return ee}function h(V,B,F,L){var U={},ee=F||"gregorian";(U.parserObject=gn.getMainObject(V,B)||r.defaultObject,L)?U.numericObject=_("numbers",U.parserObject):U.dateObject=_("dates.calendars."+ee,U.parserObject);return U}function c(V,B,F,L){return _(V+"Formats-numberSystem-"+B+(L?".accounting":".standard"),F)||(L?_(V+"Formats-numberSystem-"+B+".standard",F):"")}function d(V){V.match(r.dateConverterMapper);return V}function p(V,B){var F=V.format||V.skeleton,L=_((B||"en-US")+"."+F,n4);return L||(L=_("en-US."+F,n4)),L&&(L=d(L),V.format=L.replace(/tt/,"a")),V}function f(V){var B=V.match(r.formatRegex),F={},L=B[1].toUpperCase();return F.isAccount="A"===L,F.type=r.patternMatcher[L],V.length>1&&(F.fractionDigits=parseInt(B[2],10)),F}function m(V,B,F,L){var U=L?{}:{nlead:"",nend:""},ee=V.match(r.customRegex);if(ee){L||(U.nlead=g(ee[1],F),U.nend=g(ee[10],F),U.groupPattern=ee[4]);var de=ee[7];if(de&&B){var Se=de.match(t);U.minimumFraction=u(Se)?0:Se.length,U.maximumFraction=de.length-1}}return U}function g(V,B){return V?(V=V.replace(r.defaultCurrency,B),""===B?V.trim():V):""}function y(V,B,F){return _("currencies."+B+(F?"."+F:".symbol"),V)||_("currencies."+B+".symbol-alt-narrow",V)||"$"}function E(V,B,F){var L={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},U=V.match(r.customRegex);if(u(U)||""===U[5]&&"N/A"!==V)return L.type=void 0,L;L.nlead=U[1],L.nend=U[10];var ee=U[6],de=!!ee.match(/\ $/g),Se=-1!==ee.replace(/\ $/g,"").indexOf(" ");L.useGrouping=-1!==ee.indexOf(",")||Se,ee=ee.replace(/,/g,"");var ge=U[7];if(-1!==ee.indexOf("0")&&(L.minimumIntegerDigits=ee.length-ee.indexOf("0")),u(ge)||(L.minimumFractionDigits=ge.lastIndexOf("0"),L.maximumFractionDigits=ge.lastIndexOf("#"),-1===L.minimumFractionDigits&&(L.minimumFractionDigits=0),(-1===L.maximumFractionDigits||L.maximumFractionDigits<L.minimumFractionDigits)&&(L.maximumFractionDigits=L.minimumFractionDigits)),u(B)?z(L,S([L.nlead,L.nend],"%","%")):(B.isCustomFormat=!0,z(L,S([L.nlead,L.nend],"$",B.currencySymbol)),L.isCurrency||z(L,S([L.nlead,L.nend],"%",B.percentSymbol))),!u(F)){var we=c(L.type,B.numberMapper.numberSystem,F,!1);L.useGrouping&&(L.groupSeparator=Se?" ":B.numberMapper.numberSymbols[e[2]],L.groupData=J2.getGroupingDetails(we.split(";")[0])),L.nlead=L.nlead.replace(/'/g,""),L.nend=de?" "+L.nend.replace(/'/g,""):L.nend.replace(/'/g,"")}return L}function S(V,B,F){for(var L={nlead:V[0],nend:V[1]},U=0;U<2;U++){var ee=V[parseInt(U.toString(),10)],de=ee.indexOf(B);if(-1!==de&&(de<ee.indexOf("'")||de>ee.lastIndexOf("'"))){L[o[U]]=ee.substr(0,de)+F+ee.substr(de+1),L[o[B]]=!0,L.type=L.isCurrency?"currency":"percent";break}}return L}function j(V,B,F){V+=".";for(var L=0;L<B;L++)V+="0";if(B<F)for(var U=F-B,ee=0;ee<U;ee++)V+="#";return V}function J(V,B){for(var F=V.split("."),L="",U=0;U<B;U++)L+="0";return F[1]?L+"."+F[1]:L}function ne(V){var B=V.split("."),F=B[0],L=3-F.length%3;V="";for(var ee=(F=(L&&1===L?"#":2===L?"##":"")+F).length-1;ee>0;ee-=3)V=","+F[ee-2]+F[ee-1]+F[parseInt(ee.toString(),10)]+V;return V=V.slice(1),B[1]?V+"."+B[1]:V}r.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,r.basicPatterns=["short","medium","long","full"],r.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02bbl-Q.",12:"Dhu\u02bbl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02bb I",4:"Rabi\u02bb II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02bbban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02bbl-Qi\u02bbdah",12:"Dhu\u02bbl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xa3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xa4#,##0.00",accounting:"\xa4#,##0.00;(\xa4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},r.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:"\u221e"},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},r.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},r.month="months",r.days="days",r.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},r.getResultantPattern=l,r.getDependables=h,r.getSymbolPattern=c,r.ConvertDateToWeekFormat=d,r.compareBlazorDateFormats=p,r.getProperNumericSkeleton=f,r.getFormatData=m,r.changeCurrencySymbol=g,r.getCurrencySymbol=y,r.customFormat=function(V,B,F){for(var L={},U=V.split(";"),ee=["pData","nData","zeroData"],de=0;de<U.length;de++)L[ee[de]]=E(U[de],B,F);return u(L.nData)&&(L.nData=z({},L.pData),L.nData.nlead=u(B)?"-"+L.nData.nlead:B.minusSymbol+L.nData.nlead),L},r.customNumberFormat=E,r.isCurrencyPercent=S,r.getDateSeparator=function(V){var B=(_("dateFormats.short",V)||"").match(/[d\u200fM\u200f]([^d\u200fM])[d\u200fM\u200f]/i);return B?B[1]:"/"},r.getActualDateTimeFormat=function(V,B,F,L){var U=h(F,V,B.calendar),ee=B.format||l(B.skeleton,U.dateObject,B.type);if(L){if(-1!==(ee=ee.replace(i,function(Me){return n[Me]})).indexOf("z")){var de=ee.match(/z/g).length,Se=void 0,ge={timeZone:{}};ge.numMapper=gn.getNumberMapper(U.parserObject,gn.getNumberingSystem(F)),ge.timeZone=_("dates.timeZoneNames",U.parserObject);var De=(new Date).getTimezoneOffset(),Ge=de<4?"+H;-H":ge.timeZone.hourFormat;Ge=Ge.replace(/:/g,ge.numMapper.timeSeparator),0===De?Se=ge.timeZone.gmtZeroFormat:(Se=X2.getTimeZoneValue(De,Ge),Se=ge.timeZone.gmtFormat.replace(/\{0\}/,Se)),ee=ee.replace(/[z]+/,'"'+Se+'"')}ee=ee.replace(/ $/,"")}return ee},r.getActualNumberFormat=function(V,B,F,L){var Se,Je,U=h(F,V,"",!0),ee={custom:!0},ge={},we=(B.format||"").match(r.currencyFormatRegex),Ge=(r.formatRegex.test(B.format)&&f(B.format||"N"),{});if(we){Ge.numberMapper=gn.getNumberMapper(U.parserObject,gn.getNumberingSystem(F),!0);var Me=y(U.numericObject,B.currency||Bg,B.altSymbol),ht=c("currency",Ge.numberMapper.numberSystem,U.numericObject,/a/i.test(B.format)),Dt=(ht=ht.replace(/\u00A4/g,Me)).split(";");ge.hasNegativePattern=Dt.length>1,ge.nData=m(Dt[1]||"-"+Dt[0],!0,Me),ge.pData=m(Dt[0],!1,Me),!we[2]&&!B.minimumFractionDigits&&!B.maximumFractionDigits&&(Se=m(ht.split(";")[0],!0,"",!0).minimumFraction)}if(r.formatRegex.test(B.format)||!B.format){if(z(ee,f(B.format||"N")),ee.custom=!1,Je="###0",(ee.fractionDigits||B.minimumFractionDigits||B.maximumFractionDigits||Se)&&(ee.fractionDigits&&(B.minimumFractionDigits=B.maximumFractionDigits=ee.fractionDigits),Je=j(Je,Se||ee.fractionDigits||B.minimumFractionDigits||0,B.maximumFractionDigits||0)),B.minimumIntegerDigits&&(Je=J(Je,B.minimumIntegerDigits)),B.useGrouping&&(Je=ne(Je)),"currency"===ee.type){var Y=Je;Je=ge.pData.nlead+Y+ge.pData.nend,ge.hasNegativePattern&&(Je+=";"+ge.nData.nlead+Y+ge.nData.nend)}"percent"===ee.type&&(Je+=" %")}else Je=B.format.replace(/'/g,'"');return Object.keys(Ge).length>0&&(Je=L?Je:function(V,B){if(-1!==V.indexOf(",")){var F=V.split(",");V=F[0]+_("numberMapper.numberSymbols.group",B)+F[1].replace(".",_("numberMapper.numberSymbols.decimal",B))}else V=V.replace(".",_("numberMapper.numberSymbols.decimal",B));return V}(Je,Ge)),Je},r.fractionDigitsPattern=j,r.minimumIntegerPattern=J,r.groupingPattern=ne,r.getWeekData=function(V,B){var F="sun",L=_("supplemental.weekData.firstDay",B),U=V;return/en-/.test(U)&&(U=U.slice(3)),U=U.slice(0,2).toUpperCase()+U.substr(2),L&&(F=L[""+U]||L[U.slice(0,2)]||"sun"),a[""+F]},r.replaceBlazorCurrency=function(V,B,F){var L=function(r){return _(r||"",Yhe)}(F);if(B!==L)for(var U=0,ee=V;U<ee.length;U++){var de=ee[U];de.nend=de.nend.replace(B,L),de.nlead=de.nlead.replace(B,L)}},r.getWeekOfYear=function(V){var L,B=new Date(V.getFullYear(),0,1),F=B.getDay();F=F>=0?F:F+7;var U=Math.floor((V.getTime()-B.getTime()-6e4*(V.getTimezoneOffset()-B.getTimezoneOffset()))/864e5)+1;if(F<4){if((L=Math.floor((U+F-1)/7)+1)>52){var de=new Date(V.getFullYear()+1,0,1).getDay();L=(de=de>=0?de:de+7)<4?1:53}}else L=Math.floor((U+F-1)/7);return L}}(rt||(rt={}));var WA=function(){function r(t,e,i){this.type="GET",this.emitError=!0,"string"==typeof t?(this.url=t,this.type=u(e)?this.type:e.toUpperCase(),this.contentType=i):ko(t)&&Object.keys(t).length>0&&ls(this,t),this.contentType=u(this.contentType)?"application/json; charset=utf-8":this.contentType}return r.prototype.send=function(t){var e=this,i={"application/json":"json","multipart/form-data":"formData","application/octet-stream":"blob","application/x-www-form-urlencoded":"formData"};try{u(this.fetchRequest)&&"GET"===this.type?this.fetchRequest=new Request(this.url,{method:this.type}):u(this.fetchRequest)&&(this.data=u(t)?this.data:t,this.fetchRequest=new Request(this.url,{method:this.type,headers:{"Content-Type":this.contentType},body:this.data}));var n={cancel:!1,fetchRequest:this.fetchRequest};return this.triggerEvent(this.beforeSend,n),n.cancel?null:(this.fetchResponse=fetch(this.fetchRequest),this.fetchResponse.then(function(s){if(e.triggerEvent(e.onLoad,s),!s.ok)throw s;for(var a="text",o=0,l=Object.keys(i);o<l.length;o++){var h=l[o];-1!==s.headers.get("Content-Type").indexOf(h)&&(a=i[h])}return s[a]()}).then(function(s){return e.triggerEvent(e.onSuccess,s,e),s}).catch(function(s){var a={};return e.emitError&&(e.triggerEvent(e.onFailure,s),a=Promise.reject(s)),a}))}catch(s){return s}},r.prototype.triggerEvent=function(t,e,i){!u(t)&&"function"==typeof t&&t(e,i)},r}(),lce=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,hce=/msie|trident/i,cce=/Trident\/7\./,uce=/(ipad|iphone|ipod touch)/i,dce=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,pce=/android/i,fce=/trident|windows phone|edge/i,mce=/(version)[ /]([\w.]+)/i,qA={OPERA:/(opera|opr)(?:.*version|)[ /]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ /]([\w.]+)/i,CHROME:/(chrome|crios)[ /]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ /]([\w.]+)/i,SAFARI:/(safari)[ /]([\w.]+)/i,WEBKIT:/(webkit)[ /]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};"undefined"!=typeof window&&(window.browserDetails=window.browserDetails||{});var O=function(){function r(){}return r.extractBrowserDetail=function(){for(var t={culture:{}},i=[],n=0,s=Object.keys(qA);n<s.length;n++)if(i=r.userAgent.match(qA[""+s[n]])){if(t.name="opr"===i[1].toLowerCase()?"opera":i[1].toLowerCase(),t.name="crios"===i[1].toLowerCase()?"chrome":t.name,t.version=i[2],t.culture.name=t.culture.language=navigator.language,r.userAgent.match(cce)){t.name="msie";break}var o=r.userAgent.match(mce);"safari"===t.name&&o&&(t.version=o[2]);break}return t},r.getEvent=function(t){var e={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return r.isPointer?e[""+t].isPointer:r.isTouch?e[""+t].isTouch+(r.isDevice?"":" "+e[""+t].isDevice):e[""+t].isDevice},r.getTouchStartEvent=function(){return r.getEvent("start")},r.getTouchEndEvent=function(){return r.getEvent("end")},r.getTouchMoveEvent=function(){return r.getEvent("move")},r.getTouchCancelEvent=function(){return r.getEvent("cancel")},r.isSafari=function(){return r.isDevice&&r.isIos&&r.isTouch&&"undefined"!=typeof window&&-1===window.navigator.userAgent.toLowerCase().indexOf("iphone")&&window.navigator.userAgent.toLowerCase().indexOf("safari")>-1},r.getValue=function(t,e){var i="undefined"!=typeof window?window.browserDetails:{};return"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1&&!0===r.isTouch&&!qA.CHROME.test(navigator.userAgent)&&(i.isIos=!0,i.isDevice=!0,i.isTouch=!0,i.isPointer=!0),void 0===i[""+t]?i[""+t]=e.test(r.userAgent):i[""+t]},Object.defineProperty(r,"userAgent",{get:function(){return r.uA},set:function(t){r.uA=t,window.browserDetails={}},enumerable:!0,configurable:!0}),Object.defineProperty(r,"info",{get:function(){return Le(window.browserDetails.info)?window.browserDetails.info=r.extractBrowserDetail():window.browserDetails.info},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isIE",{get:function(){return r.getValue("isIE",hce)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isTouch",{get:function(){return Le(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window.navigator||window&&window.navigator&&window.navigator.maxTouchPoints>0||"ontouchstart"in window:window.browserDetails.isTouch},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isPointer",{get:function(){return Le(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isMSPointer",{get:function(){return Le(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isDevice",{get:function(){return r.getValue("isDevice",lce)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isIos",{get:function(){return r.getValue("isIos",uce)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isIos7",{get:function(){return r.getValue("isIos7",dce)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isAndroid",{get:function(){return r.getValue("isAndroid",pce)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isWebView",{get:function(){return Le(window.browserDetails.isWebView)&&(window.browserDetails.isWebView=!(Le(window.cordova)&&Le(window.PhoneGap)&&Le(window.phonegap)&&"object"!==window.forge)),window.browserDetails.isWebView},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isWindows",{get:function(){return r.getValue("isWindows",fce)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"touchStartEvent",{get:function(){return Le(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=r.getTouchStartEvent():window.browserDetails.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(r,"touchMoveEvent",{get:function(){return Le(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=r.getTouchMoveEvent():window.browserDetails.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(r,"touchEndEvent",{get:function(){return Le(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=r.getTouchEndEvent():window.browserDetails.touchEndEvent},enumerable:!0,configurable:!0}),Object.defineProperty(r,"touchCancelEvent",{get:function(){return Le(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=r.getTouchCancelEvent():window.browserDetails.touchCancelEvent},enumerable:!0,configurable:!0}),r.uA="undefined"!=typeof navigator?navigator.userAgent:"",r}(),b=function(){function r(){}return r.addOrGetEventData=function(t){return"__eventList"in t?t.__eventList.events:(t.__eventList={},t.__eventList.events=[])},r.add=function(t,e,i,n,s){var o,a=r.addOrGetEventData(t);o=s?function(r,t){var e;return function(){var i=this,n=arguments,s=function(){return e=null,r.apply(i,n)};clearTimeout(e),e=setTimeout(s,t)}}(i,s):i,n&&(o=o.bind(n));for(var l=e.split(" "),h=0;h<l.length;h++)a.push({name:l[parseInt(h.toString(),10)],listener:i,debounce:o}),O.isIE?t.addEventListener(l[parseInt(h.toString(),10)],o):t.addEventListener(l[parseInt(h.toString(),10)],o,{passive:!1});return o},r.remove=function(t,e,i){for(var n=r.addOrGetEventData(t),s=e.split(" "),a=function(l){var c,h=-1;n&&0!==n.length&&n.some(function(d,p){return d.name===s[parseInt(l.toString(),10)]&&d.listener===i&&(h=p,c=d.debounce,!0)}),-1!==h&&n.splice(h,1),c&&t.removeEventListener(s[parseInt(l.toString(),10)],c)},o=0;o<s.length;o++)a(o)},r.clearEvents=function(t){var e,i;i=z([],i,e=r.addOrGetEventData(t));for(var n=0;n<i.length;n++)t.removeEventListener(i[parseInt(n.toString(),10)].name,i[parseInt(n.toString(),10)].debounce),e.shift()},r.trigger=function(t,e,i){for(var s=0,a=r.addOrGetEventData(t);s<a.length;s++){var o=a[s];o.name===e&&o.debounce.call(this,i)}},r}(),gce=/^svg|^path|^g/;function N(r,t){var e=gce.test(r)?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(r);return void 0===t||(e.innerHTML=t.innerHTML?t.innerHTML:"",void 0!==t.className&&(e.className=t.className),void 0!==t.id&&(e.id=t.id),void 0!==t.styles&&e.setAttribute("style",t.styles),void 0!==t.attrs&&re(e,t.attrs)),e}function D(r,t){for(var e=a4(t),i=RegExp,n=0,s=r;n<s.length;n++)for(var a=s[n],o=0,l=e;o<l.length;o++){var h=l[o];if(ko(a)){var c=_("attributes.className",a);u(c)?We("attributes.className",h,a):new i("\\b"+h+"\\b","i").test(c)||We("attributes.className",c+" "+h,a)}else a.classList.contains(h)||a.classList.add(h)}return r}function M(r,t){for(var e=a4(t),i=0,n=r;i<n.length;i++){var s=n[i],a=ko(s);if(a?_("attributes.className",s):""!==s.className)for(var l=0,h=e;l<h.length;l++){var c=h[l];if(a){var p=_("attributes.className",s).split(" "),f=p.indexOf(c);-1!==f&&p.splice(f,1),We("attributes.className",p.join(" "),s)}else s.classList.remove(c)}}return r}function a4(r){var t=[];return"string"==typeof r?t.push(r):t=r,t}function ln(r){return""===r.style.visibility&&r.offsetWidth>0}function Tt(r,t,e){for(var i=document.createDocumentFragment(),n=0,s=r;n<s.length;n++)i.appendChild(s[n]);return t.insertBefore(i,t.firstElementChild),e&&o4(t),r}function ce(r,t,e){var i=document.createDocumentFragment();if(r instanceof NodeList)for(;r.length>0;)i.appendChild(r[0]);else for(var n=0,s=r;n<s.length;n++)i.appendChild(s[n]);return t.appendChild(i),e&&o4(t),r}function o4(r){r.querySelectorAll("script").forEach(function(e){var i=document.createElement("script");i.text=e.innerHTML,document.head.appendChild(i),Q(i)})}function Q(r){var t=r.parentNode;if(t)return t.removeChild(r)}function me(r){var t=r.parentNode;b.clearEvents(r),t.removeChild(r)}function re(r,t){for(var i=r,n=0,s=Object.keys(t);n<s.length;n++){var a=s[n];if(ko(i)){var o=a;"tabindex"===a&&(o="tabIndex"),i.attributes[""+o]=t[""+a]}else i.setAttribute(a,t[""+a])}return i}function P(r,t,e){return void 0===t&&(t=document),r=l4(r),t.querySelector(r)}function pe(r,t,e){return void 0===t&&(t=document),r=l4(r),t.querySelectorAll(r)}function l4(r){var t=/(!|"|\$|%|&|'|\(|\)|\*|\/|:|;|<|=|\?|@|\]|\^|`|{|}|\||\+|~)/g;if(r.match(/#[0-9]/g)||r.match(t)){for(var e=r.split(","),i=0;i<e.length;i++){for(var n=e[parseInt(i.toString(),10)].split(" "),s=0;s<n.length;s++)if(n[parseInt(s.toString(),10)].indexOf("#")>-1&&!n[parseInt(s.toString(),10)].match(/\[.*\]/)){var a=n[parseInt(s.toString(),10)].split("#");if(a[1].match(/^\d/)||a[1].match(t)){var o=n[parseInt(s.toString(),10)].split(".");o[0]=o[0].replace(/#/,"[id='")+"']",n[parseInt(s.toString(),10)]=o.join(".")}}e[parseInt(i.toString(),10)]=n.join(" ")}return e.join(",")}return r}function I(r,t){var e=r;if("function"==typeof e.closest)return e.closest(t);for(;e&&1===e.nodeType;){if(Ug(e,t))return e;e=e.parentNode}return null}function ue(r,t){void 0!==t&&Object.keys(t).forEach(function(e){r.style[e]=t[e]})}function $i(r,t,e){D([r],t),M([r],e)}function Ug(r,t){var e=r.matches||r.msMatchesSelector||r.webkitMatchesSelector;return e?e.call(r,t):-1!==[].indexOf.call(document.querySelectorAll(t),r)}var vce=new RegExp("]"),dh=function(){function r(t,e){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=function(){},this.childChangedProperties={},this.modelObserver=new Vg(this),Le(e)||(this.element="string"==typeof e?document.querySelector(e):e,u(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),Le(t)||this.setProperties(t,!0),this.isDestroyed=!1}return r.prototype.setProperties=function(t,e){var i=this.isProtectedOnChange;this.isProtectedOnChange=!!e,ls(this,t),!0!==e&&(ls(this.changedProperties,t),this.dataBind()),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=i},r.callChildDataBind=function(t,e){for(var n=0,s=Object.keys(t);n<s.length;n++){var a=s[n];if(e[""+a]instanceof Array)for(var o=0,l=e[""+a];o<l.length;o++){var h=l[o];void 0!==h.dataBind&&h.dataBind()}else e[""+a].dataBind()}},r.prototype.clearChanges=function(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}},r.prototype.dataBind=function(){if(r.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var t=this.isProtectedOnChange,e=this.changedProperties,i=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(e,i),this.isProtectedOnChange=t}},r.prototype.serverDataBind=function(t){},r.prototype.saveChanges=function(t,e,i){this.isProtectedOnChange||(this.oldProperties[""+t]=i,this.changedProperties[""+t]=e,this.finalUpdate(),this.finalUpdate=function(r){var t,e=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(e);var n="ej2"+function(r){for(var t="",e=0;e<5;e++)t+=(e?",":"")+r[parseInt(e.toString(),10)];return t}(e),s=function(a){a.source===window&&"string"==typeof a.data&&a.data.length<=32&&a.data===n&&(r(),t())};return window.addEventListener("message",s,!1),window.postMessage(n,"*"),t=function(){window.removeEventListener("message",s),r=s=n=void 0}}(this.dataBind.bind(this)))},r.prototype.addEventListener=function(t,e){this.modelObserver.on(t,e)},r.prototype.removeEventListener=function(t,e){this.modelObserver.off(t,e)},r.prototype.trigger=function(t,e,i,n){var s=this;if(!0!==this.isDestroyed){var a=this.isProtectedOnChange;this.isProtectedOnChange=!1;var o=this.modelObserver.notify(t,e,i,n);if(vce.test(t)){var l=_(t,this);if(l)if(window.Blazor){var c=l.call(this,e);c&&"function"==typeof c.then?i?c.then(function(d){i&&(d="string"==typeof d&&s.modelObserver.isJson(d)?JSON.parse(d):d,i.call(s,d))}).catch(function(d){n&&(d="string"==typeof d&&s.modelObserver.isJson(d)?JSON.parse(d):d,n.call(s,d))}):o=c:i&&i.call(this,e)}else l.call(this,e),i&&i.call(this,e);else i&&i.call(this,e)}return this.isProtectedOnChange=a,o}},r.prototype.addInstance=function(){var t="e-"+this.getModuleName().toLowerCase();D([this.element],["e-lib",t]),u(this.element.ej2_instances)?We("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)},r.prototype.destroy=function(){var t=this;this.element.ej2_instances=this.element.ej2_instances?this.element.ej2_instances.filter(function(e){return e!==t}):[],M([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&M([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0},r}();function CC(r,t,e,i){return(!r.properties.hasOwnProperty(t)||!(r.properties[t]instanceof i))&&(r.properties[""+t]=vC(i,[r,t,e])),r.properties[""+t]}function Wg(r,t,e,i,n,s){for(var a=[],o=e?e.length:0,l=0;l<o;l++){var h=i;if(s&&(h=i(e[parseInt(l.toString(),10)],r)),n){var c=vC(h,[r,t,{},!0]);c.setProperties(e[parseInt(l.toString(),10)],!0),a.push(c)}else a.push(vC(h,[r,t,e[parseInt(l.toString(),10)],!1]))}return a}function h4(r,t){return function(){return this.properties.hasOwnProperty(t)||(this.properties[""+t]=r),this.properties[""+t]}}function yce(r,t){return function(e){if(this.properties[""+t]!==e){var i=this.properties.hasOwnProperty(t)?this.properties[t]:r;this.saveChanges(t,e,i),this.properties[""+t]=e}}}function bce(r,t,e){return function(){return CC(this,t,r,e)}}function Cce(r,t,e){return function(i){CC(this,t,r,e).setProperties(i)}}function Sce(r,t,e){return function(){var i=this;if(!this.properties.hasOwnProperty(t)){var n=Wg(this,t,r,e,!1);this.properties[""+t]=n}var s=void 0!==this.controlParent&&this.controlParent.ignoreCollectionWatch||this.ignoreCollectionWatch;return!this.properties[t].hasOwnProperty("push")&&!s&&["push","pop"].forEach(function(a){var o={value:Ice(a,t,0,i.properties[""+t]).bind(i),configurable:!0};Object.defineProperty(i.properties[""+t],a,o)}),this.properties[t].hasOwnProperty("isComplexArray")||Object.defineProperty(this.properties[""+t],"isComplexArray",{value:!0}),this.properties[""+t]}}function wce(r,t,e){return function(i){this.isComplexArraySetter=!0;var n=Wg(this,t,r,e,!1),s=Wg(this,t,i,e,!0);this.isComplexArraySetter=!1,this.saveChanges(t,s,n),this.properties[""+t]=s}}function Ice(r,t,e,i){return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var a=this.propName?this.getParentKey()+"."+t+"-":t+"-";switch(r){case"push":for(var o=0;o<n.length;o++){Array.prototype[""+r].apply(i,[n[parseInt(o.toString(),10)]]);var l=c4(a+(i.length-1),n[parseInt(o.toString(),10)],!this.controlParent,r);this.serverDataBind(l,n[parseInt(o.toString(),10)],!1,r)}break;case"pop":Array.prototype[""+r].apply(i);var h=c4(a+i.length,null,!this.controlParent,r);this.serverDataBind(h,{ejsAction:"pop"},!1,r)}return i}}function c4(r,t,e,i){var n=r;return e&&((n={})[""+r]=t,t&&"object"==typeof t)&&(n[""+r].ejsAction=i),n}function v(r){return function(t,e){var i={set:yce(r,e),get:h4(r,e),enumerable:!0,configurable:!0};Object.defineProperty(t,e,i),$p(t,e,"prop",r)}}function at(r,t){return function(e,i){var n={set:Cce(r,i,t),get:bce(r,i,t),enumerable:!0,configurable:!0};Object.defineProperty(e,i,n),$p(e,i,"complexProp",r,t)}}function Fs(r,t){return function(e,i){var n={set:wce(r,i,t),get:Sce(r,i,t),enumerable:!0,configurable:!0};Object.defineProperty(e,i,n),$p(e,i,"colProp",r,t)}}function x(){return function(r,t){var e={set:function(i){var n=this.properties[""+t];if(n!==i){var s=d4(this,t);!1===Le(n)&&s.context.removeEventListener(s.prefix,n),s.context.addEventListener(s.prefix,i),this.properties[""+t]=i}},get:h4(void 0,t),enumerable:!0,configurable:!0};Object.defineProperty(r,t,e),$p(r,t,"event")}}function et(r){}function $p(r,t,e,i,n){Le(r.propList)&&(r.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),r.propList[e+"s"].push({propertyName:t,defaultValue:i,type:n}),r.propList[e+"Names"].push(t)}function d4(r,t){if(!1===r.hasOwnProperty("parentObj"))return{context:r,prefix:t};var e=_("propName",r);return e&&(t=e+"-"+t),d4(_("parentObj",r),t)}var Ace=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ph=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},vi=function(r){function t(i){var n=r.call(this,i,void 0)||this;return n.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},n}var e;return Ace(t,r),e=t,t.prototype.animate=function(i,n){var s=this.getModel(n=n||{});if("string"==typeof i)for(var o=0,l=Array.prototype.slice.call(pe(i,document));o<l.length;o++)s.element=l[o],e.delayAnimation(s);else s.element=i,e.delayAnimation(s)},t.stop=function(i,n){i.style.animation="",i.removeAttribute("e-animate");var s=i.getAttribute("e-animation-id");if(s){var a=parseInt(s,10);cancelAnimationFrame(a),i.removeAttribute("e-animation-id")}n&&n.end&&n.end.call(this,n)},t.delayAnimation=function(i){Ji===EC.Disable?(i.begin&&i.begin.call(this,i),i.end&&i.end.call(this,i)):i.delay?setTimeout(function(){e.applyAnimation(i)},i.delay):e.applyAnimation(i)},t.applyAnimation=function(i){var n=this;i.timeStamp=0;var s=0,a=0,o=0,l=i.duration;i.element.setAttribute("e-animate","true");var h=function(c){try{c?(i.timeStamp=c+i.timeStamp-(o=0===o?c:o),o=c,!s&&i.begin&&i.begin.call(n,i),s+=1,i.timeStamp<l&&i.timeStamp+i.timeStamp/s<l&&i.element.getAttribute("e-animate")?(i.element.style.animation=i.name+" "+i.duration+"ms "+i.timingFunction,i.progress&&i.progress.call(n,i),requestAnimationFrame(h)):(cancelAnimationFrame(a),i.element.removeAttribute("e-animation-id"),i.element.removeAttribute("e-animate"),i.element.style.animation="",i.end&&i.end.call(n,i))):(a=requestAnimationFrame(h),i.element.setAttribute("e-animation-id",a.toString()))}catch(p){cancelAnimationFrame(a),i.element.removeAttribute("e-animation-id"),i.fail&&i.fail.call(n,p)}};h()},t.prototype.getModel=function(i){return{name:i.name||this.name,delay:i.delay||this.delay,duration:void 0!==i.duration?i.duration:this.duration,begin:i.begin||this.begin,end:i.end||this.end,fail:i.fail||this.fail,progress:i.progress||this.progress,timingFunction:this.easing[i.timingFunction]?this.easing[i.timingFunction]:i.timingFunction||this.easing[this.timingFunction]}},t.prototype.onPropertyChanged=function(i,n){},t.prototype.getModuleName=function(){return"animation"},t.prototype.destroy=function(){},ph([v("FadeIn")],t.prototype,"name",void 0),ph([v(400)],t.prototype,"duration",void 0),ph([v("ease")],t.prototype,"timingFunction",void 0),ph([v(0)],t.prototype,"delay",void 0),ph([x()],t.prototype,"progress",void 0),ph([x()],t.prototype,"begin",void 0),ph([x()],t.prototype,"end",void 0),ph([x()],t.prototype,"fail",void 0),e=ph([et],t)}(dh);function xi(r,t,e){var i=function(r){return{selector:r&&r.selector?r.selector:null,ignore:r&&r.ignore?r.ignore:null,rippleFlag:r&&r.rippleFlag,isCenterRipple:r&&r.isCenterRipple,duration:r&&r.duration?r.duration:350}}(t);return!1===i.rippleFlag||void 0===i.rippleFlag&&!Wa?function(){}:(r.setAttribute("data-ripple","true"),b.add(r,"mousedown",p4,{parent:r,rippleOptions:i}),b.add(r,"mouseup",f4,{parent:r,rippleOptions:i,done:e}),b.add(r,"mouseleave",Kp,{parent:r,rippleOptions:i}),O.isPointer&&b.add(r,"transitionend",Kp,{parent:r,rippleOptions:i}),function(){r.removeAttribute("data-ripple"),b.remove(r,"mousedown",p4),b.remove(r,"mouseup",f4),b.remove(r,"mouseleave",Kp),b.remove(r,"transitionend",Kp)})}function p4(r){var t=r.target,e=this.rippleOptions.selector,i=e?I(t,e):t;if(!(!i||this.rippleOptions&&I(t,this.rippleOptions.ignore))){var n=i.getBoundingClientRect(),s=r.pageX-document.body.scrollLeft,a=r.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),o=Math.max(Math.abs(s-n.left),Math.abs(s-n.right)),l=Math.max(Math.abs(a-n.top),Math.abs(a-n.bottom)),h=Math.sqrt(o*o+l*l),c=2*h+"px",d=s-n.left-h,p=a-n.top-h;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(d=0,p=0,c="100%"),i.classList.add("e-ripple");var g=N("div",{className:"e-ripple-element",styles:"width: "+c+";height: "+c+";left: "+d+"px;top: "+p+"px;transition-duration: "+this.rippleOptions.duration.toString()+"ms;"});i.appendChild(g),window.getComputedStyle(g).getPropertyValue("opacity"),g.style.transform="scale(1)",i!==this.parent&&b.add(i,"mouseleave",Kp,{parent:this.parent,rippleOptions:this.rippleOptions})}}function f4(r){m4(r,this)}function Kp(r){m4(r,this)}function m4(r,t){var e=t.rippleOptions.duration,i=r.target,n=t.rippleOptions.selector,s=n?I(i,n):i;if(s&&(!s||-1!==s.className.indexOf("e-ripple"))){var a=pe(".e-ripple-element",s),o=a[a.length-1];o&&(o.style.opacity="0.5"),t.parent!==s&&b.remove(s,"mouseleave",Kp),setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o),s.getElementsByClassName("e-ripple-element").length||s.classList.remove("e-ripple"),t.done&&t.done(r)},e)}}var Ji,YA,Wa=!1,EC=(()=>(function(r){r.Default="Default",r.Enable="Enable",r.Disable="Disable"}(EC||(EC={})),EC))(),kce=function(){function r(t){this.loadedModules=[],this.parent=t}return r.prototype.inject=function(t,e){var i=t.length;if(0!==i){this.loadedModules.length&&this.clearUnusedModule(t);for(var n=0;n<i;n++)for(var s=t[parseInt(n.toString(),10)],a=0,o=e;a<o.length;a++){var l=o[a],h=s.member;if(l&&l.prototype.getModuleName()===s.member&&!this.isModuleLoaded(h)){var c=vC(l,s.args),d=this.getMemberName(h);We(d,s.isProperty?l:c,this.parent);var p=s;p.member=d,this.loadedModules.push(p)}}}else this.clean()},r.prototype.clean=function(){for(var t=0,e=this.loadedModules;t<e.length;t++){var i=e[t];i.isProperty||_(i.member,this.parent).destroy()}this.loadedModules=[]},r.prototype.clearUnusedModule=function(t){for(var e=this,i=t.map(function(l){return e.getMemberName(l.member)}),s=0,a=this.loadedModules.filter(function(l){return-1===i.indexOf(l.member)});s<a.length;s++){var o=a[s];o.isProperty||_(o.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(o),1),yC(this.parent,o.member)}},r.prototype.getMemberName=function(t){return t[0].toLowerCase()+t.substring(1)+"Module"},r.prototype.isModuleLoaded=function(t){for(var e=0,i=this.loadedModules;e<i.length;e++)if(i[e].member===this.getMemberName(t))return!0;return!1},r}(),ot=function(){function r(t,e,i,n){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=function(){},this.callChildDataBind=_("callChildDataBind",dh),this.parentObj=t,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=e,this.isParentArray=n,this.setProperties(i,!0)}return r.prototype.updateChange=function(t,e){!0===t?this.parentObj.childChangedProperties[""+e]=t:delete this.parentObj.childChangedProperties[""+e],this.parentObj.updateChange&&this.parentObj.updateChange(t,this.parentObj.propName)},r.prototype.updateTimeOut=function(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{var t=setTimeout(this.parentObj.dataBind.bind(this.parentObj));this.finalUpdate=function(){clearTimeout(t)}}},r.prototype.clearChanges=function(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}},r.prototype.setProperties=function(t,e){!0===e?(ls(this,t),this.updateChange(!1,this.propName),this.clearChanges()):ls(this,t)},r.prototype.dataBind=function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var t=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(We(this.propName+"."+t,this.changedProperties,this.parentObj.changedProperties),We(this.propName+"."+t,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()},r.prototype.saveChanges=function(t,e,i,n){this.controlParent.isProtectedOnChange||(n||this.serverDataBind(t,e,!0),this.oldProperties[""+t]=i,this.changedProperties[""+t]=e,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())},r.prototype.serverDataBind=function(t,e,i,n){},r.prototype.getParentKey=function(t){var e="",i=this.propName;if(this.isParentArray){e=this.parentObj[this.propName].indexOf(this);var n=this.parentObj[this.propName].length;n=t?n:n>0?n-1:0,i+=e=-1!==e?"-"+e:"-"+n}return this.controlParent!==this.parentObj&&(i=this.parentObj.getParentKey()+"."+this.propName+e),i},r}(),Nce=["grid","pivotview","treegrid","spreadsheet","rangeNavigator","DocumentEditor","listbox","inplaceeditor","PdfViewer","richtexteditor","DashboardLayout","chart","stockChart","circulargauge","diagram","heatmap","lineargauge","maps","slider","smithchart","barcode","sparkline","treemap","bulletChart","kanban","daterangepicker","schedule","gantt","signature","query-builder","drop-down-tree","carousel","filemanager","uploader","accordion","tab","treeview"],g4=[115,121,110,99,102,117,115,105,111,110,46,105,115,76,105,99,86,97,108,105,100,97,116,101,100],v4=function(){function r(t){var e;this.isValidated=!1,this.isLicensed=!0,this.version="23",this.platform=/JavaScript|ASPNET|ASPNETCORE|ASPNETMVC|FileFormats|essentialstudio/i,this.errors={noLicense:"<span>This application was built using a trial version of Syncfusion Essential Studio. To remove the license validation message permanently, a valid license key must be included.</span>",trailExpired:"<span>This application was built using a trial version of Syncfusion Essential Studio. To remove the license validation message permanently, a valid license key must be included.</span>",versionMismatched:"<span>The included Syncfusion license key is invalid.</span>",platformMismatched:"<span>The included Syncfusion license key is invalid.</span>",invalidKey:"<span>The included Syncfusion license key is invalid.</span>"},this.manager=(e=null,{setKey:function(s){e=s},getKey:function(){return e}}),this.npxManager={getKey:function(){return"npxKeyReplace"}},this.manager.setKey(t)}return r.prototype.validate=function(){if(!this.isValidated&&qp&&!_(DC(g4),qp)&&!_("Blazor",qp)){var i=void 0,n=void 0;if(this.manager&&this.manager.getKey()||this.npxManager&&"npxKeyReplace"!==this.npxManager.getKey()){var s=this.getInfoFromKey();if(s&&s.length)for(var a=0,o=s;a<o.length;a++){var l=o[a];if(!this.platform.test(l.platform)||l.invalidPlatform)i=this.errors.platformMismatched;else if(-1===l.version.indexOf(this.version))i=(i=(i=this.errors.versionMismatched).replace("##LicenseVersion",l.version)).replace("##Requireversion",this.version+".x");else if(l.expiryDate){var h=new Date(l.expiryDate),c=new Date;if(!(h!==c&&h<c))break;i=this.errors.trailExpired}}else i=this.errors.invalidKey}else{var d=_(DC([115,121,110,99,102,117,115,105,111,110,46,108,105,99,101,110,115,101,67,111,110,116,101,110,116]),qp);n=_(DC([115,121,110,99,102,117,115,105,111,110,46,99,108,97,105,109,65,99,99,111,117,110,116,85,82,76]),qp),i=d&&""!==d?d:this.errors.noLicense}if(i&&"undefined"!=typeof document&&!u(document)){var p=N("div",{innerHTML:"<img src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzE5OV80KSI+CjxwYXRoIGQ9Ik0xMiAyMUMxNi45NzA2IDIxIDIxIDE2Ljk3MDYgMjEgMTJDMjEgNy4wMjk0NCAxNi45NzA2IDMgMTIgM0M3LjAyOTQ0IDMgMyA3LjAyOTQ0IDMgMTJDMyAxNi45NzA2IDcuMDI5NDQgMjEgMTIgMjFaIiBzdHJva2U9IiM3MzczNzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMS4yNSAxMS4yNUgxMlYxNi41SDEyLjc1IiBmaWxsPSIjNjE2MDYzIi8+CjxwYXRoIGQ9Ik0xMS4yNSAxMS4yNUgxMlYxNi41SDEyLjc1IiBzdHJva2U9IiM3MzczNzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMS44MTI1IDlDMTIuNDMzOCA5IDEyLjkzNzUgOC40OTYzMiAxMi45Mzc1IDcuODc1QzEyLjkzNzUgNy4yNTM2OCAxMi40MzM4IDYuNzUgMTEuODEyNSA2Ljc1QzExLjE5MTIgNi43NSAxMC42ODc1IDcuMjUzNjggMTAuNjg3NSA3Ljg3NUMxMC42ODc1IDguNDk2MzIgMTEuMTkxMiA5IDExLjgxMjUgOVoiIGZpbGw9IiM3MzczNzMiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xOTlfNCI+CjxyZWN0IHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K' style=\"top: 6px;\n                    position: absolute;\n                    left: 16px;\n                    width: 24px;\n                    height: 24px;\"/>"+i+' <a style="text-decoration: none;color: #0D6EFD;font-weight: 500;" href='+(YA=n&&""!==n?n:"https://www.syncfusion.com/account/claim-license-key?pl=SmF2YVNjcmlwdA==&vs=MjM=&utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information")+">Claim your free account</a>"});p.setAttribute("style","position: fixed;\n                top: 10px;\n                left: 10px;\n                right: 10px;\n                font-size: 14px;\n                background: #EEF2FF;\n                color: #222222;\n                z-index: 999999999;\n                text-align: left;\n                border: 1px solid #EEEEEE;\n                padding: 10px 11px 10px 50px;\n                border-radius: 8px;\n                font-family: Helvetica Neue, Helvetica, Arial;"),document.body.appendChild(p),this.isLicensed=!1}this.isValidated=!0,We(DC(g4),this.isValidated,qp)}return this.isLicensed},r.prototype.getDecryptedData=function(t){try{return atob(t)}catch(e){return""}},r.prototype.getInfoFromKey=function(){try{var t="",e=[5439488,7929856,5111808,6488064,4587520,7667712,5439488,6881280,5177344,7208960,4194304,4456448,6619136,7733248,5242880,7077888,6356992,7602176,4587520,7274496,7471104,7143424],i=[],n=[],s=!1,a=!1;this.manager.getKey()?t=this.manager.getKey():(a=!0,t=this.npxManager.getKey().split("npxKeyReplace")[1]);for(var o=t.split(";"),l=0,h=o;l<h.length;l++){var d=this.getDecryptedData(h[l]);if(d){var p=0,f="";if(a){for(var y=d[d.length-1],C=[],m=0;m<d.length;m++)C[parseInt(m.toString(),10)]=d[parseInt(m.toString(),10)].charCodeAt(0)-y.charCodeAt(0);for(m=0;m<C.length;m++)f+=String.fromCharCode(C[parseInt(m.toString(),10)])}else for(m=0;m<d.length;m++,p++){p===e.length&&(p=0);var g=d.charCodeAt(m);f+=String.fromCharCode(g^e[parseInt(p.toString(),10)]>>16)}this.platform.test(f)?(i=f.split(";"),s=!1,i.length>3&&n.push({platform:i[0],version:i[1],expiryDate:i[2]})):f&&f.split(";").length>3&&(s=!0)}}return s&&!n.length?[{invalidPlatform:s}]:n.length?n:null}catch(E){return null}},r}(),QA=new v4;function DC(r){for(var t="",e=0,i=r;e<i.length;e++)t+=String.fromCharCode(i[e]);return t}function y4(r){QA=new v4(r)}var $A,Rce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),SC=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},GA=0,b4=0,KA=0,C4=!0,E4=!1,Yt=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.randomId=function(){if("undefined"!=typeof window){var r=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(r)}}(),n.isStringTemplate=!1,n.needsID=!1,n.isReactHybrid=!1,u(n.enableRtl)&&n.setProperties({enableRtl:false},!0),u(n.locale)&&n.setProperties({locale:jg},!0),n.moduleLoader=new kce(n),n.localObserver=new Vg(n),Pu.on("notifyExternalChange",n.detectFunction,n,n.randomId),"undefined"!=typeof window&&"undefined"!=typeof document&&!QA.validate()&&-1!==Nce.indexOf(n.getModuleName())&&(KA+=1)>5&&(C4=!1),Le(i)||n.appendTo(),n}return Rce(t,r),t.prototype.requiredModules=function(){return[]},t.prototype.destroy=function(){this.isDestroyed||(this.enablePersistence&&(this.setPersistData(),this.detachUnloadEvent()),this.localObserver.destroy(),!this.refreshing&&(M([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),r.prototype.destroy.call(this),this.moduleLoader.clean(),Pu.off("notifyExternalChange",this.detectFunction,this.randomId)))},t.prototype.refresh=function(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new Vg(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1},t.prototype.accessMount=function(){this.mount&&!this.isReactHybrid&&this.mount()},t.prototype.getRootElement=function(){return this.isReactHybrid?this.actualElement:this.element},t.prototype.getLocalData=function(){var e=this.getModuleName()+this.element.id;return window.localStorage.getItem(e)},t.prototype.attachUnloadEvent=function(){this.handleUnload=this.handleUnload.bind(this),window.addEventListener("unload",this.handleUnload)},t.prototype.handleUnload=function(){this.setPersistData()},t.prototype.detachUnloadEvent=function(){window.removeEventListener("unload",this.handleUnload)},t.prototype.appendTo=function(e){if(u(e)||"string"!=typeof e?u(e)||(this.element=e):this.element=P(e,document),!u(this.element)){var i="e-"+this.getModuleName().toLowerCase();D([this.element],["e-control",i]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),this.attachUnloadEvent());var n=_("ej2_instances",this.element);(!n||-1===n.indexOf(this))&&r.prototype.addInstance.call(this),this.preRender(),this.injectModules(),!C4&&!E4&&(function(){var r='\n    <div style="\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.5);\n    z-index: 99999;\n    ">\n        <div style="\n    background: #FFFFFF;\n    height: 455px;\n    width: 840px;\n    font-family: Helvetica Neue, Helvetica, Arial;\n    color: #000000;\n    box-shadow: 0px 4.8px 14.4px rgb(0 0 0 / 18%), 0px 25.6px 57.6px rgb(0 0 0 / 22%);\n    display: block;\n    margin: 8% auto;\n    border-radius: 20px;\n    ">\n            <div style="\n    position: absolute;\nwidth: 838px;\nheight: 62px;\nbackground-color: #F9F9F9;\nborder: 1px solid #EEEEEE;\nborder-top-left-radius: 20px;\nborder-top-right-radius: 20px;\n">\n                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQ2IiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMTQ2IDMyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNNDAuNTk2NSAxNS4wMDc4SDMyLjQyNUMzMS41NTU3IDE1LjAwNzggMzAuOTAzNyAxNS4xODEyIDMwLjUxMjUgMTUuNDg0NkMzMC4xMjEzIDE1LjgzMTQgMjkuOTA0IDE2LjMwODIgMjkuOTA0IDE3LjA0NTFDMjkuOTA0IDE3LjYwODYgMzAuMDc3OCAxOC4wNDIxIDMwLjQyNTYgMTguMzAyMkMzMC43NzMzIDE4LjYwNTYgMzEuMjk0OSAxOC43MzU2IDMxLjk5MDMgMTguNzM1NkgzNi4zMzY5QzM4LjExODkgMTguNzM1NiAzOS40MjI5IDE5LjA4MjQgNDAuMTYxOCAxOS43MzI2QzQwLjk0NDIgMjAuNDI2MiA0MS4yOTE5IDIxLjU1MzIgNDEuMjkxOSAyMy4xMTM3QzQxLjI5MTkgMjQuNzE3NiA0MC44NTcyIDI1Ljg4OCAzOS45ODc5IDI2LjY2ODJDMzkuMTE4NiAyNy40MDUxIDM3LjcyNzcgMjcuNzk1MyAzNS44NTg3IDI3Ljc5NTNIMjcuMDc4N1YyNS4wMjFIMzUuMzM3MkMzNi4yOTM0IDI1LjAyMSAzNi45NDU0IDI0Ljg5MSAzNy4zMzY2IDI0LjYzMDlDMzcuNzI3NyAyNC4zNzA4IDM3LjkwMTYgMjMuODk0IDM3LjkwMTYgMjMuMjg3MUMzNy45MDE2IDIyLjYzNjkgMzcuNzI3NyAyMi4xNjAxIDM3LjM4IDIxLjlDMzcuMDMyMyAyMS42Mzk5IDM2LjQyMzggMjEuNDY2NSAzNS41NTQ1IDIxLjQ2NjVIMzEuNjQyNkMyOS44NjA1IDIxLjQ2NjUgMjguNTEzMSAyMS4xMTk4IDI3LjY4NzMgMjAuMzgyOEMyNi44NjE0IDE5LjY0NTkgMjYuNDI2OCAxOC41MTg5IDI2LjQyNjggMTcuMDAxN0MyNi40MjY4IDE1LjM1NDUgMjYuODYxNCAxNC4xNDA4IDI3LjczMDcgMTMuMzYwNkMyOC42IDEyLjU4MDMgMjkuOTkwOSAxMi4yMzM1IDMxLjkwMzQgMTIuMjMzNUg0MC41OTY1VjE1LjAwNzhaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik00OC4wNzI3IDI1LjI4MTFINTAuNTA2OFYxNi4zOTQ5SDUzLjU0OTNWMjcuNTM1MkM1My41NDkzIDI5LjA1MjQgNTMuMjAxNiAzMC4xNzk0IDUyLjUwNjIgMzAuOTE2M0M1MS44MTA3IDMxLjY1MzIgNTAuNzI0MSAzMiA0OS4yNDYzIDMySDQzLjMzNVYyOS42NTkySDQ4LjcyNDdDNDkuMjg5NyAyOS42NTkyIDQ5Ljc2NzkgMjkuNTI5MiA1MC4wNzIxIDI5LjIyNThDNTAuMzc2NCAyOC45NjU3IDUwLjU1MDIgMjguNTMyMiA1MC41NTAyIDI4LjAxMlYyNy44Mzg2SDQ3Ljg5ODlDNDYuMjAzNyAyNy44Mzg2IDQ0Ljk0MzIgMjcuNDkxOSA0NC4yNDc4IDI2Ljg0MTZDNDMuNTA4OSAyNi4xNDgxIDQzLjE2MTEgMjUuMDY0NCA0My4xNjExIDIzLjQ2MDVWMTYuMzk0OUg0Ni4xNjAyVjIzLjIwMDVDNDYuMTYwMiAyNC4wNjc0IDQ2LjI5MDYgMjQuNjMwOSA0Ni41NTE0IDI0Ljg5MUM0Ni43MjUzIDI1LjE1MTEgNDcuMjQ2OSAyNS4yODExIDQ4LjA3MjcgMjUuMjgxMVoiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTU1Ljg5NjUgMTYuMzk0OUg2MS41OTA0QzYzLjMyOTEgMTYuMzk0OSA2NC41NDYxIDE2LjY5ODMgNjUuMjg1IDE3LjM0ODVDNjYuMDIzOSAxNy45OTg4IDY2LjM3MTYgMTkuMDgyNCA2Ni4zNzE2IDIwLjU1NjNWMjcuNzk1M0g2My4zMjkxVjIwLjk0NjRDNjMuMzI5MSAyMC4wNzk0IDYzLjE5ODcgMTkuNTE1OSA2Mi45Mzc5IDE5LjI5OTJDNjIuNjc3MSAxOS4wMzkxIDYyLjE1NTUgMTguOTA5MSA2MS4zMjk3IDE4LjkwOTFINTguODk1NlYyNy44Mzg2SDU1Ljg1M1YxNi4zOTQ5SDU1Ljg5NjVaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03NC45MzQyIDI1LjM2NzhINzguMTUwNlYyNy43OTUySDc0LjAyMTRDNzIuOTc4MiAyNy43OTUyIDcyLjEwODkgMjcuNjY1MiA3MS40NTcgMjcuNDkxOEM3MC44MDUgMjcuMjc1IDcwLjE5NjUgMjYuOTI4MyA2OS43MTgzIDI2LjQ1MTRDNjkuMTk2OCAyNS45MzEzIDY4Ljc2MjEgMjUuMjgxMSA2OC40NTc4IDI0LjU0NDJDNjguMTUzNiAyMy44MDcyIDY4LjAyMzIgMjIuOTgzNiA2OC4wMjMyIDIyLjE2QzY4LjAyMzIgMjEuMjkzMSA2OC4xNTM2IDIwLjQ2OTUgNjguNDU3OCAxOS42ODkyQzY4Ljc2MjEgMTguOTA5IDY5LjE1MzMgMTguMzAyMSA2OS43MTgzIDE3Ljc4MTlDNzAuMjM5OSAxNy4zMDUxIDcwLjgwNSAxNi45NTgzIDcxLjUwMDQgMTYuNzQxNkM3Mi4xOTU5IDE2LjUyNDkgNzMuMDIxNyAxNi40MzgyIDc0LjA2NDkgMTYuNDM4Mkg3OC4xOTQxVjE4LjkwOUg3NC45MzQyQzczLjQ5OTggMTguOTA5IDcyLjU0MzYgMTkuMTY5MSA3MS45Nzg1IDE5LjY0NTlDNzEuNDU2OSAyMC4xMjI3IDcxLjE1MjcgMjAuOTg5NyA3MS4xNTI3IDIyLjIwMzRDNzEuMTUyNyAyMi44OTY5IDcxLjI4MzEgMjMuNDYwNSA3MS41MDA0IDIzLjkzNzNDNzEuNzE3NyAyNC40MTQxIDcyLjA2NTUgMjQuNzYwOSA3Mi41MDAxIDI1LjA2NDNDNzIuNzE3NCAyNS4xOTQ0IDcyLjk3ODIgMjUuMjgxMSA3My4yODI1IDI1LjM2NzhDNzMuNjMwMiAyNS4zMjQ0IDc0LjE1MTggMjUuMzY3OCA3NC45MzQyIDI1LjM2NzhaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik04MC44NDU2IDE4LjY0ODlINzguNjcyNFYxNi4zNTE1SDgwLjg0NTZWMTUuMTgxMUM4MC44NDU2IDE0LjAxMDggODEuMDYzIDEzLjIzMDUgODEuNDk3NiAxMi44NDA0QzgxLjkzMjMgMTIuNDUwMyA4Mi43NTgxIDEyLjIzMzUgODMuOTc1MSAxMi4yMzM1SDg2Ljg0MzhWMTQuNDAwOUg4NS40MDk1Qzg0Ljg4NzkgMTQuNDAwOSA4NC41NDAyIDE0LjQ4NzYgODQuMzIyOSAxNC42NjFDODQuMTA1NSAxNC44MzQ0IDgzLjk3NTEgMTUuMDk0NSA4My45NzUxIDE1LjQ0MTJWMTYuMzUxNUg4Ni44NDM4VjE4LjY0ODlIODMuOTc1MVYyNy43OTUzSDgwLjg0NTZWMTguNjQ4OVoiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTk4LjQwNTYgMjcuNzk1M0g5Mi43MTE2QzkxLjAxNjUgMjcuNzk1MyA4OS44NDI5IDI3LjQ0ODUgODkuMDYwNSAyNi43OTgzQzg4LjMyMTYgMjYuMTQ4MSA4Ny45MzA0IDI1LjA2NDQgODcuOTMwNCAyMy41OTA2VjE2LjM5NDlIOTAuOTI5NVYyMy40MTcyQzkwLjkyOTUgMjQuMTk3NCA5MS4wNTk5IDI0LjY3NDMgOTEuMzIwNyAyNC45MzQ0QzkxLjU4MTUgMjUuMTk0NCA5Mi4xMDMxIDI1LjMyNDUgOTIuOTI4OSAyNS4zMjQ1SDk1LjM2M1YxNi4zOTQ5SDk4LjQwNTZWMjcuNzk1M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTEwMC42MjIgMjUuNDExMkgxMDcuMDExQzEwNy41NzcgMjUuNDExMiAxMDguMDExIDI1LjMyNDUgMTA4LjI3MiAyNS4xNTExQzEwOC41MzMgMjQuOTc3NyAxMDguNjYzIDI0LjY3NDMgMTA4LjY2MyAyNC4zMjc1QzEwOC42NjMgMjMuOTM3NCAxMDguNTMzIDIzLjY3NzMgMTA4LjI3MiAyMy40NjA1QzEwOC4wMTEgMjMuMjg3MSAxMDcuNTc3IDIzLjIwMDUgMTA3LjA1NSAyMy4yMDA1SDEwNC40NDdDMTAyLjg4MiAyMy4yMDA1IDEwMS44MzkgMjIuOTgzNyAxMDEuMzE4IDIyLjUwNjlDMTAwLjc1MiAyMi4wMzAxIDEwMC40OTIgMjEuMjA2NSAxMDAuNDkyIDE5Ljk5MjdDMTAwLjQ5MiAxOC43NzkgMTAwLjgzOSAxNy44Njg3IDEwMS40OTEgMTcuMjYxOEMxMDIuMTQzIDE2LjY5ODMgMTAzLjE4NyAxNi4zOTQ5IDEwNC41MzQgMTYuMzk0OUgxMTEuMDU0VjE4Ljc3OUgxMDUuNzA4QzEwNC44MzggMTguNzc5IDEwNC4yNzMgMTguODY1NyAxMDQuMDEyIDE4Ljk5NTdDMTAzLjc1MiAxOS4xNjkxIDEwMy42MjEgMTkuNDI5MiAxMDMuNjIxIDE5LjgxOTRDMTAzLjYyMSAyMC4xNjYxIDEwMy43NTIgMjAuNDI2MiAxMDMuOTY5IDIwLjU5OTZDMTA0LjE4NiAyMC43NzMgMTA0LjU3NyAyMC44NTk3IDEwNS4wNTYgMjAuODU5N0gxMDcuNzk0QzEwOS4wNTQgMjAuODU5NyAxMTAuMDExIDIxLjE2MzEgMTEwLjY2MyAyMS43MjY2QzExMS4zMTUgMjIuMjkwMiAxMTEuNjYyIDIzLjE1NzEgMTExLjY2MiAyNC4yNDA4QzExMS42NjIgMjUuMjgxMSAxMTEuMzU4IDI2LjE0ODEgMTEwLjc5MyAyNi43OTgzQzExMC4yMjggMjcuNDQ4NSAxMDkuNDQ2IDI3Ljc5NTMgMTA4LjUzMyAyNy43OTUzSDEwMC43MDlWMjUuNDExMkgxMDAuNjIyWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTE2LjU3NCAxNS4wOTQ0SDExMy40MDFWMTIuMjc2OUgxMTYuNTc0VjE1LjA5NDRaTTExNi41NzQgMjcuNzk1M0gxMTMuNDAxVjE2LjM5NDlIMTE2LjU3NFYyNy43OTUzWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTMwLjMwOSAyMi4xMTY3QzEzMC4zMDkgMjMuODkzOSAxMjkuNzQ0IDI1LjMyNDQgMTI4LjY1NyAyNi40MDgxQzEyNy41NzEgMjcuNDkxOCAxMjYuMDkzIDI4LjAxMiAxMjQuMjI0IDI4LjAxMkMxMjIuMzU1IDI4LjAxMiAxMjAuODc3IDI3LjQ5MTggMTE5Ljc5IDI2LjQwODFDMTE4LjcwNCAyNS4zMjQ0IDExOC4xMzkgMjMuODkzOSAxMTguMTM5IDIyLjExNjdDMTE4LjEzOSAyMC4zMzk0IDExOC43MDQgMTguOTA5IDExOS43OSAxNy44MjUzQzEyMC44NzcgMTYuNzQxNiAxMjIuMzk4IDE2LjIyMTQgMTI0LjIyNCAxNi4yMjE0QzEyNi4wNDkgMTYuMjIxNCAxMjcuNTI3IDE2Ljc0MTYgMTI4LjY1NyAxNy44MjUzQzEyOS43NDQgMTguODY1NiAxMzAuMzA5IDIwLjI5NjEgMTMwLjMwOSAyMi4xMTY3Wk0xMjEuMjY4IDIyLjExNjdDMTIxLjI2OCAyMy4yMDA0IDEyMS41MjkgMjQuMDY3MyAxMjIuMDUxIDI0LjY3NDJDMTIyLjU3MiAyNS4yODExIDEyMy4yNjggMjUuNTg0NSAxMjQuMTggMjUuNTg0NUMxMjUuMDkzIDI1LjU4NDUgMTI1Ljc4OSAyNS4yODExIDEyNi4zMSAyNC42NzQyQzEyNi44MzIgMjQuMDY3MyAxMjcuMDkzIDIzLjIwMDQgMTI3LjA5MyAyMi4xMTY3QzEyNy4wOTMgMjEuMDMzIDEyNi44MzIgMjAuMTY2MSAxMjYuMzEgMTkuNjAyNUMxMjUuNzg5IDE4Ljk5NTcgMTI1LjA5MyAxOC42OTIyIDEyNC4xMzcgMTguNjkyMkMxMjMuMjI0IDE4LjY5MjIgMTIyLjUyOSAxOC45OTU3IDEyMi4wMDcgMTkuNjAyNUMxMjEuNTI5IDIwLjE2NjEgMTIxLjI2OCAyMS4wMzMgMTIxLjI2OCAyMi4xMTY3WiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTMxLjc4NyAxNi4zOTQ5SDEzNy40ODFDMTM5LjIxOSAxNi4zOTQ5IDE0MC40MzYgMTYuNjk4MyAxNDEuMTc1IDE3LjM0ODVDMTQxLjkxNCAxNy45OTg4IDE0Mi4yNjIgMTkuMDgyNCAxNDIuMjYyIDIwLjU1NjNWMjcuNzk1M0gxMzkuMjE5VjIwLjk0NjRDMTM5LjIxOSAyMC4wNzk0IDEzOS4wODkgMTkuNTE1OSAxMzguODI4IDE5LjI5OTJDMTM4LjU2NyAxOS4wMzkxIDEzOC4wNDYgMTguOTA5MSAxMzcuMjIgMTguOTA5MUgxMzQuNzg2VjI3LjgzODZIMTMxLjc0M1YxNi4zOTQ5SDEzMS43ODdaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03LjEyODMxIDMuNzM3NDNIMFYxMC44NDY0SDcuMTI4MzFWMy43Mzc0M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTIzLjI1MTMgLTIuMTU3MjVlLTA1TDE4LjU1MTMgNS41MTY4NUwyNC4wODMxIDEwLjIwNDFMMjguNzgzMSA0LjY4NzI1TDIzLjI1MTMgLTIuMTU3MjVlLTA1WiIgZmlsbD0iI0ZGODYwMCIvPgo8cGF0aCBkPSJNMTUuNjA0MSAzLjczNzQzSDguNDc1ODNWMTAuODQ2NEgxNS42MDQxVjMuNzM3NDNaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03LjEyODMxIDEyLjE5MDJIMFYxOS4yOTkySDcuMTI4MzFWMTIuMTkwMloiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTE1LjYwNDEgMTIuMTkwMkg4LjQ3NTgzVjE5LjI5OTJIMTUuNjA0MVYxMi4xOTAyWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMjQuMDc5NyAxMi4xOTAySDE2Ljk1MTRWMTkuMjk5MkgyNC4wNzk3VjEyLjE5MDJaIiBmaWxsPSIjRkY4NjAwIi8+CjxwYXRoIGQ9Ik03LjEyODMxIDIwLjY4NjNIMFYyNy43OTUzSDcuMTI4MzFWMjAuNjg2M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTE1LjYwNDEgMjAuNjg2M0g4LjQ3NTgzVjI3Ljc5NTNIMTUuNjA0MVYyMC42ODYzWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMjQuMTIzMiAyMC42ODYzSDE2Ljk5NDlWMjcuNzk1M0gyNC4xMjMyVjIwLjY4NjNaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik0xNDYgMTUuODMxM0MxNDYgMTYuODcxNyAxNDUuMTc0IDE3LjY5NTMgMTQ0LjEzMSAxNy42OTUzQzE0My4wODggMTcuNjk1MyAxNDIuMjYyIDE2Ljg3MTcgMTQyLjI2MiAxNS44MzEzQzE0Mi4yNjIgMTQuNzkxIDE0My4wODggMTQuMDEwNyAxNDQuMTMxIDE0LjAxMDdDMTQ1LjEzMSAxMy45Njc0IDE0NiAxNC43OTEgMTQ2IDE1LjgzMTNaTTE0Mi45NTcgMTQuNzkxQzE0Mi42OTcgMTUuMDUxMSAxNDIuNTY2IDE1LjQ0MTIgMTQyLjU2NiAxNS44MzEzQzE0Mi41NjYgMTYuNjk4MyAxNDMuMjYyIDE3LjM5MTggMTQ0LjEzMSAxNy4zOTE4QzE0NSAxNy4zOTE4IDE0NS42OTYgMTYuNjk4MyAxNDUuNjk2IDE1LjgzMTNDMTQ1LjY5NiAxNS4wMDc3IDE0NSAxNC4yNzA4IDE0NC4xNzQgMTQuMjcwOEMxNDMuNjUzIDE0LjI3MDggMTQzLjI2MiAxNC40NDQyIDE0Mi45NTcgMTQuNzkxWk0xNDQuODcgMTYuOTE1SDE0NC40NzlMMTQzLjkxNCAxNi4wOTE0VjE2LjkxNUgxNDMuNjA5VjE0Ljc0NzZIMTQzLjk1N0MxNDQuNDM1IDE0Ljc0NzYgMTQ0LjY1MyAxNC45NjQ0IDE0NC42NTMgMTUuMzU0NUMxNDQuNjUzIDE1LjY1NzkgMTQ0LjQ3OSAxNS44NzQ3IDE0NC4xNzQgMTUuOTYxNEwxNDQuODcgMTYuOTE1Wk0xNDQuMDQ0IDE1LjY1NzlDMTQ0LjI2MSAxNS42NTc5IDE0NC4zOTIgMTUuNTI3OSAxNDQuMzkyIDE1LjM1NDVDMTQ0LjM5MiAxNS4xMzc4IDE0NC4yNjEgMTUuMDUxMSAxNDQuMDAxIDE1LjA1MTFIMTQzLjkxNFYxNS42NTc5SDE0NC4wNDRaIiBmaWxsPSIjMzU0M0E4Ii8+Cjwvc3ZnPgo=" style="\n    text-align: left;\n    width: 146px;\n    position: absolute;\n    top: 14px;\n    left: 31px;\n">\n            </div>\n            <div style="\n    position: relative;\n    top: 80px;\n    left: 32px;\n    font-size: 20px;\n    text-align: left;\n    font-weight: 700;\n    letter-spacing: 0.02em;\n    font-style: normal;\n    line-height: 125%;\n    ">Claim your FREE account and get a key in less than a minute</div>\n            <ul style="\n        font-size: 15px;\n        font-weight: 400;\n        color: #333333;\n        letter-spacing: 0.01em;\n        position: relative;\n        left: 32px;\n        top: 88px;\n        line-height: 180%;\n        ">\n                <li><span>Access to a 30-day free trial of any of our products.</span></li>\n                <li><span>Access to 24x5 support by developers via the <a href="https://support.syncfusion.com/create?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">support tickets</a>, <a href="https://www.syncfusion.com/forums?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">forum</a>, <a href="https://www.syncfusion.com/feedback?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information\n                " style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">feature &amp; feedback page</a> and chat.</span></li>\n                <li><span>200+ <a href="https://www.syncfusion.com/succinctly-free-ebooks?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">ebooks </a>on the latest technologies, industry trends, and research topics.</span>\n                </li>\n                <li><span>Largest collection of over 7,000 flat and wireframe icons for free with Syncfusion <a href="https://www.syncfusion.com/downloads/metrostudio?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information\n                " style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">Metro Studio.</a></span></li>\n                <li><span>Free and unlimited access to Syncfusion technical <a href="https://www.syncfusion.com/blogs/?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information\n                " style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">blogs</a> and <a href="https://www.syncfusion.com/resources/techportal/whitepapers?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">whitepapers.</a></span></li>\n            </ul>\n            <div style="\n            font-size: 18px;\n            font-weight: 700;\n            position: relative;\n            line-height: 125%;\n            letter-spacing: 0.02em;\n            top: 90px;\n            left: 32px;\n    ">Syncfusion is trusted by 29,000+ businesses worldwide</div>\n            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODIwIiBoZWlnaHQ9IjU2IiB2aWV3Qm94PSIwIDAgODIwIDU2IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MjcuNjE3IDIyLjU2NTlWMjQuNzIyNkM0MjYuNTU4IDI0LjM2MzggNDI1LjM5OCAyNC4xNTQ0IDQyNC40NzQgMjQuMTU0NEM0MjMuMzMzIDI0LjE1NDQgNDIyLjY5OCAyNC40OTEyIDQyMi42OTggMjUuMDk2M0M0MjIuNjk4IDI1LjQ4MjQgNDIyLjk3NiAyNS43MzgzIDQyMy43NzMgMjYuMDg1NEw0MjUuOTE3IDI3LjAxNzRDNDI3LjYzMyAyNy43NjM5IDQyOC40OTcgMjguODUzIDQyOC40OTcgMzAuMjY4MUM0MjguNDk3IDMyLjQ1MjIgNDI2LjU0NiAzMy44MyA0MjMuNDUyIDMzLjgzQzQyMi4zMjQgMzMuODMgNDIxLjAxOCAzMy42NzM2IDQxOS42MzYgMzMuMzcwOVYzMS4xNDE2QzQyMS4wMDYgMzEuNTAyOCA0MjIuMjYyIDMxLjY5NTcgNDIzLjIzOSAzMS42OTU3QzQyNC41MTggMzEuNjk1NyA0MjUuMjAzIDMxLjM1MDYgNDI1LjIwMyAzMC43MDc0QzQyNS4yMDMgMzAuMzIwOCA0MjQuOTM1IDMwLjAzNjcgNDI0LjMyMiAyOS43NzE3TDQyMS45NzUgMjguNzU5M0M0MjAuMjM2IDI4LjAwNzggNDE5LjQzMyAyNi45OTU0IDQxOS40MzMgMjUuNTUyMUM0MTkuNDMzIDIzLjQ4MzcgNDIxLjMxNCAyMi4xNjQ5IDQyNC4yNjUgMjIuMTY0OUM0MjUuMjk4IDIyLjE2NDkgNDI2LjU3IDIyLjMxNzEgNDI3LjYxNyAyMi41NjU5VjIyLjU2NTlaTTQzMC4xNjcgMjIuMzkwOUg0MzMuNjM1VjMzLjYwMzlINDMwLjE2N1YyMi4zOTA5Wk00NDQuOTExIDIyLjM5MDlWMjQuNDQ1MUg0MzkuNjc1VjI2Ljk3NDJINDQ0LjI0OVYyOC44MzIzSDQzOS42NzVWMzEuNDU0M0g0NDQuOTc4VjMzLjYwMzlINDM2LjMwNVYyMi4zOTA5SDQ0NC45MTFaTTQ2MS4yOTQgMjIuMzkwOVYzMy42MDM5SDQ1Ny45MzlWMjYuMjIzNkw0NTQuNjUyIDMzLjY5MTVINDUyLjUzMUw0NDkuMjY2IDI2LjIyMzZWMzMuNjAzOUg0NDYuOTQ5VjIyLjM5MDlINDUxLjE4NEw0NTQuMTc4IDI5LjIxMTRMNDU3LjE1NiAyMi4zOTA5SDQ2MS4yOTRWMjIuMzkwOVpNNDcyLjU3OSAyMi4zOTA5VjI0LjQ0NTFINDY3LjMzNVYyNi45NzQySDQ3MS45MDhWMjguODMyM0g0NjcuMzM1VjMxLjQ1NDNINDcyLjYzOFYzMy42MDM5SDQ2My45NTdWMjIuMzkwOUg0NzIuNTc5Wk00ODQuNzk0IDIyLjM5MDlWMzMuNjAzOUg0ODEuMDkzTDQ3Ni45MjYgMjYuNDEyM1YzMy42MDM5SDQ3NC42MDhWMjIuMzkwOUg0NzguNDA3TDQ4Mi40ODQgMjkuNDg3NlYyMi4zOTA5SDQ4NC43OTRaTTQ5NC44NTggMjIuNTY1OVYyNC43MjI2QzQ5My44MDcgMjQuMzY2MyA0OTIuNjQgMjQuMTU0NCA0OTEuNzMyIDI0LjE1NDRDNDkwLjU3MyAyNC4xNTQ0IDQ4OS45MzkgMjQuNDg1OCA0ODkuOTM5IDI1LjA5M0M0ODkuOTM5IDI1LjQ4ODYgNDkwLjE5OCAyNS43MjUgNDkxLjAyMyAyNi4wODU5TDQ5My4xNTcgMjcuMDE3OEM0OTQuODg1IDI3Ljc3MjIgNDk1LjczOSAyOC44NTE4IDQ5NS43MzkgMzAuMjgzNUM0OTUuNzM5IDMyLjQ1NTkgNDkzLjc4NiAzMy44MzA4IDQ5MC42OTkgMzMuODMwOEM0ODkuNTY5IDMzLjgzMDggNDg4LjI1OSAzMy42NzM2IDQ4Ni44NzggMzMuMzcxN1YzMS4xNDI0QzQ4OC4yNDcgMzEuNTAyOCA0ODkuNDk5IDMxLjY5NjUgNDkwLjQ3IDMxLjY5NjVDNDkxLjc0IDMxLjY5NjUgNDkyLjQ0NCAzMS4zNTE1IDQ5Mi40NDQgMzAuNzI4NUM0OTIuNDQ0IDMwLjMxNjMgNDkyLjE5NyAzMC4wNTA0IDQ5MS41NTUgMjkuNzcyNUw0ODkuMjE4IDI4Ljc2MDFDNDg3LjQ2NyAyOC4wMDI4IDQ4Ni42NzQgMjcuMDAyIDQ4Ni42NzQgMjUuNTUzM0M0ODYuNjc0IDIzLjQ4NjIgNDg4LjU1NiAyMi4xNjY1IDQ5MS41IDIyLjE2NjVDNDkyLjUzNiAyMi4xNjUzIDQ5My44MTMgMjIuMzE3MSA0OTQuODU4IDIyLjU2NTlWMjIuNTY1OVoiIGZpbGw9IiMwMEEwQjAiLz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzUyLjQxMyAyNi44MTlDMzUwLjk5MiAyNS4yNzU5IDM0OS42MzggMjMuODMxNSAzNDguMzQ5IDIyLjE1NzRMMzQ3LjkyIDIxLjU5OTVDMzQ5LjQwNiAyMS4zNjkzIDM1MC42OTUgMjAuMzg0OCAzNTAuNjk1IDE4Ljc0MzNDMzUwLjY5NSAxNy4yMzMxIDM0OS41MzkgMTYuMjQ4MiAzNDcuODIxIDE2LjI0ODJDMzQ2LjU5OCAxNi4yNDgyIDM0NS43MDYgMTYuMzEzNyAzNDUuMjQzIDE2LjMxMzdDMzQ0LjcxNSAxNi4zMTM3IDM0NC4yODUgMTYuMzEzNyAzNDMuNzkgMTYuMjgwOEMzNDMuODU2IDE4LjE1MjEgMzQzLjg4OSAxOC4yODM0IDM0My44ODkgMTkuNDMyMlYyMy42MzQzQzM0My44ODkgMjQuNDU1MyAzNDMuODU2IDI1LjI3NTkgMzQzLjc5IDI2LjgxODZDMzQ0LjE1MyAyNi43MjAyIDM0NC41MTcgMjYuNzIwMiAzNDQuNzgxIDI2LjcyMDJDMzQ1LjA0NSAyNi43MjAyIDM0NS40MDkgMjYuNzUzMSAzNDUuNzA2IDI2LjgxODZDMzQ1LjY0IDI1Ljc2NzkgMzQ1LjYwNyAyNC4wMjgzIDM0NS42MDcgMjMuNjM0M1YyMS4yMDUxQzM0Ny4xNiAyMy4yMDc3IDM0OS4yMDkgMjUuNjY5NSAzNTAuMDAxIDI2LjgxODZDMzUwLjM5OCAyNi43MjAyIDM1MC43MjggMjYuNzIwMiAzNTEuMTI0IDI2LjcyMDJDMzUxLjQ1NSAyNi43MjA2IDM1MS45MTggMjYuNzIwNiAzNTIuNDEzIDI2LjgxOVYyNi44MTlaTTM0OC44NzggMTkuMDA2QzM0OC44NzggMjAuMDIzNCAzNDguMzE3IDIxLjIwNTQgMzQ2Ljc5NyAyMS4yMDU0QzM0Ni40IDIxLjIwNTQgMzQ2LjAwMyAyMS4yMDU0IDM0NS42MDcgMjEuMTcyNVYxNy4wNjg4QzM0Ni4wMDMgMTYuOTcwNCAzNDYuNDk5IDE2LjkwNDYgMzQ2Ljc2MyAxNi45MDQ2QzM0OC4wODUgMTYuOTA0OSAzNDguODc4IDE3LjY2IDM0OC44NzggMTkuMDA2VjE5LjAwNlpNMzgyLjM4IDI2Ljg4NDVDMzgxLjgxOSAyNi4yOTM2IDM4MC45NiAyNS4zNDE3IDM4MC4xMzQgMjQuNDIyM0MzODAuODI4IDIzLjY2NzIgMzgxLjU1NSAyMi41NTEgMzgxLjk4NCAyMS41OTkxQzM4MS43MTkgMjEuNDY3OCAzODEuMzU2IDIxLjIwNTEgMzgxLjA5MiAyMC45NzUzQzM4MC45OTMgMjEuNzk1OSAzODAuNDMyIDIyLjg3OTIgMzc5LjYzOSAyMy44MzE1QzM3OC41MTUgMjIuNTE4NSAzNzguMjE4IDIyLjE1NzQgMzc3LjE5MyAyMC43Nzg1QzM3OC41ODEgMTkuODkyMSAzNzkuMjQyIDE4Ljg3NDMgMzc5LjI0MiAxOC4wNTM3QzM3OS4yNDIgMTcuMTAxNyAzNzguNTgxIDE2LjExNjkgMzc2Ljk2MiAxNi4xMTY5QzM3NS4yMTEgMTYuMTE2OSAzNzQuMzUyIDE3LjIwMDIgMzc0LjM1MiAxOC40ODAzQzM3NC4zNTIgMTkuMjM1NCAzNzQuNTUgMTkuODkxNyAzNzUuMzc2IDIwLjk3NTNDMzc0LjA1NCAyMS42OTc1IDM3Mi43NjYgMjIuNzQ3OSAzNzIuNzY2IDI0LjQyMjNDMzcyLjc2NiAyNi4wNjM5IDM3NC4wODcgMjYuOTE3NCAzNzUuNzA3IDI2LjkxNzRDMzc3LjE5MyAyNi45MTc0IDM3OC4xNTEgMjYuMzI2NiAzNzguOTEyIDI1LjYzNjlMMzc5LjkwMiAyNi44MTlDMzgwLjIgMjYuNzg2MSAzODAuNTMxIDI2LjcyMDYgMzgwLjg2MSAyNi43MjA2QzM4MS4zMjQgMjYuNzIwNiAzODEuODUyIDI2Ljc4NjEgMzgyLjM4IDI2Ljg4NDVWMjYuODg0NVpNMzgzLjM3MiA0MC4wMTU4QzM4MS45MTggMzguNDczIDM4MC41OTcgMzcuMDYxMiAzNzkuMzA4IDM1LjM4NzFMMzc4Ljg3OCAzNC44Mjg4QzM4MC4zMzIgMzQuNTk5MSAzODEuNjU0IDMzLjYxNSAzODEuNjU0IDMxLjk0MDFDMzgxLjY1NCAzMC40NjMyIDM4MC40OTggMjkuNDQ1NCAzNzguNzc5IDI5LjQ0NTRDMzc3LjU1NyAyOS40NDU0IDM3Ni42MzIgMjkuNTQzNSAzNzYuMTY5IDI5LjU0MzVDMzc1LjY3MyAyOS41NDM1IDM3NS4yNDQgMjkuNTQzNSAzNzQuNzQ4IDI5LjQ3NzZDMzc0LjgxNCAzMS4zODIyIDM3NC44NDggMzEuNDgwMiAzNzQuODQ4IDMyLjYyOTRWMzYuODMxMUMzNzQuODQ4IDM3LjY1MjQgMzc0LjgxNCAzOC41MDUyIDM3NC43NDggNDAuMDE1NEMzNzUuMTEyIDM5Ljk0OTYgMzc1LjQ3NSAzOS45NDk2IDM3NS43MDcgMzkuOTQ5NkMzNzYuMDA0IDM5Ljk0OTYgMzc2LjM2OCAzOS45NDk2IDM3Ni42MzIgNDAuMDE1NEMzNzYuNTY1IDM4Ljk5OCAzNzYuNTMzIDM3LjI1ODEgMzc2LjUzMyAzNi44MzExVjM0LjQzNDhDMzc4LjExOSAzNi40MDQyIDM4MC4xNjcgMzguODk5NiAzODAuOTYgNDAuMDE1NEMzODEuMzU2IDM5Ljk0OTYgMzgxLjY4NyAzOS45NDk2IDM4Mi4wODMgMzkuOTQ5NkMzODIuMzggMzkuOTUgMzgyLjg3NiAzOS45NSAzODMuMzcyIDQwLjAxNThaTTM2Mi4xNiAyNi44MTlDMzYwLjk3MSAyNS41NzE1IDM1OC44ODkgMjIuOTc4IDM1OC4wNjMgMjEuOTkzNUwzNTcuMjM3IDIwLjk3NTdDMzU4LjA5NiAxOS45NTgzIDM1OC42OSAxOS4zMzQxIDM1OS4zMTkgMTguNTc5QzM2MC4wNDUgMTcuNzkxIDM2MC43MDYgMTYuOTcwNCAzNjEuNDk5IDE2LjI0ODJDMzYxLjEzNiAxNi4zMTM3IDM2MC45MzcgMTYuMzEzNyAzNjAuNzM5IDE2LjMxMzdDMzYwLjU0MSAxNi4zMTM3IDM2MC4zNDMgMTYuMzEzNyAzNjAuMTQ0IDE2LjI0ODJDMzU5LjkxMyAxNi42MDkzIDM1OS41NSAxNy4wNjg4IDM1OS4xNTMgMTcuNTI4N0MzNTguNzU2IDE3Ljk1NTYgMzU4LjM2IDE4LjM4MjIgMzU4LjA2MyAxOC43NDMzQzM1Ny4yMzYgMTkuNjk1MiAzNTYuNzc0IDIwLjE1NDcgMzU1LjU4NSAyMS4yNzA5VjE5LjQ2NTVDMzU1LjU4NSAxOC40MTUxIDM1NS41ODUgMTcuNzI1NSAzNTUuNjUxIDE2LjI0ODJDMzU1LjMyMSAxNi4zMTM3IDM1NC45NTcgMTYuMzEzNyAzNTQuNzI2IDE2LjMxMzdDMzU0LjQ2MSAxNi4zMTM3IDM1NC4wMzIgMTYuMzEzNyAzNTMuNzY4IDE2LjI0ODJDMzUzLjgzMyAxNy44MjM5IDM1My44NjcgMTguMjgzNCAzNTMuODY3IDE5LjQzMjVWMjMuNjM0N0MzNTMuODY3IDI0LjY4NSAzNTMuODMzIDI1LjMwODggMzUzLjc2OCAyNi44MTlDMzU0LjE2NCAyNi43MjA2IDM1NC40OTUgMjYuNzIwNiAzNTQuNzI2IDI2LjcyMDZDMzU0Ljk1NyAyNi43MjA2IDM1NS4zNTMgMjYuNzUzNSAzNTUuNjUxIDI2LjgxOUMzNTUuNTg1IDI1LjE0NDkgMzU1LjU4NSAyNC4xNTk3IDM1NS41ODUgMjMuNjM0N1YyMS40MzUyQzM1Ni44MDcgMjIuODc5NiAzNTguNjkgMjUuMjQzMyAzNTkuNzQ4IDI2LjgxOUMzNjAuMTMgMjYuNzU2MyAzNjAuNTE3IDI2LjcyMzQgMzYwLjkwNSAyNi43MjA2QzM2MS4yMDIgMjYuNzIwNiAzNjEuNjY1IDI2LjcyMDYgMzYyLjE2IDI2LjgxOVYyNi44MTlaTTM3Mi42MDEgNDAuMDE1OEMzNzIuNTY4IDM5Ljg1MTkgMzcyLjUzNSAzOS43MjA2IDM3Mi41MzUgMzkuNTIzNEMzNzIuNTM1IDM5LjM5MjggMzcyLjU2OCAzOS4yMjgxIDM3Mi42MDEgMzkuMDk2NEMzNzEuMjggMzkuMTI5NyAzNjguOTAxIDM5LjE5NTIgMzY4LjM3MiAzOS4xOTUyVjM0LjY2NDlDMzY5LjY5NCAzNC42NjQ5IDM3MC45ODIgMzQuNjY0OSAzNzIuMjcgMzQuNzk2M0MzNzIuMjM4IDM0LjYzMjQgMzcyLjIwNCAzNC40Njc3IDM3Mi4yMDQgMzQuMzM2NEMzNzIuMjA0IDM0LjIwNTggMzcyLjIwNCAzNC4wNDE5IDM3Mi4yNyAzMy44NDQ3QzM3MS4zNDYgMzMuOTQyOCAzNjkuMTk4IDMzLjk3NiAzNjguMzcyIDMzLjk3NlYzMC4yNjZDMzY5LjgyNiAzMC4yNjYgMzcwLjY4NSAzMC4yNjYgMzcxLjE4IDMwLjI5OTNMMzcyLjUwMiAzMC4zNjUxQzM3Mi40MzYgMzAuMTY3OSAzNzIuNDM2IDMwLjA2OTIgMzcyLjQzNiAyOS45MDUzQzM3Mi40MzYgMjkuNzQxNCAzNzIuNDM2IDI5LjcwODEgMzcyLjUwMiAyOS40NDU4QzM3MS40MTEgMjkuNDc4MyAzNjkuOTI1IDI5LjU0MzggMzY5LjI2NCAyOS41NDM4QzM2OC44MDIgMjkuNTQzOCAzNjcuMzQ4IDI5LjUxMTMgMzY2LjU4NyAyOS40NDU4QzM2Ni42NTQgMzAuMjY2NCAzNjYuNjg2IDMxLjYxMjMgMzY2LjY4NiAzMi41NjQyVjM2Ljg2NTFDMzY2LjY4NiAzNy40ODg1IDM2Ni42MiAzOC43MzU3IDM2Ni41ODcgNDAuMDE2MkMzNjcuNTEzIDM5Ljk1MDMgMzY4LjgwMiAzOS45NTAzIDM2OS4yNjQgMzkuOTUwM0MzNzAuMDI0IDM5Ljk1IDM3MS42NDMgMzkuOTUgMzcyLjYwMSA0MC4wMTU4Wk0zNjQuNjA1IDM5LjEyOTRDMzY0LjQ0IDM4LjgwMDggMzY0LjM0MSAzOC4zMDg4IDM2NC4yNzUgMzguMDQ2MUMzNjIuOTIgMzkuMTYxOSAzNjEuOTk1IDM5LjM5MjQgMzYwLjkzOCAzOS4zOTI0QzM1OC41OTIgMzkuMzkyNCAzNTcuMzM3IDM3LjI5MTMgMzU3LjMzNyAzNC42NjQ5QzM1Ny4zMzcgMzEuNzQzNiAzNTguNzU3IDMwLjAzNjIgMzYxLjE2OSAzMC4wMzYyQzM2Mi40MjUgMzAuMDM2MiAzNjMuNjE0IDMwLjU5NDUgMzY0LjE3NiAzMS4xNTI4QzM2NC4yMDggMzAuODg5OCAzNjQuMzA4IDMwLjM2NDggMzY0LjQ3MyAzMC4wNjg4QzM2My4zMTYgMjkuNTExMyAzNjIuMjU5IDI5LjM0NjYgMzYxLjEwMiAyOS4zNDY2QzM1Ny4yMzcgMjkuMzQ2NiAzNTUuNDUzIDMxLjc0MzYgMzU1LjQ1MyAzNC44Mjg4QzM1NS40NTMgMzguMzA5MSAzNTcuNzk4IDQwLjE0NzEgMzYwLjczOSA0MC4xNDcxQzM2Mi40MjUgNDAuMTQ3MSAzNjMuODEyIDM5LjYyMjIgMzY0LjYwNSAzOS4xMjk0VjM5LjEyOTRaTTM0Mi4zMDMgMjYuODE5QzM0MC41MTkgMjMuNDA0OSAzMzguOCAxOS4xMzczIDMzNy41NzggMTYuMTE2OUgzMzcuMzhDMzM2LjU4NyAxOC4wMjA3IDMzNS4xMzMgMjEuMjcwOSAzMzQuNzM3IDIyLjE4OTlDMzM0LjI3NCAyMy4zMDYxIDMzMy4yNSAyNS41MDU2IDMzMi41ODkgMjYuODE4NkMzMzIuODAzIDI2Ljc1MzggMzMzLjAyNiAyNi43MjA2IDMzMy4yNSAyNi43MjAyQzMzMy40NDggMjYuNzIwMiAzMzMuNjEzIDI2Ljc1MzEgMzMzLjg0NSAyNi44MTg2QzMzNC4xNzUgMjUuOTMyMiAzMzQuNjM4IDI0LjgxNiAzMzUuMTMzIDIzLjYzNDNDMzM1Ljc5NCAyMy42MDE0IDMzNi4zODkgMjMuNTY4OCAzMzYuOTg0IDIzLjU2ODhDMzM3LjYxMiAyMy41Njg4IDMzOC4yNzIgMjMuNjAxNCAzMzguOTMzIDIzLjYzNDNMMzM5LjU5NCAyNS4yMUwzNDAuMjU1IDI2LjgxODZDMzQwLjcxNyAyNi43MjAyIDM0MS4wOCAyNi43MjAyIDM0MS4zMTIgMjYuNzIwMkMzNDEuNjA5IDI2LjcyMDYgMzQxLjg3MyAyNi43MjA2IDM0Mi4zMDMgMjYuODE5VjI2LjgxOVpNMzUzLjYzNiAyOS40NDU0QzM1My40MzggMjkuNTExMyAzNTMuMjczIDI5LjU0MzUgMzUzLjEwNyAyOS41NDM1QzM1Mi45MDkgMjkuNTQzNSAzNTIuNzQ0IDI5LjUxMDkgMzUyLjU0NiAyOS40NDU0QzM1Mi42NDQgMzAuNzU4NCAzNTIuNjc4IDMyLjA3MTQgMzUyLjY3OCAzMy4zNTE5VjM2LjczMzRDMzUyLjE0OSAzNi4yNzM2IDM1MC44NiAzNS4wOTE5IDM0OS4zNzQgMzMuNzEzQzM0Ny44NiAzMi4zMDc0IDM0Ni4zOTQgMzAuODUxMSAzNDQuOTc5IDI5LjM0NjZIMzQ0Ljc0OEMzNDQuNzgxIDMwLjgyNDMgMzQ0LjgxNCAzMi40IDM0NC44MTQgMzMuODExNFYzNS44Nzk5QzM0NC44MTQgMzcuNjUyOCAzNDQuODE0IDM4LjYwNDcgMzQ0LjcxNSA0MC4wMTYyQzM0NC45OCAzOS45NTAzIDM0NS4xMTIgMzkuOTUwMyAzNDUuMzEgMzkuOTUwM0MzNDUuNDQyIDM5Ljk1MDMgMzQ1LjU3NSAzOS45NTAzIDM0NS44MDYgNDAuMDE2MkMzNDUuNzQgMzguNjcwNiAzNDUuNzA3IDM2LjQ3MDggMzQ1LjcwNyAzNS44Nzk5VjMyLjU5NjhDMzQ4LjE4NSAzNC44NjI1IDM1MS4yMjQgMzcuODgyNiAzNTMuNDcxIDQwLjE0NzVIMzUzLjYwM0MzNTMuNjAzIDM4LjkzMjkgMzUzLjUzNyAzNy43MTc5IDM1My41MzcgMzYuNTA0VjM0LjYzMjdDMzUzLjUzNiAzMi40MzI1IDM1My41MzYgMzEuMzQ5MyAzNTMuNjM2IDI5LjQ0NTRaTTM0Mi41NjcgNDAuMDE1OEMzNDIuNTM0IDM5Ljg1MTkgMzQyLjUwMSAzOS43MjA2IDM0Mi41MDEgMzkuNTIzNEMzNDIuNTAxIDM5LjM5MjggMzQyLjUzNCAzOS4yMjgxIDM0Mi41NjcgMzkuMDk2NEMzNDEuMjQ2IDM5LjEyOTcgMzM4Ljg2NyAzOS4xOTUyIDMzOC4zNzEgMzkuMTk1MlYzNC42NjQ5QzMzOS42NiAzNC42NjQ5IDM0MC45NDggMzQuNjY0OSAzNDIuMjM3IDM0Ljc5NjNDMzQyLjIwNCAzNC42MzI0IDM0Mi4xNzEgMzQuNDY3NyAzNDIuMTcxIDM0LjMzNjRDMzQyLjE3MSAzNC4yMDU4IDM0Mi4xNzEgMzQuMDQxOSAzNDIuMjM3IDMzLjg0NDdDMzQxLjMxMiAzMy45NDI4IDMzOS4xOTcgMzMuOTc2IDMzOC4zNzEgMzMuOTc2VjMwLjI2NkMzMzkuNzkyIDMwLjI2NiAzNDAuNjUxIDMwLjI2NiAzNDEuMTc5IDMwLjI5OTNMMzQyLjQ2OCAzMC4zNjUxQzM0Mi40MzUgMzAuMTY3OSAzNDIuNDM1IDMwLjA2OTIgMzQyLjQzNSAyOS45MDUzQzM0Mi40MzUgMjkuNzQxNCAzNDIuNDM1IDI5LjY3NTUgMzQyLjQ2OCAyOS40NDU4QzM0MS4zNzggMjkuNDc4MyAzMzkuODkxIDI5LjU0MzggMzM5LjIzIDI5LjU0MzhDMzM4Ljc2NyAyOS41NDM4IDMzNy4zMTQgMjkuNTExMyAzMzYuNTU0IDI5LjQ0NThDMzM2LjYyIDMwLjI2NjQgMzM2LjY1MyAzMS42MTIzIDMzNi42NTMgMzIuNTY0MlYzNi44NjUxQzMzNi42NTMgMzcuNDg4NSAzMzYuNTg3IDM4LjczNTcgMzM2LjU1NCA0MC4wMTYyQzMzNy41MTIgMzkuOTUwMyAzMzguNzY3IDM5Ljk1MDMgMzM5LjIzIDM5Ljk1MDNDMzM5Ljk5IDM5Ljk1IDM0MS42NDIgMzkuOTUgMzQyLjU2NyA0MC4wMTU4VjQwLjAxNThaTTMzMS4yMDEgMjYuODE5QzMzMC42NzMgMjMuMjQwNiAzMzAuMjEgMTkuNDk4NCAzMjkuODQ3IDE2LjExNjlDMzI5Ljc0OCAxNi4xNDk4IDMyOS43MTQgMTYuMTQ5OCAzMjkuNjQ5IDE2LjExNjlDMzI4Ljk1NSAxNy4zMzE1IDMyOC4xNjIgMTguNjQ0NSAzMjcuNTY3IDE5LjU2MzlDMzI3LjAwNiAyMC40NTAzIDMyNi4zNDUgMjEuNTAwNyAzMjUuNTg1IDIyLjYxNjlDMzIzLjk5OSAyMC41ODE3IDMyMi4zNDcgMTguMDIxMSAzMjEuMjU2IDE2LjExNjlDMzIxLjE5IDE2LjE0OTggMzIxLjE1NyAxNi4xMTY5IDMyMS4wOTEgMTYuMTE2OUMzMjAuNzI4IDE5LjQ5OCAzMjAuMjMyIDIzLjI3MzIgMzE5LjczNiAyNi44MTlDMzIwLjAwMSAyNi43MjA2IDMyMC4xNjYgMjYuNzIwNiAzMjAuMjk4IDI2LjcyMDZDMzIwLjQ5NiAyNi43MjA2IDMyMC42MjggMjYuNzUzNSAzMjAuODU5IDI2LjgxOUMzMjAuOTkyIDI0LjQ1NTMgMzIxLjI1NiAyMi4xMjQ0IDMyMS41NTMgMTkuNjYyM0MzMjIuODQyIDIxLjUzMzYgMzIzLjk2NSAyMy4xNDIyIDMyNS4yMjEgMjQuODQ5M0MzMjYuMjc4IDIzLjIwNzcgMzI3LjM2OCAyMS40MzQ4IDMyOC41NTggMTkuNjI5NEMzMjguODg4IDIyLjE1NyAzMjkuMTg2IDI0LjQ1NTMgMzI5LjM1MSAyNi44MTlDMzI5Ljc4IDI2LjcyMDYgMzMwLjA3OCAyNi43MjA2IDMzMC4yNzYgMjYuNzIwNkMzMzAuNTQgMjYuNzIwNiAzMzAuODA1IDI2LjcyMDYgMzMxLjIwMSAyNi44MTlWMjYuODE5Wk0zMzQuOTY4IDMyLjIwMjhDMzM0Ljk2OCAzMC4yOTg5IDMzMy40NDggMjkuNDQ1NCAzMzEuNTk4IDI5LjQ0NTRDMzMwLjc3MiAyOS40NDU0IDMyOS44OCAyOS41NDM1IDMyOS4yNTIgMjkuNTQzNUMzMjkuMDIxIDI5LjU0MzUgMzI4LjUyNSAyOS41NDM1IDMyNy45OTcgMjkuNDc3NkMzMjguMDMgMzAuNTI4MyAzMjguMDk2IDMxLjQxNDggMzI4LjA5NiAzMi40MzIyVjM2LjkyOTVDMzI4LjA5NiAzNy45MTQ4IDMyOC4wMyAzOC45OTggMzI3Ljk5NyA0MC4wMTU0QzMyOC40MjYgMzkuOTQ5NiAzMjguNzI0IDM5Ljk0OTYgMzI4LjkyMiAzOS45NDk2QzMyOS4xNTMgMzkuOTQ5NiAzMjkuNDg0IDM5Ljk0OTYgMzI5Ljg4IDQwLjAxNTRDMzI5LjgxNSAzOS4wMzE5IDMyOS43ODIgMzguMDQ2NSAzMjkuNzgxIDM3LjA2MDlWMzUuNDJDMzMwLjE0NSAzNS40NTI2IDMzMC41MDggMzUuNDUyNiAzMzAuOTA1IDM1LjQ1MjZDMzMyLjgyIDM1LjQ1MjYgMzM0Ljk2OCAzNC43MzA0IDMzNC45NjggMzIuMjAyOFYzMi4yMDI4Wk0zMjYuMDE0IDM2Ljg5NzNDMzI2LjAxNCAzNS4yNTU4IDMyNC45MjQgMzQuNTMzNiAzMjMuMDQgMzMuNzQ1NkMzMjEuNjg2IDMzLjE4OCAzMjAuOTkyIDMyLjY5NTYgMzIwLjk5MiAzMS42NDQ1QzMyMC45OTIgMzAuNjYgMzIxLjc1MiAzMC4wMzYyIDMyMy4wMDggMzAuMDM2MkMzMjMuODM0IDMwLjAzNjIgMzI0LjU2MSAzMC4zMzE1IDMyNS4yMjIgMzAuODU2OEMzMjUuMjg3IDMwLjQ5NTcgMzI1LjQ1MyAzMC4xMzQ3IDMyNS42NTEgMjkuODM5NEMzMjQuODU4IDI5LjQ3ODMgMzIzLjk5OSAyOS4zNDcgMzIzLjA3NCAyOS4zNDdDMzIwLjM2NSAyOS4zNDcgMzE5LjUwNSAzMC44OTA1IDMxOS41MDUgMzIuMjAzNUMzMTkuNTA1IDMzLjgxMTggMzIwLjI5OSAzNC41NjcyIDMyMi4zNDcgMzUuMzU1M0MzMjMuNjM2IDM1Ljg0NyAzMjQuMjk2IDM2LjQ3MTEgMzI0LjI5NiAzNy41NTQ0QzMyNC4yOTYgMzguNzAzNSAzMjMuNDM3IDM5LjQyNTcgMzIyLjI0OCAzOS40MjU3QzMyMS41NTQgMzkuNDI1NyAzMjAuMzY1IDM5LjA2NDYgMzE5LjUzOSAzOC4zMDk5QzMxOS41MDUgMzguNzM2MSAzMTkuNTA1IDM5LjEzMDQgMzE5LjM3MyAzOS40OTE1QzMxOS45MDIgMzkuNzU0NiAzMjEuMTI1IDQwLjE0NzkgMzIyLjIxNSA0MC4xNDc5QzMyNC45OSA0MC4xNDcxIDMyNi4wMTQgMzguNDM5NyAzMjYuMDE0IDM2Ljg5NzNWMzYuODk3M1pNMzc4LjE1MiAxNy45ODgyQzM3OC4xNTIgMTguOTczIDM3Ny40NTggMTkuNjYyMyAzNzYuNzY0IDIwLjIyMDJDMzc2LjMwMSAxOS41NjM5IDM3NS43NCAxOC42NzcxIDM3NS43NCAxNy45ODgyQzM3NS43NCAxNy4yMzMxIDM3Ni4yNjggMTYuODA2MSAzNzYuOTk1IDE2LjgwNjFDMzc3Ljk4NyAxNi44MDY1IDM3OC4xNTIgMTcuNjkyNiAzNzguMTUyIDE3Ljk4ODJWMTcuOTg4MlpNMzc4LjQ4MiAyNS4wMTMyQzM3OC4xMTkgMjUuMzQxNyAzNzcuMjYgMjUuOTY1NSAzNzYuNTMzIDI1Ljk2NTVDMzc1LjU3NCAyNS45NjU1IDM3NC40MTggMjUuMjc1OSAzNzQuNDE4IDIzLjc5ODZDMzc0LjQxOCAyMi40ODU1IDM3NS4yNzcgMjEuODk0NyAzNzUuODA2IDIxLjU2NjVDMzc3LjAyOCAyMy4yNDA2IDM3Ny4wOTUgMjMuMzM5MSAzNzguNDgyIDI1LjAxMzJaTTM3OS44MDQgMzIuMjAyOEMzNzkuODA0IDMzLjI1MzUgMzc5LjI3NSAzNC40MDI2IDM3Ny43NTUgMzQuNDAyNkMzNzcuMzI2IDM0LjQwMjYgMzc2LjkyOSAzNC40MDI2IDM3Ni41MzMgMzQuMzY5M1YzMC4yNjU2QzM3Ni45MjkgMzAuMTY3NiAzNzcuNDI1IDMwLjEzNDMgMzc3LjcyMiAzMC4xMzQzQzM3OS4wMTEgMzAuMTM0MyAzNzkuODA0IDMwLjg4OTggMzc5LjgwNCAzMi4yMDI4Wk0zMzguNjAyIDIyLjgxNDFDMzM3LjkwOSAyMi44NDY2IDMzNy41NDUgMjIuODQ2NiAzMzcuMDgyIDIyLjg0NjZDMzM2LjUyMSAyMi44NDY2IDMzNi4xOSAyMi44NDY2IDMzNS40NjMgMjIuODE0MUwzMzcuMDgyIDE5LjAwNkwzMzguNjAyIDIyLjgxNDFaTTMzMy4xNTEgMzIuMzAwOEMzMzMuMTUxIDMzLjgxMTEgMzMyLjI1OCAzNC43OTU5IDMzMC44MDUgMzQuNzk1OUMzMzAuNTA3IDM0Ljc5NTkgMzMwLjE3NyAzNC43OTU5IDMyOS43OCAzNC43MzAxVjMwLjIzMjdDMzMwLjI0MyAzMC4xNjY5IDMzMC42MzkgMzAuMTMzOSAzMzEuMDM2IDMwLjEzMzlDMzMyLjQyNCAzMC4xMzQzIDMzMy4xNTEgMzEuMDIxMSAzMzMuMTUxIDMyLjMwMDhaTTM2OS41MjggMjMuNjY3NkMzNjkuNTI4IDIyLjAyNiAzNjguNDM4IDIxLjMwMzkgMzY2LjU1NSAyMC41MTYyQzM2NS4yIDE5Ljk1ODMgMzY0LjUwNiAxOS40OTg4IDM2NC41MDYgMTguNDE1MUMzNjQuNTA2IDE3LjQ2MzIgMzY1LjI2NiAxNi44MDY1IDM2Ni41MjEgMTYuODA2NUMzNjcuMzQ4IDE2LjgwNjUgMzY4LjA3NSAxNy4xMDE3IDM2OC43MzUgMTcuNjI3NUMzNjguODAyIDE3LjI2NjQgMzY4Ljk2NyAxNi45MDQ5IDM2OS4xMzEgMTYuNjQyMkMzNjguMzcyIDE2LjI4MTEgMzY3LjQ3OSAxNi4xMTcyIDM2Ni41ODcgMTYuMTE3MkMzNjMuOTQ0IDE2LjExNzIgMzYyLjk4NiAxNy42NiAzNjIuOTg2IDE5LjAwNkMzNjIuOTg2IDIwLjU4MTcgMzYzLjgxMiAyMS4zMzY4IDM2NS44NjEgMjIuMTI0NEMzNjcuMTQ5IDIyLjYxNjkgMzY3LjgxIDIzLjI0MDYgMzY3LjgxIDI0LjM1NjhDMzY3LjgxIDI1LjQ3MyAzNjYuOTUxIDI2LjE5NTIgMzY1Ljc2MiAyNi4xOTUyQzM2NS4wMzUgMjYuMTk1MiAzNjMuODc5IDI1LjgzNDEgMzYzLjA1MiAyNS4xMTE5QzM2My4wMiAyNS41Mzg5IDM2Mi45ODYgMjUuOSAzNjIuODg3IDI2LjI2MTFDMzYzLjM4MyAyNi41MjM4IDM2NC42MDYgMjYuOTE3NCAzNjUuNzI5IDI2LjkxNzRDMzY4LjUwNCAyNi45MTc0IDM2OS41MjggMjUuMjQzMyAzNjkuNTI4IDIzLjY2NzZWMjMuNjY3NloiIGZpbGw9IiMwMzY1NTUiLz4NCjxwYXRoIGQ9Ik02NDAuNDE2IDIwLjU1NzNDNjM4LjY3MSAxOS44MzU0IDYzNy42MzEgMTkuNTU1MSA2MzYuNTk4IDE5LjU1NTFDNjM1LjUxNCAxOS41NTUxIDYzNC44MTkgMTkuOTE3IDYzNC44MTkgMjAuNDc2NUM2MzQuODE5IDIyLjE2NDUgNjQwLjk2MiAyMS42ODkzIDY0MC45NjIgMjUuNTkzNkM2NDAuOTYyIDI3Ljc0NjQgNjM5LjAyNCAyOC45OTc0IDYzNi4zMzIgMjguOTk3NEM2MzQuMjIgMjguOTk3NCA2MzMuMTggMjguNDg4IDYzMS45ODMgMjcuOTExNlYyNS40OTYyQzYzMy43MSAyNi41NjM1IDYzNC43NjggMjYuOTQwMSA2MzYuMTAxIDI2Ljk0MDFDNjM3LjI1NiAyNi45NDAxIDYzNy44NzkgMjYuNTYzNSA2MzcuODc5IDI1LjkwNjNDNjM3Ljg3OSAyNC4wNjg1IDYzMS43MzcgMjQuNzQxNSA2MzEuNzM3IDIwLjcyMTNDNjMxLjczNyAxOC43ODI3IDYzMy41MzQgMTcuNDk5IDYzNi4zMzIgMTcuNDk5QzYzNy42ODIgMTcuNDk5IDYzOC45MDEgMTcuNzYzNSA2NDAuNDE2IDE4LjM3MDdWMjAuNTU3M1pNNjQ5LjAxNiAyOC40ODQxQzY0Ny45OTIgMjguODMwNiA2NDcuMTI2IDI4Ljk5NTQgNjQ2LjI2MiAyOC45OTU0QzY0My40MDIgMjguOTk1NCA2NDEuNTUyIDI3LjQ0MjIgNjQxLjU1MiAyNS4wNzkyQzY0MS41NTIgMjIuNzU5NCA2NDMuNDczIDIxLjEyMDIgNjQ2LjE1NiAyMS4xMjAyQzY0Ni45ODUgMjEuMTIwMiA2NDguMDQ0IDIxLjMxODIgNjQ4Ljg5MSAyMS42MTIzVjIzLjM4ODFDNjQ4LjIyMSAyMy4wNTYyIDY0Ny40NDQgMjIuODc0MSA2NDYuODA5IDIyLjg3NDFDNjQ1LjI3MyAyMi44NzQxIDY0NC4yODYgMjMuNzM0MyA2NDQuMjg2IDI1LjA2MTlDNjQ0LjI4NiAyNi40MDggNjQ1LjI1NiAyNy4yOTQgNjQ2LjcyIDI3LjI5NEM2NDcuMzM3IDI3LjI5NCA2NDcuODg2IDI3LjE2MjMgNjQ5LjAxNiAyNi43NjhMNjQ5LjAxNiAyOC40ODQxWk02NzEuMzIgMjQuMjA5QzY3MS40MjUgMjMuMTU0OCA2NzIuMDgxIDIyLjU0NTcgNjczLjA4NyAyMi41NDU3QzY3NC4wNzYgMjIuNTQ1NyA2NzQuNzQ2IDIzLjE3MjEgNjc0Ljg1MiAyNC4yMDlINjcxLjMyWk02NzIuOTEgMjEuMTIyOUM2NzAuNCAyMS4xMjI5IDY2OC42MTQgMjIuNzc1NSA2NjguNjE0IDI1LjEwMTJDNjY4LjYxNCAyNy40NDQxIDY3MC40NzEgMjguOTk1NCA2NzMuMzM1IDI4Ljk5NTRDNjczLjk3IDI4Ljk5NTQgNjc1LjUwNCAyOC45OTU0IDY3Ni45NjYgMjcuOTg3VjI2LjUwNDJDNjc1Ljc2OSAyNy4yOTkzIDY3NC45NzcgMjcuNTczMSA2NzMuOTU1IDI3LjU3MzFDNjcyLjM0MSAyNy41NzMxIDY3MS4zNTQgMjYuNzk0OSA2NzEuMjY1IDI1LjQ2NjZINjc3LjExQzY3Ny4yMzIgMjIuNjkzOSA2NzUuMjc5IDIxLjEyMjkgNjcyLjkxIDIxLjEyMjlWMjEuMTIyOVpNNjc4LjA5OSAyOC44NTcySDY4MC42NTRWMjEuMjYyN0g2NzguMDk5VjI4Ljg1NzJaTTY4Ny43NjcgMjYuNzgxNUM2ODcuMjM0IDI3LjIyODEgNjg2Ljc5MiAyNy40MDcyIDY4Ni4yNDYgMjcuNDA3MkM2ODUuMDQzIDI3LjQwNzIgNjg0LjI4MSAyNi40ODM4IDY4NC4yODEgMjUuMTAwNEM2ODQuMjgxIDIzLjU4NDEgNjg1LjA0MyAyMi43MTAxIDY4Ni4zMzEgMjIuNzEwMUM2ODYuNzkyIDIyLjcxMDEgNjg3LjM5NCAyMi45MDggNjg3Ljc2NyAyMy4xNTU5VjI2Ljc4MTVaTTY4Ny43NjcgMTcuNjM5MVYyMS41OTU4QzY4Ny4wNzYgMjEuMjg0NyA2ODYuMzg4IDIxLjEyMDIgNjg1LjY0NCAyMS4xMjAyQzY4My4zMTMgMjEuMTIwMiA2ODEuNyAyMi43MjY2IDY4MS43IDI1LjA1MDdDNjgxLjcgMjcuMzI0OCA2ODMuMzEzIDI4Ljk5NzQgNjg1LjUgMjguOTk3NEM2ODYuMzY3IDI4Ljk5NzQgNjg3LjAzNyAyOC43ODU2IDY4Ny43NjcgMjguMjQzNVYyOC44NTQ5SDY5MC4zMjJWMTcuNjM5MUg2ODcuNzY3Wk02OTQuMTA1IDI0LjIwOUM2OTQuMjExIDIzLjE1NDggNjk0Ljg2NCAyMi41NDU3IDY5NS44NjggMjIuNTQ1N0M2OTYuODU4IDIyLjU0NTcgNjk3LjUzNSAyMy4xNzIxIDY5Ny42NDEgMjQuMjA5SDY5NC4xMDVaTTY5NS42OTQgMjEuMTIyOUM2OTMuMTg0IDIxLjEyMjkgNjkxLjQgMjIuNzc1NSA2OTEuNCAyNS4xMDEyQzY5MS40IDI3LjQ0NDEgNjkzLjI1OSAyOC45OTU0IDY5Ni4xMTkgMjguOTk1NEM2OTYuNzUzIDI4Ljk5NTQgNjk4LjI5IDI4Ljk5NTQgNjk5Ljc1NSAyNy45ODdWMjYuNTA0MkM2OTguNTU3IDI3LjI5OTMgNjk3Ljc2MyAyNy41NzMxIDY5Ni43MzYgMjcuNTczMUM2OTUuMTMxIDI3LjU3MzEgNjk0LjE0IDI2Ljc5NDkgNjk0LjA1MSAyNS40NjY2SDY5OS44OTRDNzAwLjAxNSAyMi42OTM5IDY5OC4wNjEgMjEuMTIyOSA2OTUuNjk0IDIxLjEyMjkiIGZpbGw9IiMwMDlFNEQiLz4NCjxwYXRoIGQ9Ik03MDMuNzIxIDIzLjQzNjhINzAzLjc1OEM3MDQuNTE3IDIxLjg1NjIgNzA1LjM2NiAyMS4xMTUgNzA2LjM1MiAyMS4xMTVDNzA2Ljg2MiAyMS4xMTUgNzA3LjMwMyAyMS4yOTY0IDcwOC4wNDQgMjEuODA3Nkw3MDcuMzQxIDIzLjkxMzNDNzA2LjY3IDIzLjUxODYgNzA2LjIyOSAyMy4zNTM1IDcwNS44MjMgMjMuMzUzNUM3MDQuODg2IDIzLjM1MzUgNzA0LjI4NiAyNC4xNzc1IDcwMy43MjEgMjUuNTcwNFYyOC44NDY2SDcwMS4xNjJWMjEuMjU0MUg3MDMuNzIxVjIzLjQzNjhaTTY4MC43NzUgMTguMDY3NEM2ODEuMDE1IDE4LjY1NzUgNjgwLjU4MyAxOS40ODA1IDY3OS44MTQgMTkuOTA0QzY3OS4wNDEgMjAuMzI3MSA2NzguMjI0IDIwLjE5MjggNjc3Ljk4NiAxOS42MDI3QzY3Ny43NDMgMTkuMDExNyA2NzguMTczIDE4LjE4NzcgNjc4Ljk0NSAxNy43NjY2QzY3OS43MTYgMTcuMzQxMSA2ODAuNTMzIDE3LjQ3NTkgNjgwLjc3NSAxOC4wNjc0WiIgZmlsbD0iIzAwOUU0RCIvPg0KPHBhdGggZD0iTTY1OC4yMiAyNC4wMjMxQzY1OC4yMiAyMS45NjUxIDY1Ni43MTkgMjEuMTIyNiA2NTUuMjM5IDIxLjEyMjZDNjU0LjIzMiAyMS4xMjI2IDY1My40MDQgMjEuNTE4NCA2NTIuNjY0IDIyLjM5MjFINjUyLjYyOVYxNy42MzkySDY1MC4wNzFWMjguODM1M0g2NTIuNjI5VjI0LjAyMzFDNjUzLjIyOCAyMy4yMTYxIDY1My43MzggMjIuODcxMSA2NTQuMzM4IDIyLjg3MTFDNjU1LjEzNCAyMi44NzExIDY1NS42NjIgMjMuMzk4NiA2NTUuNjYyIDI0LjUzMjlWMjcuMjAwOEM2NTYuNTIgMjYuNzg5NiA2NTcuMzkzIDI2LjUzNzQgNjU4LjIyIDI2LjQ0MzhWMjQuMDIzMVpNNjY0LjYzNiAyMS4xMTk5QzY2My41OTQgMjEuMTE5OSA2NjIuNzk5IDIxLjQ4MTEgNjYxLjk4NCAyMi4zNDkzVjIxLjI2MjRINjU5LjQyOFYyNi40MjM0QzY2MC4zMTMgMjYuNTA1OCA2NjEuNDQzIDI2Ljg4NDcgNjYxLjk4NCAyNy41MTA0VjIzLjk2MzRDNjYyLjY1NyAyMy4wMjMyIDY2My4xMzQgMjIuNzA5NyA2NjMuNzcgMjIuNzA5N0M2NjQuNDk0IDIyLjcwOTcgNjY1LjA0NSAyMy4xNTU2IDY2NS4wNDUgMjQuMjI2NFYyOC44MzcySDY2Ny42MDJWMjQuMDI4OUM2NjcuNjAyIDIxLjc5MjYgNjY1LjkwOCAyMS4xMTk5IDY2NC42MzYgMjEuMTE5OVYyMS4xMTk5Wk02NjkuMDE1IDMxLjAxODFINjY2LjA0M1YzMi45ODY0SDY2OC45MDlWMzMuODMxMkg2NjYuMDQzVjM1Ljg2MTlINjY5LjEwM1YzNi43MDU1SDY2NS4wNDZWMzAuMTc1Mkg2NjkuMDE1TDY2OS4wMTUgMzEuMDE4MVpNNjcxLjQ0MiAzNi43MDkzSDY3Mi4zNTJWMzAuMTczM0g2NzEuNDQyVjM2LjcwOTNaTTY3Ni44NTkgMzMuMDQ4NEM2NzcuNTA0IDMzLjA0ODQgNjc3LjkwNCAzMy40NjMxIDY3Ny45MzUgMzQuMTE0Mkg2NzUuNjE2QzY3NS43NDIgMzMuNDM0MiA2NzYuMTYxIDMzLjA0ODQgNjc2Ljg1OSAzMy4wNDg0Wk02NzUuNiAzNC42ODFINjc4Ljg0MkM2NzguODQyIDMzLjA4NjkgNjc4LjA2MiAzMi4zMTggNjc2LjgzOCAzMi4zMThDNjc1LjU2OSAzMi4zMTggNjc0LjY4OCAzMy4xOTI0IDY3NC42ODggMzQuNDk2OUM2NzQuNjg4IDM1LjY4OSA2NzUuNDg0IDM2Ljc4OTggNjc2LjkxNyAzNi43ODk4QzY3Ny42OTggMzYuNzg5OCA2NzguMjAzIDM2LjYyODEgNjc4Ljc2MyAzNi4yODJWMzUuNDU2QzY3OC4yMjIgMzUuNzg1NiA2NzcuNjk4IDM1Ljk3NTggNjc3LjE0NyAzNS45NzU4QzY3Ni4yNjUgMzUuOTc1OCA2NzUuNzQyIDM1LjUzNSA2NzUuNiAzNC42ODA2VjM0LjY4MVpNNjg0Ljc4NiAzMy41MzA5QzY4NC4yNjMgMzMuMTk2NiA2ODMuOTE0IDMzLjA5ODUgNjgzLjUxNSAzMy4wOTg1QzY4Mi42ODIgMzMuMDk4NSA2ODIuMTA1IDMzLjY5NDUgNjgyLjEwNSAzNC41NjdDNjgyLjEwNSAzNS40NTYgNjgyLjcxOSAzNS45OTE2IDY4My42NjggMzUuOTkxNkM2ODQuMDU4IDM1Ljk5MTYgNjg0LjQzIDM1Ljg5NzMgNjg0Ljg4OCAzNS43MDU5VjM2LjU0MjZDNjg0LjU4MiAzNi42Nzc0IDY4My45OTcgMzYuNzg5OCA2ODMuNTE1IDM2Ljc4OThDNjgyLjEzNiAzNi43ODk4IDY4MS4xOCAzNS45MDYyIDY4MS4xOCAzNC42NDMyQzY4MS4xOCAzMy4yMTc4IDY4Mi4wNTQgMzIuMzE4IDY4My40NTMgMzIuMzE4QzY4My45ODcgMzIuMzE4IDY4NC4zNDYgMzIuNDMzOSA2ODQuNzg3IDMyLjYxNDVMNjg0Ljc4NiAzMy41MzA5Wk02ODguOTM0IDMyLjQwMDRINjkwLjM5NVYzMy4xNjUxSDY4OC45MzRWMzUuMzc1MkM2ODguOTM0IDM1Ljg4MTEgNjg5LjMyNyAzNi4wMjc0IDY4OS41OTMgMzYuMDI3NEM2ODkuOTIyIDM2LjAyNzQgNjkwLjI2MiAzNS45MiA2OTAuNjMgMzUuNzA3OVYzNi41MDM3QzY5MC4zMSAzNi42Njc4IDY4OS44MiAzNi43ODk4IDY4OS41MTkgMzYuNzg5OEM2ODguNTI4IDM2Ljc4OTggNjg4LjAyNyAzNi4yMTYxIDY4OC4wMjcgMzUuNDM5MVYzMy4xNjUxSDY4Ny4yMjRWMzMuMDcwM0w2ODguOTM0IDMxLjUxMDJWMzIuNDAwNFpNNjkzLjg3NiAzMi40MDA0VjMzLjM5NjlINjkzLjg5NUM2OTQuMzU5IDMyLjYzNDUgNjk0LjggMzIuMzE4IDY5NS4yMyAzMi4zMThDNjk1LjYwMSAzMi4zMTggNjk1Ljk0NyAzMi40ODAxIDY5Ni4zMjkgMzIuODE2Nkw2OTUuODQ3IDMzLjU2NDRDNjk1LjU3IDMzLjMwOTEgNjk1LjIxMSAzMy4xMzMxIDY5NC45OTUgMzMuMTMzMUM2OTQuMzY4IDMzLjEzMzEgNjkzLjg3NiAzMy43MjY4IDY5My44NzYgMzQuNDYyNlYzNi43MDkzSDY5Mi45NjdWMzIuNDAwNEg2OTMuODc2Wk03MDUuNjU3IDMzLjUzMDlDNzA1LjEzMSAzMy4xOTY2IDcwNC43ODIgMzMuMDk4NSA3MDQuMzgxIDMzLjA5ODVDNzAzLjU0OSAzMy4wOTg1IDcwMi45NzcgMzMuNjk0NSA3MDIuOTc3IDM0LjU2N0M3MDIuOTc3IDM1LjQ1NiA3MDMuNTkyIDM1Ljk5MTYgNzA0LjUzNSAzNS45OTE2QzcwNC45MjUgMzUuOTkxNiA3MDUuMjk1IDM1Ljg5NzMgNzA1Ljc2IDM1LjcwNTlWMzYuNTQyNkM3MDUuNDQ3IDM2LjY3NzQgNzA0Ljg2MiAzNi43ODk4IDcwNC4zOCAzNi43ODk4QzcwMy4wMDQgMzYuNzg5OCA3MDIuMDQ0IDM1LjkwNjIgNzAyLjA0NCAzNC42NDMyQzcwMi4wNDQgMzMuMjE3OCA3MDIuOTIyIDMyLjMxOCA3MDQuMzIgMzIuMzE4QzcwNC44NTUgMzIuMzE4IDcwNS4yMTIgMzIuNDMzOSA3MDUuNjU3IDMyLjYxNDVMNzA1LjY1NyAzMy41MzA5Wk02OTguNzQyIDM2LjcwOTNINjk5LjY1MlYzMi40MDA4SDY5OC43NDJWMzYuNzA5M1oiIGZpbGw9IiMwMDlFNEQiLz4NCjxwYXRoIGQ9Ik02OTkuNjg0IDMwLjg1MjVDNjk5Ljc3MyAzMS4wNjA0IDY5OS42MTggMzEuMzU0NCA2OTkuMzQ0IDMxLjUwNDFDNjk5LjA2OCAzMS42NTQzIDY5OC43NzYgMzEuNjA2MiA2OTguNjkzIDMxLjM5NzhDNjk4LjYxIDMxLjE4NzQgNjk4Ljc2MSAzMC44OTU4IDY5OS4wMzggMzAuNzQ1NkM2OTkuMzExIDMwLjU5MzUgNjk5LjYwMSAzMC42NDIxIDY5OS42ODQgMzAuODUyNVYzMC44NTI1Wk02NTguOTQgMzEuMjAwOUM2NTguNzc5IDMxLjIwMDkgNjU4LjcxMSAzMS4yMjU1IDY1OC42NDYgMzEuMjkzOEM2NTguNjIgMzEuMzIwMyA2NTguNjEgMzEuMzQ3MiA2NTguNiAzMS40MDExTDY1Ny43ODQgMzQuMjg3QzY1Ny41OTMgMzUuMjk5MiA2NTYuMjU5IDM2LjMwOTkgNjU0LjUyMSAzNi4zMDk5SDY1Mi4xMDRMNjUyLjUyMyAzNC44MjdINjU0LjA3NkM2NTQuMjM0IDM0LjgyNyA2NTQuMzU4IDM0Ljc3MjEgNjU0LjQ2MiAzNC42NjQzQzY1NC41IDM0LjYyMjUgNjU0LjU1IDM0LjU1NyA2NTQuNTU2IDM0LjQ4OTZMNjU1LjIwMSAzMS45NjgxQzY1NS4zOTEgMzAuOTU1NSA2NTYuNTM4IDI5LjgzNjkgNjU4LjI3NiAyOS44MzY5SDY2MC43NTFMNjYwLjQzNSAzMS4yMDA5SDY1OC45NFpNNjU5LjQ5NyAzMi45NTk2TDY1OS43NzMgMzIuMDI1OUg2NjIuMjg4QzY2Mi41OTggMzAuNjcyIDY2Mi4zNTQgMjkuNDE3NyA2NjEuNDczIDI4LjU5NjFDNjU5LjY4OSAyNi45MzMyIDY1NS45NTcgMjcuNDk4MyA2NTMuMTc3IDI5Ljk3NzlDNjUyLjc0MyAzMC4zNjMgNjUyLjM3NiAzMC43NzkzIDY1Mi4wNDIgMzEuMjA0OEg2NTMuNTU2TDY1My4yMDQgMzIuMTQwNEg2NTEuMzk1QzY1MS4yMjIgMzIuNDM1NCA2NTEuMDYgMzIuNzI4MSA2NTAuOTM2IDMzLjAyNUg2NTMuMDgxTDY1Mi43MzcgMzMuOTYwN0g2NTAuNjNDNjUwLjI2OSAzNS4zOTAxIDY1MC40OTkgMzYuNzIzMyA2NTEuNDA2IDM3LjU2OTlDNjUzLjE2NyAzOS4yMTE2IDY1Ni44ODggMzguNjM0NiA2NTkuNjY3IDM2LjE1NTRDNjYwLjE1MyAzNS43MjQyIDY2MC41NTUgMzUuMjU4NyA2NjAuOTE4IDM0Ljc4MDhINjU4Ljk3M0w2NTkuMjY5IDMzLjg0NzFINjYxLjU0M0M2NjEuNzEgMzMuNTUwMSA2NjEuODYzIDMzLjI1NjUgNjYxLjk4MyAzMi45NTk2SDY1OS40OTdaIiBmaWxsPSIjMDA5RTREIi8+DQo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfNThfMTExKSI+DQo8cGF0aCBkPSJNNzc1LjA2OCA0MS4yMjc0Qzc2Ni4yODUgNDIuMDQ2MyA3NTcuMTMxIDQwLjc1NjQgNzU1Ljg0OCAzMy44MTlDNzU1LjIyMSAzMC4zOTkgNzU2Ljc2NSAyNi43NzI1IDc1OC44MSAyNC41MTg0VjIzLjMxNDhDNzU1LjEyNiAyNi41OCA3NTMuMTMgMzAuNzExNSA3NTQuMjggMzUuNTkyQzc1NS43NDggNDEuODUxOCA3NjMuNjAzIDQ1LjM5NjcgNzc1LjU5NSA0NC4yMTk1Qzc4MC4zNDIgNDMuNzU0NSA3ODYuNTUgNDIuMjEyIDc5MC44NjkgMzkuODE0NFYzNi40MTA5Qzc4Ni45NDkgMzguNzcxMyA3ODAuNDY4IDQwLjcyMTEgNzc1LjA2OCA0MS4yMjc0VjQxLjIyNzRaTTc5OC4yMDUgMjMuMjMzNUM3OTYuMTIyIDEyLjk1MzMgNzc2LjM3MyAxMi4zMDE2IDc2My42NDMgMjAuMTMzOFYyMC45OTg5Qzc3Ni4zNTkgMTQuMzkxNSA3OTQuMzk1IDE0LjQzMTcgNzk2LjAzNyAyMy45MDE2Qzc5Ni41ODkgMjcuMDM0MiA3OTQuODQzIDMwLjI5NzggNzkxLjcyMyAzMi4xNzdWMzQuNjM0MkM3OTUuNDc2IDMzLjI0MzIgNzk5LjMyNCAyOC43NDQyIDc5OC4yMDUgMjMuMjMzNVYyMy4yMzM1WiIgZmlsbD0iIzBFN0RDMiIvPg0KPHBhdGggZD0iTTc5MC4xNTkgMjEuNzM2OEg3ODcuODU2VjMyLjEwM0M3ODcuODU2IDMzLjMxNzkgNzg4LjQzNyAzNC4zNzQ0IDc5MC4xNTkgMzQuNTQzMlYyMS43MzY4Wk03NjIuNzM5IDI1LjUyMTdINzYwLjQzMkw3NjAuNDMxIDMyLjI5NDNDNzYwLjQzMSAzMy41MTM0IDc2MS4wMTMgMzQuNTY4OCA3NjIuNzM5IDM0LjczNDRWMjUuNTIxN1YyNS41MjE3Wk03NjAuNDMyIDIyLjA1MjFINzYyLjczMlYyNC4yNTg0SDc2MC40MzJWMjIuMDUyMVpNNzc2LjUzIDM0LjYyNzJDNzc0LjY2NiAzNC42MjcyIDc3My44NzcgMzMuMzE3NyA3NzMuODc3IDMyLjAyOFYyMy4wMzU1SDc3Ni4xNlYyNS41MjE3SDc3Ny44NzlWMjcuMzg1M0g3NzYuMTZWMzEuODg1NEM3NzYuMTYgMzIuNDExMyA3NzYuNDA3IDMyLjcwNDQgNzc2Ljk1IDMyLjcwNDRINzc3Ljg3OVYzNC42MjcyTDc3Ni41MyAzNC42MjcyVjM0LjYyNzJaTTc4MC43MzEgMzAuNzk2MUM3ODAuNzMxIDMxLjk3NjggNzgxLjQ2MSAzMi44NDQ2IDc4Mi43NTQgMzIuODQ0NkM3ODMuNzY2IDMyLjg0NDYgNzg0LjI2NiAzMi41NjA1IDc4NC44NSAzMS45NzY4TDc4Ni4yNjEgMzMuMzM0OUM3ODUuMzU3IDM0LjIzNzkgNzg0LjQwOSAzNC43ODcgNzgyLjczNyAzNC43ODdDNzgwLjU1MiAzNC43ODcgNzc4LjQ1OSAzMy41ODE5IDc3OC40NTkgMzAuMDY4NkM3NzguNDU5IDI3LjA2NTEgNzgwLjI4OCAyNS4zNjczIDc4Mi42ODYgMjUuMzY3M0M3ODUuMTI0IDI1LjM2NzMgNzg2LjUyNSAyNy4zNTQ5IDc4Ni41MjUgMjkuOTYzOVYzMC43OTYzSDc4MC43MzFWMzAuNzk2MVpNNzgyLjU4NiAyNy4yNzU2Qzc4MS44MDUgMjcuMjc1NiA3ODEuMjA0IDI3LjY4MjMgNzgwLjk1IDI4LjIzMDlDNzgwLjgwMiAyOC41NjA3IDc4MC43NDcgMjguODE3NyA3ODAuNzMxIDI5LjIyMjlINzg0LjI0OUM3ODQuMjA0IDI4LjIzMDkgNzgzLjc1OSAyNy4yNzU2IDc4Mi41ODYgMjcuMjc1NlpNNzY4LjkzOSAyNy4zODUzQzc2OS42MDggMjcuMzg1MyA3NjkuODg3IDI3LjcxOTggNzY5Ljg4NyAyOC4yNjI2VjM0LjY0MDZINzcyLjE3VjI4LjI0OTJDNzcyLjE3IDI2Ljk1NDIgNzcxLjQ4NyAyNS41MjQxIDc2OS40ODIgMjUuNTI0MUw3NjQuNzY2IDI1LjUyMTdWMzQuNjQwNkg3NjcuMDVWMjcuMzg1M0g3NjguOTM5VjI3LjM4NTNaTTc5Mi42MzcgMjMuNTg5MUM3OTIuMTI5IDIzLjU4OTEgNzkxLjcyNCAyMy4xNzU0IDc5MS43MjQgMjIuNjYyOUM3OTEuNzI0IDIyLjE1MjkgNzkyLjEyOSAyMS43MzY4IDc5Mi42MzcgMjEuNzM2OEM3OTMuMTQyIDIxLjczNjggNzkzLjU1NiAyMi4xNTI5IDc5My41NTYgMjIuNjYyOUM3OTMuNTU2IDIzLjE3NTQgNzkzLjE0MiAyMy41ODkxIDc5Mi42MzcgMjMuNTg5MVpNNzkyLjYzNyAyMS44OTEyQzc5Mi4yMTggMjEuODkxMiA3OTEuODgyIDIyLjI0MDcgNzkxLjg4MiAyMi42NjI5Qzc5MS44ODIgMjMuMDg3NiA3OTIuMjE4IDIzLjQzMDkgNzkyLjYzNyAyMy40MzA5Qzc5My4wNTUgMjMuNDMwOSA3OTMuNDAyIDIzLjA4NzYgNzkzLjQwMiAyMi42NjI5Qzc5My40MDIgMjIuMjQwNyA3OTMuMDU1IDIxLjg5MTIgNzkyLjYzNyAyMS44OTEyWk03OTMuMDQzIDIzLjIxOEg3OTIuODcyQzc5Mi44NjQgMjMuMjE3OSA3OTIuODU3IDIzLjIxNTcgNzkyLjg1MSAyMy4yMTE2Qzc5Mi44NDUgMjMuMjA3NSA3OTIuODQgMjMuMjAxNyA3OTIuODM3IDIzLjE5NDlMNzkyLjYwNSAyMi43OTdDNzkyLjU5OCAyMi43ODg1IDc5Mi41NzkgMjIuNzc4OCA3OTIuNTczIDIyLjc3ODhINzkyLjQ2N1YyMy4xNzU0Qzc5Mi40NjcgMjMuMTk1IDc5Mi40NTMgMjMuMjE4MSA3OTIuNDI4IDIzLjIxODFINzkyLjI3NEM3OTIuMjUxIDIzLjIxODEgNzkyLjIzNSAyMy4xOTUgNzkyLjIzNSAyMy4xNzU0VjIyLjE3NDlDNzkyLjIzNSAyMi4xMTY0IDc5Mi4yNTQgMjIuMDkyNCA3OTIuMzA1IDIyLjA4NUM3OTIuMzYxIDIyLjA3OSA3OTIuNTA1IDIyLjA3MTYgNzkyLjU4NiAyMi4wNzE2Qzc5Mi44NzIgMjIuMDcxNiA3OTMuMDM5IDIyLjE1NjYgNzkzLjAzOSAyMi40MjQ0VjIyLjQ0NEM3OTMuMDM5IDIyLjYwOTQgNzkyLjk1OSAyMi42OTk1IDc5Mi44MzMgMjIuNzM5N0w3OTMuMDc0IDIzLjE1NDdDNzkzLjA3OCAyMy4xNjQgNzkzLjA4IDIzLjE3MzkgNzkzLjA4IDIzLjE4NEM3OTMuMDggMjMuMTk5NyA3OTMuMDcyIDIzLjIxOCA3OTMuMDQzIDIzLjIxOFYyMy4yMThaTTc5Mi44MjEgMjIuNDI0NEM3OTIuODIxIDIyLjMxMjcgNzkyLjc1MiAyMi4yNzczIDc5Mi42MDUgMjIuMjc3M0g3OTIuNDU5VjIyLjU5NDdDNzkyLjQ4MiAyMi41OTQ3IDc5Mi41ODYgMjIuNTk5NiA3OTIuNjA1IDIyLjU5OTZDNzkyLjc1MiAyMi41OTk2IDc5Mi44MjEgMjIuNTUgNzkyLjgyMSAyMi40NDRWMjIuNDI0NFoiIGZpbGw9IiMwRTdEQzIiLz4NCjwvZz4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMV81OF8xMTEpIj4NCjxwYXRoIGQ9Ik01MzMuNzczIDIwLjk5MTFDNTI5LjI2MyAyMC45OTExIDUyNS41OTkgMjQuNjU0NyA1MjUuNTk5IDI5LjE2NDRDNTI1LjU5OSAzMy42NzQxIDUyOS4yNjMgMzcuMzM3NyA1MzMuNzczIDM3LjMzNzdDNTM4LjI4MiAzNy4zMzc3IDU0MS45NDYgMzMuNjc0MSA1NDEuOTQ2IDI5LjE2NDRDNTQxLjk0NiAyNC42NTQ3IDUzOC4yODIgMjAuOTkxMSA1MzMuNzczIDIwLjk5MTFaTTUzMy43NzMgMzYuNTE4NkM1MjkuNzEzIDM2LjUxODYgNTI2LjQxOSAzMy4yMTUgNTI2LjQxOSAyOS4xNjQ0QzUyNi40MTkgMjUuMTEzNyA1MjkuNzEzIDIxLjgxMDIgNTMzLjc3MyAyMS44MTAyQzUzNy44MzIgMjEuODEwMiA1NDEuMTI3IDI1LjExMzcgNTQxLjEyNyAyOS4xNjQ0QzU0MS4xMjcgMzMuMjE1IDUzNy44MzIgMzYuNTE4NiA1MzMuNzczIDM2LjUxODZaIiBmaWxsPSJibGFjayIvPg0KPHBhdGggZD0iTTUzNi42OSAyMy45MjUyQzUzNi42NjMgMjMuOTA3MiA1MzYuNjI3IDIzLjg5ODIgNTM2LjU5MSAyMy44OTgyQzUzNi40ODMgMjMuODk4MiA1MzYuNDAyIDIzLjk3OTIgNTM2LjQwMiAyNC4wODczVjI2LjY0MzdDNTM2LjQwMiAyNi43MzM3IDUzNi4zMyAyNi44MDU3IDUzNi4yNCAyNi44MDU3SDUzMS4yOUM1MzEuMiAyNi44MDU3IDUzMS4xMzcgMjYuNzMzNyA1MzEuMTI4IDI2LjY0MzdWMjQuMDg3M0M1MzEuMTI4IDI0LjA1MTMgNTMxLjExOSAyNC4wMjQyIDUzMS4xMDEgMjMuOTg4MkM1MzEuMDQ3IDIzLjg5ODIgNTMwLjkzIDIzLjg3MTIgNTMwLjgzOSAyMy45MjUyQzUyOS4wMTIgMjUuMDUwNCA1MjcuOTA1IDI3LjAwMzcgNTI3LjkwNSAyOS4xNjQxQzUyNy45MDUgMzEuMzI0NCA1MjkuMDEyIDMzLjI3NzcgNTMwLjg1NyAzNC40MDI5QzUzMC44ODUgMzQuNDIwOSA1MzAuOTIxIDM0LjQyOTkgNTMwLjk1NyAzNC40Mjk5QzUzMS4wNjUgMzQuNDI5OSA1MzEuMTQ2IDM0LjM0ODkgNTMxLjE0NiAzNC4yNDA5VjMxLjY4NDVDNTMxLjE0NiAzMS41OTQ0IDUzMS4yMTggMzEuNTMxNCA1MzEuMzA4IDMxLjUyMjRINTM2LjI1OEM1MzYuMzQ4IDMxLjUyMjQgNTM2LjQyIDMxLjU5NDQgNTM2LjQyIDMxLjY4NDVWMzQuMjQwOUM1MzYuNDIgMzQuMjc2OSA1MzYuNDI5IDM0LjMwMzkgNTM2LjQ0NyAzNC4zMzk5QzUzNi41MDEgMzQuNDI5OSA1MzYuNjE4IDM0LjQ1NjkgNTM2LjcwOCAzNC40MDI5QzUzOC41NTQgMzMuMjc3NyA1MzkuNjYxIDMxLjMyNDQgNTM5LjY2MSAyOS4xNjQxQzUzOS42NjEgMjcuMDAzNyA1MzguNTM2IDI1LjA1MDQgNTM2LjY5IDIzLjkyNTJWMjMuOTI1MlpNNTMwLjE5MSAzMi4zNjg2TDUzMC4yMTggMzIuNjc0Nkw1MzAuMDIgMzIuNDMxNkM1MjguNDk5IDMwLjUxNDMgNTI4LjQ5OSAyNy44MDQ4IDUzMC4wMiAyNS44ODc1TDUzMC4xOTEgMjUuNjcxNUw1MzAuMjE4IDI1LjY0NDVMNTMwLjE5MSAyNS45NTk2QzUzMC4xNjQgMjYuMjExNiA1MzAuMTU1IDI2LjQ3MjYgNTMwLjE1NSAyNi43MzM3VjMxLjU4NTRDNTMwLjE1NSAzMS44NDY1IDUzMC4xNzMgMzIuMTA3NSA1MzAuMTkxIDMyLjM2ODZaTTUzNi40MDIgMzAuMzg4M0M1MzYuNDAyIDMwLjQ3ODMgNTM2LjMzIDMwLjU1MDMgNTM2LjI0IDMwLjU1MDNINTMxLjI5QzUzMS4yIDMwLjU1MDMgNTMxLjEzNyAzMC40NzgzIDUzMS4xMjggMzAuMzg4M1YyNy45Mzk5QzUzMS4xMjggMjcuODQ5OSA1MzEuMiAyNy43Nzc4IDUzMS4yOSAyNy43Nzc4SDUzNi4yNEM1MzYuMzMgMjcuNzc3OCA1MzYuNDAyIDI3Ljg0OTkgNTM2LjQwMiAyNy45Mzk5VjMwLjM4ODNaTTUzNy41MTkgMzIuNDMxNkw1MzcuMzIxIDMyLjY3NDZMNTM3LjM0OCAzMi4zNjg2QzUzNy4zNzUgMzIuMTE2NSA1MzcuMzg0IDMxLjg1NTUgNTM3LjM4NCAzMS41OTQ0VjI2LjczMzdDNTM3LjM4NCAyNi40NzI2IDUzNy4zNzUgMjYuMjExNiA1MzcuMzQ4IDI1Ljk1OTZMNTM3LjMzOSAyNS44MjQ1TDUzNy4zMyAyNS42ODA1VjI1LjY0NDVMNTM3LjUxOSAyNS44ODc1QzUzOC4yNTcgMjYuODA1NyA1MzguNjYyIDI3Ljk3NTkgNTM4LjY2MiAyOS4xNTUxQzUzOC42NjIgMzAuMzM0MiA1MzguMjU3IDMxLjUxMzQgNTM3LjUxOSAzMi40MzE2VjMyLjQzMTZaIiBmaWxsPSJibGFjayIvPg0KPHBhdGggZD0iTTU1NC4yNzYgMjkuMDIwMkM1NTQuMjMxIDI5LjAwMjIgNTU0LjE3NyAyOC45ODQyIDU1NC4xNzcgMjguOTMwMkM1NTQuMTc3IDI4Ljg5NDIgNTU0LjE5NSAyOC44NjcyIDU1NC4yMzEgMjguODQ5MkM1NTQuMjk0IDI4LjgyMjIgNTU1Ljg1MSAyOC4yNjQxIDU1NS44NTEgMjYuNDI3OEM1NTUuODUxIDI0LjM4NDUgNTU0LjQ3NCAyMy4xNjkzIDU1Mi4xNTIgMjMuMTY5M0g1NDYuNTI2VjM1LjE3NzJINTUyLjY2NUM1NTQuNDU2IDM1LjE3NzIgNTU2LjM4MiAzMy45MDggNTU2LjM4MiAzMS44NjQ2QzU1Ni4zODIgMjkuOTExMyA1NTQuOTA2IDI5LjIyNzIgNTU0LjI3NiAyOS4wMjAyVjI5LjAyMDJaTTU0OS4zNjEgMjUuNjI2N0M1NDkuMzYxIDI1LjU4MTcgNTQ5LjM5NyAyNS41NDU2IDU0OS40NDIgMjUuNTQ1Nkg1NTEuNjc1QzU1Mi40MTMgMjUuNTQ1NiA1NTIuOTE3IDI2LjA0MDcgNTUyLjkxNyAyNi43Nzg4QzU1Mi45MTcgMjcuMzU0OSA1NTIuNDY3IDI3Ljk3NiA1NTEuNjIxIDI3Ljk3Nkg1NDkuNDQyQzU0OS4zOTcgMjcuOTc2IDU0OS4zNjEgMjcuOTQgNTQ5LjM2MSAyNy44OTVWMjUuNjI2N1pNNTUxLjY3NSAzMi44MDk4SDU0OS40NDJDNTQ5LjM5NyAzMi44MDk4IDU0OS4zNjEgMzIuNzczOCA1NDkuMzYxIDMyLjcyODhWMzAuMzM0NEM1NDkuMzYxIDMwLjI4OTQgNTQ5LjM5NyAzMC4yNTM0IDU0OS40NDIgMzAuMjUzNEg1NTEuNjIxQzU1Mi42OTIgMzAuMjUzNCA1NTMuMzA0IDMwLjcxMjUgNTUzLjMwNCAzMS41MjI2QzU1My4zMDQgMzIuMzU5NyA1NTIuNzM3IDMyLjgwOTggNTUxLjY3NSAzMi44MDk4VjMyLjgwOThaTTU3NS4zODQgMjcuOTQ5TDU3NC45NTIgMjcuODU5QzU3My45OCAyNy42NTIgNTczLjAzNSAyNy4zOTA5IDU3My4wMzUgMjYuNTUzOEM1NzMuMDM1IDI1LjcxNjcgNTczLjgxOCAyNS4zMzg2IDU3NC41OTIgMjUuMzM4NkM1NzUuNTAxIDI1LjMzODYgNTc2LjQwMSAyNS43NDM3IDU3Ny4wODYgMjYuNDQ1OEw1NzguODY4IDI0LjY4MTVDNTc4LjEwMyAyMy44MzU0IDU3Ni43NDQgMjIuODYzMiA1NzQuNTQ3IDIyLjg2MzJDNTcxLjkwMSAyMi44NjMyIDU3MC4xMTggMjQuMzY2NSA1NzAuMTE4IDI2LjYwNzhDNTcwLjExOCAyOC45NzUyIDU3MS45ODIgMjkuODY2MyA1NzMuNTQ4IDMwLjE5OTRMNTczLjk3MSAzMC4yODk0QzU3NS40OTIgMzAuNjEzNSA1NzYuMjEyIDMwLjg1NjUgNTc2LjIxMiAzMS43MjA2QzU3Ni4yMTIgMzIuNDk0NyA1NzUuNTE5IDMzLjAwNzggNTc0LjQ5MyAzMy4wMDc4QzU3My4yODcgMzMuMDA3OCA1NzIuMjE2IDMyLjQ3NjcgNTcxLjQwNiAzMS40Nzc2TDU2OS41NzggMzMuMjY4OUM1NzAuNTUxIDM0LjQyMTEgNTcxLjgzOCAzNS40NjUyIDU3NC41MjkgMzUuNDY1MkM1NzYuODI1IDM1LjQ2NTIgNTc5LjE1NiAzNC4xMzMgNTc5LjE1NiAzMS41NzY2QzU3OS4xNDcgMjguOTU3MiA1NzcuMzY1IDI4LjM2MzEgNTc1LjM4NCAyNy45NDlWMjcuOTQ5Wk01OTkuMTAzIDIzLjE2OTNWMjcuNTYyQzU5OS4xMDMgMjcuNjA3IDU5OS4wNjcgMjcuNjQzIDU5OS4wMjIgMjcuNjQzSDU5NS4zMzFDNTk1LjI4NiAyNy42NDMgNTk1LjI1IDI3LjYwNyA1OTUuMjUgMjcuNTYyVjIzLjE2OTNINTkyLjIyNlYzNS4xNzcySDU5NS4yNVYzMC40NjA0QzU5NS4yNSAzMC40MTU0IDU5NS4yODYgMzAuMzc5NCA1OTUuMzMxIDMwLjM3OTRINTk5LjAyMkM1OTkuMDY3IDMwLjM3OTQgNTk5LjEwMyAzMC40MTU0IDU5OS4xMDMgMzAuNDYwNFYzNS4xNzcySDYwMi4xNDZWMjMuMTY5M0g1OTkuMTAzWk01ODYuMTQxIDMyLjcxOThDNTg0Ljc4MiAzMi43MTk4IDU4My4zMTUgMzEuNTg1NiA1ODMuMzE1IDI5LjA5MjJDNTgzLjMxNSAyNi44MTQ4IDU4NC42OTIgMjUuNjI2NyA1ODYuMDUxIDI1LjYyNjdDNTg3LjA0MSAyNS42MjY3IDU4Ny43MzQgMjYuMDQwNyA1ODguMjgzIDI2Ljk1ODlMNTkwLjYwNiAyNS40MTk2QzU4OS40MTggMjMuNjczMyA1ODguMDA0IDIyLjg4MTIgNTg2LjAzMyAyMi44ODEyQzU4Mi4xNzEgMjIuODgxMiA1ODAuNDQzIDI2LjAwNDcgNTgwLjQ0MyAyOS4wOTIyQzU4MC40NDMgMzIuODQ1OCA1ODIuNzI5IDM1LjQ2NTIgNTg1Ljk5NyAzNS40NjUyQzU4OC40MjcgMzUuNDY1MiA1ODkuNTM1IDM0LjU3NDEgNTkwLjY5NiAzMi45MjY4TDU4OC4zNTUgMzEuMzUxNkM1ODcuODMzIDMyLjE5NzcgNTg3LjI2NiAzMi43MTk4IDU4Ni4xNDEgMzIuNzE5OFpNNTYzLjE3OCAyMi44NjMyQzU1OS44NzUgMjIuODYzMiA1NTcuNjYxIDI1LjM5MjYgNTU3LjY2MSAyOS4xNjQyQzU1Ny42NjEgMzIuOTM1OCA1NTkuODc1IDM1LjQ2NTIgNTYzLjE3OCAzNS40NjUyQzU2Ni40ODIgMzUuNDY1MiA1NjguNjk2IDMyLjkzNTggNTY4LjY5NiAyOS4xNjQyQzU2OC42OTYgMjUuMzkyNiA1NjYuNDgyIDIyLjg2MzIgNTYzLjE3OCAyMi44NjMyVjIyLjg2MzJaTTU2My4xNzggMzIuNzE5OEM1NjEuNTU4IDMyLjcxOTggNTYwLjUxNCAzMS4zMjQ2IDU2MC41MTQgMjkuMTY0MkM1NjAuNTE0IDI3LjAxMjkgNTYxLjU1OCAyNS42MjY3IDU2My4xNzggMjUuNjI2N0M1NjQuODA4IDI1LjYyNjcgNTY1Ljg2MSAyNy4wMTI5IDU2NS44NjEgMjkuMTY0MkM1NjUuODYxIDMxLjMyNDYgNTY0LjgwOCAzMi43MTk4IDU2My4xNzggMzIuNzE5OFoiIGZpbGw9IiNGODAwMDAiLz4NCjwvZz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTQ2LjM0NCAyMi4xODExQzE0Ny41OTUgMjIuMjg1NCAxNDguODQ1IDIxLjU1NTMgMTQ5LjYyNyAyMC42Mjk4QzE1MC4zOTUgMTkuNjc4MSAxNTAuOTAzIDE4LjQwMDUgMTUwLjc3MyAxNy4wOTY5QzE0OS42NjYgMTcuMTQ5MSAxNDguMjk4IDE3LjgyNjkgMTQ3LjUxNyAxOC43Nzg2QzE0Ni44IDE5LjU5OTkgMTQ2LjE4OCAyMC45Mjk2IDE0Ni4zNDQgMjIuMTgxMVpNMTQ3Ljg0MSAyMy4wNzk3QzE0OC42NTMgMjIuNzYwNiAxNDkuNjU4IDIyLjM2NTYgMTUwLjc2IDIyLjQyOTFDMTUxLjQ2MyAyMi40ODEyIDE1My40OTUgMjIuNjg5OCAxNTQuNzk4IDI0LjYxOTJDMTU0Ljc5MiAyNC42MjM3IDE1NC43NzggMjQuNjMyMyAxNTQuNzU5IDI0LjY0NUMxNTQuNDM2IDI0Ljg1NDggMTUyLjM5IDI2LjE4NzEgMTUyLjQxNCAyOC44MTY5QzE1Mi40MzkgMzEuOTQ5OSAxNTQuOTg4IDMzLjExODMgMTU1LjMyMiAzMy4yNzExQzE1NS4zNDQgMzMuMjgxMSAxNTUuMzU2IDMzLjI4NjcgMTU1LjM1OCAzMy4yODgzQzE1NS4zNTYgMzMuMjkyNiAxNTUuMzU0IDMzLjMwMSAxNTUuMzUgMzMuMzEzM0MxNTUuMjgzIDMzLjUyODggMTU0Ljg0NSAzNC45NDg5IDE1My44NDcgMzYuNDA0QzE1Mi45MjIgMzcuNzU5OCAxNTEuOTcxIDM5LjA4OTUgMTUwLjQ2IDM5LjExNTZDMTQ5Ljc0OSAzOS4xMjgzIDE0OS4yNyAzOC45MjExIDE0OC43NzIgMzguNzA1NEMxNDguMjQ3IDM4LjQ3ODUgMTQ3LjcwMSAzOC4yNDIyIDE0Ni44NCAzOC4yNDIyQzE0NS45NDcgMzguMjQyMiAxNDUuMzc2IDM4LjQ4NDggMTQ0LjgyNiAzOC43MTg0QzE0NC4zNDggMzguOTIxNCAxNDMuODg3IDM5LjExNzQgMTQzLjI0NSAzOS4xNDE3QzE0MS43ODYgMzkuMTkzOCAxNDAuNjc5IDM3LjcwNzcgMTM5Ljc1NCAzNi4zNTE5QzEzNy44NjYgMzMuNjE0MyAxMzYuNDIgMjguNjM0NCAxMzguMzc0IDI1LjI3MUMxMzkuMzI1IDIzLjU4OTMgMTQxLjA1NyAyMi41MzM0IDE0Mi45MTkgMjIuNTA3M0MxNDMuNzMyIDIyLjQ5MjUgMTQ0LjUwNyAyMi44MDA2IDE0NS4xODQgMjMuMDcwMUMxNDUuNzAyIDIzLjI3NTggMTQ2LjE2MiAyMy40NTg5IDE0Ni41NCAyMy40NTg5QzE0Ni44NzcgMjMuNDU4OSAxNDcuMzE5IDIzLjI4NTEgMTQ3Ljg0MSAyMy4wNzk3WiIgZmlsbD0iYmxhY2siLz4NCjxwYXRoIGQ9Ik0zNi44NTg3IDM3LjUyNDFIMzEuOTg3NEwzNS4wMzQyIDE5LjY2NjhIMzkuOTA1MkwzNi44NTg3IDM3LjUyNDFaIiBmaWxsPSIjMDA1NzlGIi8+DQo8cGF0aCBkPSJNNTQuNTE1NyAyMC4xMDQxQzUzLjU1NDkgMTkuNzQyOCA1Mi4wMzA5IDE5LjM0MzggNTAuMTQ2NiAxOS4zNDM4QzQ1LjMzNjEgMTkuMzQzOCA0MS45NDg2IDIxLjc3NTMgNDEuOTI3OCAyNS4yNTE2QzQxLjg4NzggMjcuODE2NSA0NC4zNTMxIDI5LjI0MSA0Ni4xOTcgMzAuMDk2MkM0OC4wODE2IDMwLjk3MDEgNDguNzIyMyAzMS41NDA1IDQ4LjcyMjMgMzIuMzE5NEM0OC43MDMxIDMzLjUxNTcgNDcuMTk5NCAzNC4wNjcyIDQ1Ljc5NjkgMzQuMDY3MkM0My44NTIxIDM0LjA2NzIgNDIuODEgMzMuNzgyOSA0MS4yMjY0IDMzLjExNzNMNDAuNTg1IDMyLjgzMkwzOS45MDMzIDM2Ljg0MDZDNDEuMDQ1OCAzNy4zMzM5IDQzLjE1MDcgMzcuNzcxNyA0NS4zMzYxIDM3Ljc5MDlDNTAuNDQ3MyAzNy43OTA5IDUzLjc3NDkgMzUuMzk3MSA1My44MTQzIDMxLjY5MjVDNTMuODMzOCAyOS42NTk3IDUyLjUzMiAyOC4xMDIgNDkuNzI1NCAyNi44MjkyQzQ4LjAyMTcgMjYuMDEyMSA0Ni45NzgzIDI1LjQ2MTIgNDYuOTc4MyAyNC42MjUyQzQ2Ljk5ODMgMjMuODY1MiA0Ny44NjA4IDIzLjA4NjggNDkuNzg0IDIzLjA4NjhDNTEuMzY3NyAyMy4wNDg2IDUyLjUzMTIgMjMuNDA5NCA1My40MTI2IDIzLjc3MDVMNTMuODUzMiAyMy45NjAxTDU0LjUxNTcgMjAuMTA0MVoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik02MC45OTI0IDMxLjE5NzlDNjEuMzkzNiAzMC4xNzIgNjIuOTM3MiAyNi4yMDE2IDYyLjkzNzIgMjYuMjAxNkM2Mi45MTcgMjYuMjM5NyA2My4zMzc2IDI1LjE1NjggNjMuNTc4MSAyNC40OTE5TDYzLjkxODYgMjYuMDMwNkM2My45MTg2IDI2LjAzMDYgNjQuODQxIDMwLjMwNTEgNjUuMDQxNCAzMS4xOTc5QzY0LjI4IDMxLjE5NzkgNjEuOTU0NiAzMS4xOTc5IDYwLjk5MjQgMzEuMTk3OVpNNjcuMDA1NCAxOS42NjY4SDYzLjIzNzRDNjIuMDc1NSAxOS42NjY4IDYxLjE5MjcgMTkuOTg5NSA2MC42OTE0IDIxLjE0ODRMNTMuNDU1OCAzNy41MjM5SDU4LjU2NzFDNTguNTY3MSAzNy41MjM5IDU5LjQwODUgMzUuMzE5OSA1OS41ODk0IDM0Ljg0NTJDNjAuMTUwMSAzNC44NDUyIDY1LjEyMjMgMzQuODQ1MiA2NS44NDM3IDM0Ljg0NTJDNjUuOTgzNSAzNS40NzIxIDY2LjQyNDkgMzcuNTIzOSA2Ni40MjQ5IDM3LjUyMzlINzAuOTM1Mkw2Ny4wMDU0IDE5LjY2NjhWMTkuNjY2OFoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik0yNy45MTggMTkuNjY2OEwyMy4xNDc1IDMxLjg0MzhMMjIuNjI2MiAyOS4zNzQxQzIxLjc0NDIgMjYuNTI0NSAxOC45NzgxIDIzLjQyODQgMTUuODkxNCAyMS44ODlMMjAuMjYxIDM3LjUwNTJIMjUuNDEyMkwzMy4wNjkgMTkuNjY2OEgyNy45MThWMTkuNjY2OFoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik0xOC43MTg0IDE5LjY2NjhIMTAuODgxMUwxMC44MDA5IDIwLjAyNzZDMTYuOTE0NSAyMS41MDk1IDIwLjk2MzUgMjUuMDgxNSAyMi42MjcgMjkuMzc0OUwyMC45MjMyIDIxLjE2NzlDMjAuNjQyNyAyMC4wMjc0IDE5Ljc4MDcgMTkuNzA0NCAxOC43MTg0IDE5LjY2NjhaIiBmaWxsPSIjRkFBNjFBIi8+DQo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDJfNThfMTExKSI+DQo8cGF0aCBkPSJNMjIxLjE1OCAxNy40OTlWMTguOTM1NkgyMzEuMzA2VjE3LjQ5OUgyMjEuMTU4Wk0yMzIuNzQ0IDE3LjQ5OVYxOC45MzU2SDI0Ny4yMDZDMjQ3LjIwNiAxOC45MzU2IDI0NS43MjkgMTcuNDk5IDI0My43NzMgMTcuNDk5SDIzMi43NDRaTTI1MC4wNDMgMTcuNDk5VjE4LjkzNTZIMjU4Ljc5M0wyNTguMjczIDE3LjQ5OUgyNTAuMDQzWk0yNjUuMDY1IDE3LjQ5OUwyNjQuNTQ2IDE4LjkzNTZIMjczLjIxNlYxNy40OTlIMjY1LjA2NVpNMjIxLjE1OCAyMC4yOTI5VjIxLjcyOTZIMjMxLjMwNlYyMC4yOTI5SDIyMS4xNThaTTIzMi43NDQgMjAuMjk1VjIxLjcyOTdIMjQ4Ljg4NEMyNDguODg0IDIxLjcyOTcgMjQ4LjY5NiAyMC42MjM5IDI0OC4zNjcgMjAuMjk1SDIzMi43NDRaTTI1MC4wNDMgMjAuMjk1VjIxLjcyOTdIMjU5Ljc1MkwyNTkuMjcxIDIwLjI5NUgyNTAuMDQzWk0yNjQuMDI3IDIwLjI5NUwyNjMuNTQ2IDIxLjcyOTdIMjczLjIxNlYyMC4yOTVIMjY0LjAyN1YyMC4yOTVaTTIyNC4wNzQgMjMuMDg2OVYyNC41MjU3SDIyOC40NjlWMjMuMDg2OUgyMjQuMDc0VjIzLjA4NjlaTTIzNS42NjEgMjMuMDg2OVYyNC41MjU3SDI0MC4wNTZWMjMuMDg2OUgyMzUuNjYxVjIzLjA4NjlaTTI0NC4zMzEgMjMuMDg2OVYyNC41MjU3SDI0OC43MjZDMjQ4LjcyNiAyNC41MjU3IDI0OS4wMDUgMjMuNzY1OSAyNDkuMDA1IDIzLjA4NjlIMjQ0LjMzMVYyMy4wODY5Wk0yNTIuOTYgMjMuMDg2OVYyNC41MjU3SDI2MC43NTJMMjYwLjIzMiAyMy4wODY5SDI1Mi45NlYyMy4wODY5Wk0yNjMuMDY5IDIzLjA4NjlMMjYyLjU0OCAyNC41MjU3SDI3MC4zNzlWMjMuMDg2OUgyNjMuMDY5VjIzLjA4NjlaTTIyNC4wNzQgMjUuODgzVjI3LjMxOTdIMjI4LjQ2OVYyNS44ODNIMjI0LjA3NFYyNS44ODNaTTIzNS42NjEgMjUuODgzVjI3LjMxOTdIMjQ2Ljg4N0MyNDYuODg3IDI3LjMxOTcgMjQ3LjgyNiAyNi41ODI1IDI0OC4xMjUgMjUuODgzSDIzNS42NjFaTTI1Mi45NiAyNS44ODNWMjcuMzE5N0gyNTcuMzU1VjI2LjUyTDI1Ny42MzQgMjcuMzE5N0gyNjUuNjg0TDI2NS45ODQgMjYuNTJWMjcuMzE5N0gyNzAuMzc5VjI1Ljg4M0gyNjIuMTI5TDI2MS42OTEgMjcuMDk5OUwyNjEuMjUxIDI1Ljg4M0gyNTIuOTZaTTIyNC4wNzQgMjguNjc3VjMwLjExMzdIMjI4LjQ2OVYyOC42NzdIMjI0LjA3NFpNMjM1LjY2MSAyOC42NzdWMzAuMTEzN0gyNDguMTI1QzI0Ny44MjYgMjkuNDE2NSAyNDYuODg3IDI4LjY3NyAyNDYuODg3IDI4LjY3N0gyMzUuNjYxWk0yNTIuOTYgMjguNjc3VjMwLjExMzdIMjU3LjM1NVYyOC42NzdIMjUyLjk2Wk0yNTguMTUzIDI4LjY3N0wyNTguNjg1IDMwLjExMzdIMjY0LjcyMUwyNjUuMjI2IDI4LjY3N0gyNTguMTUzWk0yNjUuOTg0IDI4LjY3N1YzMC4xMTM3SDI3MC4zNzlWMjguNjc3SDI2NS45ODRaTTIyNC4wNzQgMzEuNDcxVjMyLjkwNzZIMjI4LjQ2OVYzMS40NzFIMjI0LjA3NFpNMjM1LjY2MSAzMS40NzFWMzIuOTA3NkgyNDAuMDU2VjMxLjQ3MUgyMzUuNjYxWk0yNDQuMzMxIDMxLjQ3MVYzMi45MDc2SDI0OS4wMDVDMjQ5LjAwNSAzMi4yMjk2IDI0OC43MjYgMzEuNDcxIDI0OC43MjYgMzEuNDcxSDI0NC4zMzFWMzEuNDcxWk0yNTIuOTYgMzEuNDcxVjMyLjkwNzZIMjU3LjM1NVYzMS40NzFIMjUyLjk2Wk0yNTkuMTUxIDMxLjQ3MUwyNTkuNjY2IDMyLjkwNzZIMjYzLjcxM0wyNjQuMjMyIDMxLjQ3MUgyNTkuMTUxWk0yNjUuOTg0IDMxLjQ3MVYzMi45MDc2SDI3MC4zNzlWMzEuNDcxSDI2NS45ODRaTTIyMS4yMzcgMzQuMjY1VjM1LjcwMzdIMjMxLjM4NlYzNC4yNjVIMjIxLjIzN1pNMjMyLjc0NCAzNC4yNjVWMzUuNzAzN0gyNDguMzY3QzI0OC42OTYgMzUuMzc0MyAyNDguODg0IDM0LjI2NSAyNDguODg0IDM0LjI2NUgyMzIuNzQ0VjM0LjI2NVpNMjUwLjEyMyAzNC4yNjVWMzUuNzAzN0gyNTcuMzU1VjM0LjI2NUgyNTAuMTIzWk0yNjAuMTUxIDM0LjI2NUwyNjAuNjggMzUuNzAzN0gyNjIuNzM5TDI2My4yMzYgMzQuMjY1SDI2MC4xNTFaTTI2NS45ODQgMzQuMjY1VjM1LjcwMzdIMjczLjI5NVYzNC4yNjVIMjY1Ljk4NFpNMjIxLjIzNyAzNy4wNjFWMzguNDk3N0gyMzEuMzg2VjM3LjA2MUgyMjEuMjM3Wk0yMzIuNzQ0IDM3LjA2MVYzOC40OTU2SDI0My43NzNDMjQ1LjcyOSAzOC40OTU2IDI0Ny4yMDYgMzcuMDYxIDI0Ny4yMDYgMzcuMDYxSDIzMi43NDRaTTI1MC4xMjMgMzcuMDYxVjM4LjQ5NzdIMjU3LjM1NVYzNy4wNjFIMjUwLjEyM1pNMjYxLjE1NSAzNy4wNjFMMjYxLjY2NCAzOC40OTM2TDI2MS43NTIgMzguNDk1NkwyNjIuMjY5IDM3LjA2MUgyNjEuMTU1VjM3LjA2MVpNMjY1Ljk4NCAzNy4wNjFWMzguNDk3N0gyNzMuMjk1VjM3LjA2MUgyNjUuOTg0WiIgZmlsbD0iIzFGNzBDMSIvPg0KPC9nPg0KPGRlZnM+DQo8Y2xpcFBhdGggaWQ9ImNsaXAwXzU4XzExMSI+DQo8cmVjdCB3aWR0aD0iNDQuNDQ3MyIgaGVpZ2h0PSIyOS42MzE1IiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzUzLjk1NSAxNC44MTU1KSIvPg0KPC9jbGlwUGF0aD4NCjxjbGlwUGF0aCBpZD0iY2xpcDFfNThfMTExIj4NCjxyZWN0IHdpZHRoPSI3Ni41NDgxIiBoZWlnaHQ9IjE2LjM1MDciIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MjUuNTk5IDIwLjk4ODkpIi8+DQo8L2NsaXBQYXRoPg0KPGNsaXBQYXRoIGlkPSJjbGlwMl81OF8xMTEiPg0KPHJlY3Qgd2lkdGg9IjUyLjEzNzIiIGhlaWdodD0iMjAuOTk4NyIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIyMS4xNTggMTcuNDk5KSIvPg0KPC9jbGlwUGF0aD4NCjwvZGVmcz4NCjwvc3ZnPg0K" style="\n            width: 742.5px;\n            position: relative;\n            top: 107px;\n            left: 32px;\n            ">\n            <a href='+YA+' style="\n        float: left;\n        border-radius: 56px;\n        background: #0D6EFD;\n        padding-top: 8px;\n        width: 280px;\n        height: 38px;\n        text-align: center;\n        position: relative;\n        top: 127px;\n        left: 274px;\n        font-size: 16px;\n        color: white;\n        text-decoration: none;\n        letter-spacing: 0.02em;\n    ">Claim your FREE account</a>\n            <div style="\n    font-size: 14px;\n    position: relative;\n    top: 180px;\n    left: 19px;\n    letter-spacing: 0.02em;\n    font-weight: 500;\n    line-height: 125%;\n">have a Syncfusion account? <a href="https://www.syncfusion.com/account/login?ReturnUrl=/account/login" style="text-decoration: none;\ncolor: #0D6EFD;\nfont-weight: 500;">Sign In</a></div>\n        </div>\n    </div>';if("undefined"!=typeof document&&!u(document)){var t=N("div",{innerHTML:r});document.body.appendChild(t)}}(),E4=!0),this.render(),this.mount?this.accessMount():this.trigger("created")}},t.prototype.renderComplete=function(e){this.isRendered=!0},t.prototype.dataBind=function(){this.injectModules(),r.prototype.dataBind.call(this)},t.prototype.on=function(e,i,n){if("string"==typeof e)this.localObserver.on(e,i,n);else for(var s=0,a=e;s<a.length;s++){var o=a[s];this.localObserver.on(o.event,o.handler,o.context)}},t.prototype.off=function(e,i){if("string"==typeof e)this.localObserver.off(e,i);else for(var n=0,s=e;n<s.length;n++){var a=s[n];this.localObserver.off(a.event,a.handler)}},t.prototype.notify=function(e,i){!0!==this.isDestroyed&&this.localObserver.notify(e,i)},t.prototype.getInjectedModules=function(){return this.injectedModules},t.Inject=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(var n=0;n<e.length;n++)-1===this.prototype.injectedModules.indexOf(e[parseInt(n.toString(),10)])&&this.prototype.injectedModules.push(e[parseInt(n.toString(),10)])},t.prototype.createElement=function(e,i,n){return N(e,i)},t.prototype.triggerStateChange=function(e,i){this.isReactHybrid&&(this.setState(),this.currentContext={calls:e,args:i})},t.prototype.injectModules=function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)},t.prototype.detectFunction=function(e){var i=Object.keys(e);i.length&&(this[i[0]]=e[i[0]])},t.prototype.mergePersistData=function(){var e;u(e=window.localStorage.getItem(this.getModuleName()+this.element.id))||""===e||this.setProperties(JSON.parse(e),!0)},t.prototype.setPersistData=function(){this.isDestroyed||window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())},t.prototype.renderReactTemplates=function(e){u(e)||e()},t.prototype.clearTemplate=function(e,i){},t.prototype.getUniqueID=function(e){return this.isHistoryChanged()&&(GA=0),$A=this.pageID(location.href),b4=history.length,e+"_"+$A+"_"+GA++},t.prototype.pageID=function(e){var i=0;if(0===e.length)return i;for(var n=0;n<e.length;n++)i=(i<<5)-i+e.charCodeAt(n),i&=i;return Math.abs(i)},t.prototype.isHistoryChanged=function(){return $A!==this.pageID(location.href)||b4!==history.length},t.prototype.addOnPersist=function(e){for(var i=this,n={},s=0,a=e;s<a.length;s++){var l,o=a[s];Le(l=_(o,this))||We(o,this.getActualProperties(l),n)}return JSON.stringify(n,function(h,c){return i.getActualProperties(c)})},t.prototype.getActualProperties=function(e){return e instanceof ot?_("properties",e):e},t.prototype.ignoreOnPersist=function(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))},t.prototype.iterateJsonProperties=function(e,i){for(var n={},s=function(c){if(-1===i.indexOf(c)){var d=e[c];if("object"!=typeof d||d instanceof Array)n[""+c]=d;else{var p=i.filter(function(f){return new RegExp(c+".").test(f)}).map(function(f){return f.replace(c+".","")});n[""+c]=a.iterateJsonProperties(a.getActualProperties(d),p)}}},a=this,o=0,l=Object.keys(e);o<l.length;o++)s(l[o]);return n},SC([v(!1)],t.prototype,"enablePersistence",void 0),SC([v()],t.prototype,"enableRtl",void 0),SC([v()],t.prototype,"locale",void 0),SC([et],t)}(dh);"undefined"!=typeof window&&window.addEventListener("popstate",function(){GA=0});var D4=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),en=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Pce={left:0,top:0,bottom:0,right:0},XA={isDragged:!1},Fce=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return D4(t,r),en([v(0)],t.prototype,"left",void 0),en([v(0)],t.prototype,"top",void 0),t}(ot),Xp=function(r){function t(i,n){var s=r.call(this,n,i)||this;return s.dragLimit=e.getDefaultPosition(),s.borderWidth=e.getDefaultPosition(),s.padding=e.getDefaultPosition(),s.diffX=0,s.prevLeft=0,s.prevTop=0,s.dragProcessStarted=!1,s.eleTop=0,s.tapHoldTimer=0,s.externalInitialize=!1,s.diffY=0,s.parentScrollX=0,s.parentScrollY=0,s.droppables={},s.bind(),s}var e;return D4(t,r),e=t,t.prototype.bind=function(){this.toggleEvents(),O.isIE&&D([this.element],"e-block-touch"),this.droppables[this.scope]={}},t.getDefaultPosition=function(){return z({},Pce)},t.prototype.toggleEvents=function(i){var n;Le(this.handle)||(n=P(this.handle,this.element));var s=this.enableTapHold&&O.isDevice&&O.isTouch?this.mobileInitialize:this.initialize;i?b.remove(n||this.element,O.isSafari()?"touchstart":O.touchStartEvent,s):b.add(n||this.element,O.isSafari()?"touchstart":O.touchStartEvent,s,this)},t.prototype.mobileInitialize=function(i){var n=this,s=i.currentTarget;this.tapHoldTimer=setTimeout(function(){n.externalInitialize=!0,n.removeTapholdTimer(),n.initialize(i,s)},this.tapHoldThreshold),b.add(document,O.isSafari()?"touchmove":O.touchMoveEvent,this.removeTapholdTimer,this),b.add(document,O.isSafari()?"touchend":O.touchEndEvent,this.removeTapholdTimer,this)},t.prototype.removeTapholdTimer=function(){clearTimeout(this.tapHoldTimer),b.remove(document,O.isSafari()?"touchmove":O.touchMoveEvent,this.removeTapholdTimer),b.remove(document,O.isSafari()?"touchend":O.touchEndEvent,this.removeTapholdTimer)},t.prototype.getScrollableParent=function(i,n){return u(i)?null:i[{vertical:"scrollHeight",horizontal:"scrollWidth"}[""+n]]>i[{vertical:"clientHeight",horizontal:"clientWidth"}[""+n]]&&("vertical"===n?i.scrollTop>0:i.scrollLeft>0)?("vertical"===n?(this.parentScrollY=this.parentScrollY+(0===this.parentScrollY?i.scrollTop:i.scrollTop-this.parentScrollY),this.tempScrollHeight=i.scrollHeight):(this.parentScrollX=this.parentScrollX+(0===this.parentScrollX?i.scrollLeft:i.scrollLeft-this.parentScrollX),this.tempScrollWidth=i.scrollWidth),u(i)?i:this.getScrollableParent(i.parentNode,n)):this.getScrollableParent(i.parentNode,n)},t.prototype.getScrollableValues=function(){this.parentScrollX=0,this.parentScrollY=0,this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),this.getScrollableParent(this.element.parentNode,"vertical"),this.getScrollableParent(this.element.parentNode,"horizontal")},t.prototype.initialize=function(i,n){if(this.currentStateTarget=i.target,!this.isDragStarted()){if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=i.currentTarget||n,this.dragProcessStarted=!1,this.abort){var s=this.abort;"string"==typeof s&&(s=[s]);for(var a=0;a<s.length;a++)if(!u(I(i.target,s[parseInt(a.toString(),10)])))return void(this.isDragStarted()&&this.isDragStarted(!0))}this.preventDefault&&!Le(i.changedTouches)&&"touchstart"!==i.type&&i.preventDefault(),this.element.setAttribute("aria-grabbed","true");var o=this.getCoordinates(i);if(this.initialPosition={x:o.pageX,y:o.pageY},!this.clone){var l=this.element.getBoundingClientRect();this.getScrollableValues(),i.clientX===i.pageX&&(this.parentScrollX=0),i.clientY===i.pageY&&(this.parentScrollY=0),this.relativeXPosition=o.pageX-(l.left+this.parentScrollX),this.relativeYPosition=o.pageY-(l.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(i):(b.add(document,O.isSafari()?"touchmove":O.touchMoveEvent,this.intDragStart,this),b.add(document,O.isSafari()?"touchend":O.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),"touchstart"!==i.type&&this.isPreventSelect&&document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,b.trigger(document.documentElement,O.isSafari()?"touchstart":O.touchStartEvent,i)}},t.prototype.intDragStart=function(i){this.removeTapholdTimer();var n=!Le(i.changedTouches);if(!n||1===i.changedTouches.length){var a,s=this.getCoordinates(i),o=getComputedStyle(this.element);this.margin={left:parseInt(o.marginLeft,10),top:parseInt(o.marginTop,10),right:parseInt(o.marginRight,10),bottom:parseInt(o.marginBottom,10)};var l=this.element;if(this.clone&&this.dragTarget){var h=I(i.target,this.dragTarget);u(h)||(l=h)}this.isReplaceDragEle&&(l=this.currentStateCheck(i.target,l)),this.offset=this.calculateParentPosition(l),this.position=this.getMousePosition(i,this.isDragScroll);var c=this.initialPosition.x-s.pageX,d=this.initialPosition.y-s.pageY;if(Math.sqrt(c*c+d*d)>=this.distance||this.externalInitialize){var f=this.getHelperElement(i);if(!f||u(f))return;n&&i.preventDefault();var m=this.helperElement=f;if(this.parentClientRect=this.calculateParentPosition(m.offsetParent),this.dragStart){var y={event:i,element:l,target:this.getProperTargetElement(i),bindEvents:null,dragElement:m};this.trigger("dragStart",y)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),a={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();var C=getComputedStyle(l),E=parseFloat(C.marginTop);this.clone&&0!==E&&(a.top+=E),this.eleTop=isNaN(parseFloat(C.top))?0:parseFloat(C.top)-this.offset.top,this.enableScrollHandler&&!this.clone&&(a.top-=this.parentScrollY,a.left-=this.parentScrollX);var S=this.getProcessedPositionValue({top:a.top-this.diffY+"px",left:a.left-this.diffX+"px"});this.dragArea&&"string"!=typeof this.dragArea&&this.dragArea.classList.contains("e-kanban-content")&&"relative"===this.dragArea.style.position&&(a.top+=this.dragArea.scrollTop),this.dragElePosition={top:a.top,left:a.left},ue(m,this.getDragPosition({position:"absolute",left:S.left,top:S.top})),b.remove(document,O.isSafari()?"touchmove":O.touchMoveEvent,this.intDragStart),b.remove(document,O.isSafari()?"touchend":O.touchEndEvent,this.intDestroy),this.bindDragEvents(m)}}},t.prototype.bindDragEvents=function(i){ln(i)?(b.add(document,O.isSafari()?"touchmove":O.touchMoveEvent,this.intDrag,this),b.add(document,O.isSafari()?"touchend":O.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,i)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))},t.prototype.elementInViewport=function(i){for(this.top=i.offsetTop,this.left=i.offsetLeft,this.width=i.offsetWidth,this.height=i.offsetHeight;i.offsetParent;)this.top+=(i=i.offsetParent).offsetTop,this.left+=i.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth},t.prototype.getProcessedPositionValue=function(i){return this.queryPositionInfo?this.queryPositionInfo(i):i},t.prototype.calculateParentPosition=function(i){if(u(i))return{left:0,top:0};var n=i.getBoundingClientRect(),s=getComputedStyle(i);return{left:n.left+window.pageXOffset-parseInt(s.marginLeft,10),top:n.top+window.pageYOffset-parseInt(s.marginTop,10)}},t.prototype.intDrag=function(i){if(Le(i.changedTouches)||1===i.changedTouches.length){var n,s;this.clone&&i.changedTouches&&O.isDevice&&O.isTouch&&i.preventDefault(),this.position=this.getMousePosition(i,this.isDragScroll);var a=this.getDocumentWidthHeight("Height");a<this.position.top&&(this.position.top=a);var o=this.getDocumentWidthHeight("Width");if(o<this.position.left&&(this.position.left=o),this.drag){var l=this.getProperTargetElement(i);this.trigger("drag",{event:i,element:this.element,target:l})}var h=this.checkTargetElement(i);if(h.target&&h.instance){var c=!0;this.hoverObject&&(this.hoverObject.instance!==h.instance?this.triggerOutFunction(i,h):c=!1),c&&(h.instance.dragData[this.scope]=this.droppables[this.scope],h.instance.intOver(i,h.target),this.hoverObject=h)}else this.hoverObject&&this.triggerOutFunction(i,h);var d=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var p=this.parentClientRect.left,f=this.parentClientRect.top,m=this.getCoordinates(i),g=m.pageX,y=m.pageY,C=this.position.left-this.diffX,E=this.position.top-this.diffY,S=getComputedStyle(d);if(this.dragArea){if(this.enableAutoScroll&&this.setDragArea(),this.pageX!==g||this.skipDistanceCheck){var w=d.offsetWidth+(parseFloat(S.marginLeft)+parseFloat(S.marginRight));n=this.dragLimit.left>C&&C>0?this.dragLimit.left:this.dragLimit.right+window.pageXOffset<C+w&&C>0?C-(C-this.dragLimit.right)+window.pageXOffset-w:C<0?this.dragLimit.left:C}if(this.pageY!==y||this.skipDistanceCheck){var A=d.offsetHeight+(parseFloat(S.marginTop)+parseFloat(S.marginBottom));s=this.dragLimit.top>E&&E>0?this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<E+A&&E>0?E-(E-this.dragLimit.bottom)+window.pageYOffset-A:E<0?this.dragLimit.top:E}}else n=C,s=E;var j,J,T=f+this.borderWidth.top,k=p+this.borderWidth.left;if(this.dragProcessStarted&&(u(s)&&(s=this.prevTop),u(n)&&(n=this.prevLeft)),this.helperElement.classList.contains("e-treeview"))this.dragArea?(this.dragLimit.top=this.clone?this.dragLimit.top:0,j=s-T<0?this.dragLimit.top:s-this.borderWidth.top,J=n-k<0?this.dragLimit.left:n-this.borderWidth.left):(j=s-this.borderWidth.top,J=n-this.borderWidth.left);else if(this.dragArea){var ne=this.helperElement.classList.contains("e-dialog");this.dragLimit.top=this.clone?this.dragLimit.top:0,j=s-T<0?this.dragLimit.top:s-T,J=n-k<0?ne?n-(k-this.borderWidth.left):this.dragElePosition.left:n-k}else j=s-T,J=n-k;var R=parseFloat(getComputedStyle(this.element).marginTop);if(R>0&&(this.clone&&(j+=R,E<0&&(R+E>=0?j=R+E:j-=R),this.dragArea&&(j=this.dragLimit.bottom<j?this.dragLimit.bottom:j)),s-T<0))if(E+R+(d.offsetHeight-T)>=0){var G=this.dragLimit.top+E-T;G+R+T<0?j-=R+T:j=G}else j-=R+T;this.dragArea&&this.helperElement.classList.contains("e-treeview")&&(j=j+(A=d.offsetHeight+(parseFloat(S.marginTop)+parseFloat(S.marginBottom)))>this.dragLimit.bottom?this.dragLimit.bottom-A:j),this.enableScrollHandler&&!this.clone&&(j-=this.parentScrollY,J-=this.parentScrollX),this.dragArea&&"string"!=typeof this.dragArea&&this.dragArea.classList.contains("e-kanban-content")&&"relative"===this.dragArea.style.position&&(j+=this.dragArea.scrollTop);var H=this.getProcessedPositionValue({top:j+"px",left:J+"px"});ue(d,this.getDragPosition(H)),!this.elementInViewport(d)&&this.enableAutoScroll&&!this.helperElement.classList.contains("e-treeview")&&this.helperElement.scrollIntoView();var V=document.querySelectorAll(":hover");if(this.enableAutoScroll&&this.helperElement.classList.contains("e-treeview")){0===V.length&&(V=this.getPathElements(i));var B=this.getScrollParent(V,!1);this.elementInViewport(this.helperElement)?this.getScrollPosition(B,j):this.elementInViewport(this.helperElement)||(0===(V=[].slice.call(document.querySelectorAll(":hover"))).length&&(V=this.getPathElements(i)),B=this.getScrollParent(V,!0),this.getScrollPosition(B,j))}this.dragProcessStarted=!0,this.prevLeft=n,this.prevTop=s,this.position.left=n,this.position.top=s,this.pageX=g,this.pageY=y}},t.prototype.getScrollParent=function(i,n){for(var a,s=n?i.reverse():i,o=s.length-1;o>=0;o--)if(("auto"===(a=window.getComputedStyle(s[parseInt(o.toString(),10)])["overflow-y"])||"scroll"===a)&&s[parseInt(o.toString(),10)].scrollHeight>s[parseInt(o.toString(),10)].clientHeight)return s[parseInt(o.toString(),10)];if("visible"===(a=window.getComputedStyle(document.scrollingElement)["overflow-y"]))return document.scrollingElement.style.overflow="auto",document.scrollingElement},t.prototype.getScrollPosition=function(i,n){i&&i===document.scrollingElement?i.clientHeight+document.scrollingElement.scrollTop-this.helperElement.clientHeight<n&&i.getBoundingClientRect().height+this.parentClientRect.top>n?i.scrollTop+=this.helperElement.clientHeight:i.scrollTop>n-this.helperElement.clientHeight&&(i.scrollTop-=this.helperElement.clientHeight):i&&i!==document.scrollingElement&&(i.clientHeight+i.getBoundingClientRect().top-this.helperElement.clientHeight+document.scrollingElement.scrollTop<n?i.scrollTop+=this.helperElement.clientHeight:i.getBoundingClientRect().top>n-this.helperElement.clientHeight-document.scrollingElement.scrollTop&&(i.scrollTop-=this.helperElement.clientHeight))},t.prototype.getPathElements=function(i){return document.elementsFromPoint(i.clientX>0?i.clientX:0,i.clientY>0?i.clientY:0)},t.prototype.triggerOutFunction=function(i,n){this.hoverObject.instance.intOut(i,n.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null},t.prototype.getDragPosition=function(i){var n=z({},i);return this.axis&&("x"===this.axis?delete n.top:"y"===this.axis&&delete n.left),n},t.prototype.getDocumentWidthHeight=function(i){var n=document.body,s=document.documentElement;return Math.max(n["scroll"+i],s["scroll"+i],n["offset"+i],s["offset"+i],s["client"+i])},t.prototype.intDragStop=function(i){if(this.dragProcessStarted=!1,Le(i.changedTouches)||1===i.changedTouches.length){if(-1!==["touchend","pointerup","mouseup"].indexOf(i.type)){if(this.dragStop){var s=this.getProperTargetElement(i);this.trigger("dragStop",{event:i,element:this.element,target:s,helper:this.helperElement})}this.intDestroy(i)}else this.element.setAttribute("aria-grabbed","false");var a=this.checkTargetElement(i);a.target&&a.instance&&(a.instance.dragStopCalled=!0,a.instance.dragData[this.scope]=this.droppables[this.scope],a.instance.intDrop(i,a.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}},t.prototype.intDestroy=function(i){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),b.remove(document,O.isSafari()?"touchmove":O.touchMoveEvent,this.intDragStart),b.remove(document,O.isSafari()?"touchend":O.touchEndEvent,this.intDragStop),b.remove(document,O.isSafari()?"touchend":O.touchEndEvent,this.intDestroy),b.remove(document,O.isSafari()?"touchmove":O.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)},t.prototype.onPropertyChanged=function(i,n){},t.prototype.getModuleName=function(){return"draggable"},t.prototype.isDragStarted=function(i){return i&&(XA.isDragged=!XA.isDragged),XA.isDragged},t.prototype.setDragArea=function(){var i,n,o,s=0,a=0;if(o="string"==typeof this.dragArea?P(this.dragArea):this.dragArea){var h=o.getBoundingClientRect();i=o.scrollWidth?o.scrollWidth:h.right-h.left,n=o.scrollHeight?this.dragArea&&!u(this.helperElement)&&this.helperElement.classList.contains("e-treeview")?o.clientHeight:o.scrollHeight:h.bottom-h.top;for(var c=["Top","Left","Bottom","Right"],d=getComputedStyle(o),p=0;p<c.length;p++){var f=c[parseInt(p.toString(),10)],m=d["border"+f+"Width"],g=d["padding"+f],y=f.toLowerCase();this.borderWidth[""+y]=isNaN(parseFloat(m))?0:parseFloat(m),this.padding[""+y]=isNaN(parseFloat(g))?0:parseFloat(g)}s=this.dragArea&&!u(this.helperElement)&&this.helperElement.classList.contains("e-treeview")?h.top+document.scrollingElement.scrollTop:h.top,this.dragLimit.left=(a=h.left)+this.borderWidth.left+this.padding.left,this.dragLimit.top=o.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=a+i-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=s+n-(this.borderWidth.bottom+this.padding.bottom)}},t.prototype.getProperTargetElement=function(i){var s,n=this.getCoordinates(i),a=this.helperElement.style.pointerEvents||"",o=-1!==i.type.indexOf("pointer")&&"safari"===O.info.name&&parseInt(O.info.version)>12;return bC(i.target,this.helperElement)||-1!==i.type.indexOf("touch")||o?(this.helperElement.style.pointerEvents="none",s=document.elementFromPoint(n.clientX,n.clientY),this.helperElement.style.pointerEvents=a):s=i.target,s},t.prototype.currentStateCheck=function(i,n){return u(this.currentStateTarget)||this.currentStateTarget===i?u(n)?i:n:this.currentStateTarget},t.prototype.getMousePosition=function(i,n){var o,l,s=void 0!==i.srcElement?i.srcElement:i.target,a=this.getCoordinates(i),h=u(s.offsetParent);if(n?(o=this.clone?a.pageX:a.pageX+(h?0:s.offsetParent.scrollLeft)-this.relativeXPosition,l=this.clone?a.pageY:a.pageY+(h?0:s.offsetParent.scrollTop)-this.relativeYPosition):(o=this.clone?a.pageX:a.pageX+window.pageXOffset-this.relativeXPosition,l=this.clone?a.pageY:a.pageY+window.pageYOffset-this.relativeYPosition),document.scrollingElement&&!n&&!this.clone){var c=document.scrollingElement.scrollHeight>0&&document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight&&document.scrollingElement.scrollTop>0;o=document.scrollingElement.scrollWidth>0&&document.scrollingElement.scrollWidth>document.scrollingElement.clientWidth&&document.scrollingElement.scrollLeft>0?o-document.scrollingElement.scrollLeft:o,l=c?l-document.scrollingElement.scrollTop:l}return{left:o-(this.margin.left+this.cursorAt.left),top:l-(this.margin.top+this.cursorAt.top)}},t.prototype.getCoordinates=function(i){return i.type.indexOf("touch")>-1?i.changedTouches[0]:i},t.prototype.getHelperElement=function(i){var n;return this.clone?this.helper?n=this.helper({sender:i,element:this.target}):(n=N("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(n)):n=this.element,n},t.prototype.setGlobalDroppables=function(i,n,s){this.droppables[this.scope]=i?null:{draggable:n,helper:s,draggedElement:this.element}},t.prototype.checkTargetElement=function(i){var n=this.getProperTargetElement(i),s=this.getDropInstance(n);if(!s&&n&&!u(n.parentNode)){var a=I(n.parentNode,".e-droppable")||n.parentElement;a&&(s=this.getDropInstance(a))}return{target:n,instance:s}},t.prototype.getDropInstance=function(i){var s,a=i&&i.ej2_instances;if(a)for(var o=0,l=a;o<l.length;o++){var h=l[o];if("droppable"===h.getModuleName()){s=h;break}}return s},t.prototype.destroy=function(){this.toggleEvents(!0),r.prototype.destroy.call(this)},en([at({},Fce)],t.prototype,"cursorAt",void 0),en([v(!0)],t.prototype,"clone",void 0),en([v()],t.prototype,"dragArea",void 0),en([v()],t.prototype,"isDragScroll",void 0),en([v()],t.prototype,"isReplaceDragEle",void 0),en([v(!0)],t.prototype,"isPreventSelect",void 0),en([x()],t.prototype,"drag",void 0),en([x()],t.prototype,"dragStart",void 0),en([x()],t.prototype,"dragStop",void 0),en([v(1)],t.prototype,"distance",void 0),en([v()],t.prototype,"handle",void 0),en([v()],t.prototype,"abort",void 0),en([v()],t.prototype,"helper",void 0),en([v("default")],t.prototype,"scope",void 0),en([v("")],t.prototype,"dragTarget",void 0),en([v()],t.prototype,"axis",void 0),en([v()],t.prototype,"queryPositionInfo",void 0),en([v(!1)],t.prototype,"enableTailMode",void 0),en([v(!1)],t.prototype,"skipDistanceCheck",void 0),en([v(!0)],t.prototype,"preventDefault",void 0),en([v(!1)],t.prototype,"enableAutoScroll",void 0),en([v(!1)],t.prototype,"enableTapHold",void 0),en([v(750)],t.prototype,"tapHoldThreshold",void 0),en([v(!1)],t.prototype,"enableScrollHandler",void 0),e=en([et],t)}(dh),Vce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Zp=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},jce=function(r){function t(e,i){var n=r.call(this,i,e)||this;return n.mouseOver=!1,n.dragData={},n.dragStopCalled=!1,n.bind(),n}return Vce(t,r),t.prototype.bind=function(){this.wireEvents()},t.prototype.wireEvents=function(){b.add(this.element,O.isSafari()?"touchend":O.touchEndEvent,this.intDrop,this)},t.prototype.onPropertyChanged=function(e,i){},t.prototype.getModuleName=function(){return"droppable"},t.prototype.intOver=function(e,i){this.mouseOver||(this.trigger("over",{event:e,target:i,dragData:this.dragData[this.scope]}),this.mouseOver=!0)},t.prototype.intOut=function(e,i){this.mouseOver&&(this.trigger("out",{evt:e,target:i}),this.mouseOver=!1)},t.prototype.intDrop=function(e,i){if(this.dragStopCalled){this.dragStopCalled=!1;var o,n=!0,s=this.dragData[this.scope],a=!!s&&s.helper&&ln(s.helper);a&&(o=this.isDropArea(e,s.helper,i),this.accept&&(n=Ug(s.helper,this.accept))),a&&this.drop&&o.canDrop&&n&&this.trigger("drop",{event:e,target:o.target,droppedElement:s.helper,dragData:s}),this.mouseOver=!1}},t.prototype.isDropArea=function(e,i,n){var s={canDrop:!0,target:n||e.target},a="touchend"===e.type;if(a||s.target===i){i.style.display="none";var o=a?e.changedTouches[0]:e,l=document.elementFromPoint(o.clientX,o.clientY);s.canDrop=!1,s.canDrop=bC(l,this.element),s.canDrop&&(s.target=l),i.style.display=""}return s},t.prototype.destroy=function(){b.remove(this.element,O.isSafari()?"touchend":O.touchEndEvent,this.intDrop),r.prototype.destroy.call(this)},Zp([v()],t.prototype,"accept",void 0),Zp([v("default")],t.prototype,"scope",void 0),Zp([x()],t.prototype,"drop",void 0),Zp([x()],t.prototype,"over",void 0),Zp([x()],t.prototype,"out",void 0),Zp([et],t)}(dh),Bce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),MC=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Hce={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},Lt=function(r){function t(i,n){var s=r.call(this,n,i)||this;return s.keyPressHandler=function(a){for(var o=a.altKey,l=a.ctrlKey,h=a.shiftKey,c=a.which,p=0,f=Object.keys(s.keyConfigs);p<f.length;p++)for(var m=f[p],y=0,C=s.keyConfigs[""+m].split(",");y<C.length;y++){var S=e.getKeyConfigData(C[y].trim());o===S.altKey&&l===S.ctrlKey&&h===S.shiftKey&&c===S.keyCode&&(a.action=m,s.keyAction&&s.keyAction(a))}},s.bind(),s}var e;return Bce(t,r),e=t,t.prototype.destroy=function(){this.unwireEvents(),r.prototype.destroy.call(this)},t.prototype.onPropertyChanged=function(i,n){},t.prototype.bind=function(){this.wireEvents()},t.prototype.getModuleName=function(){return"keyboard"},t.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},t.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},t.getKeyConfigData=function(i){if(i in this.configCache)return this.configCache[""+i];var n=i.toLowerCase().split("+"),s={altKey:-1!==n.indexOf("alt"),ctrlKey:-1!==n.indexOf("ctrl"),shiftKey:-1!==n.indexOf("shift"),keyCode:null};return s.keyCode=n[n.length-1].length>1&&Number(n[n.length-1])?Number(n[n.length-1]):e.getKeyCode(n[n.length-1]),e.configCache[""+i]=s,s},t.getKeyCode=function(i){return Hce[""+i]||i.toUpperCase().charCodeAt(0)},t.configCache={},MC([v({})],t.prototype,"keyConfigs",void 0),MC([v("keyup")],t.prototype,"eventName",void 0),MC([x()],t.prototype,"keyAction",void 0),e=MC([et],t)}(dh),fi=function(){function r(t,e,i){this.controlName=t,this.localeStrings=e,this.setLocale(i||jg)}return r.prototype.setLocale=function(t){var e=this.intGetControlConstant(r.locale,t);this.currentLocale=e||this.localeStrings},r.load=function(t){this.locale=z(this.locale,t,{},!0)},r.prototype.getConstant=function(t){return u(this.currentLocale[""+t])?this.localeStrings[""+t]||"":this.currentLocale[""+t]},r.prototype.intGetControlConstant=function(t,e){return t[""+e]?t[""+e][this.controlName]:null},r.locale={},r}(),S4=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fh=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},zce=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return S4(t,r),fh([v(50)],t.prototype,"swipeThresholdDistance",void 0),t}(ot),Uce=/(Up|Down)/,Zn=function(r){function t(e,i){var n=r.call(this,i,e)||this;return n.touchAction=!0,n.tapCount=0,n.startEvent=function(s){if(!0===n.touchAction){var a=n.updateChangeTouches(s);void 0!==s.changedTouches&&(n.touchAction=!1),n.isTouchMoved=!1,n.movedDirection="",n.startPoint=n.lastMovedPoint={clientX:a.clientX,clientY:a.clientY},n.startEventData=a,n.hScrollLocked=n.vScrollLocked=!1,n.tStampStart=Date.now(),n.timeOutTapHold=setTimeout(function(){n.tapHoldEvent(s)},n.tapHoldThreshold),b.add(n.element,O.touchMoveEvent,n.moveEvent,n),b.add(n.element,O.touchEndEvent,n.endEvent,n),b.add(n.element,O.touchCancelEvent,n.cancelEvent,n)}},n.moveEvent=function(s){var a=n.updateChangeTouches(s);n.movedPoint=a,n.isTouchMoved=!(a.clientX===n.startPoint.clientX&&a.clientY===n.startPoint.clientY);var o={};n.isTouchMoved&&(clearTimeout(n.timeOutTapHold),n.calcScrollPoints(s),o=z(o,{},{startEvents:n.startEventData,originalEvent:s,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,scrollDirection:n.scrollDirection,velocity:n.getVelocity(a)}),n.trigger("scroll",o),n.lastMovedPoint={clientX:a.clientX,clientY:a.clientY})},n.cancelEvent=function(s){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap),n.tapCount=0,n.swipeFn(s),b.remove(n.element,O.touchCancelEvent,n.cancelEvent)},n.endEvent=function(s){n.swipeFn(s),n.isTouchMoved||"function"==typeof n.tap&&(n.trigger("tap",{originalEvent:s,tapCount:++n.tapCount}),n.timeOutTap=setTimeout(function(){n.tapCount=0},n.tapThreshold)),n.modeclear()},n.swipeFn=function(s){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap);var a=n.updateChangeTouches(s),o=a.clientX-n.startPoint.clientX,l=a.clientY-n.startPoint.clientY;o=Math.floor(o<0?-1*o:o),l=Math.floor(l<0?-1*l:o),n.isTouchMoved=o>1||l>1,/Firefox/.test(O.userAgent)&&0===a.clientX&&0===a.clientY&&"mouseup"===s.type&&(n.isTouchMoved=!1),n.endPoint=a,n.calcPoints(s);var c={originalEvent:s,startEvents:n.startEventData,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,swipeDirection:n.movedDirection,velocity:n.getVelocity(a)};if(n.isTouchMoved){var d=void 0,p=n.swipeSettings.swipeThresholdDistance;d=z(d,n.defaultArgs,c);var f=!1,m=n.element,g=n.isScrollable(m),y=Uce.test(n.movedDirection);(p<n.distanceX&&!y||p<n.distanceY&&y)&&(f=!g||n.checkSwipe(m,y)),f&&n.trigger("swipe",d)}n.modeclear()},n.modeclear=function(){n.modeClear=setTimeout(function(){n.touchAction=!0},"function"!=typeof n.tap?0:20),n.lastTapTime=(new Date).getTime(),b.remove(n.element,O.touchMoveEvent,n.moveEvent),b.remove(n.element,O.touchEndEvent,n.endEvent),b.remove(n.element,O.touchCancelEvent,n.cancelEvent)},n.bind(),n}return S4(t,r),t.prototype.onPropertyChanged=function(e,i){},t.prototype.bind=function(){this.wireEvents(),O.isIE&&this.element.classList.add("e-block-touch")},t.prototype.destroy=function(){this.unwireEvents(),r.prototype.destroy.call(this)},t.prototype.wireEvents=function(){b.add(this.element,O.touchStartEvent,this.startEvent,this)},t.prototype.unwireEvents=function(){b.remove(this.element,O.touchStartEvent,this.startEvent)},t.prototype.getModuleName=function(){return"touch"},t.prototype.isScrollable=function(e){var i=getComputedStyle(e);return!!/(auto|scroll)/.test(i.overflow+i.overflowX+i.overflowY)},t.prototype.tapHoldEvent=function(e){this.tapCount=0,this.touchAction=!0,b.remove(this.element,O.touchMoveEvent,this.moveEvent),b.remove(this.element,O.touchEndEvent,this.endEvent),this.trigger("tapHold",{originalEvent:e}),b.remove(this.element,O.touchCancelEvent,this.cancelEvent)},t.prototype.calcPoints=function(e){var i=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(i.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(i.clientY)-Math.abs(this.startPoint.clientY)),this.movedDirection=this.distanceX>this.distanceY?i.clientX>this.startPoint.clientX?"Right":"Left":i.clientY<this.startPoint.clientY?"Up":"Down"},t.prototype.calcScrollPoints=function(e){var i=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(i.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(i.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||!0===this.hScrollLocked)&&!1===this.vScrollLocked?(this.scrollDirection=i.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=i.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)},t.prototype.getVelocity=function(e){var i=e.clientX,n=e.clientY,s=Date.now(),a=i-this.startPoint.clientX,o=n-this.startPoint.clientX,l=s-this.tStampStart;return Math.sqrt(a*a+o*o)/l},t.prototype.checkSwipe=function(e,i){var n=["scroll","offset"],s=i?["Height","Top"]:["Width","Left"];return e[n[0]+s[0]]<=e[n[1]+s[0]]||0===e[n[0]+s[1]]||e[n[1]+s[0]]+e[n[0]+s[1]]>=e[n[0]+s[0]]},t.prototype.updateChangeTouches=function(e){return e.changedTouches&&0!==e.changedTouches.length?e.changedTouches[0]:e},fh([x()],t.prototype,"tap",void 0),fh([x()],t.prototype,"tapHold",void 0),fh([x()],t.prototype,"swipe",void 0),fh([x()],t.prototype,"scroll",void 0),fh([v(350)],t.prototype,"tapThreshold",void 0),fh([v(750)],t.prototype,"tapHoldThreshold",void 0),fh([at({},zce)],t.prototype,"swipeSettings",void 0),fh([et],t)}(dh),Wce=new RegExp("[\\n\\r\\s]+","g"),qce=new RegExp(/'|"/g),Yce=new RegExp("if ?\\("),Qce=new RegExp("else if ?\\("),w4=new RegExp("else"),Gce=new RegExp("for ?\\("),M4=new RegExp("(/if|/for)"),$ce=new RegExp("\\((.*)\\)",""),ZA=new RegExp("^[0-9]+$","g"),Kce=new RegExp("[\\w\"'.\\s+]+","g"),Xce=new RegExp('"(.*?)"',"g"),Zce=new RegExp("[\\w\"'@#$.\\s-+]+","g"),Jce=new RegExp("\\${([^}]*)}","g"),eue=/^\..*/gm,JA=/\\/gi,tue=/\\\\/gi,iue=new RegExp("[\\w\"'@#$.\\s+]+","g"),nue=/\window\./gm;function Jp(r,t,e,i,n){return!t||ZA.test(r)||-1!==i.indexOf(r.split(".")[0])||n||"true"===r||"false"===r?r:e+"."+r}function ex(r,t,e,i){return t&&!ZA.test(r)&&-1===i.indexOf(r.split(".")[0])?e+'["'+r:r}function T4(r){return r.match(tue)?r:r.replace(JA,"\\\\")}function I4(r,t,e,i){if(r=r.trim(),/\window\./gm.test(r))return r;var s=/'|"/gm;return/@|\$|#/gm.test(r)&&(r=ex(r,-1===e.indexOf(r),t,e)+'"]'),eue.test(r)?function(r,t,e,i){return!t||ZA.test(r)||-1!==i.indexOf(r.split(".")[0])||/^\..*/gm.test(r)?r:e+"."+r}(r,!s.test(r)&&-1===e.indexOf(r),t,e):Jp(r,!s.test(r)&&-1===e.indexOf(r),t,e,i)}var oue=/^[\n\r.]+<tr|^<tr/,lue=/^[\n\r.]+<svg|^<path|^<g/;function tt(r,t,e){var i=tx.compile(r,t,e);return function(n,s,a,o,l,h,c,d){var p=i(n,s,a,c,d);return"string"==typeof p?lue.test(p)?N("svg",{innerHTML:p}).childNodes:N(oue.test(p)?"table":"div",{innerHTML:p}).childNodes:p}}function Fu(r,t){var e;return r.prototype.CSPTemplate=!0,u(t)?e=r:(e=r.bind(t)).prototype=Object.create(r.prototype),e}var uue=function(){function r(){}return r.prototype.compile=function(t,e,i){return void 0===e&&(e={}),function(r,t,e){if("function"==typeof r)return r;var i="data",n=function(r,t,e,i){var n=0,s=[],a=r.match(/class="([^"]+|)\s{2}/g),o="";return a&&a.forEach(function(l){o=l.replace(/\s\s+/g," "),r=r.replace(l,o)}),r.replace(Wce," ").replace(Xce,"'$1'").replace(Jce,function(l,h,c,d){var f=h.match($ce);if(f){var m=f[1];if(Qce.test(h))h='";} '+h.replace(f[1],m.replace(Kce,function(T){return Jp(T=T.trim(),!qce.test(T)&&-1===s.indexOf(T),t,s,i)}))+'{ \n str = str + "';else if(Yce.test(h))h='"; '+h.replace(f[1],m.replace(Zce,function(T){return I4(T,t,s,i)}))+'{ \n str = str + "';else if(Gce.test(h)){var g=f[1].split(" of ");h='"; '+h.replace(f[1],function(T){return s.push(g[0]),s.push(g[0]+"Index"),"var i"+(n+=1)+"=0; i"+n+" < "+Jp(g[1],!0,t,s,i)+".length; i"+n+"++"})+"{ \n "+g[0]+"= "+Jp(g[1],!0,t,s,i)+"[i"+n+"]; \n var "+g[0]+"Index=i"+n+'; \n str = str + "'}else{var y=h.split("("),C=e&&e.hasOwnProperty(y[0])?"this.":"global";C=/\./.test(y[0])?"":C;var E=f[1].split(",");0!==f[1].length&&!/data/.test(E[0])&&!/window./.test(E[0])&&(f[1]="global"===C?t+"."+f[1]:f[1]),nue.test(h)&&/\]\./gm.test(h)||/@|\$|#/gm.test(h)?/@|\$|#|\]\./gm.test(h)&&(h='"+ '+("global"===C?"":C)+h.replace(f[1],m.replace(iue,function(T){return I4(T,t,s,i)}))+'+ "'):h='" + '+("global"===C?"":C)+h.replace(m,Jp(f[1].replace(/,( |)data.|,/gi,",data.").replace(/,( |)data.window/gi,",window"),"global"!==C,t,s,i))+'+"'}}else w4.test(h)?h='"; '+h.replace(w4,'} else { \n str = str + "'):h.match(M4)?h=h.replace(M4,'"; \n } \n str = str + "'):/@|#|\$/gm.test(h)?(h.match(JA)&&(h=T4(h)),h='"+'+ex(h,-1===s.indexOf(h),t,s)+'"]+"'):h=h.match(JA)?'"+'+ex(h=T4(h),-1===s.indexOf(h),t,s)+'"]+"':""!==h?'"+'+Jp(h.replace(/,/gi,"+data."),-1===s.indexOf(h),t,s,i)+'+"':"${}";return h})}(r,i,t,e);return new Function(i,'var str="'+n+"\";var valueRegEx = (/value=\\'([A-Za-z0-9 _]*)((.)([\\w)(!-;?-\u25a0\\s]+)['])/g);\n        var hrefRegex = (/(?:href)([\\s='\"./]+)([\\w-./?=&\\\\#\"]+)((.)([\\w)(!-;/?-\u25a0\\s]+)['])/g);\n        if(str.match(valueRegEx)){\n            var check = str.match(valueRegEx);\n            var str1 = str;\n            for (var i=0; i < check.length; i++) {\n                var check1 = str.match(valueRegEx)[i].split('value=')[1];\n                var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n                change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n                str1 = str1.replace(check1, change);\n            }\n            str = str.replace(str, str1);\n        }\n        else if (str.match(/(?:href='')/) === null) {\n            if(str.match(hrefRegex)) {\n                var check = str.match(hrefRegex);\n                var str1 = str;\n                for (var i=0; i < check.length; i++) {\n                    var check1 = str.match(hrefRegex)[i].split('href=')[1];\n                    if (check1) {\n                        var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n                        change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n                        str1 = str1.replace(check1, change);\n                    }\n                }\n                str = str.replace(str, str1);\n            }\n        }\n         return str;").bind(t)}(t,e)},r}(),tx={compile:(new uue).compile},due=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],pue=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],x4=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","oncanplay","oncanplaythrough","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeypress","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onstart","onpropertychange","oncopy","ontoggle","onpointerout","onpointermove","onpointerleave","onpointerenter","onpointerrawupdate","onpointerover","onbeforecopy","onbeforecut","onbeforeinput"],Qt=function(){function r(){}return r.beforeSanitize=function(){return{selectors:{tags:due,attributes:pue}}},r.sanitize=function(t){var e=this.beforeSanitize();return this.serializeValue(e,t)},r.serializeValue=function(t,e){this.removeAttrs=t.selectors.attributes,this.removeTags=t.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=e,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs();var i=this.wrapElement.innerHTML;return this.removeElement(),i.replace(/&amp;/g,"&")},r.removeElement=function(){for(var t=this.wrapElement.children,e=0;e<t.length;e++)for(var i=t[parseInt(e.toString(),10)].attributes,n=0;n<i.length;n++)this.wrapElement.children[parseInt(e.toString(),10)].removeAttribute(i[parseInt(n.toString(),10)].localName)},r.removeXssTags=function(){var t=this.wrapElement.querySelectorAll(this.removeTags.join(","));t.length>0&&t.forEach(function(e){Q(e)})},r.removeJsEvents=function(){var t=this.wrapElement.querySelectorAll("["+x4.join("],[")+"]");t.length>0&&t.forEach(function(e){x4.forEach(function(i){e.hasAttribute(i)&&e.removeAttribute(i)})})},r.removeXssAttrs=function(){var t=this;this.removeAttrs.forEach(function(e,i){var n=t.wrapElement.querySelectorAll(e.selector);n.length>0&&n.forEach(function(s){s.removeAttribute(e.attribute)})})},r}();function O4(r){return function(t){!function(r,t){t.forEach(function(e){Object.getOwnPropertyNames(e.prototype).forEach(function(i){(!r.prototype.hasOwnProperty(i)||e.isFormBase&&"constructor"!==i)&&(r.prototype[i]=e.prototype[i])})})}(t,r)}}function k4(r,t,e){var i={};if(r&&r.length){for(var n=0,s=r;n<s.length;n++){var a=s[n];!0===e?(t.propCollection[a]=new _t(!1),t[a]=t.propCollection[a]):i[a]=new _t(!1)}!0!==e&&t.setProperties(i,!0)}}function N4(r,t,e){var i=Object.keys(r.registeredTemplate);if(i.length)for(var n=t&&t.filter(function(w){return!/\./g.test(w)}),s=/tab|accordion|toolbar/.test(r.getModuleName()),a=0,o=n&&n||i;a<o.length;a++){var l=o[a];if(e&&e.length)for(var h=0;h<e.length;h++)if(s)for(var c=0;c<r.registeredTemplate[l].length;c++)(d=r.registeredTemplate[l][c])&&d===e[h]&&(d.destroy(),r.registeredTemplate[l].splice(c,1));else for(c=0;c<r.registeredTemplate.template.length;c++){var d;(d=r.registeredTemplate.template[c].rootNodes[0])===e[h]&&(p=r.registeredTemplate[l])[c].destroy()}else if(r.registeredTemplate[l])for(var f=0,m=r.registeredTemplate[l];f<m.length;f++){var p;if(!(p=m[f]).destroyed){if(p._view){var g=p._view.renderer.parentNode(p.rootNodes[0]);if(!u(g))for(c=0;c<p.rootNodes.length;c++)g.appendChild(p.rootNodes[c])}p.destroy()}}(!s||!e)&&delete r.registeredTemplate[l]}for(var y=function(w){w.instance&&w.instance.clearTemplate(t&&t.filter(function(A){return!!new RegExp(w.name).test(A)}))},C=0,E=r.tagObjects;C<E.length;C++)y(E[C])}function ef(r,t,e){for(var i=r.replace(/\[/g,".").replace(/\]/g,"").split("."),n=e||{},s=0;s<i.length;s++){var a=i[s];s+1===i.length?n[a]=void 0===t?{}:t:void 0===n[a]&&(n[a]={}),n=n[a]}return n}var mue=/Ref$/,TC=function(){function r(){this.hasChanges=!1,this.propCollection={},this.dataSource={},this.tags=[],this.tagObjects=[]}return r.prototype.ngOnInit=function(){this.registeredTemplate={};for(var t=0,e=this.tags;t<e.length;t++){var i=e[t],n=_("child"+i.substring(0,1).toUpperCase()+i.substring(1),this);n&&this.tagObjects.push({instance:n,name:i})}for(var s=Object.keys(this),a=0;a<s.length;a++){var o=_(s[a],this);"object"==typeof o&&o&&o.elementRef&&(_(-1!==s[a].indexOf("Ref")?s[a]:s[a]+"Ref",this)||We(-1!==s[a].indexOf("Ref")?s[a]:s[a]+"Ref",o,this),_("viewContainerRef",this)&&!_("_viewContainerRef",o.elementRef.nativeElement)&&!_("propName",o.elementRef.nativeElement)&&(We("_viewContainerRef",_("viewContainerRef",this),o.elementRef.nativeElement),We("propName",s[a].replace("Ref",""),o.elementRef.nativeElement)))}for(var l=0,h=s=(s=Object.keys(this)).filter(function(g){return/Ref$/i.test(g)});l<h.length;l++){var d=h[l].replace("Ref","");We(d.replace("_","."),_(d,this),this.propCollection)}var p=Object.keys(this);if(this.directivePropList){for(var f=0;f<this.directivePropList.length;f++){var m=this.directivePropList[f];-1!==p.indexOf(m)&&(!1===_(m,this)||_(m,this))&&We(m,_(m,this),this.propCollection)}this.hasChanges=!0}this.isInitChanges=!0},r.prototype.registerEvents=function(t){k4(t,this,!0)},r.prototype.ngOnChanges=function(t){for(var e=0,i=Object.keys(t);e<i.length;e++){var n=i[e];this.propCollection[n]=t[n].currentValue}this.isUpdated=!1,this.hasChanges=!0},r.prototype.clearTemplate=function(t){N4(this,t)},r.prototype.getProperties=function(){for(var t=0,e=this.tagObjects;t<e.length;t++){var i=e[t];this.propCollection[i.name]=i.instance.getProperties()}return this.propCollection},r.prototype.isChanged=function(){var t=this.hasChanges;if(!u(this.propCollection[this.property]))for(var i=Object.keys(this.propCollection[this.property][0]),n=0;n<i.length;n++)if(!u(this.propCollection[i[n]])){var s=_(i[n],this),a=this.propCollection[this.property][0][i[n]];!u(s)&&this.propCollection[i[n]]!==s&&a!==s&&(We(i[n],s,this.propCollection[this.property][0]),We(i[n],s,this.propCollection),this.hasChanges=!0,this.isUpdated=!1)}for(var o=0,l=this.tagObjects;o<l.length;o++)t=t||l[o].instance.hasChanges;return t||this.hasChanges},r.prototype.ngAfterContentChecked=function(){if(this.hasChanges=this.isChanged(),this.isInitChanges||this.hasChanges)for(var t=Object.keys(this),e=0,i=t=t.filter(function(a){return mue.test(a)});e<i.length;e++){var s=i[e].replace("Ref","");We(s.replace("_","."),_(s,this),this.propCollection)}},r.prototype.ngAfterViewChecked=function(){this.isUpdated&&(this.hasChanges=!1)},r.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},r.prototype.ngOnDestroy=function(){this.directivePropList=[]},r}(),IC=function(){function r(t){this.list=[],this.hasChanges=!1,this.propertyName=t}return r.prototype.ngOnInit=function(){this.isInitChanges=!0},r.prototype.ngAfterContentInit=function(){var t=this,e=0;this.list=this.children.map(function(i){return i.dirIndex=e++,i.property=t.propertyName,i}),this.hasChanges=!0},r.prototype.getProperties=function(){for(var t=[],e=0,i=this.list;e<i.length;e++)t.push(i[e].getProperties());return t},r.prototype.isChanged=function(){var t=this,e=!1,i=0,n=!1,s=this.children.map(function(c){return c});if(this.list.length===this.children.length)for(var a=0;a<this.list.length;a++)this.list[a].propCollection.dataSource&&(this.list[a].dataSource&&this.list[a].propCollection.dataSource!==this.list[a].dataSource&&(this.list[a].propCollection.dataSource=this.list[a].dataSource,this.list[a].hasChanges=!0),"series"!==this.list[a].property&&(n=JSON.stringify(this.list[a].propCollection.dataSource)!==JSON.stringify(s[a].propCollection.dataSource))),n=this.list[a].hasChanges!==s[a].hasChanges;this.hasNewChildren=!(this.list.length===this.children.length&&!n)||null,this.hasNewChildren&&(this.list=this.children.map(function(c){return c.dirIndex=i++,c.property=t.propertyName,c}));for(var o=0,l=this.list;o<l.length;o++)e=e||l[o].hasChanges;return!!this.list.length&&e},r.prototype.clearTemplate=function(t){for(var e=this,i=0,n=this.list;i<n.length;i++)n[i].clearTemplate(t&&t.map(function(a){return new RegExp(e.propertyName).test(a)?a.replace(e.propertyName+".",""):a}))},r.prototype.ngAfterContentChecked=function(){this.hasChanges=this.isChanged();for(var t=0;t<this.list.length;t++)_("childColumns",this.list[t])&&"columns"===_("property",this.list[t])&&We("columns",_("childColumns",this.list[t]).getProperties(),this.list[t].propCollection),this.list[t].isUpdated=!0},r.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},r.prototype.ngOnDestroy=function(){this.list=[]},r}(),AC=function(){function r(){this.isProtectedOnChange=!0,this.isFormInit=!0}return r.prototype.saveChanges=function(t,e,i){if(!this.isProtectedOnChange){this.oldProperties[t]=i,this.changedProperties[t]=e,this.finalUpdate();var n=setTimeout(this.dataBind.bind(this));this.finalUpdate=function(){clearTimeout(n)}}},r.prototype.ngOnInit=function(t){var e=t||this;e.registeredTemplate={},e.ngBoundedEvents={},e.isAngular=!0,e.isFormInit=!0,t&&(this.tags=t.tags),e.tags=this.tags||[],e.complexTemplate=this.complexTemplate||[],e.tagObjects=[],e.ngAttr=this.getAngularAttr(e.element),e.createElement=function(g,y){var C=e.srenderer?e.srenderer.createElement(g):N(g);return void 0===y||(C.innerHTML=y.innerHTML?y.innerHTML:"",void 0!==y.className&&(C.className=y.className),void 0!==y.id&&(C.id=y.id),void 0!==y.styles&&C.setAttribute("style",y.styles),void 0!==e.ngAttr&&C.setAttribute(e.ngAttr,""),void 0!==y.attrs&&re(C,y.attrs)),C};for(var i=0,n=e.tags;i<n.length;i++){var s=n[i],a={instance:_("child"+s.substring(0,1).toUpperCase()+s.substring(1),e),name:s};e.tagObjects.push(a)}for(var o=Object.keys(e),l=0;l<o.length;l++){var h=_(o[l],e);"object"==typeof h&&h&&h.elementRef&&("object"==typeof h&&h&&h.elementRef&&-1!==o[l].indexOf("_")&&-1===o[l].indexOf("Ref")&&We(o[l]+"Ref",h,e),e.viewContainerRef&&!_("_viewContainerRef",h.elementRef.nativeElement)&&!_("propName",h.elementRef.nativeElement)&&(We("_viewContainerRef",e.viewContainerRef,h.elementRef.nativeElement),We("propName",o[l].replace("Ref",""),h.elementRef.nativeElement)))}for(var c=0,d=o=(o=Object.keys(e)).filter(function(g){return/Ref$/i.test(g)&&/\_/i.test(g)});c<d.length;c++){var f=d[c].replace("Ref",""),m={};We(f.replace("_","."),_(f,e),m),e.setProperties(m,!0)}},r.prototype.getAngularAttr=function(t){for(var n,e=t.attributes,i=e.length,s=0;s<i;s++)/_ngcontent/g.test(e[s].name)&&(n=e[s].name);return n},r.prototype.ngAfterViewInit=function(t){var e=t||this;/ejs-tab|ejs-accordion/g.test(e.ngEle.nativeElement.outerHTML)&&(e.ngEle.nativeElement.style.visibility="hidden");var n=Object.keys(e);n=n.filter(function(d){return/Ref$/i.test(d)});for(var s="DocumentEditor"===e.getModuleName(),a=0,o=n;a<o.length;a++){var h=o[a].replace("Ref","");We(h.replace("_","."),_(h+"Ref",e),e)}var c=function(d){("undefined"!=typeof window&&d.element||d.getModuleName().includes("btn"))&&(d.appendTo(d.element),d.ngEle.nativeElement.style.visibility="")};s?c(e):setTimeout(function(){c(e)})},r.prototype.ngOnDestroy=function(t){var e=t||this;setTimeout(function(){"undefined"!=typeof window&&e.element.classList.contains("e-control")&&(e.destroy(),e.clearTemplate(null),setTimeout(function(){for(var i=0,n=Object.keys(e);i<n.length;i++){var s=n[i],a=e[s];if(a&&/object/.test(typeof a)&&0!==Object.keys(a).length)if(/properties|changedProperties|childChangedProperties|oldProperties|moduleLoader/.test(s))for(var o=0,l=Object.keys(e[s]);o<l.length;o++){var h=l[o],c=a[h];c&&/object/.test(typeof c)&&0!==Object.keys(c).length&&(c.parent||c.parentObj)&&(e[s][h]=null)}else(a.parent||a.parentObj)&&(e[s]=null)}}))})},r.prototype.clearTemplate=function(t,e){N4(this,t,e)},r.prototype.ngAfterContentChecked=function(t){for(var e=t||this,i=0,n=e.tagObjects;i<n.length;i++){var s=n[i];if(!Le(s.instance)&&(s.instance.isInitChanges||s.instance.hasChanges||s.instance.hasNewChildren))if(s.instance.isInitChanges){var a={},o=void 0;(l=_("instance.list",s))&&l.length&&(o=l[0].directivePropList);var h=!0;if(e.getModuleName&&"gantt"===e.getModuleName()&&(h=!1),o&&h&&-1===o.indexOf(s.instance.propertyName))for(var c=Object.keys(s.instance.list[0].propCollection),d=0;d<s.instance.list.length;d++){s.instance.list[d].propCollection[s.instance.propertyName]=[];for(var p={},f=0;f<c.length;f++)p[m=c[f]]=s.instance.list[d].propCollection[m];for(var g=function(j){var J=s.instance.list[d].tags[j],ne=_("child"+J.substring(0,1).toUpperCase()+J.substring(1),s.instance.list[d]);if(ne){var R=s.instance.list[d]["child"+J.substring(0,1).toUpperCase()+J.substring(1)],G=function(H){var V=[];if(H)for(var B=0;B<H.list.length;B++){var F=H.list[0].tags[0];if(F){var L=_("child"+F.substring(0,1).toUpperCase()+F.substring(1),H.list[B]);L&&(H.list[B].tagObjects.push({instance:L,name:F}),V.push(L))}}if(0!==V.length)for(var U=0;U<V.length;U++)G(V[U])};G(R),s.instance.list[d].tagObjects.push({instance:ne,name:J})}},y=0;y<s.instance.list[d].tags.length;y++)g(y);s.instance.list[d].propCollection[s.instance.propertyName].push(p)}a[s.name]=s.instance.getProperties(),e.setProperties(a,s.instance.isInitChanges)}else{(e[s.name].length!==s.instance.list.length||/diagram|DashboardLayout/.test(e.getModuleName()))&&(e[s.name]=s.instance.list);for(var C=0,E=s.instance.list;C<E.length;C++){var l,S=s.instance.list.indexOf(l=E[C]),w=_(s.name,e)[S],A=Object.keys(w);if(A=A.filter(function(J){return/Ref$/i.test(J)}),w.properties&&0!==Object.keys(w.properties).length)for(var T=0,k=A;T<k.length;T++){var m;m=(m=k[T]).replace(/Ref/,""),w.properties[m]=w.properties[m]?w.properties[m]:w.propCollection[m]}!Le(w)&&!Le(w.setProperties)&&(/diagram|DashboardLayout/.test(e.getModuleName())?w.setProperties(l.getProperties(),!0):w.setProperties(l.getProperties())),l.isUpdated=!0}}}},r.prototype.registerEvents=function(t){k4(t,this)},r.prototype.twoWaySetter=function(t,e){var i=_(e,this.properties);i!==t&&(this.saveChanges(e,t,i),We(e,u(t)?null:t,this.properties),_(e+"Change",this).emit(t))},r.prototype.addTwoWay=function(t){for(var e=this,i=function(l){_(l,n),Object.defineProperty(n,l,{get:function(){return _(l,e.properties)},set:function(h){return e.twoWaySetter(h,l)}}),We(l+"Change",new _t,n)},n=this,s=0,a=t;s<a.length;s++)i(a[s])},r.prototype.addEventListener=function(t,e){var i=_(t,this);Le(i)||(this.ngBoundedEvents[t]||(this.ngBoundedEvents[t]=new Map),this.ngBoundedEvents[t].set(e,i.subscribe(e)))},r.prototype.removeEventListener=function(t,e){Le(_(t,this))||this.ngBoundedEvents[t].get(e).unsubscribe()},r.prototype.trigger=function(t,e,i){var n=_(t,this),s=this.isProtectedOnChange;this.isProtectedOnChange=!1,e&&(e.name=t),Le(n)||n.next(e);var a=_("local"+t.charAt(0).toUpperCase()+t.slice(1),this);Le(a)||a.call(this,e),this.isProtectedOnChange=s,i&&(this.preventChange=this.isPreventChange,i.call(this,e)),this.isPreventChange=!1},r}(),gue=(function(){function r(){}r.prototype.propagateChange=function(t){},r.prototype.propagateTouch=function(){},r.prototype.localChange=function(t){var e=void 0===t.checked?t.value:t.checked;this.objCheck=ko(e),!0===this.isUpdated&&(this.angularValue=this.oldValue),!0===this.objCheck?(this.duplicateValue=JSON.stringify(e),this.duplicateAngularValue=JSON.stringify(this.angularValue),this.duplicateValue!==this.duplicateAngularValue&&void 0!==this.propagateChange&&void 0!==e&&(this.propagateChange(e),this.angularValue=e)):e!==this.angularValue&&void 0!==this.propagateChange&&void 0!==e&&(this.propagateChange(e),this.angularValue=e),this.cdr.markForCheck()},r.prototype.registerOnChange=function(t){this.propagateChange=t},r.prototype.registerOnTouched=function(t){this.propagateTouch=t},r.prototype.twoWaySetter=function(t,e){var i=this.oldValue||_(e,this.properties),n=this.inputElement||this.element;n&&i===t&&this.value===t&&(void 0===n.value||""===n.value)||(this.saveChanges(e,t,i),We(e,u(t)?null:t,this.properties),_(e+"Change",this).emit(t))},r.prototype.ngAfterViewInit=function(t){var e=t||this;if("undefined"!=typeof window){e.getModuleName().includes("dropdown")?setTimeout(function(){e.appendTo(e.element)}):e.appendTo(e.element);var i=e.inputElement||e.element;i.addEventListener("focus",e.ngOnFocus.bind(e)),i.addEventListener("blur",e.ngOnBlur.bind(e))}this.isFormInit=!1},r.prototype.setDisabledState=function(t){this.enabled=!t,this.disabled=t},r.prototype.writeValue=function(t){void 0===this.checked?this.value=t:this.ngEle&&(this.checked="boolean"==typeof t?/ejs-radiobutton/g.test(this.ngEle.nativeElement.outerHTML)?t===this.value:t:t===this.value),this.angularValue=t,this.isUpdated=!0,this.preventChange=!this.isFormInit,this.cdr.markForCheck()},r.prototype.ngOnFocus=function(t){!0!==this.skipFromEvent&&this.focus.emit(t),this.cdr.markForCheck()},r.prototype.ngOnBlur=function(t){this.propagateTouch(),!0!==this.skipFromEvent&&this.blur.emit(t),this.cdr.markForCheck()},r.isFormBase=!0}(),tx.compile);function Jt(r){return function(t,e){var i={set:yue(e),get:bue(e,r),enumerable:!0,configurable:!0};Object.defineProperty(t,e,i)}}function yue(r){return function(t){void 0!==t&&(We(r+"Ref",t,this),"string"!=typeof t?(t.elementRef.nativeElement._viewContainerRef=this.viewContainerRef,t.elementRef.nativeElement.propName=r):this.saveChanges&&(this.saveChanges(r,t,void 0),this.dataBind()))}}function bue(r,t){return function(){return _(r+"Ref",this)||t}}function ix(r,t,e,i,n,s){var a=i;if(i.tagName===t){var o=_("ej2_instances",i);a=r("input",{attrs:{type:e}});for(var l=["change","cssClass","label","labelPosition","id"],h=0,c=i.attributes.length;h<c;h++)-1===l.indexOf(i.attributes[h].nodeName)&&a.setAttribute(i.attributes[h].nodeName,i.attributes[h].nodeValue);re(i,{class:n}),i.appendChild(a),We("ej2_instances",o,a),yC(i,"ej2_instances")}return a}function Cue(r){for(var t,e=r.childNodes,i=0;i<e.length;i++)if(3===(t=e[i]).nodeType)return t;return null}function Vu(r,t){if(t){var e=document.createEvent("MouseEvents");e.initEvent(r.type,!1,!0),t.dispatchEvent(e)}}!function(r){tx.compile=r.compile}({compile:function(r,t){if("string"==typeof r||"function"==typeof r&&r.prototype&&r.prototype.CSPTemplate)return gue(r,t);var e=r.elementRef.nativeElement._viewContainerRef,i=r.elementRef.nativeElement.propName;return function(n,s,a){var l=e||s.viewContainerRef,h=l.createEmbeddedView(r,{$implicit:n});"EJS-MENTION"===_("currentInstance.element.nodeName",l)?h.detectChanges():h.markForCheck();var c=s&&s.registeredTemplate?s.registeredTemplate:_("currentInstance.registeredTemplate",l);return void 0===c[a=a&&s.registeredTemplate?a:i]&&(c[a]=[]),c[a].push(h),h.rootNodes}}});var fl,ju,Cc,Kg,Bu,Ea,Sue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),No=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},qa_RTL=(new Vg,"e-rtl"),vn=function(r){function t(e,i){return r.call(this,e,i)||this}return Sue(t,r),t.prototype.preRender=function(){},t.prototype.render=function(){this.initialize(),this.removeRippleEffect=xi(this.element,{selector:".e-btn"}),this.renderComplete()},t.prototype.initialize=function(){if(this.cssClass&&D([this.element],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.isPrimary&&this.element.classList.add("e-primary"),this.content){var e=this.enableHtmlSanitizer?Qt.sanitize(this.content):this.content;this.element.innerHTML=e}this.setIconCss(),this.enableRtl&&this.element.classList.add(qa_RTL),this.disabled?this.controlStatus(this.disabled):this.wireEvents()},t.prototype.controlStatus=function(e){this.element.disabled=e},t.prototype.setIconCss=function(){if(this.iconCss){var e=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(e.classList.add("e-icon-"+this.iconPosition.toLowerCase()),("Top"===this.iconPosition||"Bottom"===this.iconPosition)&&this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add("e-icon-btn");var i=this.element.childNodes[0];!i||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?this.element.appendChild(e):this.element.insertBefore(e,i)}},t.prototype.wireEvents=function(){this.isToggle&&b.add(this.element,"click",this.btnClickHandler,this)},t.prototype.unWireEvents=function(){this.isToggle&&b.remove(this.element,"click",this.btnClickHandler)},t.prototype.btnClickHandler=function(){this.element.classList.contains("e-active")?this.element.classList.remove("e-active"):this.element.classList.add("e-active")},t.prototype.destroy=function(){var e=["e-primary",qa_RTL,"e-icon-btn","e-success","e-info","e-danger","e-warning","e-flat","e-outline","e-small","e-bigger","e-active","e-round","e-top-icon-btn","e-bottom-icon-btn"];this.cssClass&&(e=e.concat(this.cssClass.split(" "))),r.prototype.destroy.call(this),M([this.element],e),this.element.getAttribute("class")||this.element.removeAttribute("class"),this.disabled&&this.element.removeAttribute("disabled"),this.content&&(this.element.innerHTML=this.element.innerHTML.replace(this.content,""));var i=this.element.querySelector("span.e-btn-icon");i&&Q(i),this.unWireEvents(),Wa&&this.removeRippleEffect()},t.prototype.getModuleName=function(){return"btn"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.Inject=function(){},t.prototype.onPropertyChanged=function(e,i){for(var n=this.element.querySelector("span.e-btn-icon"),s=0,a=Object.keys(e);s<a.length;s++)switch(a[s]){case"isPrimary":e.isPrimary?this.element.classList.add("e-primary"):this.element.classList.remove("e-primary");break;case"disabled":this.controlStatus(e.disabled);break;case"iconCss":(n=this.element.querySelector("span.e-btn-icon"))?e.iconCss?(n.className="e-btn-icon "+e.iconCss,this.element.textContent.trim()&&n.classList.add("Left"===this.iconPosition?"e-icon-left":"e-icon-right")):Q(n):this.setIconCss();break;case"iconPosition":M([this.element],["e-top-icon-btn","e-bottom-icon-btn"]),(n=this.element.querySelector("span.e-btn-icon"))&&Q(n),this.setIconCss();break;case"cssClass":i.cssClass&&M([this.element],i.cssClass.split(" ")),e.cssClass&&D([this.element],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":e.enableRtl?this.element.classList.add(qa_RTL):this.element.classList.remove(qa_RTL);break;case"content":Cue(this.element)||this.element.classList.remove("e-icon-btn"),this.enableHtmlSanitizer&&(e.content=Qt.sanitize(e.content)),this.element.innerHTML=e.content,this.setIconCss();break;case"isToggle":e.isToggle?b.add(this.element,"click",this.btnClickHandler,this):(b.remove(this.element,"click",this.btnClickHandler),M([this.element],["e-active"]))}},t.prototype.click=function(){this.element.click()},t.prototype.focusIn=function(){this.element.focus()},No([v("Left")],t.prototype,"iconPosition",void 0),No([v("")],t.prototype,"iconCss",void 0),No([v(!1)],t.prototype,"disabled",void 0),No([v(!1)],t.prototype,"isPrimary",void 0),No([v("")],t.prototype,"cssClass",void 0),No([v("")],t.prototype,"content",void 0),No([v(!1)],t.prototype,"isToggle",void 0),No([v()],t.prototype,"locale",void 0),No([v(!1)],t.prototype,"enableHtmlSanitizer",void 0),No([x()],t.prototype,"created",void 0),No([et],t)}(Yt),wue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ca=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},nx="e-check",L4="e-checkbox-disabled",qg="e-frame",sx="e-stop",rx="e-label",OC="e-ripple-container",ax="e-ripple-check",ox="e-ripple-stop",lx="e-rtl",hx="e-checkbox-wrapper",Mue=["title","class","style","disabled","readonly","name","value"],Tue=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.isFocused=!1,n.isMouseClick=!1,n.clickTriggered=!1,n.validCheck=!0,n}return wue(t,r),t.prototype.changeState=function(e,i){var n,s=this.getWrapper().getElementsByClassName(qg)[0];Wa&&(n=this.getWrapper().getElementsByClassName(OC)[0]),"check"===e?(s&&(s.classList.remove(sx),s.classList.add(nx)),n&&(n.classList.remove(ox),n.classList.add(ax)),this.element.checked=!0,(this.element.required||I(this.element,"form")&&I(this.element,"form").classList.contains("e-formvalidator"))&&this.validCheck&&!i?(this.element.checked=!1,this.validCheck=!1):(this.element.required||I(this.element,"form")&&I(this.element,"form").classList.contains("e-formvalidator"))&&(this.validCheck=!0)):"uncheck"===e?(s&&M([s],[nx,sx]),n&&M([n],[ax,ox]),this.element.checked=!1,(this.element.required||I(this.element,"form")&&I(this.element,"form").classList.contains("e-formvalidator"))&&this.validCheck&&!i?(this.element.checked=!0,this.validCheck=!1):(this.element.required||I(this.element,"form")&&I(this.element,"form").classList.contains("e-formvalidator"))&&(this.validCheck=!0)):(s&&(s.classList.remove(nx),s.classList.add(sx)),n&&(n.classList.remove(ax),n.classList.add(ox)),this.element.indeterminate=!0,this.indeterminate=!0)},t.prototype.clickHandler=function(e){if("INPUT"===e.target.tagName&&this.clickTriggered)return this.isVue&&this.changeState(this.checked?"check":"uncheck"),void(this.clickTriggered=!1);("SPAN"===e.target.tagName||"LABEL"===e.target.tagName)&&(this.clickTriggered=!0),this.isMouseClick&&(this.focusOutHandler(),this.isMouseClick=!1),this.indeterminate?(this.changeState(this.checked?"check":"uncheck"),this.indeterminate=!1,this.element.indeterminate=!1):this.checked?(this.changeState("uncheck"),this.checked=!1):(this.changeState("check"),this.checked=!0);var i={checked:this.updateVueArrayModel(!1),event:e};this.trigger("change",i),e.stopPropagation()},t.prototype.destroy=function(){var e=this,i=this.getWrapper();r.prototype.destroy.call(this),this.wrapper&&(i=this.wrapper,this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(this.getWrapper()&&i.parentNode&&i.parentNode.insertBefore(this.element,i),Q(i),this.element.checked=!1,this.indeterminate&&(this.element.indeterminate=!1),["name","value","disabled"].forEach(function(n){e.element.removeAttribute(n)})):(["class"].forEach(function(n){i.removeAttribute(n)}),i.innerHTML=""))},t.prototype.focusHandler=function(){this.isFocused=!0},t.prototype.focusOutHandler=function(){var e=this.getWrapper();e&&e.classList.remove("e-focus"),this.isFocused=!1},t.prototype.getModuleName=function(){return"checkbox"},t.prototype.getPersistData=function(){return this.addOnPersist(["checked","indeterminate"])},t.prototype.getWrapper=function(){return this.element&&this.element.parentElement?this.element.parentElement.parentElement:null},t.prototype.initialize=function(){u(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.name&&this.element.setAttribute("name",this.name),this.value&&(this.element.setAttribute("value",this.value),this.isVue&&"boolean"==typeof this.value&&!0===this.value&&this.setProperties({checked:!0},!0)),this.checked&&this.changeState("check",!0),this.indeterminate&&this.changeState(),this.disabled&&this.setDisabled()},t.prototype.initWrapper=function(){var e=this.element.parentElement;e.classList.contains(hx)||(e=this.createElement("div",{className:hx}),this.element.parentNode.insertBefore(e,this.element));var i=this.createElement("label",{attrs:{for:this.element.id}}),n=this.createElement("span",{className:"e-icons "+qg});if(e.classList.add("e-wrapper"),this.enableRtl&&e.classList.add(lx),this.cssClass&&D([e],this.cssClass.replace(/\s+/g," ").trim().split(" ")),e.appendChild(i),i.appendChild(this.element),function(r,t){r.element.getAttribute("ejs-for")&&t.appendChild(r.createElement("input",{attrs:{name:r.name||r.element.name,value:"false",type:"hidden"}}))}(this,i),i.appendChild(n),Wa){var s=this.createElement("span",{className:OC});"Before"===this.labelPosition?i.appendChild(s):i.insertBefore(s,n),xi(s,{duration:400,isCenterRipple:!0})}this.label&&this.setText(this.label)},t.prototype.keyUpHandler=function(){this.isFocused&&this.getWrapper().classList.add("e-focus")},t.prototype.labelMouseDownHandler=function(e){this.isMouseClick=!0,Vu(e,this.getWrapper().getElementsByClassName(OC)[0])},t.prototype.labelMouseUpHandler=function(e){this.isMouseClick=!0;var i=this.getWrapper().getElementsByClassName(OC)[0];if(i){for(var n=i.querySelectorAll(".e-ripple-element"),s=0;s<n.length-1;s++)i.removeChild(i.childNodes[s]);Vu(e,i)}},t.prototype.onPropertyChanged=function(e,i){for(var n=this.getWrapper(),s=0,a=Object.keys(e);s<a.length;s++)switch(a[s]){case"checked":this.indeterminate=!1,this.element.indeterminate=!1,this.changeState(e.checked?"check":"uncheck");break;case"indeterminate":e.indeterminate?this.changeState():(this.element.indeterminate=!1,this.changeState(this.checked?"check":"uncheck"));break;case"disabled":e.disabled?(this.setDisabled(),this.wrapper=this.getWrapper(),this.unWireEvents()):(this.element.disabled=!1,n.classList.remove(L4),n.setAttribute("aria-disabled","false"),this.wireEvents());break;case"cssClass":i.cssClass&&M([n],i.cssClass.split(" ")),e.cssClass&&D([n],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":e.enableRtl?n.classList.add(lx):n.classList.remove(lx);break;case"label":this.setText(e.label);break;case"labelPosition":var l=n.getElementsByClassName(rx)[0],h=n.getElementsByTagName("label")[0];Q(l),"After"===e.labelPosition?h.appendChild(l):h.insertBefore(l,n.getElementsByClassName(qg)[0]);break;case"name":this.element.setAttribute("name",e.name);break;case"value":if(this.isVue&&"object"==typeof e.value)break;this.element.setAttribute("value",e.value);break;case"htmlAttributes":this.updateHtmlAttributeToWrapper()}},t.prototype.preRender=function(){var e=this.element;this.tagName=this.element.tagName,e=ix(this.createElement,"EJS-CHECKBOX","checkbox",e,hx),this.element=e,"checkbox"!==this.element.getAttribute("type")&&this.element.setAttribute("type","checkbox"),this.element.id||(this.element.id=vt("e-"+this.getModuleName()))},t.prototype.render=function(){this.initWrapper(),this.initialize(),this.disabled||this.wireEvents(),this.updateHtmlAttributeToWrapper(),this.updateVueArrayModel(!0),this.renderComplete(),this.wrapper=this.getWrapper()},t.prototype.setDisabled=function(){var e=this.getWrapper();this.element.disabled=!0,e.classList.add(L4),e.setAttribute("aria-disabled","true")},t.prototype.setText=function(e){var i=this.getWrapper();if(i){var n=i.getElementsByClassName(rx)[0];if(n)n.textContent=e;else{e=this.enableHtmlSanitizer?Qt.sanitize(e):e,n=this.createElement("span",{className:rx,innerHTML:e});var s=i.getElementsByTagName("label")[0];"Before"===this.labelPosition?s.insertBefore(n,i.getElementsByClassName(qg)[0]):s.appendChild(n)}}},t.prototype.changeHandler=function(e){e.stopPropagation()},t.prototype.formResetHandler=function(){this.checked=this.initialCheckedValue,this.element.checked=this.initialCheckedValue},t.prototype.unWireEvents=function(){var e=this.wrapper;b.remove(e,"click",this.clickHandler),b.remove(this.element,"keyup",this.keyUpHandler),b.remove(this.element,"focus",this.focusHandler),b.remove(this.element,"focusout",this.focusOutHandler);var i=e.getElementsByTagName("label")[0];b.remove(i,"mousedown",this.labelMouseDownHandler),b.remove(i,"mouseup",this.labelMouseUpHandler);var n=I(this.element,"form");n&&b.remove(n,"reset",this.formResetHandler),"EJS-CHECKBOX"===this.tagName&&b.remove(this.element,"change",this.changeHandler)},t.prototype.wireEvents=function(){var e=this.getWrapper();b.add(e,"click",this.clickHandler,this),b.add(this.element,"keyup",this.keyUpHandler,this),b.add(this.element,"focus",this.focusHandler,this),b.add(this.element,"focusout",this.focusOutHandler,this);var i=e.getElementsByTagName("label")[0];b.add(i,"mousedown",this.labelMouseDownHandler,this),b.add(i,"mouseup",this.labelMouseUpHandler,this);var n=I(this.element,"form");n&&b.add(n,"reset",this.formResetHandler,this),"EJS-CHECKBOX"===this.tagName&&b.add(this.element,"change",this.changeHandler,this)},t.prototype.updateVueArrayModel=function(e){if(this.isVue&&"object"==typeof this.value){var i=this.element.value;if(i&&this.value){if(!e){var s=this.value.indexOf(i);return this.checked?s<0&&this.value.push(i):s>-1&&this.value.splice(s,1),this.value}for(var n=0;n<this.value.length;n++)i===this.value[n]&&(this.changeState("check"),this.setProperties({checked:!0},!0))}}return this.validCheck?this.element.checked:!this.element.checked},t.prototype.updateHtmlAttributeToWrapper=function(){if(!u(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e],s=this.getWrapper();Mue.indexOf(n)>-1?"class"===n?D([s],this.htmlAttributes[""+n].split(" ")):"title"===n?s.setAttribute(n,this.htmlAttributes[""+n]):"style"===n?this.getWrapper().getElementsByClassName(qg)[0].setAttribute(n,this.htmlAttributes[""+n]):"disabled"===n?("true"===this.htmlAttributes[""+n]&&this.setDisabled(),this.element.setAttribute(n,this.htmlAttributes[""+n])):this.element.setAttribute(n,this.htmlAttributes[""+n]):s.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.click=function(){this.element.click()},t.prototype.focusIn=function(){this.element.focus()},Ca([x()],t.prototype,"change",void 0),Ca([x()],t.prototype,"created",void 0),Ca([v(!1)],t.prototype,"checked",void 0),Ca([v("")],t.prototype,"cssClass",void 0),Ca([v(!1)],t.prototype,"disabled",void 0),Ca([v(!1)],t.prototype,"indeterminate",void 0),Ca([v("")],t.prototype,"label",void 0),Ca([v("After")],t.prototype,"labelPosition",void 0),Ca([v("")],t.prototype,"name",void 0),Ca([v("")],t.prototype,"value",void 0),Ca([v(!1)],t.prototype,"enableHtmlSanitizer",void 0),Ca([v({})],t.prototype,"htmlAttributes",void 0),Ca([et],t)}(Yt),Iue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ya=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},cx="e-label",kC="e-ripple-container",ux="e-rtl",dx="e-radio-wrapper",Aue=["title","class","style","disabled","readonly","name","value"],R4=function(r){function t(i,n){var s=r.call(this,i,n)||this;return s.isFocused=!1,s}var e;return Iue(t,r),e=t,t.prototype.changeHandler=function(i){this.checked=!0,this.dataBind();var n=this.element.getAttribute("value");n=this.isVue&&n?this.element.value:this.value,this.isVue&&"boolean"==typeof this.value&&(n="true"===n),this.trigger("change",{value:n,event:i}),this.isAngular&&i.stopPropagation()},t.prototype.updateChange=function(){for(var i,n,s=this.getRadioGroup(),a=0;a<s.length;a++)(i=s[a])!==this.element&&((n=Wn(i,e)).checked=!1,"EJS-RADIOBUTTON"===this.tagName&&(n.angularValue=this.value))},t.prototype.destroy=function(){var i=this,n=this.wrapper;r.prototype.destroy.call(this),n&&(this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(n.parentNode&&n.parentNode.insertBefore(this.element,n),Q(n),this.element.checked=!1,["name","value","disabled"].forEach(function(s){i.element.removeAttribute(s)})):(["role","aria-checked","class"].forEach(function(s){n.removeAttribute(s)}),n.innerHTML=""))},t.prototype.focusHandler=function(){this.isFocused=!0},t.prototype.focusOutHandler=function(){var i=this.getLabel();i&&i.classList.remove("e-focus")},t.prototype.getModuleName=function(){return"radio"},t.prototype.getSelectedValue=function(){for(var i,n=this.getRadioGroup(),s=0,a=n.length;s<a;s++)if((i=n[s]).checked)return i.value;return""},t.prototype.getRadioGroup=function(){return document.querySelectorAll('input.e-radio[name="'+this.element.getAttribute("name")+'"]')},t.prototype.getPersistData=function(){return this.addOnPersist(["checked"])},t.prototype.getWrapper=function(){return this.element?this.element.parentElement:null},t.prototype.getLabel=function(){return this.element?this.element.nextElementSibling:null},t.prototype.initialize=function(){u(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.initWrapper(),this.updateHtmlAttribute(),this.name&&this.element.setAttribute("name",this.name);var i=this.element.getAttribute("value"),n=typeof this.value;this.isVue&&"boolean"===n&&(i="true"===i),(this.isVue?this.value&&"boolean"!==n&&!i:this.value)&&this.element.setAttribute("value",this.value),this.checked&&(this.element.checked=!0),this.disabled&&this.setDisabled()},t.prototype.initWrapper=function(){var i,n=this.element.parentElement;n.classList.contains(dx)||(n=this.createElement("div",{className:dx}),this.element.parentNode.insertBefore(n,this.element));var s=this.createElement("label",{attrs:{for:this.element.id}});n.appendChild(this.element),n.appendChild(s),Wa&&(i=this.createElement("span",{className:kC}),s.appendChild(i),xi(i,{duration:400,isCenterRipple:!0})),n.classList.add("e-wrapper"),this.enableRtl&&s.classList.add(ux),this.cssClass&&D([n],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.label&&this.setText(this.label)},t.prototype.keyUpHandler=function(){this.isFocused&&this.getLabel().classList.add("e-focus")},t.prototype.labelMouseDownHandler=function(i){Vu(i,this.getLabel().getElementsByClassName(kC)[0])},t.prototype.labelMouseLeaveHandler=function(i){var n=this.getLabel().getElementsByClassName(kC)[0];if(n){for(var a=n.querySelectorAll(".e-ripple-element").length-1;a>0;a--)n.removeChild(n.childNodes[a]);Vu(i,n)}},t.prototype.labelMouseUpHandler=function(i){var n=this.getLabel().getElementsByClassName(kC)[0];if(n){for(var a=n.querySelectorAll(".e-ripple-element").length-1;a>0;a--)n.removeChild(n.childNodes[a]);Vu(i,n)}},t.prototype.formResetHandler=function(){this.checked=this.initialCheckedValue,this.initialCheckedValue&&re(this.element,{checked:"true"})},t.prototype.onPropertyChanged=function(i,n){for(var s=this.getWrapper(),a=this.getLabel(),o=0,l=Object.keys(i);o<l.length;o++)switch(l[o]){case"checked":i.checked&&this.updateChange(),this.element.checked=i.checked;break;case"disabled":i.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,this.wireEvents());break;case"cssClass":n.cssClass&&M([s],n.cssClass.split(" ")),i.cssClass&&D([s],i.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":i.enableRtl?a.classList.add(ux):a.classList.remove(ux);break;case"label":this.setText(i.label);break;case"labelPosition":"Before"===i.labelPosition?a.classList.add("e-right"):a.classList.remove("e-right");break;case"name":this.element.setAttribute("name",i.name);break;case"value":var c=typeof this.htmlAttributes.value;if(!u(this.htmlAttributes)&&(this.htmlAttributes.value||"boolean"===c&&!this.htmlAttributes.value))break;this.element.setAttribute("value",i.value);break;case"htmlAttributes":this.updateHtmlAttribute()}},t.prototype.preRender=function(){var i=this.element;if(this.formElement=I(this.element,"form"),this.tagName=this.element.tagName,i=ix(this.createElement,"EJS-RADIOBUTTON","radio",i,dx),this.element=i,"radio"!==this.element.getAttribute("type")&&this.element.setAttribute("type","radio"),this.element.id||(this.element.id=vt("e-"+this.getModuleName())),"EJS-RADIOBUTTON"===this.tagName){var n=this.element.getAttribute("formcontrolname");n&&(this.setProperties({name:n},!0),this.element.setAttribute("name",n))}},t.prototype.render=function(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete(),this.wrapper=this.getWrapper()},t.prototype.setDisabled=function(){this.element.disabled=!0},t.prototype.setText=function(i){var n=this.getLabel(),s=n.getElementsByClassName(cx)[0];s?s.textContent=i:(i=this.enableHtmlSanitizer?Qt.sanitize(i):i,s=this.createElement("span",{className:cx,innerHTML:i}),n.appendChild(s)),"Before"===this.labelPosition?this.getLabel().classList.add("e-right"):this.getLabel().classList.remove("e-right")},t.prototype.updateHtmlAttribute=function(){if(!u(this.htmlAttributes))for(var i=0,n=Object.keys(this.htmlAttributes);i<n.length;i++){var s=n[i],a=this.element.parentElement;Aue.indexOf(s)>-1?"class"===s?D([a],this.htmlAttributes[""+s].replace(/\s+/g," ").trim().split(" ")):"title"===s||"style"===s?a.setAttribute(s,this.htmlAttributes[""+s]):this.element.setAttribute(s,this.htmlAttributes[""+s]):a.setAttribute(s,this.htmlAttributes[""+s])}},t.prototype.unWireEvents=function(){var i=this.wrapper;b.remove(this.element,"change",this.changeHandler),b.remove(this.element,"focus",this.focusHandler),b.remove(this.element,"focusout",this.focusOutHandler),b.remove(this.element,"keyup",this.keyUpHandler);var n=i.getElementsByTagName("label")[0];n&&(b.remove(n,"mousedown",this.labelMouseDownHandler),b.remove(n,"mouseup",this.labelMouseUpHandler),b.remove(n,"mouseleave",this.labelMouseLeaveHandler)),this.formElement&&b.remove(this.formElement,"reset",this.formResetHandler)},t.prototype.wireEvents=function(){var i=this.getLabel();b.add(this.element,"change",this.changeHandler,this),b.add(this.element,"keyup",this.keyUpHandler,this),b.add(this.element,"focus",this.focusHandler,this),b.add(this.element,"focusout",this.focusOutHandler,this);var n=i.getElementsByClassName(cx)[0];n&&(b.add(n,"mousedown",this.labelMouseDownHandler,this),b.add(n,"mouseup",this.labelMouseUpHandler,this),b.add(n,"mouseleave",this.labelMouseLeaveHandler,this)),this.formElement&&b.add(this.formElement,"reset",this.formResetHandler,this)},t.prototype.click=function(){this.element.click()},t.prototype.focusIn=function(){this.element.focus()},Ya([x()],t.prototype,"change",void 0),Ya([x()],t.prototype,"created",void 0),Ya([v(!1)],t.prototype,"checked",void 0),Ya([v("")],t.prototype,"cssClass",void 0),Ya([v(!1)],t.prototype,"disabled",void 0),Ya([v("")],t.prototype,"label",void 0),Ya([v("After")],t.prototype,"labelPosition",void 0),Ya([v("")],t.prototype,"name",void 0),Ya([v("")],t.prototype,"value",void 0),Ya([v(!1)],t.prototype,"enableHtmlSanitizer",void 0),Ya([v({})],t.prototype,"htmlAttributes",void 0),e=Ya([et],t)}(Yt),Rx=!1;function Vs(r,t,e,i,n){return ju=void 0,ju=n,Rx=!!i,r?(t||(t="left"),e||(e="top"),Kg=r.ownerDocument,Cc=r,function(r,t,e){switch(fl=Cc.getBoundingClientRect(),t+r){case"topcenter":mh(jx(),e),gh(FC(),e);break;case"topright":mh(Vx(),e),gh(FC(),e);break;case"centercenter":mh(jx(),e),gh(Fx(),e);break;case"centerright":mh(Vx(),e),gh(Fx(),e);break;case"centerleft":mh(VC(),e),gh(Fx(),e);break;case"bottomcenter":mh(jx(),e),gh(Px(),e);break;case"bottomright":mh(Vx(),e),gh(Px(),e);break;case"bottomleft":mh(VC(),e),gh(Px(),e);break;default:mh(VC(),e),gh(FC(),e)}return Cc=null,e}(t.toLowerCase(),e.toLowerCase(),{left:0,top:0})):{left:0,top:0}}function mh(r,t){t.left=r}function gh(r,t){t.top=r}function o3(){return Kg.documentElement.scrollTop||Kg.body.scrollTop}function l3(){return Kg.documentElement.scrollLeft||Kg.body.scrollLeft}function Px(){return Rx?fl.bottom:fl.bottom+o3()}function Fx(){return FC()+fl.height/2}function FC(){return Rx?fl.top:fl.top+o3()}function VC(){return fl.left+l3()}function Vx(){var r=Cc&&(Cc.classList.contains("e-date-wrapper")||Cc.classList.contains("e-datetime-wrapper")||Cc.classList.contains("e-date-range-wrapper")||Cc.classList.contains("e-multiselect"))?ju?ju.width:0:ju&&fl.width>=ju.width?ju.width:0;return fl.right+l3()-r}function jx(){return VC()+fl.width/2}function Bx(r,t,e,i){if(void 0===t&&(t=null),void 0===e&&(e={X:!1,Y:!1}),!e.Y&&!e.X)return{left:0,top:0};var n=r.getBoundingClientRect();if(Ea=t,Bu=r.ownerDocument,i||(i=Vs(r,"left","top")),e.X){var s=Ea?p3():y3(),a=Ux(),o=Wx(),l=a-i.left,h=i.left+n.width-o;n.width>s?i.left=l>0&&h<=0?o-n.width:h>0&&l<=0?a:l>h?o-n.width:a:l>0?i.left+=l:h>0&&(i.left-=h)}if(e.Y){var c=Ea?f3():v3(),d=zx(),p=qx(),f=d-i.top,m=i.top+n.height-p;n.height>c?i.top=f>0&&m<=0?p-n.height:m>0&&f<=0?d:f>m?p-n.height:d:f>0?i.top+=f:m>0&&(i.top-=m)}return i}function _r(r,t,e,i){void 0===t&&(t=null);var n=Vs(r,"left","top");e&&(n.left=e),i&&(n.top=i);var s=[];Ea=t,Bu=r.ownerDocument;var a=r.getBoundingClientRect(),l=n.left,h=n.left+a.width,d=d3(n.top,n.top+a.height),p=h3(l,h);return d.topSide&&s.push("top"),p.rightSide&&s.push("right"),p.leftSide&&s.push("left"),d.bottomSide&&s.push("bottom"),s}function Yue(r,t,e,i,n,s,a,o,l){if(void 0===a&&(a=null),void 0===o&&(o={X:!0,Y:!0}),t&&r&&n&&s&&(o.X||o.Y)){var d,h={TL:null,TR:null,BL:null,BR:null},c={TL:null,TR:null,BL:null,BR:null};if("none"===window.getComputedStyle(r).display){var p=r.style.visibility;r.style.visibility="hidden",r.style.display="block",d=r.getBoundingClientRect(),r.style.removeProperty("display"),r.style.visibility=p}else d=r.getBoundingClientRect();var f={posX:n,posY:s,offsetX:e,offsetY:i,position:{left:0,top:0}};Ea=a,Bu=t.ownerDocument,function(r,t,e,i,n){e.position=Vs(r,e.posX,e.posY,i,n),t.TL=Vs(r,"left","top",i,n),t.TR=Vs(r,"right","top",i,n),t.BR=Vs(r,"left","bottom",i,n),t.BL=Vs(r,"right","bottom",i,n)}(t,h,f,l,d),Hx(c,f,d),o.X&&c3(t,c,h,f,d,!0),o.Y&&h.TL.top>-1&&u3(t,c,h,f,d,!0),function(r,t,e){var i=0,n=0;if(null!=r.offsetParent&&("absolute"===getComputedStyle(r.offsetParent).position||"relative"===getComputedStyle(r.offsetParent).position)){var s=Vs(r.offsetParent,"left","top",!1,e);i=s.left,n=s.top}var a=1,o=1;if(r.offsetParent){var l=getComputedStyle(r.offsetParent).transform;if("none"!==l){var h=new DOMMatrix(l);a=h.a,o=h.d}}r.style.top=t.position.top/o+t.offsetY-n+"px",r.style.left=t.position.left/a+t.offsetX-i+"px"}(r,f,d)}}function Hx(r,t,e){r.TL={top:t.position.top+t.offsetY,left:t.position.left+t.offsetX},r.TR={top:r.TL.top,left:r.TL.left+e.width},r.BL={top:r.TL.top+e.height,left:r.TL.left},r.BR={top:r.TL.top+e.height,left:r.TL.left+e.width}}function h3(r,t){var e=!1,i=!1;return r-BC()<Ux()&&(e=!0),t>Wx()&&(i=!0),{leftSide:e,rightSide:i}}function c3(r,t,e,i,n,s){var a=h3(t.TL.left,t.TR.left);e.TL.left-BC()<=Ux()&&(a.leftSide=!1),e.TR.left>Wx()&&(a.rightSide=!1),(a.leftSide&&!a.rightSide||!a.leftSide&&a.rightSide)&&(i.posX="right"===i.posX?"left":"right",i.offsetX=i.offsetX+n.width,i.offsetX=-1*i.offsetX,i.position=Vs(r,i.posX,i.posY,!1),Hx(t,i,n),s&&c3(r,t,e,i,n,!1))}function u3(r,t,e,i,n,s){var a=d3(t.TL.top,t.BL.top);e.TL.top-jC()<=zx()&&(a.topSide=!1),e.BL.top>=qx()&&r.getBoundingClientRect().bottom<window.innerHeight&&(a.bottomSide=!1),(a.topSide&&!a.bottomSide||!a.topSide&&a.bottomSide)&&(i.posY="top"===i.posY?"bottom":"top",i.offsetY=i.offsetY+n.height,i.offsetY=-1*i.offsetY,i.position=Vs(r,i.posX,i.posY,!1,n),Hx(t,i,n),s&&u3(r,t,e,i,n,!1))}function d3(r,t){var e=!1,i=!1;return r-jC()<zx()&&(e=!0),t>qx()&&(i=!0),{topSide:e,bottomSide:i}}function p3(){return Ea.getBoundingClientRect().width}function f3(){return Ea.getBoundingClientRect().height}function m3(){return Ea.getBoundingClientRect().left}function g3(){return Ea.getBoundingClientRect().top}function zx(){return Ea?g3():0}function Ux(){return Ea?m3():0}function Wx(){return Ea?BC()+m3()+p3():BC()+y3()}function qx(){return Ea?jC()+g3()+f3():jC()+v3()}function jC(){return Bu.documentElement.scrollTop||Bu.body.scrollTop}function BC(){return Bu.documentElement.scrollLeft||Bu.body.scrollLeft}function v3(){return window.innerHeight}function y3(){var r=window.innerWidth,t=document.documentElement.getBoundingClientRect();return r-(r-(u(document.documentElement)?0:t.width))}var b3=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Jn=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},C3=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return b3(t,r),Jn([v("left")],t.prototype,"X",void 0),Jn([v("top")],t.prototype,"Y",void 0),t}(ot),Ts_OPEN="e-popup-open",Ts_CLOSE="e-popup-close",us=function(r){function t(e,i){return r.call(this,i,e)||this}return b3(t,r),t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++)switch(s[n]){case"width":ue(this.element,{width:$(e.width)});break;case"height":ue(this.element,{height:$(e.height)});break;case"zIndex":ue(this.element,{zIndex:e.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":var o=e.offsetX-i.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+o).toString()+"px";break;case"offsetY":var l=e.offsetY-i.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+l).toString()+"px";break;case"content":this.setContent();break;case"actionOnScroll":"none"!==e.actionOnScroll?this.wireScrollEvents():this.unwireScrollEvents()}},t.prototype.getModuleName=function(){return"popup"},t.prototype.resolveCollision=function(){this.checkCollision()},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.destroy=function(){this.element.classList.contains("e-popup-open")&&this.unwireEvents(),this.element.classList.remove("e-popup","e-rtl",Ts_OPEN,Ts_CLOSE),this.content=null,this.relateTo=null,r.prototype.destroy.call(this)},t.prototype.render=function(){this.element.classList.add("e-popup");var e={};1e3!==this.zIndex&&(e.zIndex=this.zIndex),"auto"!==this.width&&(e.width=$(this.width)),"auto"!==this.height&&(e.height=$(this.height)),ue(this.element,e),this.fixedParent=!1,this.setEnableRtl(),this.setContent()},t.prototype.wireEvents=function(){O.isDevice&&b.add(window,"orientationchange",this.orientationOnChange,this),"none"!==this.actionOnScroll&&this.wireScrollEvents()},t.prototype.wireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,i=this.getScrollableParent(this.getRelateToElement());e<i.length;e++)b.add(i[e],"scroll",this.scrollRefresh,this)},t.prototype.unwireEvents=function(){O.isDevice&&b.remove(window,"orientationchange",this.orientationOnChange),"none"!==this.actionOnScroll&&this.unwireScrollEvents()},t.prototype.unwireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,i=this.getScrollableParent(this.getRelateToElement());e<i.length;e++)b.remove(i[e],"scroll",this.scrollRefresh)},t.prototype.getRelateToElement=function(){var e=""===this.relateTo||u(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:e},!0),"string"==typeof this.relateTo?document.querySelector(this.relateTo):this.relateTo},t.prototype.scrollRefresh=function(e){if("reposition"===this.actionOnScroll?!u(this.element)&&!(this.element.offsetParent===e.target||this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&null==e.target.parentElement)&&this.refreshPosition():"hide"===this.actionOnScroll&&this.hide(),"none"!==this.actionOnScroll&&this.getRelateToElement()){var i=this.isElementOnViewport(this.getRelateToElement(),e.target);i||this.targetInvisibleStatus?i&&(this.targetInvisibleStatus=!1):(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0)}},t.prototype.isElementOnViewport=function(e,i){for(var n=this.getScrollableParent(e),s=0;s<n.length;s++)if(!this.isElementVisible(e,n[s]))return!1;return!0},t.prototype.isElementVisible=function(e,i){var n=this.checkGetBoundingClientRect(e);if(!n.height||!n.width)return!1;if(u(this.checkGetBoundingClientRect(i))){var a=window,o={top:a.scrollY,left:a.scrollX,right:a.scrollX+a.outerWidth,bottom:a.scrollY+a.outerHeight},l=Vs(e),h={top:l.top,left:l.left,right:l.left+n.width,bottom:l.top+n.height},c={top:o.bottom-h.top,left:o.right-h.left,bottom:h.bottom-o.top,right:h.right-o.left};return c.top>0&&c.left>0&&c.right>0&&c.bottom>0}var s=i.getBoundingClientRect();return!(n.bottom<s.top||n.bottom>s.bottom||n.right>s.right||n.left<s.left)},t.prototype.preRender=function(){},t.prototype.setEnableRtl=function(){this.reposition(),this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")},t.prototype.setContent=function(){if(!u(this.content))if(this.element.innerHTML="","string"==typeof this.content)this.element.textContent=this.content;else{var e=this.getRelateToElement(),i=this.content.props;(!e.classList.contains("e-dropdown-btn")||u(i))&&this.element.appendChild(this.content)}},t.prototype.orientationOnChange=function(){var e=this;setTimeout(function(){e.refreshPosition()},200)},t.prototype.refreshPosition=function(e,i){u(e)||this.checkFixedParent(e),this.reposition(),i||this.checkCollision()},t.prototype.reposition=function(){var e,i,n=this.getRelateToElement();if("number"==typeof this.position.X&&"number"==typeof this.position.Y)e={left:this.position.X,top:this.position.Y};else if("string"==typeof this.position.X&&"number"==typeof this.position.Y||"number"==typeof this.position.X&&"string"==typeof this.position.Y){var s=void 0,a=this.element.style.display;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(s=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),i=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),e="string"==typeof this.position.X?{left:i.left,top:this.position.Y}:{left:this.position.X,top:i.top},this.element.style.display=a,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=s)}else if(n){var o=this.element.clientHeight;a=this.element.style.display,this.element.style.display="block",e=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY,o),this.element.style.display=a}else e={left:0,top:0};u(e)||(this.element.style.left=e.left+"px",this.element.style.top=e.top+"px")},t.prototype.checkGetBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(n){return null}},t.prototype.getAnchorPosition=function(e,i,n,s,a,o){void 0===o&&(o=0);var l=this.checkGetBoundingClientRect(i),h=this.checkGetBoundingClientRect(e);if(u(l)||u(h))return null;var c=e,d={left:0,top:0};switch(i.offsetParent&&"BODY"===i.offsetParent.tagName&&"BODY"===e.tagName?d=Vs(e):(i.classList.contains("e-dlg-modal")&&"BODY"!==c.tagName&&(i=i.parentElement),d=function(r,t){var e=!1,i={left:0,top:0},n=r;if(!r||!t)return i;for(u(t.offsetParent)&&"fixed"===t.style.position&&(e=!0);(t.offsetParent||e)&&r&&t.offsetParent!==r;)i.left+=r.offsetLeft,i.top+=r.offsetTop,r=r.offsetParent;for(r=n;(t.offsetParent||e)&&r&&t.offsetParent!==r;)i.left-=r.scrollLeft,i.top-=r.scrollTop,r=r.parentElement;return i}(c,i)),n.X){default:break;case"center":i.classList.contains("e-dlg-modal")&&"BODY"===c.tagName&&"container"===this.targetType?d.left+=window.innerWidth/2-l.width/2:d.left+="container"===this.targetType?h.width/2-l.width/2:h.width/2;break;case"right":i.classList.contains("e-dlg-modal")&&"BODY"===c.tagName&&"container"===this.targetType?d.left+=window.innerWidth-l.width:d.left+="container"===this.targetType?h.width-l.width:h.width}switch(n.Y){default:break;case"center":i.classList.contains("e-dlg-modal")&&"BODY"===c.tagName&&"container"===this.targetType?d.top+=window.innerHeight/2-l.height/2:d.top+="container"===this.targetType?h.height/2-l.height/2:h.height/2;break;case"bottom":i.classList.contains("e-dlg-modal")&&"BODY"===c.tagName&&"container"===this.targetType?d.top+=window.innerHeight-l.height:"container"!==this.targetType||i.classList.contains("e-dialog")?"container"===this.targetType&&i.classList.contains("e-dialog")?d.top+=h.height-o:d.top+=h.height:d.top+=h.height-l.height}return d.left+=s,d.top+=a,d},t.prototype.callFlip=function(e){var i=this.getRelateToElement();Yue(this.element,i,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,e,this.fixedParent)},t.prototype.callFit=function(e){if(0!==_r(this.element,this.viewPortElement).length)if(u(this.viewPortElement)){var i=Bx(this.element,this.viewPortElement,e);e.X&&(this.element.style.left=i.left+"px"),e.Y&&(this.element.style.top=i.top+"px")}else{var n=this.checkGetBoundingClientRect(this.element),s=this.checkGetBoundingClientRect(this.viewPortElement);if(u(n)||u(s))return null;e&&!0===e.Y&&(s.top>n.top?this.element.style.top="0px":s.bottom<n.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(n.bottom-s.bottom)+"px")),e&&!0===e.X&&(s.right<n.right?this.element.style.left=parseInt(this.element.style.left,10)-(n.right-s.right)+"px":s.left>n.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(s.left-n.left)+"px"))}},t.prototype.checkCollision=function(){var e=this.collision.X,i=this.collision.Y;"none"===e&&"none"===i||("flip"===e&&"flip"===i?this.callFlip({X:!0,Y:!0}):"fit"===e&&"fit"===i?this.callFit({X:!0,Y:!0}):("flip"===e?this.callFlip({X:!0,Y:!1}):"flip"===i&&this.callFlip({Y:!0,X:!1}),"fit"===e?this.callFit({X:!0,Y:!1}):"fit"===i&&this.callFit({X:!1,Y:!0})))},t.prototype.show=function(e,i){var n=this;if(this.getRelateToElement().classList.contains("e-filemanager")&&(this.fmDialogContainer=this.element.getElementsByClassName("e-file-select-wrap")[0]),this.wireEvents(),!u(this.fmDialogContainer)&&O.isIos&&(this.fmDialogContainer.style.display="block"),1e3===this.zIndex||!u(i)){var a=u(i)?this.element:i;this.zIndex=ml(a),ue(this.element,{zIndex:this.zIndex})}e=u(e)||"object"!=typeof e?this.showAnimation:e,("none"!==this.collision.X||"none"!==this.collision.Y)&&(M([this.element],Ts_CLOSE),D([this.element],Ts_OPEN),this.checkCollision(),M([this.element],Ts_OPEN),D([this.element],Ts_CLOSE)),u(e)?(M([this.element],Ts_CLOSE),D([this.element],Ts_OPEN),this.trigger("open")):(e.begin=function(){n.isDestroyed||(M([n.element],Ts_CLOSE),D([n.element],Ts_OPEN))},e.end=function(){n.isDestroyed||n.trigger("open")},new vi(e).animate(this.element))},t.prototype.hide=function(e){var i=this;e=u(e)||"object"!=typeof e?this.hideAnimation:e,u(e)?(M([this.element],Ts_OPEN),D([this.element],Ts_CLOSE),this.trigger("close")):(e.end=function(){i.isDestroyed||(M([i.element],Ts_OPEN),D([i.element],Ts_CLOSE),i.trigger("close"))},new vi(e).animate(this.element)),this.unwireEvents()},t.prototype.getScrollableParent=function(e){return this.checkFixedParent(e),function(r,t){for(var e=getComputedStyle(r),i=[],n=/(auto|scroll)/,s=r.parentElement;s&&"HTML"!==s.tagName;){var a=getComputedStyle(s);!("absolute"===e.position&&"static"===a.position)&&n.test(a.overflow+a.overflowY+a.overflowX)&&i.push(s),s=s.parentElement}return t||i.push(document),i}(e,this.fixedParent)},t.prototype.checkFixedParent=function(e){for(var i=e.parentElement;i&&"HTML"!==i.tagName;){var n=getComputedStyle(i);"fixed"===n.position&&!u(this.element)&&this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&"hidden"!==getComputedStyle(this.element.offsetParent).overflow&&(this.element.style.top=window.scrollY>parseInt(this.element.style.top,10)?$(window.scrollY-parseInt(this.element.style.top,10)):$(parseInt(this.element.style.top,10)-window.scrollY),this.element.style.position="fixed",this.fixedParent=!0),i=i.parentElement,!u(this.element)&&u(this.element.offsetParent)&&"fixed"===n.position&&"fixed"===this.element.style.position&&(this.fixedParent=!0)}},Jn([v("auto")],t.prototype,"height",void 0),Jn([v("auto")],t.prototype,"width",void 0),Jn([v(null)],t.prototype,"content",void 0),Jn([v("container")],t.prototype,"targetType",void 0),Jn([v(null)],t.prototype,"viewPortElement",void 0),Jn([v({X:"none",Y:"none"})],t.prototype,"collision",void 0),Jn([v("")],t.prototype,"relateTo",void 0),Jn([at({},C3)],t.prototype,"position",void 0),Jn([v(0)],t.prototype,"offsetX",void 0),Jn([v(0)],t.prototype,"offsetY",void 0),Jn([v(1e3)],t.prototype,"zIndex",void 0),Jn([v(!1)],t.prototype,"enableRtl",void 0),Jn([v("reposition")],t.prototype,"actionOnScroll",void 0),Jn([v(null)],t.prototype,"showAnimation",void 0),Jn([v(null)],t.prototype,"hideAnimation",void 0),Jn([x()],t.prototype,"open",void 0),Jn([x()],t.prototype,"close",void 0),Jn([x()],t.prototype,"targetExitViewport",void 0),Jn([et],t)}(Yt);function ml(r){for(var t=r.parentElement,e=[];t&&"BODY"!==t.tagName;){var i=document.defaultView.getComputedStyle(t,null).getPropertyValue("z-index"),n=document.defaultView.getComputedStyle(t,null).getPropertyValue("position");"auto"!==i&&"static"!==n&&e.push(i),t=t.parentElement}for(var s=[],a=0;a<document.body.children.length;a++)r.isEqualNode(document.body.children[a])||(i=document.defaultView.getComputedStyle(document.body.children[a],null).getPropertyValue("z-index"),n=document.defaultView.getComputedStyle(document.body.children[a],null).getPropertyValue("position"),"auto"!==i&&"static"!==n&&s.push(i));s.push("999");var o=[];if(!u(r.parentElement)&&"BODY"!==r.parentElement.tagName){var l=[].slice.call(r.parentElement.children);for(a=0;a<l.length;a++)r.isEqualNode(l[a])||(i=document.defaultView.getComputedStyle(l[a],null).getPropertyValue("z-index"),n=document.defaultView.getComputedStyle(l[a],null).getPropertyValue("position"),"auto"!==i&&"static"!==n&&o.push(i))}var h=e.concat(s,o),c=Math.max.apply(Math,h)+1;return c>2147483647?2147483647:c}var Oi,gl,tf,Dc,Kx,vh,ei,Sc,Qx=["north-west","north","north-east","west","east","south-west","south","south-east"],Xg="e-resize-handle",Ec="e-focused-handle",E3=["e-restrict-left"],D3="e-resize-viewport",Kue=["north","west","east","south"],Gx=0,$x=0,S3=0,w3=0,Zg=0,Jg=0,ev=null,Xx=null,Zx=null,HC=!0,M3=0,Jx=!0;function Zue(r){eO();var t=N("span",{attrs:{unselectable:"on",contenteditable:"false"}});t.setAttribute("class","e-dialog-border-resize e-"+r),"south"===r&&(t.style.height="2px",t.style.width="100%",t.style.bottom="0px",t.style.left="0px"),"north"===r&&(t.style.height="2px",t.style.width="100%",t.style.top="0px",t.style.left="0px"),"east"===r&&(t.style.height="100%",t.style.width="2px",t.style.right="0px",t.style.top="0px"),"west"===r&&(t.style.height="100%",t.style.width="2px",t.style.left="0px",t.style.top="0px"),Oi.appendChild(t)}function T3(r){var t;return u(r)||(t="string"==typeof r?document.querySelector(r):r),t}function I3(r){u(r)&&(r=this);for(var t=Oi.querySelectorAll("."+Xg),e=0;e<t.length;e++)b.add(gl=t[e],"mousedown",x3,r),b.add(gl,"msie"===O.info.name?"pointerdown":"touchstart",O3,r);var n=Oi.querySelectorAll(".e-dialog-border-resize");if(!u(n))for(e=0;e<n.length;e++)b.add(gl=n[e],"mousedown",x3,r),b.add(gl,"msie"===O.info.name?"pointerdown":"touchstart",O3,r)}function A3(r){return r.indexOf("mouse")>-1?"mouse":"touch"}function x3(r){if(r.preventDefault(),Oi=r.target.parentElement,eO(),Zg=r.pageX,Jg=r.pageY,r.target.classList.add(Ec),u(ev)||!0!==ev(r,this)){this.targetEle&&Oi&&Oi.querySelector(".e-dlg-resizable")&&(ei="body"===this.target?null:this.targetEle,vh=this.targetEle.clientWidth,Dc=this.targetEle.clientHeight);var t=u(ei)?document:ei;b.add(t,"mousemove",tv,this),b.add(document,"mouseup",zC,this);for(var e=0;e<E3.length;e++)HC=!Oi.classList.contains(E3[e])}}function zC(r){var t="msie"===O.info.name?"pointermove":"touchmove",e="msie"===O.info.name?"pointerup":"touchend",i=u(ei)?document:ei,n="msie"===O.info.name?"pointerdown":"touchstart";b.remove(i,"mousemove",tv),b.remove(i,t,tv),b.remove(i,n,tv),u(document.body.querySelector("."+Ec))||document.body.querySelector("."+Ec).classList.remove(Ec),u(Zx)||Zx(r,this),b.remove(document,"mouseup",zC),b.remove(document,e,zC)}function eO(){Gx=parseFloat(getComputedStyle(Oi,null).getPropertyValue("width").replace("px","")),$x=parseFloat(getComputedStyle(Oi,null).getPropertyValue("height").replace("px","")),S3=Oi.getBoundingClientRect().left,w3=Oi.getBoundingClientRect().top}function O3(r){Oi=r.target.parentElement,eO();var t=Oi.classList.contains("e-dialog");(r.target.classList.contains(Xg)||r.target.classList.contains("e-dialog-border-resize"))&&t&&r.target.classList.add(Ec);var e=r.touches?r.changedTouches[0]:r;if(Zg=e.pageX,Jg=e.pageY,u(ev)||!0!==ev(r,this)){var i="msie"===O.info.name?"pointermove":"touchmove",n="msie"===O.info.name?"pointerup":"touchend",s=u(ei)?document:ei;b.add(s,i,tv,this),b.add(document,n,zC,this)}}function tv(r){if(r.target.classList.contains(Xg)&&r.target.classList.contains(Ec)?gl=r.target:u(document.body.querySelector("."+Ec))||(gl=document.body.querySelector("."+Ec)),!u(gl)){for(var t="",e=0;e<Qx.length;e++)gl.classList.contains("e-"+Qx[e])&&(t=Qx[e]);switch(u(Xx)||Xx(r,this),t){case"south":tO(r);break;case"north":iO(r);break;case"west":nO(r);break;case"east":sO(r);break;case"south-east":tO(r),sO(r);break;case"south-west":tO(r),nO(r);break;case"north-east":iO(r),sO(r);break;case"north-west":iO(r),nO(r)}}}function Mc(r){return r.getBoundingClientRect()}function tO(r){var a,t=document.documentElement.clientHeight,e=!1,n=(r.touches?r.changedTouches[0]:r).pageY,s=Mc(Oi);u(ei)||(a=Mc(ei)),u(ei)?u(ei)&&(t-n>=0||s.top<0)&&(e=!0):e=!0;var o=$x+(n-Jg);o=o>tf?o:tf;var l=0;u(ei)||(l=a.top);var h=u(ei)?0:ei.offsetHeight-ei.clientHeight,c=s.top-l-h/2;if(c=c<0?0:c,s.top>0&&c+o>Dc){if(e=!1,Oi.classList.contains(D3))return;Oi.style.height=Dc-parseInt(c.toString(),10)+"px"}else{var d=0;if(e){s.top<0&&t+(s.height+s.top)>0&&o+(d=s.top)<=30&&(o=s.height-(s.height+s.top)+30),o+s.top>=Dc&&(Oi.style.height=s.height+(t-(s.height+s.top))+"px");var p=u(ei)?d:c;o>=tf&&o+p<=Dc&&(Oi.style.height=o+"px")}}}function iO(r){var e,t=!1,i="mouse"===A3(r.type)?r.pageY:r.touches[0].pageY,n=Mc(Oi);u(ei)||(e=Mc(ei)),(!u(ei)&&n.top-e.top>0||u(ei)&&i>0)&&(t=!0);var s=$x-(i-Jg);if(t&&s>=tf&&s<=Dc){var a=0;u(ei)||(a=e.top);var o=w3-a+(i-Jg);o=o>0?o:1,Oi.style.height=s+"px",Oi.style.top=o+"px"}}function nO(r){var i,t=document.documentElement.clientWidth,e=!1;u(ei)||(i=Mc(ei));var n="mouse"===A3(r.type)?r.pageX:r.touches[0].pageX,s=Mc(Oi),a=u(ei)?0:ei.offsetWidth-ei.clientWidth,o=u(ei)?0:i.left,l=u(ei)?0:i.width;u(Sc)&&(u(ei)?Sc=t:(Sc=s.left-o-a/2+s.width,Sc+=l-a-Sc)),(!u(ei)&&Math.floor(s.left-i.left+s.width+(i.right-s.right))-a<=vh||u(ei)&&n>=0)&&(e=!0);var h=Gx-(n-Zg);if(HC&&(h=h>Sc?Sc:h),e&&h>=Kx&&h<=vh){var c=0;u(ei)||(c=i.left);var d=S3-c+(n-Zg);d=d>0?d:1,h!==M3&&Jx&&(Oi.style.width=h+"px"),HC&&(Oi.style.left=d+"px",Jx=1!==d)}M3=h}function sO(r){var i,t=document.documentElement.clientWidth,e=!1;u(ei)||(i=Mc(ei));var s=(r.touches?r.changedTouches[0]:r).pageX,a=Mc(Oi);(!u(ei)&&(a.left-i.left+a.width<=vh||a.right-i.left>=a.width)||u(ei)&&t-s>0)&&(e=!0);var o=Gx+(s-Zg),l=0;if(u(ei)||(l=i.left),a.left-l+o>vh){if(e=!1,Oi.classList.contains(D3))return;Oi.style.width=vh-(a.left-l)+"px"}e&&o>=Kx&&o<=vh&&(Oi.style.width=o+"px")}function k3(){for(var r=Oi.querySelectorAll("."+Xg),t=0;t<r.length;t++)Q(r[t]);var e=Oi.querySelectorAll(".e-dialog-border-resize");if(!u(e))for(t=0;t<e.length;t++)Q(e[t])}var z3,rO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ot=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},ide=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return rO(t,r),Ot([v(!0)],t.prototype,"isFlat",void 0),Ot([v()],t.prototype,"buttonModel",void 0),Ot([v("Button")],t.prototype,"type",void 0),Ot([x()],t.prototype,"click",void 0),t}(ot),nde=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return rO(t,r),Ot([v("Fade")],t.prototype,"effect",void 0),Ot([v(400)],t.prototype,"duration",void 0),Ot([v(0)],t.prototype,"delay",void 0),t}(ot),UC="e-dialog",aO="e-rtl",oO="e-dlg-header-content",N3="e-dlg-header",iv="e-footer-content",WC="e-dlg-modal",_3="e-icon-dlg-close",vl="e-dlg-target",Lo="e-scroll-disabled",L3="e-device",qC="e-dlg-fullscreen",R3="e-dlg-closeicon-btn",P3="e-popup-open",F3="Information",V3="e-scroll-disabled",j3="e-alert-dialog",B3="e-confirm-dialog",lO="e-dlg-resizable",YC="e-restrict-left",H3="e-resize-viewport",hO="user action",QC=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.needsID=!0,n}return rO(t,r),t.prototype.render=function(){this.initialize(),this.initRender(),this.wireEvents(),"100%"===this.width&&(this.element.style.width=""),""!==this.minHeight&&(this.element.style.minHeight=$(this.minHeight)),this.enableResize&&(this.setResize(),"None"===this.animationSettings.effect&&this.getMinHeight()),this.renderComplete()},t.prototype.initializeValue=function(){this.dlgClosedBy=hO},t.prototype.preRender=function(){var e=this;if(this.initializeValue(),this.headerContent=null,this.allowMaxHeight=!0,this.preventVisibility=!0,this.clonedEle=this.element.cloneNode(!0),this.closeIconClickEventHandler=function(s){e.dlgClosedBy="close icon",e.hide(s)},this.dlgOverlayClickEventHandler=function(s){e.dlgClosedBy="overlayClick",s.preventFocus=!1,e.trigger("overlayClick",s,function(a){a.preventFocus||e.focusContent(),e.dlgClosedBy=hO})},this.l10n=new fi("dialog",{close:"Close"},this.locale),this.checkPositionData(),u(this.target)){var n=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.target=document.body,this.isProtectedOnChange=n}},t.prototype.updatePersistData=function(){this.enablePersistence&&this.setProperties({width:parseFloat(this.element.style.width),height:parseFloat(this.element.style.height),position:{X:parseFloat(this.dragObj.element.style.left),Y:parseFloat(this.dragObj.element.style.top)}},!0)},t.prototype.isNumberValue=function(e){return/^[-+]?\d*\.?\d+$/.test(e)},t.prototype.checkPositionData=function(){if(!u(this.position)){if(!u(this.position.X)&&"number"!=typeof this.position.X&&this.isNumberValue(this.position.X)){var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.X=parseFloat(this.position.X),this.isProtectedOnChange=i}u(this.position.Y)||"number"==typeof this.position.Y||this.isNumberValue(this.position.Y)&&(i=this.isProtectedOnChange,this.isProtectedOnChange=!0,this.position.Y=parseFloat(this.position.Y),this.isProtectedOnChange=i)}},t.prototype.getEle=function(e,i){for(var n=void 0,s=0;s<e.length;s++)if(e[s].classList.contains(i)){n=e[s];break}return n},t.prototype.getMinHeight=function(){var e="0px",i="0px";u(this.element.querySelector("."+oO))||(e=getComputedStyle(this.headerContent).height);var n=this.getEle(this.element.children,iv);u(n)||(i=getComputedStyle(n).height);var s=parseInt(e.slice(0,e.indexOf("p")),10),a=parseInt(i.slice(0,i.indexOf("p")),10);return function(r){tf=r}(s+30+(isNaN(a)?0:a)),s+30+a},t.prototype.onResizeStart=function(e,i){return i.trigger("resizeStart",e),e.cancel},t.prototype.onResizing=function(e,i){i.trigger("resizing",e)},t.prototype.onResizeComplete=function(e,i){i.trigger("resizeStop",e),this.updatePersistData()},t.prototype.setResize=function(){if(this.enableResize){if(this.isBlazorServerRender()&&!u(this.element.querySelector(".e-icons.e-resize-handle")))return;this.element.classList.add(lO);for(var e=getComputedStyle(this.element).minHeight,i=getComputedStyle(this.element).minWidth,n="",s=0;s<this.resizeHandles.length;s++){if("All"===this.resizeHandles[s]){n="south north east west north-east north-west south-east south-west";break}var a="";switch(this.resizeHandles[s].toString()){case"SouthEast":a="south-east";break;case"SouthWest":a="south-west";break;case"NorthEast":a="north-east";break;case"NorthWest":a="north-west";break;default:a=this.resizeHandles[s].toString()}n+=a.toLocaleLowerCase()+" "}this.enableRtl&&"south-east"===n.trim()?n="south-west":this.enableRtl&&"south-west"===n.trim()&&(n="south-east"),this.isModal&&this.enableRtl?this.element.classList.add(YC):this.isModal&&this.target===document.body&&this.element.classList.add(H3),function(r){ev=r.resizeBegin,Xx=r.resizing,Zx=r.resizeComplete,Oi=T3(r.element),ei=T3(r.boundary);for(var t=r.direction.split(" "),e=0;e<t.length;e++)if(Kue.indexOf(t[e])>=0&&t[e])Zue(t[e]);else if(""!==t[e].trim()){var i=N("div",{className:"e-icons "+Xg+" e-"+t[e]});Oi.appendChild(i)}tf=r.minHeight,Kx=r.minWidth,vh=r.maxWidth,Dc=r.maxHeight,r.proxy&&r.proxy.element&&r.proxy.element.classList.contains("e-dialog")?I3(r.proxy):I3()}({element:this.element,direction:n,minHeight:parseInt(e.slice(0,i.indexOf("p")),10),maxHeight:this.targetEle.clientHeight,minWidth:parseInt(i.slice(0,i.indexOf("p")),10),maxWidth:this.targetEle.clientWidth,boundary:this.target===document.body?null:this.targetEle,resizeBegin:this.onResizeStart.bind(this),resizeComplete:this.onResizeComplete.bind(this),resizing:this.onResizing.bind(this),proxy:this}),this.wireWindowResizeEvent()}else k3(),this.unWireWindowResizeEvent(),this.element.classList.remove(this.isModal?YC:H3),this.element.classList.remove(lO)},t.prototype.getFocusElement=function(e){var n=e.querySelectorAll('input,select,textarea,button:enabled,a,[contenteditable="true"],[tabindex]');return{element:n[n.length-1]}},t.prototype.keyDown=function(e){var i=this;if(9===e.keyCode&&this.isModal){var n=void 0;u(this.btnObj)||(n=this.btnObj[this.btnObj.length-1]),u(this.btnObj)&&!u(this.ftrTemplateContent)&&(n=this.getFocusElement(this.ftrTemplateContent)),u(this.btnObj)&&u(this.ftrTemplateContent)&&!u(this.contentEle)&&(n=this.getFocusElement(this.contentEle)),!u(n)&&document.activeElement===n.element&&!e.shiftKey&&(e.preventDefault(),this.focusableElements(this.element).focus()),document.activeElement===this.focusableElements(this.element)&&e.shiftKey&&(e.preventDefault(),u(n)||n.element.focus())}var h,s=document.activeElement,a=["input","textarea"].indexOf(s.tagName.toLowerCase())>-1,o=!1;if(a||(o=s.hasAttribute("contenteditable")&&"true"===s.getAttribute("contenteditable")),27===e.keyCode&&this.closeOnEscape){this.dlgClosedBy="escape";var l=document.querySelector(".e-popup-open:not(.e-dialog)");!u(l)&&!l.classList.contains("e-toolbar-pop")||this.hide(e)}(13===e.keyCode&&!e.ctrlKey&&"textarea"!==s.tagName.toLowerCase()&&a&&!u(this.primaryButtonEle)||13===e.keyCode&&e.ctrlKey&&("textarea"===s.tagName.toLowerCase()||o)&&!u(this.primaryButtonEle))&&this.buttons.some(function(d,p){h=p;var f=d.buttonModel;return!u(f)&&!0===f.isPrimary})&&"function"==typeof this.buttons[h].click&&setTimeout(function(){i.buttons[h].click.call(i,e)})},t.prototype.initialize=function(){u(this.target)||(this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target),this.isBlazorServerRender()||D([this.element],UC),O.isDevice&&D([this.element],L3),this.isBlazorServerRender()||this.setCSSClass(),this.setMaxHeight()},t.prototype.initRender=function(){var e=this;if(this.initialRender=!0,this.isBlazorServerRender()||re(this.element,{role:"dialog"}),1e3===this.zIndex?(this.setzIndex(this.element,!1),this.calculatezIndex=!0):this.calculatezIndex=!1,this.isBlazorServerRender()&&u(this.headerContent)&&(this.headerContent=this.element.getElementsByClassName("e-dlg-header-content")[0]),this.isBlazorServerRender()&&u(this.contentEle)&&(this.contentEle=this.element.querySelector("#"+this.element.id+"_dialog-content")),this.isBlazorServerRender()||(this.setTargetContent(),""!==this.header&&!u(this.header)&&this.setHeader(),this.renderCloseIcon(),this.setContent(),""===this.footerTemplate||u(this.footerTemplate)?u(this.buttons[0].buttonModel)||this.setButton():this.setFooterTemplate()),this.isBlazorServerRender()&&!u(this.buttons[0].buttonModel)&&""===this.footerTemplate&&this.setButton(),this.allowDragging&&!u(this.headerContent)&&this.setAllowDragging(),this.isBlazorServerRender()||(re(this.element,{"aria-modal":this.isModal?"true":"false"}),this.isModal&&this.setIsModal()),this.isBlazorServerRender()&&u(this.dlgContainer)){this.dlgContainer=this.element.parentElement;for(var i=0,n=this.dlgContainer.children;i<n.length;i++)n[i].classList.contains("e-dlg-overlay")&&(this.dlgOverlay=n[i])}if(!0!==this.element.classList.contains(j3)&&!0!==this.element.classList.contains(B3)&&!u(this.element.parentElement)){var s=this.isModal?this.dlgContainer.parentElement:this.element.parentElement;this.refElement=this.createElement("div",{className:"e-dlg-ref-element"}),s.insertBefore(this.refElement,this.isModal?this.dlgContainer:this.element)}if(u(this.targetEle)||this.targetEle.appendChild(this.isModal?this.dlgContainer:this.element),this.popupObj=new us(this.element,{height:this.height,width:this.width,zIndex:this.zIndex,relateTo:this.target,actionOnScroll:"none",enableRtl:this.enableRtl,open:function(l){var h={container:e.isModal?e.dlgContainer:e.element,element:e.element,target:e.target,preventFocus:!1};e.enableResize&&e.resetResizeIcon(),e.trigger("open",h,function(c){c.preventFocus||e.focusContent()})},close:function(l){e.isModal&&D([e.dlgOverlay],"e-fade"),e.unBindEvent(e.element),e.isModal&&(e.dlgContainer.style.display="none"),e.trigger("close",e.closeArgs);var h=document.activeElement;!u(h)&&!u(h.blur)&&h.blur(),!u(e.storeActiveElement)&&!u(e.storeActiveElement.focus)&&e.storeActiveElement.focus()}}),this.positionChange(),this.setEnableRTL(),this.isBlazorServerRender()||(D([this.element],"e-popup-close"),this.isModal&&this.setOverlayZindex()),this.visible){if(this.show(),this.isModal){var a=this.getTargetContainer(this.target);a instanceof Element&&"rtl"===window.getComputedStyle(a).getPropertyValue("direction")&&this.setPopupPosition()}}else this.isModal&&(this.dlgOverlay.style.display="none");this.initialRender=!1},t.prototype.getTargetContainer=function(e){var i=null;if("string"==typeof e)if(e.startsWith("#"))i=document.getElementById(e.substring(1));else if(e.startsWith(".")){var n=document.getElementsByClassName(e.substring(1));i=n.length>0?n[0]:null}else!(e instanceof HTMLElement)&&e!==document.body&&(i=document.querySelector(e));else e instanceof HTMLElement&&(i=e);return i},t.prototype.resetResizeIcon=function(){var e=this.getMinHeight();if(this.targetEle.offsetHeight<e){var n=this.element.querySelector("."+(this.enableRtl?"e-south-west":"e-south-east"));u(n)||(n.style.bottom="-"+e.toString()+"px")}},t.prototype.setOverlayZindex=function(e){var i;i=u(e)?parseInt(this.element.style.zIndex,10)?parseInt(this.element.style.zIndex,10):this.zIndex:e,this.dlgOverlay.style.zIndex=(i-1).toString(),this.dlgContainer.style.zIndex=i.toString()},t.prototype.positionChange=function(){this.isModal&&(isNaN(parseFloat(this.position.X))||isNaN(parseFloat(this.position.Y)))?!isNaN(parseFloat(this.position.X))&&isNaN(parseFloat(this.position.Y))||isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():(this.element.style.top="0px",this.element.style.left="0px",this.dlgContainer.classList.add("e-dlg-"+this.position.X+"-"+this.position.Y)):this.setPopupPosition()},t.prototype.setPopupPosition=function(){this.popupObj.setProperties({position:{X:this.position.X,Y:this.position.Y}})},t.prototype.setAllowDragging=function(){var e=this;this.element.classList.contains("e-draggable")||(this.dragObj=new Xp(this.element,{clone:!1,isDragScroll:!0,abort:".e-dlg-closeicon-btn",handle:".e-dlg-header-content",dragStart:function(n){e.trigger("dragStart",n,function(s){})},dragStop:function(n){if(e.isModal){u(e.position)||e.dlgContainer.classList.remove("e-dlg-"+e.position.X+"-"+e.position.Y);var s=e.getTargetContainer(e.target);if(s instanceof Element){var a=window.getComputedStyle(s);e.element.style.position="rtl"===a.getPropertyValue("direction")?"absolute":"relative"}else e.element.style.position="relative"}e.trigger("dragStop",n),e.element.classList.remove(YC),e.updatePersistData()},drag:function(n){e.trigger("drag",n)}}),u(this.targetEle)||(this.dragObj.dragArea=this.targetEle))},t.prototype.setButton=function(){if(!this.isBlazorServerRender()){this.buttonContent=[],this.btnObj=[];for(var e=0;e<this.buttons.length;e++){var i=u(this.buttons[e].type)?"button":this.buttons[e].type.toLowerCase(),n=this.createElement("button",{className:this.cssClass,attrs:{type:i}});this.buttonContent.push(n.outerHTML)}this.setFooterTemplate()}e=0;for(var s,a=this.element.children;e<a.length;e++)a[e].classList.contains(iv)&&(s=a[e].querySelectorAll("button"));for(e=0;e<this.buttons.length;e++)this.isBlazorServerRender()||(this.btnObj[e]=new vn(this.buttons[e].buttonModel)),this.isBlazorServerRender()&&(this.ftrTemplateContent=this.element.querySelector("."+iv)),!u(this.ftrTemplateContent)&&s.length>0&&("function"==typeof this.buttons[e].click&&b.add(s[e],"click",this.buttons[e].click,this),"object"==typeof this.buttons[e].click&&b.add(s[e],"click",this.buttonClickHandler.bind(this,e),this)),!this.isBlazorServerRender()&&!u(this.ftrTemplateContent)&&(this.btnObj[e].appendTo(this.ftrTemplateContent.children[e]),this.buttons[e].isFlat&&this.btnObj[e].element.classList.add("e-flat"),this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0])},t.prototype.buttonClickHandler=function(e){this.trigger("buttons["+e+"].click",{})},t.prototype.setContent=function(){this.contentEle=this.createElement("div",{className:"e-dlg-content",id:this.element.id+"_dialog-content"}),this.innerContentElement?this.contentEle.appendChild(this.innerContentElement):(!u(this.content)&&""!==this.content||!this.initialRender)&&("string"!=typeof this.content&&this.content instanceof HTMLElement?this.contentEle.appendChild(this.content):this.setTemplate(this.content,this.contentEle,"content")),u(this.headerContent)?this.element.insertBefore(this.contentEle,this.element.children[0]):this.element.insertBefore(this.contentEle,this.element.children[1]),"auto"===this.height&&(!this.isBlazorServerRender()&&O.isIE&&""===this.element.style.width&&!u(this.width)&&(this.element.style.width=$(this.width)),this.setMaxHeight())},t.prototype.setTemplate=function(e,i,n){var s,a;a=i.classList.contains(N3)?this.element.id+"header":i.classList.contains(iv)?this.element.id+"footerTemplate":this.element.id+"content",u(e.outerHTML)?("string"==typeof e||"string"!=typeof e)&&("string"==typeof e&&(e=this.sanitizeHelper(e)),this.isVue||"string"!=typeof e?s=tt(e):i.innerHTML=e):i.appendChild(e);var l=[];if(!u(s)){for(var c=0,d=s({},this,n,a,!0);c<d.length;c++)l.push(d[c]);ce([].slice.call(l),i)}},t.prototype.sanitizeHelper=function(e){if(this.enableHtmlSanitizer){var i=Qt.beforeSanitize();z(i,i,{cancel:!1,helper:null}),this.trigger("beforeSanitizeHtml",i),i.cancel&&!u(i.helper)?e=i.helper(e):i.cancel||(e=Qt.serializeValue(i,e))}return e},t.prototype.setMaxHeight=function(){if(this.allowMaxHeight){var e=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=!u(this.target)&&this.targetEle.offsetHeight<window.innerHeight?this.targetEle.offsetHeight-20+"px":window.innerHeight-20+"px",this.element.style.display=e,O.isIE&&"auto"===this.height&&!u(this.contentEle)&&this.element.offsetHeight<this.contentEle.offsetHeight&&(this.element.style.height="inherit")}},t.prototype.setEnableRTL=function(){this.isBlazorServerRender()||(this.enableRtl?D([this.element],aO):M([this.element],aO)),u(this.element.querySelector(".e-resize-handle"))||(k3(),this.setResize())},t.prototype.setTargetContent=function(){var e=this;if(u(this.content)||""===this.content){var i=""!==this.element.innerHTML.replace(/\s|<(\/?|\/?)(!--!--)>/g,"");(this.element.children.length>0||i)&&(this.innerContentElement=document.createDocumentFragment(),[].slice.call(this.element.childNodes).forEach(function(n){8!==n.nodeType&&e.innerContentElement.appendChild(n)}))}},t.prototype.setHeader=function(){this.headerEle?this.headerEle.innerHTML="":this.headerEle=this.createElement("div",{id:this.element.id+"_title",className:N3}),this.createHeaderContent(),this.headerContent.appendChild(this.headerEle),this.setTemplate(this.header,this.headerEle,"header"),re(this.element,{"aria-labelledby":this.element.id+"_title"}),this.element.insertBefore(this.headerContent,this.element.children[0]),this.allowDragging&&!u(this.headerContent)&&this.setAllowDragging()},t.prototype.setFooterTemplate=function(){this.ftrTemplateContent?this.ftrTemplateContent.innerHTML="":this.ftrTemplateContent=this.createElement("div",{className:iv}),""===this.footerTemplate||u(this.footerTemplate)?this.ftrTemplateContent.innerHTML=this.buttonContent.join(""):this.setTemplate(this.footerTemplate,this.ftrTemplateContent,"footerTemplate"),this.element.appendChild(this.ftrTemplateContent)},t.prototype.createHeaderContent=function(){u(this.headerContent)&&(this.headerContent=this.createElement("div",{id:this.element.id+"_dialog-header",className:oO}))},t.prototype.renderCloseIcon=function(){this.showCloseIcon&&(this.closeIcon=this.createElement("button",{className:R3,attrs:{type:"button"}}),this.closeIconBtnObj=new vn({cssClass:"e-flat",iconCss:_3+" e-icons"}),this.closeIconTitle(),u(this.headerContent)?(this.createHeaderContent(),Tt([this.closeIcon],this.headerContent),this.element.insertBefore(this.headerContent,this.element.children[0])):Tt([this.closeIcon],this.headerContent),this.closeIconBtnObj.appendTo(this.closeIcon))},t.prototype.closeIconTitle=function(){this.l10n.setLocale(this.locale);var e=this.l10n.getConstant("close");this.closeIcon.setAttribute("title",e),this.closeIcon.setAttribute("aria-label",e)},t.prototype.setCSSClass=function(e){e&&(M([this.element],e.split(" ")),this.isModal&&!u(this.dlgContainer)&&M([this.dlgContainer],e.split(" "))),this.cssClass&&(D([this.element],this.cssClass.split(" ")),this.isModal&&!u(this.dlgContainer)&&D([this.dlgContainer],this.cssClass.split(" ")))},t.prototype.setIsModal=function(){this.dlgContainer=this.createElement("div",{className:"e-dlg-container"}),this.setCSSClass(),this.element.classList.remove(P3),this.element.parentNode.insertBefore(this.dlgContainer,this.element),this.dlgContainer.appendChild(this.element),D([this.element],WC),this.dlgOverlay=this.createElement("div",{className:"e-dlg-overlay"}),this.dlgOverlay.style.zIndex=(this.zIndex-1).toString(),this.dlgContainer.appendChild(this.dlgOverlay)},t.prototype.getValidFocusNode=function(e){for(var i,n=0;n<e.length;n++){if(((i=e[n]).clientHeight>0||"a"===i.tagName.toLowerCase()&&i.hasAttribute("href"))&&i.tabIndex>-1&&!i.disabled&&!this.disableElement(i,'[disabled],[aria-disabled="true"],[type="hidden"]'))return i;i=null}return i},t.prototype.focusableElements=function(e){if(!u(e)){var n=e.querySelectorAll('input,select,textarea,button,a,[contenteditable="true"],[tabindex]');return this.getValidFocusNode(n)}return null},t.prototype.getAutoFocusNode=function(e){var i=e.querySelector("."+R3),s=e.querySelectorAll("[autofocus]"),a=this.getValidFocusNode(s);if(u(a)){if(!u(a=this.focusableElements(this.contentEle)))return a;if(!u(this.primaryButtonEle))return this.element.querySelector(".e-primary")}else i=a;return i},t.prototype.disableElement=function(e,i){var n=e?e.matches||e.webkitMatchesSelector||e.msGetRegionContent:null;if(n)for(;e;e=e.parentNode)if(e instanceof Element&&n.call(e,i))return e;return null},t.prototype.focusContent=function(){var e=this.getAutoFocusNode(this.element),i=u(e)?this.element:e,n=O.userAgent;(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0)&&this.element.focus(),i.focus(),this.unBindEvent(this.element),this.bindEvent(this.element)},t.prototype.bindEvent=function(e){b.add(e,"keydown",this.keyDown,this)},t.prototype.unBindEvent=function(e){b.remove(e,"keydown",this.keyDown)},t.prototype.updateSanitizeContent=function(){this.isBlazorServerRender()||(this.contentEle.innerHTML=this.sanitizeHelper(this.content))},t.prototype.isBlazorServerRender=function(){return!1},t.prototype.getModuleName=function(){return"dialog"},t.prototype.onPropertyChanged=function(e,i){if(this.element.classList.contains(UC))for(var n=0,s=Object.keys(e);n<s.length;n++)switch(s[n]){case"content":u(this.content)||""===this.content?u(this.contentEle)||(Q(this.contentEle),this.contentEle=null):(this.isBlazorServerRender()&&(this.contentEle=this.element.querySelector(".e-dlg-content")),u(this.contentEle)||"dialog"===this.contentEle.getAttribute("role")?(!this.isBlazorServerRender()||u(this.element.querySelector(".e-dlg-content")))&&this.setContent():(this.isBlazorServerRender()||(this.contentEle.innerHTML=""),"function"==typeof this.content?(this.clearTemplate(["content"]),Q(this.contentEle),this.contentEle=null,this.setContent()):"string"==typeof this.content?this.isBlazorServerRender()&&""===this.contentEle.innerText?this.contentEle.insertAdjacentHTML("beforeend",this.sanitizeHelper(this.content)):this.updateSanitizeContent():this.contentEle.appendChild(this.content),this.setMaxHeight()));break;case"header":""===this.header||u(this.header)?this.headerEle&&(Q(this.headerEle),this.headerEle=null):(!this.isBlazorServerRender()||u(this.element.querySelector(".e-dlg-header-content")))&&this.setHeader();break;case"footerTemplate":if(""===this.footerTemplate||u(this.footerTemplate)){if(!this.ftrTemplateContent)return;Q(this.ftrTemplateContent),this.ftrTemplateContent=null,this.buttons=[{}]}else(!this.isBlazorServerRender()||u(this.element.querySelector(".e-footer-content")))&&this.setFooterTemplate(),this.buttons=[{}];break;case"showCloseIcon":this.element.getElementsByClassName(_3).length>0?this.showCloseIcon||""!==this.header&&!u(this.header)?this.showCloseIcon?this.isBlazorServerRender()&&this.wireEvents():Q(this.closeIcon):(Q(this.headerContent),this.headerContent=null):(this.isBlazorServerRender()||this.renderCloseIcon(),this.wireEvents());break;case"locale":this.showCloseIcon&&this.closeIconTitle();break;case"visible":this.visible?this.show():this.hide();break;case"isModal":this.updateIsModal();break;case"height":ue(this.element,{height:$(e.height)}),this.updatePersistData();break;case"width":ue(this.element,{width:$(e.width)}),this.updatePersistData();break;case"zIndex":this.popupObj.zIndex=this.zIndex,this.isModal&&this.setOverlayZindex(this.zIndex),this.element.style.zIndex!==this.zIndex.toString()&&(this.calculatezIndex=!1);break;case"cssClass":this.setCSSClass(i.cssClass);break;case"buttons":var o=this.buttons.length;!u(this.ftrTemplateContent)&&!this.isBlazorServerRender()&&(Q(this.ftrTemplateContent),this.ftrTemplateContent=null);for(var l=0;l<o;l++)u(this.buttons[l].buttonModel)||(this.footerTemplate="",this.setButton());break;case"allowDragging":this.allowDragging&&!u(this.headerContent)?this.setAllowDragging():this.dragObj.destroy();break;case"target":this.setTarget(e.target);break;case"position":if(this.checkPositionData(),this.isModal){var h=u(i.position)||u(i.position.X)?this.position.X:i.position.X,c=u(i.position)||u(i.position.Y)?this.position.Y:i.position.Y;this.dlgContainer.classList.contains("e-dlg-"+h+"-"+c)&&this.dlgContainer.classList.remove("e-dlg-"+h+"-"+c)}this.positionChange(),this.updatePersistData();break;case"enableRtl":this.setEnableRTL();break;case"enableResize":this.setResize();break;case"minHeight":""!==this.minHeight&&(this.element.style.minHeight=$(this.minHeight))}},t.prototype.setTarget=function(e){this.popupObj.relateTo=e,this.target=e,this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target,this.dragObj&&(this.dragObj.dragArea=this.targetEle),this.setMaxHeight(),this.isModal&&this.updateIsModal(),this.enableResize&&this.setResize()},t.prototype.updateIsModal=function(){if(this.element.setAttribute("aria-modal",this.isModal?"true":"false"),this.isModal)u(this.dlgOverlay)&&(this.setIsModal(),this.element.style.top="0px",this.element.style.left="0px",u(this.targetEle)||this.targetEle.appendChild(this.dlgContainer));else{for(M([this.element],WC),M([document.body],[vl,Lo]),Q(this.dlgOverlay);this.dlgContainer.firstChild;)this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild,this.dlgContainer);this.dlgContainer.parentElement.removeChild(this.dlgContainer)}this.visible&&this.show(),this.positionChange(),this.isModal&&this.dlgOverlay&&b.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},t.prototype.setzIndex=function(e,i){var n=this.isProtectedOnChange;this.isProtectedOnChange=!0;var s=ml(e);this.zIndex=s>this.zIndex?s:this.zIndex,this.isProtectedOnChange=n,i&&(this.popupObj.zIndex=this.zIndex)},t.prototype.windowResizeHandler=function(){(function(r){vh=r})(this.targetEle.clientWidth),function(r){Dc=r}(this.targetEle.clientHeight),this.setMaxHeight()},t.prototype.getPersistData=function(){return this.addOnPersist(["width","height","position"])},t.prototype.destroy=function(){if(!this.isDestroyed){var e=[aO,WC,lO,YC,qC,L3],i=["role","aria-modal","aria-labelledby","aria-describedby","aria-grabbed","tabindex","style"];if(M([this.targetEle],[vl,Lo]),!u(this.element)&&this.element.classList.contains(qC)&&M([document.body],[vl,Lo]),this.isModal&&M([u(this.targetEle)?document.body:this.targetEle],Lo),this.unWireEvents(),!u(this.btnObj))for(var n=0;n<this.btnObj.length;n++)this.btnObj[n].destroy();if(u(this.closeIconBtnObj)||this.closeIconBtnObj.destroy(),u(this.dragObj)||this.dragObj.destroy(),!u(this.popupObj.element)&&this.popupObj.element.classList.contains("e-popup")&&this.popupObj.destroy(),M([this.element],e),!u(this.cssClass)&&""!==this.cssClass&&M([this.element],this.cssClass.split(" ")),!u(this.refElement)&&!u(this.refElement.parentElement)&&(this.refElement.parentElement.insertBefore(this.isModal?this.dlgContainer:this.element,this.refElement),Q(this.refElement),this.refElement=void 0),this.isModal&&!this.isBlazorServerRender()&&(Q(this.dlgOverlay),this.dlgContainer.parentNode.insertBefore(this.element,this.dlgContainer),Q(this.dlgContainer)),this.isBlazorServerRender()||(this.element.innerHTML=this.clonedEle.innerHTML),this.isBlazorServerRender()&&!u(this.element.children))for(n=0;n<=this.element.children.length;n++)Q(this.element.children[n-=n]);for(n=0;n<i.length;n++)this.element.removeAttribute(i[n]);this.ftrTemplateContent=null,this.headerContent=null,this.contentEle=null,this.isBlazorServerRender()?this.isDestroyed=!0:r.prototype.destroy.call(this),this.isReact&&this.clearTemplate()}},t.prototype.wireWindowResizeEvent=function(){window.addEventListener("resize",this.windowResizeHandler.bind(this))},t.prototype.unWireWindowResizeEvent=function(){window.removeEventListener("resize",this.windowResizeHandler.bind(this))},t.prototype.wireEvents=function(){this.isBlazorServerRender()&&this.showCloseIcon&&(this.closeIcon=this.element.getElementsByClassName("e-dlg-closeicon-btn")[0]),this.showCloseIcon&&b.add(this.closeIcon,"click",this.closeIconClickEventHandler,this),this.isModal&&this.dlgOverlay&&b.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},t.prototype.unWireEvents=function(){if(this.showCloseIcon&&b.remove(this.closeIcon,"click",this.closeIconClickEventHandler),this.isModal&&b.remove(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler),this.buttons.length>0&&!u(this.buttons[0].buttonModel)&&""===this.footerTemplate)for(var e=0;e<this.buttons.length;e++)"function"==typeof this.buttons[e].click&&b.remove(this.ftrTemplateContent.children[e],"click",this.buttons[e].click)},t.prototype.refreshPosition=function(){this.popupObj.refreshPosition(),this.element.classList.contains(WC)&&this.positionChange()},t.prototype.getDimension=function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},t.prototype.show=function(e){var i=this;if(this.element.classList.contains(UC)){if(!this.element.classList.contains(P3)||!u(e)){u(e)||this.fullScreen(e);var n={cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,target:this.target,maxHeight:this.element.style.maxHeight};this.trigger("beforeOpen",n,function(s){if(!s.cancel){if(i.element.style.maxHeight!==n.maxHeight&&(i.allowMaxHeight=!1,i.element.style.maxHeight=n.maxHeight),i.storeActiveElement=document.activeElement,i.element.tabIndex=-1,i.isModal&&!u(i.dlgOverlay))if(i.dlgOverlay.style.display="block",i.dlgContainer.style.display="flex",M([i.dlgOverlay],"e-fade"),u(i.targetEle))D([document.body],[vl,Lo]);else{i.dlgContainer.style.position=i.targetEle===document.body?"fixed":"absolute",i.dlgOverlay.style.position="absolute";var a=i.getTargetContainer(i.target);if(a instanceof Element){var o=window.getComputedStyle(a);i.element.style.position="rtl"===o.getPropertyValue("direction")?"absolute":"relative"}else i.element.style.position="relative";D([i.targetEle],[vl,Lo])}var l={name:i.animationSettings.effect+"In",duration:i.animationSettings.duration,delay:i.animationSettings.delay};i.calculatezIndex&&(i.setzIndex(i.isModal?i.element.parentElement:i.element,!0),ue(i.element,{zIndex:i.zIndex}),i.isModal&&i.setOverlayZindex(i.zIndex)),"None"===i.animationSettings.effect?i.popupObj.show():i.popupObj.show(l),i.dialogOpen=!0;var c=i.isProtectedOnChange;i.isProtectedOnChange=!0,i.visible=!0,i.preventVisibility=!0,i.isProtectedOnChange=c}})}this.isReact&&this.renderReactTemplates()}},t.prototype.hide=function(e){var i=this;if(this.element.classList.contains(UC)&&this.preventVisibility){var n={cancel:!1,isInteracted:!!e,element:this.element,target:this.target,container:this.isModal?this.dlgContainer:this.element,event:e,closedBy:this.dlgClosedBy};this.closeArgs=n,this.trigger("beforeClose",n,function(s){if(!s.cancel){i.isModal&&(u(i.targetEle)||M([i.targetEle],[vl,Lo])),document.body.classList.contains(vl)&&document.body.classList.contains(Lo)&&M([document.body],[vl,Lo]);var a={name:i.animationSettings.effect+"Out",duration:i.animationSettings.duration,delay:i.animationSettings.delay};"None"===i.animationSettings.effect?i.popupObj.hide():i.popupObj.hide(a),i.dialogOpen=!1;var o=i.isProtectedOnChange;i.isProtectedOnChange=!0,i.visible=!1,i.preventVisibility=!1,i.isProtectedOnChange=o}i.dlgClosedBy=hO})}},t.prototype.fullScreen=function(e){if(e){this.element.style.top=document.scrollingElement.scrollTop+"px",D([this.element],qC);var s=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=u(this.target)?window.innerHeight+"px":this.targetEle.offsetHeight+"px",this.element.style.display=s,D([document.body],[vl,Lo]),this.allowDragging&&!u(this.dragObj)&&this.dragObj.destroy()}else M([this.element],qC),M([document.body],[vl,Lo]),this.allowDragging&&!u(this.headerContent)&&this.setAllowDragging();return e},t.prototype.getButtons=function(e){return u(e)?this.btnObj:this.btnObj[e]},Ot([v("")],t.prototype,"content",void 0),Ot([v(!0)],t.prototype,"enableHtmlSanitizer",void 0),Ot([v(!1)],t.prototype,"enablePersistence",void 0),Ot([v(!1)],t.prototype,"showCloseIcon",void 0),Ot([v(!1)],t.prototype,"isModal",void 0),Ot([v("")],t.prototype,"header",void 0),Ot([v(!0)],t.prototype,"visible",void 0),Ot([v(!1)],t.prototype,"enableResize",void 0),Ot([v(["South-East"])],t.prototype,"resizeHandles",void 0),Ot([v("auto")],t.prototype,"height",void 0),Ot([v("")],t.prototype,"minHeight",void 0),Ot([v("100%")],t.prototype,"width",void 0),Ot([v("")],t.prototype,"cssClass",void 0),Ot([v(1e3)],t.prototype,"zIndex",void 0),Ot([v(null)],t.prototype,"target",void 0),Ot([v("")],t.prototype,"footerTemplate",void 0),Ot([v(!1)],t.prototype,"allowDragging",void 0),Ot([Fs([{}],ide)],t.prototype,"buttons",void 0),Ot([v(!0)],t.prototype,"closeOnEscape",void 0),Ot([at({},nde)],t.prototype,"animationSettings",void 0),Ot([at({X:"center",Y:"center"},C3)],t.prototype,"position",void 0),Ot([x()],t.prototype,"created",void 0),Ot([x()],t.prototype,"open",void 0),Ot([x()],t.prototype,"beforeSanitizeHtml",void 0),Ot([x()],t.prototype,"beforeOpen",void 0),Ot([x()],t.prototype,"close",void 0),Ot([x()],t.prototype,"beforeClose",void 0),Ot([x()],t.prototype,"dragStart",void 0),Ot([x()],t.prototype,"dragStop",void 0),Ot([x()],t.prototype,"drag",void 0),Ot([x()],t.prototype,"overlayClick",void 0),Ot([x()],t.prototype,"resizeStart",void 0),Ot([x()],t.prototype,"resizing",void 0),Ot([x()],t.prototype,"resizeStop",void 0),Ot([x()],t.prototype,"destroyed",void 0),Ot([et],t)}(Yt);!function(r){function i(c,d){var p=new QC(c);return p.appendTo(d),p}function a(c,d){return c.header=u(d.title)?null:d.title,c.content=u(d.content)?"":d.content,c.isModal=!!u(d.isModal)||d.isModal,c.showCloseIcon=!u(d.showCloseIcon)&&d.showCloseIcon,c.allowDragging=!u(d.isDraggable)&&d.isDraggable,c.closeOnEscape=!u(d.closeOnEscape)&&d.closeOnEscape,c.position=u(d.position)?{X:"center",Y:"top"}:d.position,c.animationSettings=u(d.animationSettings)?{effect:"Fade",duration:400,delay:0}:d.animationSettings,c.cssClass=u(d.cssClass)?"":d.cssClass,c.zIndex=u(d.zIndex)?1e3:d.zIndex,c.open=u(d.open)?null:d.open,c.width=u(d.width)?"auto":d.width,c.height=u(d.height)?"auto":d.height,c}function h(c,d,p){var f=p;return u(d.text)||(f.buttonModel.content=d.text),u(d.icon)||(f.buttonModel.iconCss=d.icon),u(d.cssClass)||(f.buttonModel.cssClass=d.cssClass),u(d.click)||(f.click=d.click),u(d.isFlat)||(f.isFlat=d.isFlat),f}r.alert=function(c){var p,d=N("div",{className:j3});return document.body.appendChild(d),p=i("string"==typeof c?{content:c,position:{X:"center",Y:"top"},isModal:!0,header:F3,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}]}:function(c){var d={buttons:[]};return function(c,d){var p=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return u(d.okButton)?c.buttons=p:c.buttons[0]=h(0,d.okButton,p[0]),c}(d=a(d,c),c)}(c),d),p.close=function(){c&&c.close&&c.close.apply(p),p.destroy(),p.element.classList.contains("e-dlg-modal")?(p.element.parentElement.remove(),p.target.classList.remove(V3)):p.element.remove()},p},r.confirm=function(c){var p,d=N("div",{className:B3});return document.body.appendChild(d),p=i("string"==typeof c?{position:{X:"center",Y:"top"},content:c,isModal:!0,header:F3,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},{buttonModel:{content:"Cancel"},click:function(){this.hide()}}]}:function(c){var d={buttons:[]};return function(c,d){var p={buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},f={buttonModel:{content:"Cancel"},click:function(){this.hide()}};return c.buttons[0]=u(d.okButton)?p:h(0,d.okButton,p),c.buttons[1]=u(d.cancelButton)?f:h(0,d.cancelButton,f),c}(d=a(d,c),c)}(c),d),p.close=function(){c&&c.close&&c.close.apply(p),p.destroy(),p.element.classList.contains("e-dlg-modal")?(p.element.parentElement.remove(),p.target.classList.remove(V3)):p.element.remove()},p}}(z3||(z3={}));var U3=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ki=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},cO="e-tooltip",Q3="e-icons",G3="e-tooltip-close",uO="e-tooltip-wrap",$3="e-tip-content",nf="e-arrow-tip",K3="e-arrow-tip-outer",GC="e-arrow-tip-inner",nv="e-tip-bottom",dO="e-tip-top",X3="e-tip-left",pO="e-tip-right",fO="e-popup",$C="e-popup-open",mO="e-popup-close",KC="e-lib",Z3="e-tooltip-popup-container",Ede=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return U3(t,r),ki([v({effect:"FadeIn",duration:150,delay:0})],t.prototype,"open",void 0),ki([v({effect:"FadeOut",duration:150,delay:0})],t.prototype,"close",void 0),t}(ot),sv=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.mouseMoveEvent=null,n.mouseMoveTarget=null,n.containerElement=null,n.isBodyContainer=!0,n}return U3(t,r),t.prototype.initialize=function(){this.formatPosition(),D([this.element],cO)},t.prototype.formatPosition=function(){var e,i;0===this.position.indexOf("Top")||0===this.position.indexOf("Bottom")?(e=this.position.split(/(?=[A-Z])/),this.tooltipPositionY=e[0],this.tooltipPositionX=e[1]):(i=this.position.split(/(?=[A-Z])/),this.tooltipPositionX=i[0],this.tooltipPositionY=i[1])},t.prototype.renderArrow=function(){this.setTipClass(this.position);var e=this.createElement("div",{className:nf+" "+this.tipClass});e.appendChild(this.createElement("div",{className:K3+" "+this.tipClass})),e.appendChild(this.createElement("div",{className:GC+" "+this.tipClass})),this.tooltipEle.appendChild(e)},t.prototype.setTipClass=function(e){this.tipClass=0===e.indexOf("Right")?X3:0===e.indexOf("Bottom")?dO:0===e.indexOf("Left")?pO:nv},t.prototype.renderPopup=function(e){var i=this.mouseTrail?{top:0,left:0}:this.getTooltipPosition(e);this.tooltipEle.classList.remove(KC),this.popupObj=new us(this.tooltipEle,{height:this.height,width:this.width,position:{X:i.left,Y:i.top},enableRtl:this.enableRtl,open:this.openPopupHandler.bind(this),close:this.closePopupHandler.bind(this)})},t.prototype.getScalingFactor=function(e){if(!e)return{x:1,y:1};var i={x:1,y:1},n=e.closest('[style*="transform: scale"]');if(n&&n!=this.tooltipEle&&n.contains(this.tooltipEle)){var o=window.getComputedStyle(n).getPropertyValue("transform").match(/matrix\(([^)]+)\)/)[1].split(",").map(parseFloat);i.x=o[0],i.y=o[3]}return i},t.prototype.getTooltipPosition=function(e){this.tooltipEle.style.display="block";var i=this.element.closest('[style*="zoom"]');i&&(i.contains(this.tooltipEle)||(this.tooltipEle.style.zoom=getComputedStyle(i).zoom));var n=Vs(e,this.tooltipPositionX,this.tooltipPositionY,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect()),s=this.getScalingFactor(e),a=this.calculateTooltipOffset(this.position,s.x,s.y),o=this.calculateElementPosition(n,a),c=this.collisionFlipFit(e,o[0],o[1]);return c.left=c.left/s.x,c.top=c.top/s.y,this.tooltipEle.style.display="",c},t.prototype.windowResize=function(){this.reposition(this.findTarget())},t.prototype.reposition=function(e){if(this.popupObj&&e){var i=this.getTooltipPosition(e);this.popupObj.position={X:i.left,Y:i.top},this.popupObj.dataBind()}},t.prototype.openPopupHandler=function(){!this.mouseTrail&&this.needTemplateReposition()&&this.reposition(this.findTarget()),this.trigger("afterOpen",this.tooltipEventArgs),this.tooltipEventArgs=null},t.prototype.closePopupHandler=function(){this.isReact&&!("Click"===this.opensOn&&"function"==typeof this.content)&&this.clearTemplate(["content"]),this.clear(),this.trigger("afterClose",this.tooltipEventArgs),this.tooltipEventArgs=null},t.prototype.calculateTooltipOffset=function(e,i,n){void 0===i&&(i=1),void 0===n&&(n=1);var a,o,l,h,c,d,p,f,s={top:0,left:0};if(1!=i||1!=n){var m=this.tooltipEle.getBoundingClientRect(),g=void 0;l=Math.round(m.width),h=Math.round(m.height),(c=P("."+nf,this.tooltipEle))&&(g=c.getBoundingClientRect()),a=c?Math.round(g.width):0,o=c?Math.round(g.height):0,d=this.showTipPointer?0:8,p=o/2+2+(h-this.tooltipEle.clientHeight*n),f=a/2+2+(l-this.tooltipEle.clientWidth*i)}else l=this.tooltipEle.offsetWidth,h=this.tooltipEle.offsetHeight,c=P("."+nf,this.tooltipEle),d=this.showTipPointer?0:8,p=(o=c?c.offsetHeight:0)/2+2+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),f=(a=c?c.offsetWidth:0)/2+2+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(this.mouseTrail&&(d+=2),e){case"RightTop":s.left+=a+d,s.top-=h-p;break;case"RightCenter":s.left+=a+d,s.top-=h/2;break;case"RightBottom":s.left+=a+d,s.top-=p;break;case"BottomRight":s.top+=o+d,s.left-=f;break;case"BottomCenter":s.top+=o+d,s.left-=l/2;break;case"BottomLeft":s.top+=o+d,s.left-=l-f;break;case"LeftBottom":s.left-=a+l+d,s.top-=p;break;case"LeftCenter":s.left-=a+l+d,s.top-=h/2;break;case"LeftTop":s.left-=a+l+d,s.top-=h-p;break;case"TopLeft":s.top-=h+o+d,s.left-=l-f;break;case"TopRight":s.top-=h+o+d,s.left-=f;break;default:s.top-=h+o+d,s.left-=l/2}return s.left+=this.offsetX,s.top+=this.offsetY,s},t.prototype.updateTipPosition=function(e){var i=pe("."+nf+",."+K3+",."+GC,this.tooltipEle);M(i,[nv,dO,X3,pO]),this.setTipClass(e),D(i,this.tipClass)},t.prototype.adjustArrow=function(e,i,n,s){var a=P("."+nf,this.tooltipEle);if(!1!==this.showTipPointer&&null!==a){var o,l;this.updateTipPosition(i),this.tooltipEle.style.display="block";var m,h=this.tooltipEle.clientWidth,c=this.tooltipEle.clientHeight,d=P("."+GC,this.tooltipEle),p=a.offsetWidth,f=a.offsetHeight;this.tooltipEle.style.display="",this.tipClass===nv||this.tipClass===dO?(this.tipClass===nv?(l="99.9%",d.style.top="-"+(f-2)+"px"):(l=-(f-1)+"px",d.style.top="-"+(f-6)+"px"),e&&(o=(m="Center"!==n||h>e.offsetWidth||this.mouseTrail)&&"Left"===n||!m&&"End"===this.tipPointerPosition?h-p-2+"px":m&&"Right"===n||!m&&"Start"===this.tipPointerPosition?"2px":!m||"End"!==this.tipPointerPosition&&"Start"!==this.tipPointerPosition?h/2-p/2+"px":"End"===this.tipPointerPosition?e.offsetWidth+(this.tooltipEle.offsetWidth-e.offsetWidth)/2-p/2-2+"px":(this.tooltipEle.offsetWidth-e.offsetWidth)/2-p/2+2+"px")):(this.tipClass===pO?(o="99.9%",d.style.left="-"+(p-2)+"px"):(o=-(p-1)+"px",d.style.left=p-2-p+"px"),l=(m="Center"!==s||c>e.offsetHeight||this.mouseTrail)&&"Top"===s||!m&&"End"===this.tipPointerPosition?c-f-2+"px":m&&"Bottom"===s||!m&&"Start"===this.tipPointerPosition?"2px":c/2-f/2+"px"),a.style.top=l,a.style.left=o}},t.prototype.renderContent=function(e){var i=P("."+$3,this.tooltipEle);if(this.cssClass&&D([this.tooltipEle],this.cssClass.split(" ")),e&&!u(e.getAttribute("title"))&&(e.setAttribute("data-content",e.getAttribute("title")),e.removeAttribute("title")),u(this.content))e&&!u(e.getAttribute("data-content"))&&(i.innerHTML=e.getAttribute("data-content"));else if(i.innerHTML="",this.content instanceof HTMLElement)i.appendChild(this.content);else if("string"==typeof this.content)this.enableHtmlSanitizer&&this.setProperties({content:Qt.sanitize(this.content)},!0),this.enableHtmlParse?(s=tt(this.content)({},this,"content",this.element.id+"content",void 0,void 0,i,this.root))&&ce(s,i):i.textContent=this.content;else{var s;(s=tt(this.content)({},this,"content",this.element.id+"content",void 0,void 0,i))&&ce(s,i),this.renderReactTemplates()}},t.prototype.renderCloseIcon=function(){if(this.isSticky){var i=this.createElement("div",{className:Q3+" "+G3});this.tooltipEle.appendChild(i),b.add(i,O.touchStartEvent,this.onStickyClose,this)}else{var e=this.tooltipEle.querySelector("."+Q3+"."+G3);e&&me(e)}},t.prototype.addDataTooltipId=function(e,i){re(e,{"data-tooltip-id":i})},t.prototype.removeDataTooltipId=function(e){e.removeAttribute("data-tooltip-id")},t.prototype.tapHoldHandler=function(e){clearTimeout(this.autoCloseTimer),this.targetHover(e.originalEvent)},t.prototype.touchEndHandler=function(e){var i=this;this.isSticky||(this.autoCloseTimer=setTimeout(function(){i.close()},1500))},t.prototype.targetClick=function(e){var i;!u(i=this.target?I(e.target,this.target):this.element)&&(null===i.getAttribute("data-tooltip-id")?this.targetHover(e):this.isSticky||this.hideTooltip(this.animation.close,e,i))},t.prototype.targetHover=function(e){var i;if(!(u(i=this.target?I(e.target,this.target):this.element)||null!==i.getAttribute("data-tooltip-id")&&0===this.closeDelay)){for(var s=0,a=[].slice.call(pe('[data-tooltip-id= "'+this.ctrlId+'_content"]',document));s<a.length;s++)this.restoreElement(a[s]);this.showTooltip(i,this.animation.open,e)}},t.prototype.mouseMoveBeforeOpen=function(e){this.mouseMoveEvent=e},t.prototype.mouseMoveBeforeRemove=function(){this.mouseMoveTarget&&b.remove(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen)},t.prototype.showTooltip=function(e,i,n){var s=this;clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.openDelay&&this.mouseTrail&&(this.mouseMoveBeforeRemove(),this.mouseMoveTarget=e,b.add(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen,this)),this.tooltipEventArgs={type:n?n.type:null,cancel:!1,target:e,event:n||null,element:this.tooltipEle,isInteracted:!u(n)},this.trigger("beforeRender",this.tooltipEventArgs,function(o){s.beforeRenderCallback(o,e,n,i)}.bind(this))},t.prototype.beforeRenderCallback=function(e,i,n,s){if(e.cancel)this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove();else if(this.isHidden=!1,u(this.tooltipEle)){if(this.ctrlId=this.element.getAttribute("id")?vt(this.element.getAttribute("id")):vt("tooltip"),this.tooltipEle=this.createElement("div",{className:uO+" "+fO+" "+KC,attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"},styles:"width:"+$(this.width)+";height:"+$(this.height)+";position:absolute;"}),0!==Object.keys(this.htmlAttributes).length)for(var a in this.htmlAttributes)"class"===a?this.tooltipEle.classList.add(this.htmlAttributes[""+a]):this.tooltipEle.setAttribute(a,this.htmlAttributes[""+a]);this.tooltipBeforeRender(i,this),this.tooltipAfterRender(i,n,s,this)}else i&&(this.adjustArrow(i,this.position,this.tooltipPositionX,this.tooltipPositionY),this.addDataTooltipId(i,this.ctrlId+"_content"),this.renderContent(i),vi.stop(this.tooltipEle),this.reposition(i),this.tooltipAfterRender(i,n,s,this))},t.prototype.appendContainer=function(e){"string"==typeof this.container?"body"===this.container?this.containerElement=document.body:(this.isBodyContainer=!1,this.containerElement=P(this.container,document)):this.container instanceof HTMLElement&&(this.containerElement=this.container,this.isBodyContainer="BODY"===this.containerElement.tagName),this.isBodyContainer||D([this.containerElement],Z3),this.containerElement.appendChild(e.tooltipEle)},t.prototype.tooltipBeforeRender=function(e,i){e&&(O.isDevice&&D([i.tooltipEle],"e-bigger"),"auto"!==i.width&&(i.tooltipEle.style.maxWidth=$(i.width)),i.tooltipEle.appendChild(i.createElement("div",{className:$3})),this.appendContainer(i),M([i.tooltipEle],"e-hidden"),i.addDataTooltipId(e,i.ctrlId+"_content"),i.renderContent(e),D([i.tooltipEle],$C),i.showTipPointer&&i.renderArrow(),i.renderCloseIcon(),i.renderPopup(e),i.adjustArrow(e,i.position,i.tooltipPositionX,i.tooltipPositionY),vi.stop(i.tooltipEle),i.reposition(e))},t.prototype.tooltipAfterRender=function(e,i,n,s){e&&(M([s.tooltipEle],$C),D([s.tooltipEle],mO),s.tooltipEventArgs={type:i?i.type:null,cancel:!1,target:e,event:i||null,element:s.tooltipEle,isInteracted:!u(i)},s.needTemplateReposition()&&!s.mouseTrail&&(s.tooltipEle.style.display="none"),s.trigger("beforeOpen",s.tooltipEventArgs,function(o){s.beforeOpenCallback(o,e,n,i)}.bind(s)))},t.prototype.beforeOpenCallback=function(e,i,n,s){var a=this;if(e.cancel)this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove(),this.restoreElement(i);else{var o={name:this.animation.open.effect,duration:n.duration,delay:n.delay,timingFunction:"easeOut"};"None"===n.effect&&(o=void 0),this.openDelay>0?this.showTimer=setTimeout(function(){a.mouseTrail&&b.add(i,"mousemove touchstart mouseenter",a.onMouseMove,a),a.popupObj&&(a.popupObj.show(o,i),a.mouseMoveEvent&&a.mouseTrail&&a.onMouseMove(a.mouseMoveEvent))},this.openDelay):this.popupObj&&this.popupObj.show(o,i)}s&&this.wireMouseEvents(s,i)},t.prototype.needTemplateReposition=function(){return!u(this.viewContainerRef)&&"string"!=typeof this.viewContainerRef},t.prototype.checkCollision=function(e,i,n){var s={left:i,top:n,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},a=_r(this.tooltipEle,this.checkCollideTarget(),i,n);return a.length>0&&(s.horizontal=a.indexOf("left")>=0?"Right":a.indexOf("right")>=0?"Left":this.tooltipPositionX,s.vertical=a.indexOf("top")>=0?"Bottom":a.indexOf("bottom")>=0?"Top":this.tooltipPositionY),s},t.prototype.calculateElementPosition=function(e,i){return[this.isBodyContainer?e.left+i.left:e.left-this.containerElement.offsetLeft+i.left+window.pageXOffset+this.containerElement.scrollLeft,this.isBodyContainer?e.top+i.top:e.top-this.containerElement.offsetTop+i.top+window.pageYOffset+this.containerElement.scrollTop]},t.prototype.collisionFlipFit=function(e,i,n){var s=this.checkCollision(e,i,n),a=s.position;if(this.tooltipPositionY!==s.vertical&&(a=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?s.vertical+this.tooltipPositionX:this.tooltipPositionX+s.vertical),this.tooltipPositionX!==s.horizontal&&(0===a.indexOf("Left")&&(s.vertical="LeftTop"===a||"LeftCenter"===a?"Top":"Bottom",a=s.vertical+"Left"),0===a.indexOf("Right")&&(s.vertical="RightTop"===a||"RightCenter"===a?"Top":"Bottom",a=s.vertical+"Right"),s.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:e,event:null,element:this.tooltipEle,collidedPosition:a},this.trigger("beforeCollision",this.tooltipEventArgs),this.tooltipEventArgs.cancel)a=this.position;else{var o=s.vertical,l=s.horizontal;if(s.position!==a){var h=Vs(e,l,o,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect());this.adjustArrow(e,a,l,o);var c=this.getScalingFactor(e),d=this.calculateTooltipOffset(a,c.x,c.y);d.top-=this.getOffSetPosition("TopBottom",a,this.offsetY),d.left-=this.getOffSetPosition("RightLeft",a,this.offsetX),s.position=a;var p=this.calculateElementPosition(h,d);s.left=p[0],s.top=p[1]}else this.adjustArrow(e,a,l,o)}var f={left:s.left,top:s.top},m=this.isBodyContainer?Bx(this.tooltipEle,this.checkCollideTarget(),{X:!0,Y:this.windowCollision},f):f;this.tooltipEle.style.display="block";var g=P("."+nf,this.tooltipEle);if(this.showTipPointer&&null!=g&&(0===a.indexOf("Bottom")||0===a.indexOf("Top"))){var y=parseInt(g.style.left,10)-(m.left-s.left);y<0?y=0:y+g.offsetWidth>this.tooltipEle.clientWidth&&(y=this.tooltipEle.clientWidth-g.offsetWidth),g.style.left=y.toString()+"px"}return this.tooltipEle.style.display="",f.left=m.left,f.top=m.top,f},t.prototype.getOffSetPosition=function(e,i,n){return-1!==e.indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!==e.indexOf(i.split(/(?=[A-Z])/)[0])?2*n:0},t.prototype.checkCollideTarget=function(){return!this.windowCollision&&this.target?this.element:null},t.prototype.hideTooltip=function(e,i,n){var s=this;this.closeDelay>0?(clearTimeout(this.hideTimer),clearTimeout(this.showTimer),this.hideTimer=setTimeout(function(){s.closeDelay&&s.tooltipEle&&s.isTooltipOpen||s.tooltipHide(e,i,n)},this.closeDelay)):this.tooltipHide(e,i,n)},t.prototype.tooltipHide=function(e,i,n){var a,s=this;a=i?this.target?n||i.target:this.element:P('[data-tooltip-id= "'+this.ctrlId+'_content"]',document),this.tooltipEventArgs={type:i?i.type:null,cancel:!1,target:a,event:i||null,element:this.tooltipEle,isInteracted:!u(i)},this.trigger("beforeClose",this.tooltipEventArgs,function(o){o.cancel?s.isHidden=!1:(s.mouseMoveBeforeRemove(),s.popupHide(e,a))}),this.tooltipEventArgs=null},t.prototype.popupHide=function(e,i){i&&this.restoreElement(i),this.isHidden=!0;var n={name:this.animation.close.effect,duration:e.duration,delay:e.delay,timingFunction:"easeIn"};"None"===e.effect&&(n=void 0),this.popupObj&&this.popupObj.hide(n)},t.prototype.restoreElement=function(e){this.unwireMouseEvents(e),u(e.getAttribute("data-content"))||(e.setAttribute("title",e.getAttribute("data-content")),e.removeAttribute("data-content")),this.removeDataTooltipId(e)},t.prototype.clear=function(){this.tooltipEle&&(M([this.tooltipEle],mO),D([this.tooltipEle],$C)),this.isHidden&&(this.popupObj&&this.popupObj.destroy(),this.tooltipEle&&me(this.tooltipEle),this.tooltipEle=null,this.popupObj=null)},t.prototype.tooltipHover=function(e){this.tooltipEle&&(this.isTooltipOpen=!0)},t.prototype.tooltipMouseOut=function(e){this.isTooltipOpen=!1,this.hideTooltip(this.animation.close,e,this.findTarget())},t.prototype.onMouseOut=function(e){var i=e.relatedTarget;if(i&&!this.mouseTrail){var n=I(i,"."+uO+"."+KC+"."+fO);n?b.add(n,"mouseleave",this.tooltipElementMouseOut,this):(this.hideTooltip(this.animation.close,e,this.findTarget()),0===this.closeDelay&&this.clear())}else this.hideTooltip(this.animation.close,e,this.findTarget()),this.clear()},t.prototype.tooltipElementMouseOut=function(e){this.hideTooltip(this.animation.close,e,this.findTarget()),b.remove(this.element,"mouseleave",this.tooltipElementMouseOut),this.clear()},t.prototype.onStickyClose=function(e){this.close()},t.prototype.onMouseMove=function(e){var i=0,n=0;e.type.indexOf("touch")>-1?(e.preventDefault(),i=e.touches[0].pageX,n=e.touches[0].pageY):(i=e.pageX,n=e.pageY),vi.stop(this.tooltipEle),M([this.tooltipEle],mO),D([this.tooltipEle],$C),this.adjustArrow(e.target,this.position,this.tooltipPositionX,this.tooltipPositionY);var s=this.getScalingFactor(e.target),a=this.calculateTooltipOffset(this.position,s.x,s.y),h=this.checkCollision(e.target,i+a.left+this.offsetX,n+a.top+this.offsetY);if(this.tooltipPositionX!==h.horizontal||this.tooltipPositionY!==h.vertical){var c=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?h.vertical+h.horizontal:h.horizontal+h.vertical;h.position=c,this.adjustArrow(e.target,h.position,h.horizontal,h.vertical);var d=this.calculateTooltipOffset(h.position,s.x,s.y);h.left=i+d.left-this.offsetX,h.top=n+d.top-this.offsetY}this.tooltipEle.style.left=h.left+"px",this.tooltipEle.style.top=h.top+"px"},t.prototype.keyDown=function(e){this.tooltipEle&&27===e.keyCode&&this.close()},t.prototype.touchEnd=function(e){this.tooltipEle&&null===I(e.target,"."+cO)&&!this.isSticky&&this.close()},t.prototype.scrollHandler=function(e){this.tooltipEle&&!this.isSticky&&(I(e.target,"."+uO+"."+KC+"."+fO)||this.close())},t.prototype.render=function(){this.initialize(),this.wireEvents(this.opensOn),this.renderComplete()},t.prototype.preRender=function(){this.tipClass=nv,this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0},t.prototype.wireEvents=function(e){for(var n=0,s=this.getTriggerList(e);n<s.length;n++){var a=s[n];if("Custom"===a)return;"Focus"===a&&this.wireFocusEvents(),"Click"===a&&b.add(this.element,O.touchStartEvent,this.targetClick,this),"Hover"===a&&(O.isDevice?(this.touchModule=new Zn(this.element,{tapHoldThreshold:500,tapHold:this.tapHoldHandler.bind(this)}),b.add(this.element,O.touchEndEvent,this.touchEndHandler,this)):b.add(this.element,"mouseover",this.targetHover,this))}b.add(document,"touchend",this.touchEnd,this),b.add(document,"scroll wheel",this.scrollHandler,this),b.add(window,"resize",this.windowResize,this),b.add(document,"keydown",this.keyDown,this)},t.prototype.getTriggerList=function(e){return"Auto"===e&&(e=O.isDevice?"Hover":"Hover Focus"),e.split(" ")},t.prototype.wireFocusEvents=function(){if(u(this.target))b.add(this.element,"focusin",this.targetHover,this);else{var e=[].slice.call(pe(this.target,this.element));this.targetsList=e;for(var i=0,n=e;i<n.length;i++)b.add(n[i],"focus",this.targetHover,this)}},t.prototype.wireMouseEvents=function(e,i){this.tooltipEle&&(this.isSticky||("focus"===e.type&&b.add(i,"blur",this.onMouseOut,this),"focusin"===e.type&&b.add(i,"focusout",this.onMouseOut,this),"mouseover"===e.type&&b.add(i,"mouseleave",this.onMouseOut,this),this.closeDelay&&(b.add(this.tooltipEle,"mouseenter",this.tooltipHover,this),b.add(this.tooltipEle,"mouseleave",this.tooltipMouseOut,this))),this.mouseTrail&&0===this.openDelay&&b.add(i,"mousemove touchstart mouseenter",this.onMouseMove,this))},t.prototype.unwireEvents=function(e){for(var n=0,s=this.getTriggerList(e);n<s.length;n++){var a=s[n];if("Custom"===a)return;"Focus"===a&&this.unwireFocusEvents(),"Click"===a&&b.remove(this.element,O.touchStartEvent,this.targetClick),"Hover"===a&&(O.isDevice?(this.touchModule&&this.touchModule.destroy(),b.remove(this.element,O.touchEndEvent,this.touchEndHandler)):b.remove(this.element,"mouseover",this.targetHover))}b.remove(document,"touchend",this.touchEnd),b.remove(document,"scroll wheel",this.scrollHandler),b.remove(window,"resize",this.windowResize),b.remove(document,"keydown",this.keyDown)},t.prototype.unwireFocusEvents=function(){if(u(this.target))b.remove(this.element,"focusin",this.targetHover);else for(var i=0,n=[].slice.call(pe(this.target,this.element));i<n.length;i++)b.remove(n[i],"focus",this.targetHover)},t.prototype.unwireMouseEvents=function(e){if(!this.isSticky){for(var n=0,s=this.getTriggerList(this.opensOn);n<s.length;n++){var a=s[n];"Focus"===a&&(b.remove(e,"blur",this.onMouseOut),b.remove(e,"focusout",this.onMouseOut)),"Hover"===a&&!O.isDevice&&b.remove(e,"mouseleave",this.onMouseOut)}this.closeDelay&&(b.remove(e,"mouseenter",this.tooltipHover),b.remove(e,"mouseleave",this.tooltipMouseOut))}this.mouseTrail&&b.remove(e,"mousemove touchstart mouseenter",this.onMouseMove)},t.prototype.findTarget=function(){return P('[data-tooltip-id= "'+this.ctrlId+'_content"]',document)},t.prototype.getModuleName=function(){return"tooltip"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.onPropertyChanged=function(e,i){for(var n=this.findTarget(),s=0,a=Object.keys(e);s<a.length;s++)switch(a[s]){case"width":this.tooltipEle&&n&&(this.tooltipEle.style.width=this.tooltipEle.style.maxWidth=$(e.width),this.reposition(n));break;case"height":this.tooltipEle&&n&&(this.tooltipEle.style.height=$(e.height),this.reposition(n));break;case"content":this.tooltipEle&&this.renderContent();break;case"opensOn":this.unwireEvents(i.opensOn),this.wireEvents(e.opensOn);break;case"position":if(this.formatPosition(),this.tooltipEle&&n){var l=P("."+GC,this.tooltipEle);l&&(l.style.top=l.style.left=null),this.reposition(n)}break;case"tipPointerPosition":this.tooltipEle&&n&&this.reposition(n);break;case"offsetX":if(this.tooltipEle){var h=e.offsetX-i.offsetX;this.tooltipEle.style.left=(parseInt(this.tooltipEle.style.left,10)+h).toString()+"px"}break;case"offsetY":if(this.tooltipEle){var c=e.offsetY-i.offsetY;this.tooltipEle.style.top=(parseInt(this.tooltipEle.style.top,10)+c).toString()+"px"}break;case"cssClass":this.tooltipEle&&(i.cssClass&&M([this.tooltipEle],i.cssClass.split(" ")),e.cssClass&&D([this.tooltipEle],e.cssClass.split(" ")));break;case"enableRtl":this.tooltipEle&&(this.enableRtl?D([this.tooltipEle],"e-rtl"):M([this.tooltipEle],"e-rtl"));break;case"isSticky":this.tooltipEle&&n&&(this.renderCloseIcon(),this.reposition(n));break;case"container":u(this.containerElement)||M([this.containerElement],Z3),this.container=e.container,this.tooltipEle&&n&&(this.appendContainer(this),this.reposition(n))}},t.prototype.open=function(e,i){u(i)&&(i=this.animation.open),u(e)&&(e=this.element),"none"!==e.style.display&&this.showTooltip(e,i)},t.prototype.close=function(e){e||(e=this.animation.close),this.hideTooltip(e)},t.prototype.refresh=function(e){this.tooltipEle&&this.renderContent(e),this.popupObj&&e&&this.reposition(e),u(this.targetsList)||u(this.target)||pe(this.target,this.element).length!==this.targetsList.length&&(this.unwireEvents(this.opensOn),this.wireEvents(this.opensOn))},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.tooltipEle&&me(this.tooltipEle),this.popupObj&&this.popupObj.destroy(),M([this.element],cO),this.unwireEvents(this.opensOn),this.unwireMouseEvents(this.element),this.tooltipEle=null,this.popupObj=null;for(var i=0,n=pe('[data-tooltip-id= "'+this.ctrlId+'_content"]',this.element);i<n.length;i++)this.restoreElement(n[i])},ki([v("auto")],t.prototype,"width",void 0),ki([v("auto")],t.prototype,"height",void 0),ki([v()],t.prototype,"content",void 0),ki([v("body")],t.prototype,"container",void 0),ki([v()],t.prototype,"target",void 0),ki([v("TopCenter")],t.prototype,"position",void 0),ki([v(0)],t.prototype,"offsetX",void 0),ki([v(0)],t.prototype,"offsetY",void 0),ki([v(!0)],t.prototype,"showTipPointer",void 0),ki([v(!0)],t.prototype,"enableHtmlParse",void 0),ki([v(!1)],t.prototype,"windowCollision",void 0),ki([v("Auto")],t.prototype,"tipPointerPosition",void 0),ki([v("Auto")],t.prototype,"opensOn",void 0),ki([v(!1)],t.prototype,"mouseTrail",void 0),ki([v(!1)],t.prototype,"isSticky",void 0),ki([at({},Ede)],t.prototype,"animation",void 0),ki([v(0)],t.prototype,"openDelay",void 0),ki([v(0)],t.prototype,"closeDelay",void 0),ki([v()],t.prototype,"cssClass",void 0),ki([v(!1)],t.prototype,"enableHtmlSanitizer",void 0),ki([v("")],t.prototype,"htmlAttributes",void 0),ki([x()],t.prototype,"beforeRender",void 0),ki([x()],t.prototype,"beforeOpen",void 0),ki([x()],t.prototype,"afterOpen",void 0),ki([x()],t.prototype,"beforeClose",void 0),ki([x()],t.prototype,"afterClose",void 0),ki([x()],t.prototype,"beforeCollision",void 0),ki([x()],t.prototype,"created",void 0),ki([x()],t.prototype,"destroyed",void 0),ki([et],t)}(Yt),Is={},rv="e-spin-show",av="e-spin-hide",eU="e-spin-material",tU="e-spin-material3",iU="e-spin-fabric",nU="e-spin-fluent",sU="e-spin-tailwind",Ade="e-spin-bootstrap",rU="e-spin-bootstrap4",aU="e-spin-bootstrap5",oU="e-spin-high-contrast",XC="e-spinner-pane",gO="e-spinner-inner",ZC="e-path-circle",JC="e-spin-template";function Qa(r,t){var e;if(r.target){var i,n=u(t)?N:t,s=function(r,t){var e=t("div",{}),i=t("div",{});return e.classList.add(XC),i.classList.add(gO),r.appendChild(e),e.appendChild(i),{wrap:e,inner_wrap:i}}(r.target,n);if(!u(r.cssClass)){var a=r.cssClass.split(" ").filter(function(c){return""!==c.trim()});(e=s.wrap.classList).add.apply(e,a)}if(u(r.template)&&u(null)){var l=u(r.type)?function(r){return window.getComputedStyle(r,":after").getPropertyValue("content").replace(/['"]+/g,"")}(s.wrap):r.type;i=function(r,t){var e;switch(t){default:e=30;break;case"Bootstrap4":case"Bootstrap5":e=36}return r=r?parseFloat(r+""):e,"Bootstrap"===t?r:r/2}(u(r.width)?void 0:r.width,l),function(r,t,e,i){var n=t.querySelector("."+gO),s=n.querySelector("svg");switch(u(s)||n.removeChild(s),r){case"Material":!function(r,t,e){var i=yh();Is[""+i]={timeOut:0,type:"Material",radius:t},iE(r,i,0,eU),nE(t,r,"Material",eU)}(n,e);break;case"Material3":!function(r,t,e){var i=yh();Is[""+i]={timeOut:0,type:"Material3",radius:t},iE(r,i,0,tU),nE(t,r,"Material3",tU)}(n,e);break;case"Fabric":!function(r,t,e){var i=yh();Is[""+i]={timeOut:0,type:"Fabric",radius:t},tE(r,i,iU),sE(t,r,iU)}(n,e);break;case"Fluent":!function(r,t,e){var i=yh();Is[""+i]={timeOut:0,type:"Fluent",radius:t},tE(r,i,nU),sE(t,r,nU)}(n,e);break;case"Bootstrap":!function(r,t,e){var i=yh();Is[""+i]={timeOut:0,type:"Bootstrap",radius:t},function(r,t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=64,s=32,a=2;i.setAttribute("id",t),i.setAttribute("class",Ade),i.setAttribute("viewBox","0 0 "+n+" "+n),r.insertBefore(i,r.firstChild);for(var o=0;o<=7;o++){var l=document.createElementNS("http://www.w3.org/2000/svg","circle");l.setAttribute("class",ZC+"_"+o),l.setAttribute("r",a+""),l.setAttribute("transform","translate("+s+","+s+")"),i.appendChild(l)}}(r,i),function(r,t){var e=r.querySelector("svg.e-spin-bootstrap"),i=0,n=0,s=24;e.style.width=e.style.height=t+"px";for(var a=90,o=0;o<=7;o++){var l=vO(i,n,s,a),h=e.querySelector("."+ZC+"_"+o);h.setAttribute("cx",l.x+""),h.setAttribute("cy",l.y+""),a=a>=360?0:a,a+=45}}(r,t)}(n,e);break;case"HighContrast":!function(r,t,e){var i=yh();Is[""+i]={timeOut:0,type:"HighContrast",radius:t},tE(r,i,oU),sE(t,r,oU)}(n,e);break;case"Bootstrap4":!function(r,t,e){var i=yh();Is[""+i]={timeOut:0,type:"Bootstrap4",radius:t},iE(r,i,0,rU),nE(t,r,"Bootstrap4",rU)}(n,e);break;case"Bootstrap5":!function(r,t,e){var i=yh();Is[""+i]={timeOut:0,type:"Bootstrap5",radius:t},iE(r,i,0,aU),nE(t,r,"Bootstrap5",aU)}(n,e);break;case"Tailwind":case"Tailwind-dark":!function(r,t,e){var i=yh();Is[""+i]={timeOut:0,type:"Tailwind",radius:t},tE(r,i,sU),sE(t,r,sU)}(n,e)}}(l,s.wrap,i),u(r.label)||function(r,t,e){var i=e("div",{});i.classList.add("e-spin-label"),i.innerHTML=t,r.appendChild(i)}(s.inner_wrap,r.label,n)}else{var o=u(r.template)?null:r.template;s.wrap.classList.add(JC),function(r,t,e){u(e)||r.classList.add(e),r.querySelector(".e-spinner-inner").innerHTML=t}(s.wrap,o,null)}s.wrap.classList.add(av),s=null}}function qde(r,t){var e=[],i=r,n=t,s=!1,a=1;return function o(l){e.push(l),(l!==n||1===a)&&(l<=i&&l>1&&!s?l=parseFloat((l-.2).toFixed(2)):1===l?(l=7,l=parseFloat((l+.2).toFixed(2)),s=!0):l<8&&s?8===(l=parseFloat((l+.2).toFixed(2)))&&(s=!1):l<=8&&!s&&(l=parseFloat((l-.2).toFixed(2))),++a,o(l))}(i),e}function yh(){for(var r="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=0;e<5;e++)r+=t.charAt(Math.floor(Math.random()*t.length));return r}function tE(r,t,e,i){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("id",t),n.setAttribute("class",e);var s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("class",ZC);var a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("class","e-path-arc"),r.insertBefore(n,r.firstChild),n.appendChild(s),n.appendChild(a)}function iE(r,t,e,i){var n=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("class",i),n.setAttribute("id",t),s.setAttribute("class",ZC),r.insertBefore(n,r.firstChild),n.appendChild(s)}function cU(r){var e,i,a,o,l,c,d,p;e=Jde,i=1333,a=r,o=++a.globalInfo[a.uniqueID].previousId,l=(new Date).getTime(),c=function(r){return parseFloat(r)}(2*a.globalInfo[a.uniqueID].radius+""),d=uU(c),p=-90*(a.globalInfo[a.uniqueID].count||0),function f(g){var y=Math.max(0,Math.min((new Date).getTime()-l,i));(function(g,y){if(!u(y.querySelector("svg.e-spin-material"))||!u(y.querySelector("svg.e-spin-material3"))){var C=void 0;if(u(y.querySelector("svg.e-spin-material"))||u(y.querySelector("svg.e-spin-material").querySelector("path.e-path-circle"))?!u(y.querySelector("svg.e-spin-material3"))&&!u(y.querySelector("svg.e-spin-material3").querySelector("path.e-path-circle"))&&(C=y.querySelector("svg.e-spin-material3")):C=y.querySelector("svg.e-spin-material"),!u(C)){var E=C.querySelector("path.e-path-circle");E.setAttribute("stroke-dashoffset",dU(c,d,g,75)+""),E.setAttribute("transform","rotate("+p+" "+c/2+" "+c/2+")")}}})(e(y,1,148,i),g.container),o===g.globalInfo[g.uniqueID].previousId&&y<i?Is[g.uniqueID].timeOut=setTimeout(f.bind(null,g),1):cU(g)}(a),r.globalInfo[r.uniqueID].count=++r.globalInfo[r.uniqueID].count%4}function nE(r,t,e,i){var n=2*r,s=t.querySelector("svg."+i),a=s.querySelector("path.e-path-circle"),o=uU(n),l=n/2+"px";s.setAttribute("viewBox","0 0 "+n+" "+n),s.style.width=s.style.height=n+"px",s.style.transformOrigin=l+" "+l+" "+l,a.setAttribute("d",function(r,t){var e=r/2,i=t/2;return"M"+e+","+i+"A"+(e-i)+","+(e-i)+" 0 1 1 "+i+","+e}(n,o)),("Material"===e||"Material3"===e)&&(a.setAttribute("stroke-width",o+""),a.setAttribute("stroke-dasharray",(n-o)*Math.PI*.75+""),a.setAttribute("stroke-dashoffset",dU(n,o,1,75)+""))}function uU(r){return.1*r}function dU(r,t,e,i){return(r-t)*Math.PI*(3*i/100-e/100)}function Jde(r,t,e,i){var n=(r/=i)*r,s=n*r;return t+e*(6*s*n+-15*n*n+10*s)}function sE(r,t,e){var i=r,n=r,s=2*r,l=t.querySelector("."+e),h=l.querySelector(".e-path-circle"),c=l.querySelector(".e-path-arc"),d=s/2+"px";h.setAttribute("d",function(r,t,e){return["M",r,t,"m",-e,0,"a",e,e,0,1,0,2*e,0,"a",e,e,0,1,0,2*-e,0].join(" ")}(i,n,r)),c.setAttribute("d",function(r,t,e,i,n){var s=vO(r,t,e,45),a=vO(r,t,e,315);return["M",s.x,s.y,"A",e,e,0,0,0,a.x,a.y].join(" ")}(i,n,r)),l.setAttribute("viewBox","0 0 "+s+" "+s),l.style.transformOrigin=d+" "+d+" "+d,l.style.width=l.style.height=s+"px"}function vO(r,t,e,i){var n=(i-90)*Math.PI/180;return{x:r+e*Math.cos(n),y:t+e*Math.sin(n)}}function $r(r){pU(r,!1),r=null}function pU(r,t){var e;if(r)if(r.classList.contains(XC))e=r;else{var i=r.querySelectorAll("."+XC);if(O.isIE){for(var n=0;n<i.length;n++)if(i[n].parentElement&&i[n].parentElement===r){e=i[n];break}}else e=Array.from(i).find(function(h){return h.parentElement===r})||null}if(r&&e){var s=e.querySelector("."+gO);if(t?!e.classList.contains(JC)&&!e.classList.contains(av):!e.classList.contains(JC)&&!e.classList.contains(rv)){var o=e.querySelector("svg");if(u(o))return;var l=o.getAttribute("id");switch(Is[""+l].isAnimate=!t,Is[""+l].type){case"Material":case"Material3":t?clearTimeout(Is[l].timeOut):function(r,t,e){var i={};Is[""+t].timeOut=0,i[""+t]=function(r,t,e,i){return{radius:t,count:0,previousId:0}}(0,e),cU({uniqueID:t,container:r,globalInfo:i,timeOutVar:0})}(s,l,Is[l].radius);break;case"Bootstrap":t?clearTimeout(Is[l].timeOut):function(r){for(var e=r.querySelector("svg.e-spin-bootstrap").getAttribute("id"),i=1;i<=8;i++)s(r.getElementsByClassName("e-path-circle_"+(8===i?0:i))[0],i,0,qde(i,i),e);function s(a,o,l,h,c){var d=0;!function p(f){Is[""+c].isAnimate&&(++d,a.setAttribute("r",f+""),d>=h.length&&(d=0),Is[c].timeOut=setTimeout(p.bind(null,h[d]),18))}(o)}}(s)}}t?$i(e,[av],[rv]):$i(e,[rv],[av]),r=null}}function pr(r){pU(r,!0),r=null}var st,Xe=function(){function r(t){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="","string"==typeof t?this.fromTable=t:t&&t instanceof Array&&(this.lookups=t),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this.lazyLoad=[],this}return r.prototype.setKey=function(t){return this.key=t,this},r.prototype.using=function(t){return this.dataManager=t,this},r.prototype.execute=function(t,e,i,n){return(t=t||this.dataManager)?t.executeQuery(this,e,i,n):oe.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')},r.prototype.executeLocal=function(t){return(t=t||this.dataManager)?t.executeLocal(this):oe.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')},r.prototype.clone=function(){var t=new r;return t.queries=this.queries.slice(0),t.key=this.key,t.isChild=this.isChild,t.dataManager=this.dataManager,t.fromTable=this.fromTable,t.params=this.params.slice(0),t.expands=this.expands.slice(0),t.sortedColumns=this.sortedColumns.slice(0),t.groupedColumns=this.groupedColumns.slice(0),t.subQuerySelector=this.subQuerySelector,t.subQuery=this.subQuery,t.fKey=this.fKey,t.isCountRequired=this.isCountRequired,t.distincts=this.distincts.slice(0),t.lazyLoad=this.lazyLoad.slice(0),t},r.prototype.from=function(t){return this.fromTable=t,this},r.prototype.addParams=function(t,e){return this.params.push("function"==typeof e?{key:t,fn:e}:{key:t,value:e}),this},r.prototype.distinct=function(t){return this.distincts="string"==typeof t?[].slice.call([t],0):t.slice(0),this},r.prototype.expand=function(t){return this.expands="string"==typeof t?[].slice.call([t],0):t.slice(0),this},r.prototype.where=function(t,e,i,n,s,a){e=e?e.toLowerCase():null;var o=null;return"string"==typeof t?o=new ti(t,e,i,n,s,a):t instanceof ti&&(o=t),this.queries.push({fn:"onWhere",e:o}),this},r.prototype.search=function(t,e,i,n,s){return"string"==typeof e&&(e=[e]),(!i||"none"===i)&&(i="contains"),this.queries.push({fn:"onSearch",e:{fieldNames:e,operator:i,searchKey:t,ignoreCase:n,ignoreAccent:s,comparer:oe.fnOperators[i]}}),this},r.prototype.sortBy=function(t,e,i){return this.sortByForeignKey(t,e,i)},r.prototype.sortByForeignKey=function(t,e,i,n){var a,o,s=u(n)?"ascending":n;if("string"==typeof t&&oe.endsWith(t.toLowerCase()," desc")&&(t=t.replace(/ desc$/i,""),e="descending"),(!e||"string"==typeof e)&&(s=e?e.toLowerCase():"ascending",e=oe.fnSort(e)),i){a=r.filterQueries(this.queries,"onSortBy");for(var l=0;l<a.length;l++)if("string"==typeof(o=a[l].e.fieldName)){if(o===t)return this}else if(o instanceof Array)for(var h=0;h<o.length;h++)if(o[h]===t||t.toLowerCase()===o[h]+" desc")return this}return this.queries.push({fn:"onSortBy",e:{fieldName:t,comparer:e,direction:s}}),this},r.prototype.sortByDesc=function(t){return this.sortBy(t,"descending")},r.prototype.group=function(t,e,i){return this.sortBy(t,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:t,comparer:e||null,format:i||null}}),this},r.prototype.page=function(t,e){return this.queries.push({fn:"onPage",e:{pageIndex:t,pageSize:e}}),this},r.prototype.range=function(t,e){return this.queries.push({fn:"onRange",e:{start:t,end:e}}),this},r.prototype.take=function(t){return this.queries.push({fn:"onTake",e:{nos:t}}),this},r.prototype.skip=function(t){return this.queries.push({fn:"onSkip",e:{nos:t}}),this},r.prototype.select=function(t){return"string"==typeof t&&(t=[].slice.call([t],0)),this.queries.push({fn:"onSelect",e:{fieldNames:t}}),this},r.prototype.hierarchy=function(t,e){return this.subQuerySelector=e,this.subQuery=t,this},r.prototype.foreignKey=function(t){return this.fKey=t,this},r.prototype.requiresCount=function(){return this.isCountRequired=!0,this},r.prototype.aggregate=function(t,e){return this.queries.push({fn:"onAggregates",e:{field:e,type:t}}),this},r.filterQueries=function(t,e){return t.filter(function(i){return i.fn===e})},r.filterQueryLists=function(t,e){for(var i=t.filter(function(a){return-1!==e.indexOf(a.fn)}),n={},s=0;s<i.length;s++)n[i[s].fn]||(n[i[s].fn]=i[s].e);return n},r}(),ti=function(){function r(t,e,i,n,s,a){return void 0===n&&(n=!1),this.ignoreAccent=!1,this.isComplex=!1,"string"==typeof t?(this.field=t,this.operator=e.toLowerCase(),this.value=i,this.matchCase=a,this.ignoreCase=n,this.ignoreAccent=s,this.isComplex=!1,this.comparer=oe.fnOperators.processOperator(this.operator)):(t instanceof r&&i instanceof r||i instanceof Array)&&(this.isComplex=!0,this.condition=e.toLowerCase(),this.predicates=[t],this.matchCase=t.matchCase,this.ignoreCase=t.ignoreCase,this.ignoreAccent=t.ignoreAccent,i instanceof Array?[].push.apply(this.predicates,i):this.predicates.push(i)),this}return r.and=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.combinePredicates([].slice.call(t,0),"and")},r.prototype.and=function(t,e,i,n,s){return r.combine(this,t,e,i,"and",n,s)},r.or=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.combinePredicates([].slice.call(t,0),"or")},r.prototype.or=function(t,e,i,n,s){return r.combine(this,t,e,i,"or",n,s)},r.ornot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.combinePredicates([].slice.call(t,0),"or not")},r.prototype.ornot=function(t,e,i,n,s){return r.combine(this,t,e,i,"ornot",n,s)},r.andnot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.combinePredicates([].slice.call(t,0),"and not")},r.prototype.andnot=function(t,e,i,n,s){return r.combine(this,t,e,i,"andnot",n,s)},r.fromJson=function(t){if(t instanceof Array){for(var e=[],i=0,n=t.length;i<n;i++)e.push(this.fromJSONData(t[i]));return e}return this.fromJSONData(t)},r.prototype.validate=function(t){var i,n,e=this.predicates?this.predicates:[];if(!this.isComplex&&this.comparer)return this.condition&&-1!==this.condition.indexOf("not")?(this.condition=""===this.condition.split("not")[0]?void 0:this.condition.split("not")[0],!this.comparer.call(this,oe.getObject(this.field,t),this.value,this.ignoreCase,this.ignoreAccent)):this.comparer.call(this,oe.getObject(this.field,t),this.value,this.ignoreCase,this.ignoreAccent);n=this.condition&&-1!==this.condition.indexOf("not")?-1!==this.condition.indexOf("and"):"and"===this.condition;for(var s=0;s<e.length;s++)if(s>0&&this.condition&&-1!==this.condition.indexOf("not")&&(e[s].condition=e[s].condition?e[s].condition+"not":"not"),i=e[s].validate(t),n){if(!i)return!1}else if(i)return!0;return n},r.prototype.toJson=function(){var t,e;if(this.isComplex){t=[],e=this.predicates;for(var i=0;i<e.length;i++)t.push(e[i].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:t,matchCase:this.matchCase}},r.combinePredicates=function(t,e){if(1===t.length){if(!(t[0]instanceof Array))return t[0];t=t[0]}return new r(t[0],e,t.slice(1))},r.combine=function(t,e,i,n,s,a,o){return e instanceof r?r[s](t,e):"string"==typeof e?r[s](t,new r(e,i,n,a,o)):oe.throwError("Predicate - "+s+" : invalid arguments")},r.fromJSONData=function(t){for(var e=t.predicates||[],i=e.length,n=[],a=0;a<i;a++)n.push(this.fromJSONData(e[a]));return t.isComplex?new r(n[0],t.condition,n.slice(1)):new r(t.field,t.operator,t.value,t.ignoreCase,t.ignoreAccent)},r}(),fU={GroupGuid:"{271bbba0-1ee7}"},oe=function(){function r(){}return r.getValue=function(t,e){return"function"==typeof t?t.call(e||{}):t},r.endsWith=function(t,e){return t.slice&&t.slice(-e.length)===e},r.notEndsWith=function(t,e){return t.slice&&t.slice(-e.length)!==e},r.startsWith=function(t,e){return t.slice(0,e.length)===e},r.notStartsWith=function(t,e){return t.slice(0,e.length)!==e},r.wildCard=function(t,e){var i,n;if(-1!==e.indexOf("[")&&(e=e.split("[").join("[[]")),-1!==e.indexOf("(")&&(e=e.split("(").join("[(]")),-1!==e.indexOf(")")&&(e=e.split(")").join("[)]")),-1!==e.indexOf("\\")&&(e=e.split("\\").join("[\\\\]")),-1!==e.indexOf("*")){"*"!==e.charAt(0)&&(e="^"+e),"*"!==e.charAt(e.length-1)&&(e+="$"),i=e.split("*");for(var s=0;s<i.length;s++)i[s]=-1===i[s].indexOf(".")?i[s]+".*":i[s]+"*";e=i.join("")}return(-1!==e.indexOf("%3f")||-1!==e.indexOf("?"))&&(n=-1!==e.indexOf("%3f")?e.split("%3f"):e.split("?"),e=n.join(".")),new RegExp(e,"g").test(t)},r.like=function(t,e){return-1!==e.indexOf("%")&&("%"===e.charAt(0)&&e.lastIndexOf("%")<2?(e=e.substring(1,e.length),r.startsWith(r.toLowerCase(t),r.toLowerCase(e))):"%"===e.charAt(e.length-1)&&e.indexOf("%")>e.length-3?(e=e.substring(0,e.length-1),r.endsWith(r.toLowerCase(t),r.toLowerCase(e))):(e.lastIndexOf("%")!==e.indexOf("%")&&e.lastIndexOf("%")>e.indexOf("%")+1&&(e=e.substring(e.indexOf("%")+1,e.lastIndexOf("%"))),-1!==t.indexOf(e)))},r.fnSort=function(t){return"ascending"===(t=t?r.toLowerCase(t):"ascending")?this.fnAscending:this.fnDescending},r.fnAscending=function(t,e){return u(t)&&u(e)||null==e?-1:"string"==typeof t?t.localeCompare(e):null==t?1:t-e},r.fnDescending=function(t,e){return u(t)&&u(e)?-1:null==e?1:"string"==typeof t?-1*t.localeCompare(e):null==t?-1:e-t},r.extractFields=function(t,e){for(var i={},n=0;n<e.length;n++)i=this.setValue(e[n],this.getObject(e[n],t),i);return i},r.select=function(t,e){for(var i=[],n=0;n<t.length;n++)i.push(this.extractFields(t[n],e));return i},r.group=function(t,e,i,n,s,a,o){n=n||1;var l=t,h="GroupGuid";if(l.GroupGuid===fU[h]){for(var c=function(S){if(u(s))l[S].items=d.group(l[S].items,e,i,l.level+1,null,a,o),l[S].count=l[S].items.length;else{var w,A=s.filter(function(T){return T.key===l[S].key});w=s.indexOf(A[0]),l[S].items=d.group(l[S].items,e,i,l.level+1,s[w].items,a,o),l[S].count=s[w].count}},d=this,p=0;p<l.length;p++)c(p);return l.childLevels+=1,l}var f={},m=[];m.GroupGuid=fU[h],m.level=n,m.childLevels=0,m.records=l;for(var g=function(S){var w=y.getVal(l,S,e);if(u(a)||(w=a(w,e)),!f[w]&&(f[w]={key:w,count:0,items:[],aggregates:{},field:e},m.push(f[w]),!u(s))){var A=s.filter(function(T){return T.key===f[w].key});f[w].count=A[0].count}f[w].count=u(s)?f[w].count+=1:f[w].count,(!o||o&&i.length)&&f[w].items.push(l[S])},y=this,C=0;C<l.length;C++)g(C);if(i&&i.length){var E=function(S){for(var w={},A=void 0,T=i,k=0;k<i.length;k++)if(A=r.aggregates[i[k].type],u(s))A&&(w[T[k].field+" - "+T[k].type]=A(m[S].items,T[k].field));else{var j=s.filter(function(J){return J.key===m[S].key});A&&(w[T[k].field+" - "+T[k].type]=A(j[0].items,T[k].field))}m[S].aggregates=w};for(C=0;C<m.length;C++)E(C)}if(o&&m.length&&i.length)for(C=0;C<m.length;C++)m[C].items=[];return l.length&&m||l},r.buildHierarchy=function(t,e,i,n,s){var a,o={};for(n.result&&(n=n.result),n.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),a=0;a<n.length;a++)(o[h=this.getObject(t,n[a])]||(o[h]=[])).push(n[a]);for(a=0;a<i.length;a++){var h=this.getObject(s||t,i[a]);i[a][e]=o[h]}},r.getFieldList=function(t,e,i){if(void 0===i&&(i=""),null==e)return this.getFieldList(t,[],i);for(var n=t,a=0,o=Object.keys(t);a<o.length;a++){var l=o[a];"object"!=typeof n[l]||n[l]instanceof Array?e.push(i+l):this.getFieldList(n[l],e,i+l+".")}return e},r.getObject=function(t,e){if(!t)return e;if(e){if(-1===t.indexOf(".")){var i=t.charAt(0).toLowerCase()+t.slice(1),n=t.charAt(0).toUpperCase()+t.slice(1);return u(e[t])?u(e[i])?u(e[n])?null:e[n]:e[i]:e[t]}for(var s=e,a=t.split("."),o=0;o<a.length&&null!=s;o++){if(void 0===(s=s[a[o]])){var l=a[o].charAt(0).toUpperCase()+a[o].slice(1);s=e[l]||e[l.charAt(0).toLowerCase()+l.slice(1)]||null}e=s}return s}},r.setValue=function(t,e,i){var o,h,n=t.toString().split("."),s=i||{},a=s,l=n.length;for(o=0;o<l;o++)h=n[o],o+1===l?a[h]=void 0===e?void 0:e:u(a[h])&&(a[h]={}),a=a[h];return s},r.sort=function(t,e,i){if(t.length<=1)return t;var n=parseInt((t.length/2).toString(),10),s=t.slice(0,n),a=t.slice(n);return s=this.sort(s,e,i),a=this.sort(a,e,i),this.merge(s,a,e,i)},r.ignoreDiacritics=function(t){return"string"!=typeof t?t:t.split("").map(function(n){return n in r.diacritics?r.diacritics[n]:n}).join("")},r.merge=function(t,e,i,n){for(var a,s=[];t.length>0||e.length>0;)a=t.length>0&&e.length>0?n?n(this.getVal(t,0,i),this.getVal(e,0,i),t[0],e[0])<=0?t:e:t[0][i]<t[0][i]?t:e:t.length>0?t:e,s.push(a.shift());return s},r.getVal=function(t,e,i){return i?this.getObject(i,t[e]):t[e]},r.toLowerCase=function(t){return t?"string"==typeof t?t.toLowerCase():t.toString():0===t||!1===t?t.toString():""},r.callAdaptorFunction=function(t,e,i,n){if(e in t){var s=t[e](i,n);u(s)||(i=s)}return i},r.getAddParams=function(t,e,i){var n={};return r.callAdaptorFunction(t,"addParams",{dm:e,query:i,params:i.params,reqParams:n}),n},r.isPlainObject=function(t){return!!t&&t.constructor===Object},r.isCors=function(){var t=null;try{t=new window.XMLHttpRequest}catch(i){}return!!t&&"withCredentials"in t},r.getGuid=function(t){var i;return(t||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(n,s){if("crypto"in window&&"getRandomValues"in crypto){var a=new Uint8Array(1);window.crypto.getRandomValues(a),i=a[0]%16|0}else i=16*Math.random()|0;return"0123456789abcdef"[19===s?3&i|8:i]})},r.isNull=function(t){return null==t},r.getItemFromComparer=function(t,e,i){var n,s,a,o=0,l="string"==typeof r.getVal(t,0,e);if(t.length)for(;u(n)&&o<t.length;)n=r.getVal(t,o,e),a=t[o++];for(;o<t.length;o++)!u(s=r.getVal(t,o,e))&&(l&&(n=+n,s=+s),i(n,s)>0&&(n=s,a=t[o]));return a},r.distinct=function(t,e,i){i=!u(i)&&i;var s,n=[],a={};return t.forEach(function(o,l){(s="object"==typeof t[l]?r.getVal(t,l,e):t[l])in a||(n.push(i?t[l]:s),a[s]=1)}),n},r.processData=function(t,e){var i=this.prepareQuery(t),n=new ye(e);t.requiresCounts&&i.requiresCount();var s=n.executeLocal(i),a={result:t.requiresCounts?s.result:s,count:s.count,aggregates:JSON.stringify(s.aggregates)};return t.requiresCounts?a:s},r.prepareQuery=function(t){var e=this,i=new Xe;return t.select&&i.select(t.select),t.where&&r.parse.parseJson(t.where).filter(function(a){if(u(a.condition))i.where(a.field,a.operator,a.value,a.ignoreCase,a.ignoreAccent);else{var o=[];a.field?o.push(new ti(a.field,a.operator,a.value,a.ignoreCase,a.ignoreAccent)):o=o.concat(e.getPredicate(a.predicates)),"or"===a.condition?i.where(ti.or(o)):"and"===a.condition&&i.where(ti.and(o))}}),t.search&&r.parse.parseJson(t.search).filter(function(a){return i.search(a.key,a.fields,a.operator,a.ignoreCase,a.ignoreAccent)}),t.aggregates&&t.aggregates.filter(function(a){return i.aggregate(a.type,a.field)}),t.sorted&&t.sorted.filter(function(a){return i.sortBy(a.name,a.direction)}),t.skip&&i.skip(t.skip),t.take&&i.take(t.take),t.group&&t.group.filter(function(a){return i.group(a)}),i},r.getPredicate=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];if(n.field)e.push(new ti(n.field,n.operator,n.value,n.ignoreCase,n.ignoreAccent));else{for(var s=[],a=this.getPredicate(n.predicates),o=0,l=Object.keys(a);o<l.length;o++)s.push(a[l[o]]);e.push("or"===n.condition?ti.or(s):ti.and(s))}}return e},r.serverTimezoneOffset=null,r.timeZoneHandling=!0,r.throwError=function(t){try{throw new Error(t)}catch(e){throw e.message+"\n"+e.stack}},r.aggregates={sum:function(t,e){for(var n,i=0,s="number"!=typeof r.getVal(t,0,e),a=0;a<t.length;a++)n=r.getVal(t,a,e),!isNaN(n)&&null!==n&&(s&&(n=+n),i+=n);return i},average:function(t,e){return r.aggregates.sum(t,e)/t.length},min:function(t,e){var i;return"function"==typeof e&&(i=e,e=null),r.getObject(e,r.getItemFromComparer(t,e,i||r.fnAscending))},max:function(t,e){var i;return"function"==typeof e&&(i=e,e=null),r.getObject(e,r.getItemFromComparer(t,e,i||r.fnDescending))},truecount:function(t,e){return new ye(t).executeLocal((new Xe).where(e,"equal",!0,!0)).length},falsecount:function(t,e){return new ye(t).executeLocal((new Xe).where(e,"equal",!1,!0)).length},count:function(t,e){return t.length}},r.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},r.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},r.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof",doesnotendwith:"not endswith",doesnotstartwith:"not startswith",doesnotcontain:"not substringof",wildcard:"wildcard",like:"like"},r.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains",doesnotendwith:"not endswith",doesnotstartwith:"not startswith",doesnotcontain:"not contains",wildcard:"wildcard",like:"like"},r.diacritics={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"},r.fnOperators={equal:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?r.toLowerCase(t)===r.toLowerCase(e):t===e},notequal:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),!r.fnOperators.equal(t,e,i)},lessthan:function(t,e,i){return i?r.toLowerCase(t)<r.toLowerCase(e):(u(t)&&(t=void 0),t<e)},greaterthan:function(t,e,i){return i?r.toLowerCase(t)>r.toLowerCase(e):t>e},lessthanorequal:function(t,e,i){return i?r.toLowerCase(t)<=r.toLowerCase(e):(u(t)&&(t=void 0),t<=e)},greaterthanorequal:function(t,e,i){return i?r.toLowerCase(t)>=r.toLowerCase(e):t>=e},contains:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?!u(t)&&!u(e)&&-1!==r.toLowerCase(t).indexOf(r.toLowerCase(e)):!u(t)&&!u(e)&&-1!==t.toString().indexOf(e)},doesnotcontain:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?!u(t)&&!u(e)&&-1===r.toLowerCase(t).indexOf(r.toLowerCase(e)):!u(t)&&!u(e)&&-1===t.toString().indexOf(e)},isnotnull:function(t){return null!=t},isnull:function(t){return null==t},startswith:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?t&&e&&r.startsWith(r.toLowerCase(t),r.toLowerCase(e)):t&&e&&r.startsWith(t,e)},doesnotstartwith:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?t&&e&&r.notStartsWith(r.toLowerCase(t),r.toLowerCase(e)):t&&e&&r.notStartsWith(t,e)},like:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?t&&e&&r.like(r.toLowerCase(t),r.toLowerCase(e)):t&&e&&r.like(t,e)},isempty:function(t){return void 0===t||""===t},isnotempty:function(t){return void 0!==t&&""!==t},wildcard:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?(t||"boolean"==typeof t)&&e&&"object"!=typeof t&&r.wildCard(r.toLowerCase(t),r.toLowerCase(e)):(t||"boolean"==typeof t)&&e&&r.wildCard(t,e)},endswith:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?t&&e&&r.endsWith(r.toLowerCase(t),r.toLowerCase(e)):t&&e&&r.endsWith(t,e)},doesnotendwith:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?t&&e&&r.notEndsWith(r.toLowerCase(t),r.toLowerCase(e)):t&&e&&r.notEndsWith(t,e)},processSymbols:function(t){var e=r.operatorSymbols[t];return e?r.fnOperators[e]:r.throwError("Query - Process Operator : Invalid operator")},processOperator:function(t){return r.fnOperators[t]||r.fnOperators.processSymbols(t)}},r.parse={parseJson:function(t){return"string"!=typeof t||!/^[\s]*\[|^[\s]*\{(.)+:/g.test(t)&&-1!==t.indexOf('"')?t instanceof Array?r.parse.iterateAndReviveArray(t):"object"==typeof t&&null!==t&&r.parse.iterateAndReviveJson(t):t=JSON.parse(t,r.parse.jsonReviver),t},iterateAndReviveArray:function(t){for(var e=0;e<t.length;e++)"object"==typeof t[e]&&null!==t[e]?r.parse.iterateAndReviveJson(t[e]):t[e]="string"!=typeof t[e]||/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(t[e])&&-1!==t[e].toString().indexOf('"')?r.parse.parseJson(t[e]):r.parse.jsonReviver("",t[e])},iterateAndReviveJson:function(t){for(var e,n=0,s=Object.keys(t);n<s.length;n++){var a=s[n];r.startsWith(a,"__")||("object"==typeof(e=t[a])?e instanceof Array?r.parse.iterateAndReviveArray(e):e&&r.parse.iterateAndReviveJson(e):t[a]=r.parse.jsonReviver(t[a],e))}},jsonReviver:function(t,e){if("string"==typeof e){var i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(e),n=r.timeZoneHandling?r.serverTimezoneOffset:null;if(i)return r.dateParse.toTimeZone(new Date(parseInt(i[1],10)),n,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(e)){var s=e.indexOf("Z")>-1||e.indexOf("z")>-1,a=e.split(/[^0-9.]/);if(s){if(a[5].indexOf(".")>-1){var o=a[5].split(".");a[5]=o[0],a[6]=new Date(e).getUTCMilliseconds().toString()}else a[6]="00";e=r.dateParse.toTimeZone(new Date(parseInt(a[0],10),parseInt(a[1],10)-1,parseInt(a[2],10),parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5]?a[5]:"00",10),parseInt(a[6],10)),r.serverTimezoneOffset,!1)}else{var l=new Date(parseInt(a[0],10),parseInt(a[1],10)-1,parseInt(a[2],10),parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5]?a[5]:"00",10)),h=parseInt(a[6],10),c=parseInt(a[7],10);if(isNaN(h)&&isNaN(c))return l;e.indexOf("+")>-1?l.setHours(l.getHours()-h,l.getMinutes()-c):l.setHours(l.getHours()+h,l.getMinutes()+c),e=r.dateParse.toTimeZone(l,r.serverTimezoneOffset,!1)}null==r.serverTimezoneOffset&&(e=r.dateParse.addSelfOffset(e))}else if(/^\d{4}-\d{2}-\d{2}$/.test(e))return a=e.split(/[^0-9.]/),new Date(parseInt(a[0],10),parseInt(a[1],10)-1,parseInt(a[2],10))}return e},isJson:function(t){return"string"==typeof t[0]?t:r.parse.parseJson(t)},isGuid:function(t){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(t)},replacer:function(t,e){return r.isPlainObject(t)?r.parse.jsonReplacer(t,e):t instanceof Array?r.parse.arrayReplacer(t):t instanceof Date?r.parse.jsonReplacer({val:t},e).val:t},jsonReplacer:function(t,e){for(var i,s=0,a=Object.keys(t);s<a.length;s++){var o=a[s];if((i=t[o])instanceof Date){var l=i;null==r.serverTimezoneOffset?t[o]=r.dateParse.toTimeZone(l,null).toJSON():(l=new Date(+l+36e5*r.serverTimezoneOffset),t[o]=r.dateParse.toTimeZone(r.dateParse.addSelfOffset(l),null).toJSON())}}return t},arrayReplacer:function(t){for(var e=0;e<t.length;e++)r.isPlainObject(t[e])?t[e]=r.parse.jsonReplacer(t[e]):t[e]instanceof Date&&(t[e]=r.parse.jsonReplacer({date:t[e]}).date);return t},jsonDateReplacer:function(t,e){if("value"===t&&e){if("string"==typeof e){var i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(e);if(i)e=r.dateParse.toTimeZone(new Date(parseInt(i[1],10)),null,!0);else if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(e)){var n=e.split(/[^0-9]/);e=r.dateParse.toTimeZone(new Date(parseInt(n[0],10),parseInt(n[1],10)-1,parseInt(n[2],10),parseInt(n[3],10),parseInt(n[4],10),parseInt(n[5],10)),null,!0)}}if(e instanceof Date)return e=r.dateParse.addSelfOffset(e),null===r.serverTimezoneOffset?r.dateParse.toTimeZone(r.dateParse.addSelfOffset(e),null).toJSON():(e=r.dateParse.toTimeZone(e,e.getTimezoneOffset()/60-r.serverTimezoneOffset,!1)).toJSON()}return e}},r.dateParse={addSelfOffset:function(t){return new Date(+t-6e4*t.getTimezoneOffset())},toUTC:function(t){return new Date(+t+6e4*t.getTimezoneOffset())},toTimeZone:function(t,e,i){if(null===e)return t;var n=i?r.dateParse.toUTC(t):t;return new Date(+n-36e5*e)},toLocalTime:function(t){var e=t,i=-e.getTimezoneOffset(),n=i>=0?"+":"-",s=function(o){var l=Math.floor(Math.abs(o));return(l<10?"0":"")+l};return e.getFullYear()+"-"+s(e.getMonth()+1)+"-"+s(e.getDate())+"T"+s(e.getHours())+":"+s(e.getMinutes())+":"+s(e.getSeconds())+n+s(i/60)+":"+s(i%60)}},r}(),bl=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rpe={GroupGuid:"{271bbba0-1ee7}"},mU=function(){function r(t){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",expand:"expand"},this.type=r,this.dataSource=t,this.pvt={}}return r.prototype.processResponse=function(t,e,i,n){return t},r}(),rE=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return bl(t,r),t.prototype.processQuery=function(e,i){for(var o,l,p,n=e.dataSource.json.slice(0),s=n.length,a=!0,h={},c=0,d=[],f=0;f<i.lazyLoad.length;f++)c++,h[i.lazyLoad[f].key]=i.lazyLoad[f].value;var m={};for(f=0;f<i.queries.length;f++)"onPage"!==(l=i.queries[f]).fn&&"onGroup"!==l.fn||!i.lazyLoad.length?(o=this[l.fn].call(this,n,l.e,i),"onAggregates"===l.fn?m[l.e.field+" - "+l.e.type]=o:n=void 0!==o?o:n,("onPage"===l.fn||"onSkip"===l.fn||"onTake"===l.fn||"onRange"===l.fn)&&(a=!1),a&&(s=n.length)):("onGroup"===l.fn&&d.push(l.e),"onPage"===l.fn&&(p=l.e));if(c){var y=this.lazyLoadGroup({query:i,lazyLoad:h,result:n,group:d,page:p});n=y.result,s=y.count}return i.isCountRequired&&(n={result:n,count:s,aggregates:m}),n},t.prototype.lazyLoadGroup=function(e){var i=0,n=this.getAggregate(e.query),s=e.result;if(u(e.lazyLoad.onDemandGroupInfo)){i=(s=oe.group(s,e.group[0].fieldName,n,null,null,e.group[0].comparer,!0)).length;var h=s;e.page&&(s=this.onPage(s,e.page,e.query)),this.formGroupResult(s,h)}else{for(var a=e.lazyLoad.onDemandGroupInfo,o=a.where.length-1;o>=0;o--)s=this.onWhere(s,a.where[o]);e.group.length!==a.level&&(s=oe.group(s,e.group[a.level].fieldName,n,null,null,e.group[0].comparer,!0)),i=s.length,h=s,s=(s=s.slice(a.skip)).slice(0,a.take),e.group.length!==a.level&&this.formGroupResult(s,h)}return{result:s,count:i}},t.prototype.formGroupResult=function(e,i){if(e.length&&i.length){var n="GroupGuid",s="childLevels",a="level",o="records";e[n]=i[n],e[s]=i[s],e[a]=i[a],e[o]=i[o]}return e},t.prototype.getAggregate=function(e){var i=Xe.filterQueries(e.queries,"onAggregates"),n=[];if(i.length)for(var s=void 0,a=0;a<i.length;a++)n.push({type:(s=i[a].e).type,field:oe.getValue(s.field,e)});return n},t.prototype.batchRequest=function(e,i,n){var s,a=i.deletedRecords.length;for(s=0;s<i.addedRecords.length;s++)this.insert(e,i.addedRecords[s]);for(s=0;s<i.changedRecords.length;s++)this.update(e,n.key,i.changedRecords[s]);for(s=0;s<a;s++)this.remove(e,n.key,i.deletedRecords[s]);return i},t.prototype.onWhere=function(e,i){return e&&e.length?e.filter(function(n){if(i)return i.validate(n)}):e},t.prototype.onAggregates=function(e,i){var n=oe.aggregates[i.type];return e&&n&&0!==e.length?n(e,i.field):null},t.prototype.onSearch=function(e,i){return e&&e.length?(0===i.fieldNames.length&&oe.getFieldList(e[0],i.fieldNames),e.filter(function(n){for(var s=0;s<i.fieldNames.length;s++)if(i.comparer.call(n,oe.getObject(i.fieldNames[s],n),i.searchKey,i.ignoreCase,i.ignoreAccent))return!0;return!1})):e},t.prototype.onSortBy=function(e,i,n){if(!e||!e.length)return e;var s,a=oe.getValue(i.fieldName,n);if(!a)return e.sort(i.comparer);if(a instanceof Array){for(var o=(a=a.slice(0)).length-1;o>=0;o--)!a[o]||(s=i.comparer,oe.endsWith(a[o]," desc")&&(s=oe.fnSort("descending"),a[o]=a[o].replace(" desc","")),e=oe.sort(e,a[o],s));return e}return oe.sort(e,a,i.comparer)},t.prototype.onGroup=function(e,i,n){if(!e||!e.length)return e;var s=this.getAggregate(n);return oe.group(e,oe.getValue(i.fieldName,n),s,null,null,i.comparer)},t.prototype.onPage=function(e,i,n){var s=oe.getValue(i.pageSize,n),a=(oe.getValue(i.pageIndex,n)-1)*s;return e&&e.length?e.slice(a,a+s):e},t.prototype.onRange=function(e,i){return e&&e.length?e.slice(oe.getValue(i.start),oe.getValue(i.end)):e},t.prototype.onTake=function(e,i){return e&&e.length?e.slice(0,oe.getValue(i.nos)):e},t.prototype.onSkip=function(e,i){return e&&e.length?e.slice(oe.getValue(i.nos)):e},t.prototype.onSelect=function(e,i){return e&&e.length?oe.select(e,oe.getValue(i.fieldNames)):e},t.prototype.insert=function(e,i,n,s,a){return u(a)?e.dataSource.json.push(i):e.dataSource.json.splice(a,0,i)},t.prototype.remove=function(e,i,n,s){var o,a=e.dataSource.json;for("object"==typeof n&&!(n instanceof Date)&&(n=oe.getObject(i,n)),o=0;o<a.length&&oe.getObject(i,a[o])!==n;o++);return o!==a.length?a.splice(o,1):null},t.prototype.update=function(e,i,n,s){var o,l,a=e.dataSource.json;for(u(i)||(l=_(i,n)),o=0;o<a.length&&(u(i)||_(i,a[o])!==l);o++);return o<a.length?ls(a[o],n):null},t}(mU),Tc=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return bl(t,r),t.prototype.processQuery=function(e,i,n){var h,c,s=this.getQueryRequest(i),a=Xe.filterQueryLists(i.queries,["onSelect","onPage","onSkip","onTake","onRange"]),o=i.params,l=e.dataSource.url,d=null,p=this.options,f={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in a?c=((c=oe.getValue((h=a.onPage).pageIndex,i))-1)*(d=oe.getValue(h.pageSize,i)):"onRange"in a&&(c=(h=a.onRange).start,d=h.end-h.start);for(var m=0;m<s.sorts.length;m++)h=oe.getValue(s.sorts[m].e.fieldName,i),f.sorts.push(oe.callAdaptorFunction(this,"onEachSort",{name:h,direction:s.sorts[m].e.direction},i));for(n&&(h=this.getFiltersFrom(n,i))&&f.filters.push(oe.callAdaptorFunction(this,"onEachWhere",h.toJson(),i)),m=0;m<s.filters.length;m++){var g=oe.callAdaptorFunction(this,"onEachWhere",s.filters[m].e.toJson(),i);this.getModuleName&&"ODataV4Adaptor"===this.getModuleName()&&!u(s.filters[m].e.key)&&s.filters.length>1&&(g="("+g+")"),f.filters.push(g);for(var C=0,E="object"==typeof f.filters[m]?Object.keys(f.filters[m]):[];C<E.length;C++)oe.isNull(f[S=E[C]])&&delete f[S]}for(m=0;m<s.searches.length;m++)f.searches.push(oe.callAdaptorFunction(this,"onEachSearch",{fields:(h=s.searches[m].e).fieldNames,operator:h.operator,key:h.searchKey,ignoreCase:h.ignoreCase},i));for(m=0;m<s.groups.length;m++)f.groups.push(oe.getValue(s.groups[m].e.fieldName,i));for(m=0;m<s.aggregates.length;m++)f.aggregates.push({type:(h=s.aggregates[m].e).type,field:oe.getValue(h.field,i)});var w={};if(this.getRequestQuery(p,i,a,f,w),oe.callAdaptorFunction(this,"addParams",{dm:e,query:i,params:o,reqParams:w}),i.lazyLoad.length)for(m=0;m<i.lazyLoad.length;m++)w[i.lazyLoad[m].key]=i.lazyLoad[m].value;for(var T=0,k=Object.keys(w);T<k.length;T++){var S;(oe.isNull(w[S=k[T]])||""===w[S]||0===w[S].length)&&delete w[S]}(!(p.skip in w)||!(p.take in w))&&null!==d&&(w[p.skip]=oe.callAdaptorFunction(this,"onSkip",c,i),w[p.take]=oe.callAdaptorFunction(this,"onTake",d,i));var j=this.pvt;return this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(w,oe.parse.jsonDateReplacer),url:l,pvtData:j,type:"POST",contentType:"application/json; charset=utf-8"}:(h=this.convertToQueryString(w,i,e),{type:"GET",url:(h=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+h).length?l.replace(/\/*$/,h):l,pvtData:j})},t.prototype.getRequestQuery=function(e,i,n,s,a){var l=a;l[e.from]=i.fromTable,e.apply&&i.distincts.length&&(l[e.apply]="onDistinct"in this?oe.callAdaptorFunction(this,"onDistinct",i.distincts):""),!i.distincts.length&&e.expand&&(l[e.expand]="onExpand"in this&&"onSelect"in n?oe.callAdaptorFunction(this,"onExpand",{selects:oe.getValue(n.onSelect.fieldNames,i),expands:i.expands},i):i.expands),l[e.select]="onSelect"in n&&!i.distincts.length?oe.callAdaptorFunction(this,"onSelect",oe.getValue(n.onSelect.fieldNames,i),i):"",l[e.count]=i.isCountRequired?oe.callAdaptorFunction(this,"onCount",i.isCountRequired,i):"",l[e.search]=s.searches.length?oe.callAdaptorFunction(this,"onSearch",s.searches,i):"",l[e.skip]="onSkip"in n?oe.callAdaptorFunction(this,"onSkip",oe.getValue(n.onSkip.nos,i),i):"",l[e.take]="onTake"in n?oe.callAdaptorFunction(this,"onTake",oe.getValue(n.onTake.nos,i),i):"",l[e.where]=s.filters.length||s.searches.length?oe.callAdaptorFunction(this,"onWhere",s.filters,i):"",l[e.sortBy]=s.sorts.length?oe.callAdaptorFunction(this,"onSortBy",s.sorts,i):"",l[e.group]=s.groups.length?oe.callAdaptorFunction(this,"onGroup",s.groups,i):"",l[e.aggregates]=s.aggregates.length?oe.callAdaptorFunction(this,"onAggregates",s.aggregates,i):"",l.param=[]},t.prototype.convertToQueryString=function(e,i,n){return""},t.prototype.processResponse=function(e,i,n,s,a,o){if(s&&s.headers.get("Content-Type")&&-1!==s.headers.get("Content-Type").indexOf("application/json")){var l=oe.timeZoneHandling;i&&!i.timeZoneHandling&&(oe.timeZoneHandling=!1),e=oe.parse.parseJson(e),oe.timeZoneHandling=l}var h=a,c=h.pvtData||{},d=e?e.groupDs:[];if(s&&s.headers.get("Content-Type")&&-1!==s.headers.get("Content-Type").indexOf("xml"))return n.isCountRequired?{result:[],count:0}:[];var p=JSON.parse(h.data);if(p&&"batch"===p.action&&e&&e.addedRecords)return o.addedRecords=e.addedRecords,o;e&&e.d&&(e=e.d);var f={};e&&"count"in e&&(f.count=e.count),f.result=e&&e.result?e.result:e;var m=!1;if(Array.isArray(e.result)&&e.result.length&&(u(e.result[0].key)||(f.result=this.formRemoteGroupedData(f.result,1,c.groups.length-1)),n&&n.lazyLoad.length&&c.groups.length))for(var E=0;E<n.lazyLoad.length;E++)"onDemandGroupInfo"===n.lazyLoad[E].key&&c.groups.length===n.lazyLoad[E].value.level&&(m=!0);return m||this.getAggregateResult(c,e,f,d,n),oe.isNull(f.count)?f.result:{result:f.result,count:f.count,aggregates:f.aggregates}},t.prototype.formRemoteGroupedData=function(e,i,n){for(var s=0;s<e.length;s++)e[s].items.length&&Object.keys(e[s].items[0]).indexOf("key")>-1&&this.formRemoteGroupedData(e[s].items,i+1,n-1);var a="GroupGuid",h="records";return e[a]=rpe[a],e.level=i,e.childLevels=n,e[h]=e[0].items.length?this.getGroupedRecords(e,!u(e[0].items[h])):[],e},t.prototype.getGroupedRecords=function(e,i){for(var n=[],a=0;a<e.length;a++)if(i)n=n.concat(e[a].items.records);else for(var o=0;o<e[a].items.length;o++)n.push(e[a].items[o]);return n},t.prototype.onGroup=function(e){return this.pvt.groups=e,e},t.prototype.onAggregates=function(e){this.pvt.aggregates=e},t.prototype.batchRequest=function(e,i,n,s,a){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(z({},{changed:i.changedRecords,added:i.addedRecords,deleted:i.deletedRecords,action:"batch",table:n[void 0],key:n[void 0]},oe.getAddParams(this,e,s)))}},t.prototype.beforeSend=function(e,i){},t.prototype.insert=function(e,i,n,s){return{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(z({},{value:i,table:n,action:"insert"},oe.getAddParams(this,e,s)))}},t.prototype.remove=function(e,i,n,s,a){return{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(z({},{key:n,keyColumn:i,table:s,action:"remove"},oe.getAddParams(this,e,a)))}},t.prototype.update=function(e,i,n,s,a){return{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(z({},{value:n,action:"update",keyColumn:i,key:oe.getObject(i,n),table:s},oe.getAddParams(this,e,a)))}},t.prototype.getFiltersFrom=function(e,i){var s,n=i.fKey,a=n,o=i.key,l=[];"object"!=typeof e[0]&&(a=null);for(var h=0;h<e.length;h++)s="object"==typeof e[0]?oe.getObject(o||a,e[h]):e[h],l.push(new ti(n,"equal",s));return ti.or(l)},t.prototype.getAggregateResult=function(e,i,n,s,a){var o=i;if(i&&i.result&&(o=i.result),e&&e.aggregates&&e.aggregates.length){var l=e.aggregates,h=void 0,c=o,d={};i.aggregate&&(c=i.aggregate);for(var p=0;p<l.length;p++)(h=oe.aggregates[l[p].type])&&(d[l[p].field+" - "+l[p].type]=h(c,l[p].field));n.aggregates=d}var m=Array.isArray(i.result)&&i.result.length&&!u(i.result[0].key);if(e&&e.groups&&e.groups.length&&!m){var g=e.groups;for(p=0;p<g.length;p++){u(s)||(s=oe.group(s,g[p]));var C=Xe.filterQueries(a.queries,"onGroup")[p].e;o=oe.group(o,g[p],e.aggregates,null,s,C.comparer)}n.result=o}return n},t.prototype.getQueryRequest=function(e){var i={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return i.sorts=Xe.filterQueries(e.queries,"onSortBy"),i.groups=Xe.filterQueries(e.queries,"onGroup"),i.filters=Xe.filterQueries(e.queries,"onWhere"),i.searches=Xe.filterQueries(e.queries,"onSearch"),i.aggregates=Xe.filterQueries(e.queries,"onAggregates"),i},t.prototype.addParams=function(e){var i=e.reqParams;e.params.length&&(i.params={});for(var n=0,s=e.params;n<s.length;n++){var a=s[n];if(i[a.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");i[a.key]=a.value,a.fn&&(i[a.key]=a.fn.call(e.query,a.key,e.query,e.dm)),i.params[a.key]=i[a.key]}},t}(mU),rf=function(r){function t(e){var i=r.call(this)||this;return i.options=z({},i.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),z(i.options,e||{}),i}return bl(t,r),t.prototype.getModuleName=function(){return"ODataAdaptor"},t.prototype.onPredicate=function(e,i,n){var a,o,s="",l=e.value,h=typeof l,c=e.field?t.getField(e.field):null;if(l instanceof Date&&(l="datetime'"+oe.parse.replacer(l)+"'"),"string"===h&&(l=l.replace(/'/g,"''"),e.ignoreCase&&(l=l.toLowerCase()),"like"!==e.operator&&(l=encodeURIComponent(l)),"wildcard"!==e.operator&&"like"!==e.operator&&(l="'"+l+"'"),n&&(c="cast("+c+", 'Edm.String')"),oe.parse.isGuid(l)&&(o="guid"),e.ignoreCase&&(o||(c="tolower("+c+")"),l=l.toLowerCase())),"isempty"===e.operator||"isnull"===e.operator||"isnotempty"===e.operator||"isnotnull"===e.operator?(a=-1!==e.operator.indexOf("isnot")?oe.odBiOperator.notequal:oe.odBiOperator.equal,l="isnull"===e.operator||"isnotnull"===e.operator?null:"''"):a=oe.odBiOperator[e.operator],a)return s+=c,s+=a,o&&(s+=o),s+l;if("like"===(a=u(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?oe.odUniOperator[e.operator]:oe.odv4UniOperator[e.operator]))-1!==(l=l).indexOf("%")&&("%"===l.charAt(0)&&l.lastIndexOf("%")<2?(l=l.substring(1,l.length),a=u(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?oe.odUniOperator.startswith:oe.odv4UniOperator.startswith):"%"===l.charAt(l.length-1)&&l.indexOf("%")>l.length-3?(l=l.substring(0,l.length-1),a=u(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?oe.odUniOperator.endswith:oe.odv4UniOperator.endswith):l.lastIndexOf("%")!==l.indexOf("%")&&l.lastIndexOf("%")>l.indexOf("%")+1?(l=l.substring(l.indexOf("%")+1,l.lastIndexOf("%")),a=u(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?oe.odUniOperator.contains:oe.odv4UniOperator.contains):a=u(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?oe.odUniOperator.contains:oe.odv4UniOperator.contains),l="'"+(l=encodeURIComponent(l))+"'";else if("wildcard"===a)if(-1!==(l=l).indexOf("*")){var d=l.split("*"),p=void 0,f=0;if(0!==l.indexOf("*")&&-1===d[0].indexOf("%3f")&&-1===d[0].indexOf("?")&&(p="'"+(p=d[0])+"'",s+=(a=u(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?oe.odUniOperator.startswith:oe.odv4UniOperator.startswith)+"(",s+=c+",",o&&(s+=o),s+=p+")",f++),l.lastIndexOf("*")!==l.length-1&&-1===d[d.length-1].indexOf("%3f")&&-1===d[d.length-1].indexOf("?")&&(p="'"+(p=d[d.length-1])+"'",f>0&&(s+=" and "),s+=(a=u(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?oe.odUniOperator.endswith:oe.odv4UniOperator.endswith)+"(",s+=c+",",o&&(s+=o),s+=p+")",f++),d.length>2)for(var m=1;m<d.length-1;m++)if(-1===d[m].indexOf("%3f")&&-1===d[m].indexOf("?")){if(p="'"+(p=d[m])+"'",f>0&&(s+=" and "),"substringof"===(a=u(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?oe.odUniOperator.contains:oe.odv4UniOperator.contains)||"not substringof"===a){var g=p;p=c,c=g}s+=a+"(",s+=c+",",o&&(s+=o),s+=p+")",f++}0===f?(a=u(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?oe.odUniOperator.contains:oe.odv4UniOperator.contains,(-1!==l.indexOf("?")||-1!==l.indexOf("%3f"))&&(l=-1!==l.indexOf("?")?l.split("?").join(""):l.split("%3f").join("")),l="'"+l+"'"):a="wildcard"}else a=u(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?oe.odUniOperator.contains:oe.odv4UniOperator.contains,(-1!==l.indexOf("?")||-1!==l.indexOf("%3f"))&&(l=-1!==l.indexOf("?")?l.split("?").join(""):l.split("%3f").join("")),l="'"+l+"'";return"substringof"!==a&&"not substringof"!==a||(g=l,l=c,c=g),"wildcard"!==a&&(s+=a+"(",s+=c+",",o&&(s+=o),s+=l+")"),s},t.prototype.addParams=function(e){r.prototype.addParams.call(this,e),delete e.reqParams.params},t.prototype.onComplexPredicate=function(e,i,n){for(var s=[],a=0;a<e.predicates.length;a++)s.push("("+this.onEachWhere(e.predicates[a],i,n)+")");return s.join(" "+e.condition+" ")},t.prototype.onEachWhere=function(e,i,n){return e.isComplex?this.onComplexPredicate(e,i,n):this.onPredicate(e,i,n)},t.prototype.onWhere=function(e){return this.pvt.search&&e.push(this.onEachWhere(this.pvt.search,null,!0)),e.join(" and ")},t.prototype.onEachSearch=function(e){e.fields&&0===e.fields.length&&oe.throwError("Query() - Search : oData search requires list of field names to search");for(var i=this.pvt.search||[],n=0;n<e.fields.length;n++)i.push(new ti(e.fields[n],e.operator,e.key,e.ignoreCase));this.pvt.search=i},t.prototype.onSearch=function(e){return this.pvt.search=ti.or(this.pvt.search),""},t.prototype.onEachSort=function(e){var i=[];if(e.name instanceof Array)for(var n=0;n<e.name.length;n++)i.push(t.getField(e.name[n])+("descending"===e.direction?" desc":""));else i.push(t.getField(e.name)+("descending"===e.direction?" desc":""));return i.join(",")},t.prototype.onSortBy=function(e){return e.reverse().join(",")},t.prototype.onGroup=function(e){return this.pvt.groups=e,[]},t.prototype.onSelect=function(e){for(var i=0;i<e.length;i++)e[i]=t.getField(e[i]);return e.join(",")},t.prototype.onAggregates=function(e){return this.pvt.aggregates=e,""},t.prototype.onCount=function(e){return!0===e?"allpages":""},t.prototype.beforeSend=function(e,i,n){oe.endsWith(n.url,this.options.batch)&&"post"===n.type.toLowerCase()?(i.headers.set("Accept",this.options.multipartAccept),i.headers.set("DataServiceVersion","2.0")):i.headers.set("Accept",this.options.accept),i.headers.set("DataServiceVersion","2.0"),i.headers.set("MaxDataServiceVersion","2.0")},t.prototype.processResponse=function(e,i,n,s,a,o){var l="odata.metadata";if(a&&"GET"===a.type&&!this.rootUrl&&e[l]){var h=e[l].split("/$metadata#");this.rootUrl=h[0],this.resourceTableName=h[1]}if(!u(e.d)){var d=n&&n.isCountRequired?e.d.results:e.d,p="__metadata";if(!u(d))for(var f=0;f<d.length;f++)u(d[f][p])||delete d[f][p]}var m=a&&a.pvtData,g=this.processBatchResponse(e,n,s,a,o);if(g)return g;var y=s&&a.fetchRequest.headers.get("DataServiceVersion"),C=null,E=y&&parseInt(y,10)||2;if(n&&n.isCountRequired){var S="__count";(e[S]||e["odata.count"])&&(C=e[S]||e["odata.count"]),e.d&&(e=e.d),(e[S]||e["odata.count"])&&(C=e[S]||e["odata.count"])}3===E&&e.value&&(e=e.value),e.d&&(e=e.d),E<3&&e.results&&(e=e.results);var w={};return w.count=C,w.result=e,this.getAggregateResult(m,e,w,null,n),oe.isNull(C)?w.result:{result:w.result,count:w.count,aggregates:w.aggregates}},t.prototype.convertToQueryString=function(e,i,n){var s=[],a="table",o=e[a]||"";delete e[a],n.dataSource.requiresFormat&&(e.$format="json");for(var c=0,d=Object.keys(e);c<d.length;c++){var p=d[c];s.push(p+"="+e[p])}return s=s.join("&"),n.dataSource.url&&-1!==n.dataSource.url.indexOf("?")&&!o?s:s.length?o+"?"+s:o||""},t.prototype.localTimeReplacer=function(e,i){for(var n=0,s=u(i)?[]:Object.keys(i);n<s.length;n++){var a=s[n];i[a]instanceof Date&&(i[a]=oe.dateParse.toLocalTime(i[a]))}return i},t.prototype.insert=function(e,i,n){return{url:(e.dataSource.insertUrl||e.dataSource.url).replace(/\/*$/,n?"/"+n:""),data:JSON.stringify(i,this.options.localTime?this.localTimeReplacer:null)}},t.prototype.remove=function(e,i,n,s){var a;return a="string"!=typeof n||oe.parse.isGuid(n)?"("+n+")":"('"+n+"')",{type:"DELETE",url:(e.dataSource.removeUrl||e.dataSource.url).replace(/\/*$/,s?"/"+s:"")+a}},t.prototype.update=function(e,i,n,s,a,o){var l;return"PATCH"===this.options.updateType&&!u(o)&&(n=this.compareAndRemove(n,o,i)),l="string"!=typeof n[i]||oe.parse.isGuid(n[i])?"("+n[i]+")":"('"+n[i]+"')",{type:this.options.updateType,url:(e.dataSource.updateUrl||e.dataSource.url).replace(/\/*$/,s?"/"+s:"")+l,data:JSON.stringify(n,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}},t.prototype.batchRequest=function(e,i,n,s,a){var o=n.guid=oe.getGuid(this.options.batchPre),l=this.rootUrl?this.rootUrl+"/"+this.options.batch:e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);n.url=this.resourceTableName?this.resourceTableName:n.url;var h={url:n.url,key:n.key,cid:1,cSet:oe.getGuid(this.options.changeSet)},c="--"+o+"\n";return c+="Content-Type: multipart/mixed; boundary="+h.cSet.replace("--","")+"\n",this.pvt.changeSet=0,c+=this.generateInsertRequest(i.addedRecords,h,e),c+=this.generateUpdateRequest(i.changedRecords,h,e,a?a.changedRecords:[]),c+=this.generateDeleteRequest(i.deletedRecords,h,e),c+=h.cSet+"--\n",{type:"POST",url:l,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+o,data:c+="--"+o+"--"}},t.prototype.generateDeleteRequest=function(e,i,n){return e?this.generateBodyContent(e,i,{method:"DELETE ",url:function(o,l,h){var c=oe.getObject(h,o[l]);return"number"==typeof c||oe.parse.isGuid(c)?"("+c+")":c instanceof Date?"("+o[l][h].toJSON()+")":"('"+c+"')"},data:function(o,l){return""}},n)+"\n":""},t.prototype.generateInsertRequest=function(e,i,n){return e?this.generateBodyContent(e,i,{method:"POST ",url:function(o,l,h){return""},data:function(o,l){return JSON.stringify(o[l])+"\n\n"}},n):""},t.prototype.generateUpdateRequest=function(e,i,n,s){var a=this;return e?(e.forEach(function(h){return h=a.compareAndRemove(h,s.filter(function(c){return oe.getObject(i.key,c)===oe.getObject(i.key,h)})[0],i.key)}),this.generateBodyContent(e,i,{method:this.options.updateType+" ",url:function(h,c,d){return"number"==typeof h[c][d]||oe.parse.isGuid(h[c][d])?"("+h[c][d]+")":h[c][d]instanceof Date?"("+h[c][d].toJSON()+")":"('"+h[c][d]+"')"},data:function(h,c){return JSON.stringify(h[c])+"\n\n"}},n)):""},t.getField=function(e){return e.replace(/\./g,"/")},t.prototype.generateBodyContent=function(e,i,n,s){for(var a="",o=0;o<e.length;o++)a+="\n"+i.cSet+"\n",a+=this.options.changeSetContent+"\n\n",a+=n.method,"POST "===n.method?a+=(s.dataSource.insertUrl||s.dataSource.crudUrl||i.url)+n.url(e,o,i.key)+" HTTP/1.1\n":"PUT "===n.method||"PATCH "===n.method?a+=(s.dataSource.updateUrl||s.dataSource.crudUrl||i.url)+n.url(e,o,i.key)+" HTTP/1.1\n":"DELETE "===n.method&&(a+=(s.dataSource.removeUrl||s.dataSource.crudUrl||i.url)+n.url(e,o,i.key)+" HTTP/1.1\n"),a+="Accept: "+this.options.accept+"\n",a+="Content-Id: "+this.pvt.changeSet+++"\n",a+=this.options.batchChangeSetContentType+"\n",u(e[o]["@odata.etag"])?a+="\n":(a+="If-Match: "+e[o]["@odata.etag"]+"\n\n",delete e[o]["@odata.etag"]),a+=n.data(e,o);return a},t.prototype.processBatchResponse=function(e,i,n,s,a){if(n&&n.headers.get("Content-Type")&&-1!==n.headers.get("Content-Type").indexOf("xml"))return i.isCountRequired?{result:[],count:0}:[];if(s&&this.options.batch&&oe.endsWith(s.url,this.options.batch)&&"post"===s.type.toLowerCase()){var o=n.headers.get("Content-Type"),l=void 0,h=void 0,c=e+"";if(o=o.substring(o.indexOf("=batchresponse")+1),(c=c.split(o)).length<2)return{};var d=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(c=c[1]);d&&c.replace(d[0],"");for(var f=(c=c.split(d?d[1]:"")).length;f>-1;f--)!/\bContent-ID:/i.test(c[f])||!/\bHTTP.+201/.test(c[f])||(l=parseInt(/\bContent-ID: (\d+)/i.exec(c[f])[1],10),a.addedRecords[l]&&(h=oe.parse.parseJson(/^\{.+\}/m.exec(c[f])[0]),z({},a.addedRecords[l],this.processResponse(h))));return a}return null},t.prototype.compareAndRemove=function(e,i,n){var s=this;return u(i)||Object.keys(e).forEach(function(a){a!==n&&"@odata.etag"!==a&&(oe.isPlainObject(e[a])?(s.compareAndRemove(e[a],i[a]),0===Object.keys(e[a]).filter(function(l){return"@odata.etag"!==l}).length&&delete e[a]):(e[a]===i[a]||e[a]&&i[a]&&e[a].valueOf()===i[a].valueOf())&&delete e[a])}),e},t}(Tc),ape=function(r){function t(){var e=r.call(this)||this;return We("beforeSend",Tc.prototype.beforeSend,e),e}return bl(t,r),t.prototype.insert=function(e,i,n,s,a){return this.pvt.position=a,this.updateType="add",{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(z({},{value:i,table:n,action:"insert"},oe.getAddParams(this,e,s)))}},t.prototype.remove=function(e,i,n,s,a){return r.prototype.remove.call(this,e,i,n),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(z({},{key:n,keyColumn:i,table:s,action:"remove"},oe.getAddParams(this,e,a)))}},t.prototype.update=function(e,i,n,s,a){return this.updateType="update",this.updateKey=i,{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(z({},{value:n,action:"update",keyColumn:i,key:n[i],table:s},oe.getAddParams(this,e,a)))}},t.prototype.processResponse=function(e,i,n,s,a,o,l){var h;if(e="batch"===(a?JSON.parse(a.data):e).action?oe.parse.parseJson(e):e,"add"===this.updateType&&r.prototype.insert.call(this,i,e,null,null,this.pvt.position),"update"===this.updateType&&r.prototype.update.call(this,i,this.updateKey,e),this.updateType=void 0,e.added)for(h=0;h<e.added.length;h++)r.prototype.insert.call(this,i,e.added[h]);if(e.changed)for(h=0;h<e.changed.length;h++)r.prototype.update.call(this,i,l.key,e.changed[h]);if(e.deleted)for(h=0;h<e.deleted.length;h++)r.prototype.remove.call(this,i,l.key,e.deleted[h]);return e},t.prototype.batchRequest=function(e,i,n,s,a){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(z({},{changed:i.changedRecords,added:i.addedRecords,deleted:i.deletedRecords,action:"batch",table:n.url,key:n.key},oe.getAddParams(this,e,s)))}},t.prototype.addParams=function(e){(new Tc).addParams(e)},t}(rE),ope=function(r){function t(e){var i=r.call(this)||this;return i.options=z({},i.options,{getData:new Function,addRecord:new Function,updateRecord:new Function,deleteRecord:new Function,batchUpdate:new Function}),z(i.options,e||{}),i}return bl(t,r),t.prototype.getModuleName=function(){return"CustomDataAdaptor"},t}(Tc),lpe=function(r){function t(e,i,n){var s=r.call(this)||this;s.isCrudAction=!1,s.isInsertAction=!1,u(e)||(s.cacheAdaptor=e),s.pageSize=n,s.guidId=oe.getGuid("cacheAdaptor"),window.localStorage.setItem(s.guidId,JSON.stringify({keys:[],results:[]}));var o=s.guidId;return u(i)||setInterval(function(){for(var l=oe.parse.parseJson(window.localStorage.getItem(o)),h=[],c=0;c<l.results.length;c++){var d=+new Date,p=+new Date(l.results[c].timeStamp);l.results[c].timeStamp=d-p,d-p>i&&h.push(c)}for(c=0;c<h.length;c++)l.results.splice(h[c],1),l.keys.splice(h[c],1);window.localStorage.removeItem(o),window.localStorage.setItem(o,JSON.stringify(l))},i),s}return bl(t,r),t.prototype.generateKey=function(e,i){var n=this.getQueryRequest(i),s=Xe.filterQueryLists(i.queries,["onSelect","onPage","onSkip","onTake","onRange"]),a=e,o="onPage";o in s&&(a+=s[o].pageIndex),n.sorts.forEach(function(p){a+=p.e.direction+p.e.fieldName}),n.groups.forEach(function(p){a+=p.e.fieldName}),n.searches.forEach(function(p){a+=p.e.searchKey});for(var l=0;l<n.filters.length;l++){var h=n.filters[l];if(h.e.isComplex){var c=i.clone();c.queries=[];for(var d=0;d<h.e.predicates.length;d++)c.queries.push({fn:"onWhere",e:h.e.predicates[d],filter:i.queries.filter});a+=h.e.condition+this.generateKey(e,c)}else a+=h.e.field+h.e.operator+h.e.value}return a},t.prototype.processQuery=function(e,i,n){var s=this.generateKey(e.dataSource.url,i),a=oe.parse.parseJson(window.localStorage.getItem(this.guidId)),o=a?a.results[a.keys.indexOf(s)]:null;return null==o||this.isCrudAction||this.isInsertAction?(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):o},t.prototype.processResponse=function(e,i,n,s,a,o){if(this.isInsertAction||a&&this.cacheAdaptor.options.batch&&oe.endsWith(a.url,this.cacheAdaptor.options.batch)&&"post"===a.type.toLowerCase())return this.cacheAdaptor.processResponse(e,i,n,s,a,o);e=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));var l=n?this.generateKey(i.dataSource.url,n):i.dataSource.url,h={},c=(h=oe.parse.parseJson(window.localStorage.getItem(this.guidId))).keys.indexOf(l);for(-1!==c&&(h.results.splice(c,1),h.keys.splice(c,1)),h.results[h.keys.push(l)-1]={keys:l,result:e.result,timeStamp:new Date,count:e.count};h.results.length>this.pageSize;)h.results.splice(0,1),h.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(h)),e},t.prototype.beforeSend=function(e,i,n){!u(this.cacheAdaptor.options.batch)&&oe.endsWith(n.url,this.cacheAdaptor.options.batch)&&"post"===n.type.toLowerCase()&&i.headers.set("Accept",this.cacheAdaptor.options.multipartAccept),e.dataSource.crossDomain||i.headers.set("Accept",this.cacheAdaptor.options.accept)},t.prototype.update=function(e,i,n,s){return this.isCrudAction=!0,this.cacheAdaptor.update(e,i,n,s)},t.prototype.insert=function(e,i,n){return this.isInsertAction=!0,this.cacheAdaptor.insert(e,i,n)},t.prototype.remove=function(e,i,n,s){return this.isCrudAction=!0,this.cacheAdaptor.remove(e,i,n,s)},t.prototype.batchRequest=function(e,i,n){return this.cacheAdaptor.batchRequest(e,i,n)},t}(Tc),ye=function(){function r(t,e,i){var s,n=this;return this.dateParse=!0,this.timeZoneHandling=!0,this.persistQuery={},this.isInitialLoad=!1,this.requests=[],this.isInitialLoad=!0,!t&&!this.dataSource&&(t=[]),i=i||t.adaptor,t&&!1===t.timeZoneHandling&&(this.timeZoneHandling=t.timeZoneHandling),t instanceof Array?s={json:t,offline:!0}:"object"==typeof t?(t.json||(t.json=[]),t.enablePersistence||(t.enablePersistence=!1),t.id||(t.id=""),t.ignoreOnPersist||(t.ignoreOnPersist=[]),s={url:t.url,insertUrl:t.insertUrl,removeUrl:t.removeUrl,updateUrl:t.updateUrl,crudUrl:t.crudUrl,batchUrl:t.batchUrl,json:t.json,headers:t.headers,accept:t.accept,data:t.data,timeTillExpiration:t.timeTillExpiration,cachingPageSize:t.cachingPageSize,enableCaching:t.enableCaching,requestType:t.requestType,key:t.key,crossDomain:t.crossDomain,jsonp:t.jsonp,dataType:t.dataType,offline:void 0!==t.offline?t.offline:!(t.adaptor instanceof ape||t.adaptor instanceof ope||t.url),requiresFormat:t.requiresFormat,enablePersistence:t.enablePersistence,id:t.id,ignoreOnPersist:t.ignoreOnPersist}):oe.throwError("DataManager: Invalid arguments"),void 0===s.requiresFormat&&!oe.isCors()&&(s.requiresFormat=!!u(s.crossDomain)||s.crossDomain),void 0===s.dataType&&(s.dataType="json"),this.dataSource=s,this.defaultQuery=e,this.dataSource.enablePersistence&&this.dataSource.id&&window.addEventListener("unload",this.setPersistData.bind(this)),s.url&&s.offline&&!s.json.length?(this.isDataAvailable=!1,this.adaptor=i||new rf,this.dataSource.offline=!1,this.ready=this.executeQuery(e||new Xe),this.ready.then(function(a){n.dataSource.offline=!0,n.isDataAvailable=!0,s.json=a.result,n.adaptor=new rE})):this.adaptor=s.offline?new rE:new rf,!s.jsonp&&this.adaptor instanceof rf&&(s.jsonp="callback"),this.adaptor=i||this.adaptor,s.enableCaching&&(this.adaptor=new lpe(this.adaptor,s.timeTillExpiration,s.cachingPageSize)),this}return r.prototype.getPersistedData=function(t){var e=localStorage.getItem(t||this.dataSource.id);return JSON.parse(e)},r.prototype.setPersistData=function(t,e,i){localStorage.setItem(e||this.dataSource.id,JSON.stringify(i||this.persistQuery))},r.prototype.setPersistQuery=function(t){var e=this,i=this.getPersistedData();if(this.isInitialLoad&&i&&Object.keys(i).length){this.persistQuery=i,this.persistQuery.queries=this.persistQuery.queries.filter(function(s){if(e.dataSource.ignoreOnPersist&&e.dataSource.ignoreOnPersist.length&&s.fn&&e.dataSource.ignoreOnPersist.some(function(l){return s.fn===l}))return!1;if("onWhere"===s.fn){var a=s.e;if(a&&a.isComplex&&a.predicates instanceof Array){var o=a.predicates.map(function(l){if(l.predicates&&l.predicates instanceof Array){var h=l.predicates.map(function(y){return new ti(y.field,y.operator,y.value,y.ignoreCase,y.ignoreAccent,y.matchCase)});return"and"===l.condition?ti.and(h):ti.or(h)}return new ti(l.field,l.operator,l.value,l.ignoreCase,l.ignoreAccent,l.matchCase)});s.e=new ti(o[0],a.condition,o.slice(1))}}return!0});var n=z(new Xe,this.persistQuery);return this.isInitialLoad=!1,n}return this.persistQuery=t,this.isInitialLoad=!1,t},r.prototype.setDefaultQuery=function(t){return this.defaultQuery=t,this},r.prototype.executeLocal=function(t){!this.defaultQuery&&!(t instanceof Xe)&&oe.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||oe.throwError("DataManager - executeLocal() : Json data is required to execute"),this.dataSource.enablePersistence&&this.dataSource.id&&(t=this.setPersistQuery(t));var e=this.adaptor.processQuery(this,t=t||this.defaultQuery);if(t.subQuery){var i=t.subQuery.fromTable,n=t.subQuery.lookups,s=t.isCountRequired?e.result:e;n&&n instanceof Array&&oe.buildHierarchy(t.subQuery.fKey,i,s,n,t.subQuery.key);for(var a=0;a<s.length;a++)s[a][i]instanceof Array&&(s[a]=z({},{},s[a]),s[a][i]=this.adaptor.processResponse(t.subQuery.using(new r(s[a][i].slice(0))).executeLocal(),this,t))}return this.adaptor.processResponse(e,this,t)},r.prototype.executeQuery=function(t,e,i,n){var s=this,a="makeRequest";this.dataSource.enablePersistence&&this.dataSource.id&&(t=this.setPersistQuery(t)),"function"==typeof t&&(n=i,i=e,e=t,t=null),t||(t=this.defaultQuery),t instanceof Xe||oe.throwError("DataManager - executeQuery() : A query is required to execute");var o=new af,l={query:t};if(!this.dataSource.offline&&void 0!==this.dataSource.url&&""!==this.dataSource.url||!u(this.adaptor[a])||this.isCustomDataAdaptor(this.adaptor)){var h=this.adaptor.processQuery(this,t);u(this.adaptor[a])?!u(h.url)||this.isCustomDataAdaptor(this.adaptor)?(this.requests=[],this.makeRequest(h,o,l,t)):(l=r.getDeferedArgs(t,h,l),o.resolve(l)):this.adaptor[a](h,o,l,t)}else r.nextTick(function(){var c=s.executeLocal(t);l=r.getDeferedArgs(t,c,l),o.resolve(l)});return(e||i)&&o.promise.then(e,i),n&&o.promise.then(n,n),o.promise},r.getDeferedArgs=function(t,e,i){return t.isCountRequired?(i.result=e.result,i.count=e.count,i.aggregates=e.aggregates):i.result=e,i},r.nextTick=function(t){(window.setImmediate||window.setTimeout)(t,0)},r.prototype.extendRequest=function(t,e,i){return z({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:e,onFailure:i},t)},r.prototype.makeRequest=function(t,e,i,n){var s=this,a=!!n.subQuerySelector,o=function(y){i.error=y,e.reject(i)},l=function(y,C,E,S,w,A,T){i.xhr=E,i.count=C?parseInt(C.toString(),10):0,i.result=y,i.request=S,i.aggregates=A,i.actual=w,i.virtualSelectRecords=T,e.resolve(i)},h=function(y,C){var E=new af,S={parent:i};n.subQuery.isChild=!0;var w=s.adaptor.processQuery(s,n.subQuery,y?s.adaptor.processResponse(y):C),A=s.makeRequest(w,E,S,n.subQuery);return a||E.then(function(T){y&&(oe.buildHierarchy(n.subQuery.fKey,n.subQuery.fromTable,y,T,n.subQuery.key),l(y,T.count,T.xhr))},o),A},d=this.extendRequest(t,function(y,C){if(s.isGraphQLAdaptor(s.adaptor)&&!u(y.errors))return o(y.errors);s.isCustomDataAdaptor(s.adaptor)&&(C=z({},s.fetchReqOption,C)),-1===C.contentType.indexOf("xml")&&s.dateParse&&(y=oe.parse.parseJson(y));var E=s.adaptor.processResponse(y,s,n,C.fetchRequest,C),S=0,w=null,T=y.virtualSelectRecords;n.isCountRequired&&(S=E.count,w=E.aggregates,E=E.result),n.subQuery?a||h(E,C):l(E,S,C.fetchRequest,C.type,y,w,T)},o);if(this.isCustomDataAdaptor(this.adaptor))this.fetchReqOption=d,this.adaptor.options.getData({data:d.data,onSuccess:d.onSuccess,onFailure:d.onFailure});else{var p=new WA(d);p.beforeSend=function(){s.beforeSend(p.fetchRequest,p)},(d=p.send()).catch(function(y){return!0}),this.requests.push(p)}if(a){var g=n.subQuerySelector.call(this,{query:n.subQuery,parent:n});g&&g.length?Promise.all([d,h(null,g)]).then(function(){for(var y=[],C=0;C<arguments.length;C++)y[C]=arguments[C];var E=y[0],S=s.adaptor.processResponse(E[0],s,n,s.requests[0].fetchRequest,s.requests[0]),w=0;n.isCountRequired&&(w=S.count,S=S.result);var A=s.adaptor.processResponse(E[1],s,n.subQuery,s.requests[1].fetchRequest,s.requests[1]);w=0,n.subQuery.isCountRequired&&(w=A.count,A=A.result),oe.buildHierarchy(n.subQuery.fKey,n.subQuery.fromTable,S,A,n.subQuery.key),a=!1,l(S,w,s.requests[0].fetchRequest)}):a=!1}return d},r.prototype.beforeSend=function(t,e){this.adaptor.beforeSend(this,t,e);for(var n,i=this.dataSource.headers,s=0;i&&s<i.length;s++){n=[];for(var o=0,l=Object.keys(i[s]);o<l.length;o++){var h=l[o];n.push(h),t.headers.set(h,i[s][h])}}},r.prototype.saveChanges=function(t,e,i,n,s){var a=this;i instanceof Xe&&(n=i,i=null);var o={url:i,key:e||this.dataSource.key},l=this.adaptor.batchRequest(this,t,o,n||new Xe,s),h="dofetchRequest";if(this.dataSource.offline)return l;if(u(this.adaptor[h])){if(this.isCustomDataAdaptor(this.adaptor))return this.dofetchRequest(l,this.adaptor.options.batchUpdate);var c=new af,d=new WA(l);return d.beforeSend=function(){a.beforeSend(d.fetchRequest,d)},d.onSuccess=function(p,f){a.isGraphQLAdaptor(a.adaptor)&&(u(p.errors)||d.onFailure(JSON.stringify(p.errors))),c.resolve(a.adaptor.processResponse(p,a,null,f.fetchRequest,f,t,o))},d.onFailure=function(p){c.reject([{error:p}])},d.send().catch(function(p){return!0}),c.promise}return this.adaptor[h](l)},r.prototype.insert=function(t,e,i,n){e instanceof Xe&&(i=e,e=null);var s=this.adaptor.insert(this,t,e,i,n),a="dofetchRequest";return this.dataSource.offline?s:u(this.adaptor[a])?this.dofetchRequest(s,this.adaptor.options.addRecord):this.adaptor[a](s)},r.prototype.remove=function(t,e,i,n){"object"==typeof e&&(e=oe.getObject(t,e)),i instanceof Xe&&(n=i,i=null);var s=this.adaptor.remove(this,t,e,i,n),a="dofetchRequest";return this.dataSource.offline?s:u(this.adaptor[a])?this.dofetchRequest(s,this.adaptor.options.deleteRecord):this.adaptor[a](s)},r.prototype.update=function(t,e,i,n,s){i instanceof Xe&&(n=i,i=null);var a=this.adaptor.update(this,t,e,i,n,s),o="dofetchRequest";return this.dataSource.offline?a:u(this.adaptor[o])?this.dofetchRequest(a,this.adaptor.options.updateRecord):this.adaptor[o](a)},r.prototype.isCustomDataAdaptor=function(t){return this.adaptor.getModuleName&&"CustomDataAdaptor"===this.adaptor.getModuleName()},r.prototype.isGraphQLAdaptor=function(t){return this.adaptor.getModuleName&&"GraphQLAdaptor"===this.adaptor.getModuleName()},r.prototype.successFunc=function(t,e){if(this.isGraphQLAdaptor(this.adaptor)){var i=JSON.parse(t);u(i.errors)||this.failureFunc(JSON.stringify(i.errors))}this.isCustomDataAdaptor(this.adaptor)&&(e=z({},this.fetchReqOption,e));try{oe.parse.parseJson(t)}catch(n){t=[]}t=this.adaptor.processResponse(oe.parse.parseJson(t),this,null,e.fetchRequest,e),this.fetchDeffered.resolve(t)},r.prototype.failureFunc=function(t){this.fetchDeffered.reject([{error:t}])},r.prototype.dofetchRequest=function(t,e){var i=this;if(t=z({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},t),this.fetchDeffered=new af,this.isCustomDataAdaptor(this.adaptor))this.fetchReqOption=t,e.call(this,{data:t.data,onSuccess:this.successFunc.bind(this),onFailure:this.failureFunc.bind(this)});else{var n=new WA(t);n.beforeSend=function(){i.beforeSend(n.fetchRequest,n)},n.onSuccess=this.successFunc.bind(this),n.onFailure=this.failureFunc.bind(this),n.send().catch(function(s){return!0})}return this.fetchDeffered.promise},r.prototype.clearPersistence=function(){window.removeEventListener("unload",this.setPersistData.bind(this)),this.dataSource.enablePersistence=!1,this.persistQuery={},window.localStorage.setItem(this.dataSource.id,"[]")},r}(),af=function(){return function(){var t=this;this.promise=new Promise(function(e,i){t.resolve=e,t.reject=i}),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}}(),nt={li:"e-list-item",ul:"e-list-parent e-ul",group:"e-list-group-item",icon:"e-list-icon",text:"e-list-text",check:"e-list-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-list-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-list-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"};function js(r,t){var e={};if(u(r)||"string"==typeof r||"number"==typeof r||!u(r.isHeader))return r;for(var i=0,n=Object.keys(t);i<n.length;i++){var a=t[""+n[i]],o=u(a)||"string"!=typeof a?void 0:_(a,r);u(o)||(e[""+a]=o)}return e}function aE(r){if(r)try{return"function"!=typeof r&&document.querySelector(r)?tt(document.querySelector(r).innerHTML.trim()):tt(r)}catch(t){return tt(r)}}!function(r){r.defaultMappedFields={id:"id",text:"text",url:"url",value:"value",isChecked:"isChecked",enabled:"enabled",expanded:"expanded",selected:"selected",iconCss:"iconCss",child:"child",isVisible:"isVisible",hasChildren:"hasChildren",tooltip:"tooltip",htmlAttributes:"htmlAttributes",urlAttributes:"urlAttributes",imageAttributes:"imageAttributes",imageUrl:"imageUrl",groupBy:null,sortBy:null};var t={level:1,listRole:"presentation",itemRole:"presentation",groupItemRole:"group",itemText:"list-item",wrapperRole:"presentation"},e={showCheckBox:!1,showIcon:!1,enableHtmlSanitizer:!1,expandCollapse:!1,fields:r.defaultMappedFields,ariaAttributes:t,listClass:"",itemClass:"",processSubChild:!1,sortOrder:"None",template:null,groupTemplate:null,headerTemplate:null,expandIconClass:"e-icon-collapsible",moduleName:"list",expandIconPosition:"Right",itemNavigable:!1};function n(R,G,H,V,B){return J(R,s(R,G,H,V,B),null,V)}function s(R,G,H,V,B){var F=[],L=z({},e,V);nt=T(L.moduleName);for(var U=S(),ee=0;ee<G.length;ee++)if(!u(G[ee])){var de;L.itemCreating&&"function"==typeof L.itemCreating&&L.itemCreating({dataSource:G,curData:G[ee],text:G[ee],options:L}),de=H?A(R,G[ee],void 0,null,null,[],null,U,ee,V):j(R,G[ee],void 0,null,null,V,B),L.itemCreated&&"function"==typeof L.itemCreated&&L.itemCreated({dataSource:G,curData:G[ee],text:G[ee],item:de,options:L}),F.push(de)}return F}function a(R,G,H,V,B,F){var L=z({},e,H);nt=T(L.moduleName);var de,U=!F||"listview"!==F.getModuleName()&&"multiselect"!==F.getModuleName()?z({},r.defaultMappedFields,L.fields):L.fields,ee=z({},t,L.ariaAttributes),Se=[];V&&(ee.level=V);var we,De,ge=[];G&&G.length&&!u(m(G).item)&&!m(G).item.hasOwnProperty(U.id)&&(de=S());for(var Ge=0;Ge<G.length;Ge++){var Me=js(G[Ge],U);if(!u(G[Ge])){L.itemCreating&&"function"==typeof L.itemCreating&&L.itemCreating({dataSource:G,curData:G[Ge],text:Me[U.text],options:L,fields:U});var Dt=G[Ge];L.itemCreating&&"function"==typeof L.itemCreating&&(Me=js(G[Ge],U)),Me.hasOwnProperty(U.id)&&!u(Me[U.id])&&(de=Me[U.id]);var Je=[];if(L.showCheckBox&&(L.itemNavigable&&(Me[U.url]||Me[U.urlAttributes])?Se.push(R("input",{className:nt.check,attrs:{type:"checkbox"}})):Je.push(R("input",{className:nt.check,attrs:{type:"checkbox"}}))),!0===B)L.showIcon&&Me.hasOwnProperty(U.iconCss)&&!u(Me[U.iconCss])&&Je.push(R("span",{className:nt.icon+" "+Me[U.iconCss]})),De=(we=A(R,Dt,Me,U,L.itemClass,Je,!(!Dt.hasOwnProperty("isHeader")||!Dt.isHeader),de,Ge,H)).querySelector("."+nt.anchorWrap),L.itemNavigable&&Se.length&&Tt(Se,we.firstElementChild);else{if((we=j(R,Dt,Me,U,L.itemClass,H,F)).classList.add(nt.level+"-"+ee.level),we.setAttribute("aria-level",ee.level.toString()),("presentation"==ee.groupItemRole||"presentation"==ee.itemRole)&&we.removeAttribute("aria-level"),De=we.querySelector("."+nt.anchorWrap),Me.hasOwnProperty(U.tooltip)){var bs=Qt.sanitize(Me[U.tooltip]);we.setAttribute("title",bs)}if(Me.hasOwnProperty(U.htmlAttributes)&&Me[U.htmlAttributes]&&g(we,Me[U.htmlAttributes]),Me.hasOwnProperty(U.enabled)&&!1===Me[U.enabled]&&we.classList.add(nt.disabled),Me.hasOwnProperty(U.isVisible)&&!1===Me[U.isVisible]&&(we.style.display="none"),Me.hasOwnProperty(U.imageUrl)&&!u(Me[U.imageUrl])&&!L.template){var Y={src:Me[U.imageUrl]};ls(Y,Me[U.imageAttributes]);var te=R("img",{className:nt.image,attrs:Y});De?De.insertAdjacentElement("afterbegin",te):Tt([te],we.firstElementChild)}if(L.showIcon&&Me.hasOwnProperty(U.iconCss)&&!u(Me[U.iconCss])&&!L.template){var fe=R("div",{className:nt.icon+" "+Me[U.iconCss]});De?De.insertAdjacentElement("afterbegin",fe):Tt([fe],we.firstElementChild)}Je.length&&Tt(Je,we.firstElementChild),L.itemNavigable&&Se.length&&Tt(Se,we.firstElementChild),w(R,Me,U,0,L,we,ee.level)}De&&D([we],[nt.navigable]),L.itemCreated&&"function"==typeof L.itemCreated&&L.itemCreated({dataSource:G,curData:G[Ge],text:Me[U.text],item:we,options:L,fields:U}),Se=[],ge.push(we)}}return ge}function o(R,G,H,V,B,F){var L=z({},e,H);return J(R,a(R,G,H,V,B,F),L.listClass,H)}function h(R,G){if(G&&R)return Array.prototype.slice.call(G).indexOf(R)}function d(R,G,H){if(void 0===H&&(H=new Xe),"Ascending"===R)H.sortBy(G,"ascending",!0);else if("Descending"===R)H.sortBy(G,"descending",!0);else for(var V=0;V<H.queries.length;V++)"onSortBy"===H.queries[V].fn&&H.queries.splice(V,1);return H}function p(R,G){return new ye(R).executeLocal(G)}function m(R){for(var H=0;H<R.length;H++)if(!u(R[H]))return{typeof:typeof R[H],item:R[H]};return{typeof:null,item:null}}function g(R,G){var H={};ls(H,G),H.class&&(D([R],H.class.split(" ")),delete H.class),re(R,H)}function y(R){for(var G={},H=R.attributes,V=0;V<H.length;V++)G[H[V].nodeName]=H[V].nodeValue;return G}function S(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function w(R,G,H,V,B,F,L){var U=G[H.child]||[],ee=G[H.hasChildren];if(U.length&&(ee=!0,F.classList.add(nt.hasChild),B.processSubChild)){var de=o(R,U,B,++L);F.appendChild(de)}B.expandCollapse&&ee&&!B.template&&(F.firstElementChild.classList.add(nt.iconWrapper),("Left"===B.expandIconPosition?Tt:ce)([R("div",{className:"e-icons "+B.expandIconClass})],F.querySelector("."+nt.textContent)))}function A(R,G,H,V,B,F,L,U,ee,de){var Ge,Me,Se=z({},e,de),ge=z({},t,Se.ariaAttributes),we=G,De=G;"string"!=typeof G&&"number"!=typeof G&&"boolean"!=typeof G&&(Ge=G,we="boolean"==typeof H[V.text]||"number"==typeof H[V.text]?H[V.text]:H[V.text]||"",De=H[V.value]),Me=u(Ge)||u(H[V.id])||""===H[V.id]?U+"-"+ee:U;var ht=R("li",{className:(!0===L?nt.group:nt.li)+" "+(u(B)?"":B),id:Me,attrs:""!==ge.groupItemRole&&""!==ge.itemRole?{role:!0===L?ge.groupItemRole:ge.itemRole}:{}});return Ge&&H.hasOwnProperty(V.enabled)&&"false"===H[V.enabled].toString()&&ht.classList.add(nt.disabled),L?ht.innerText=we:(ht.setAttribute("data-value",u(De)?"null":De),ht.setAttribute("role","option"),Ge&&H.hasOwnProperty(V.htmlAttributes)&&H[V.htmlAttributes]&&g(ht,H[V.htmlAttributes]),F.length&&!Se.itemNavigable&&ce(F,ht),Ge&&(H[V.url]||H[V.urlAttributes]&&H[V.urlAttributes].href)?ht.appendChild(k(R,Ge,V,we,F,Se.itemNavigable)):(F.length&&Se.itemNavigable&&ce(F,ht),ht.appendChild(document.createTextNode(we)))),ht}function T(R){return{li:"e-"+R+"-item",ul:"e-"+R+"-parent e-ul",group:"e-"+R+"-group-item",icon:"e-"+R+"-icon",text:"e-"+R+"-text",check:"e-"+R+"-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-"+R+"-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-"+R+"-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"}}function k(R,G,H,V,B,F){var ee,L=js(G,H),U={href:L[H.url]};if(L.hasOwnProperty(H.urlAttributes)&&L[H.urlAttributes]&&(ls(U,L[H.urlAttributes]),U.href=L[H.url]?L[H.url]:L[H.urlAttributes].href),F){ee=R("a",{className:nt.text+" "+nt.url});var de=R("div",{className:nt.anchorWrap});B&&B.length&&ce(B,de),de.appendChild(document.createTextNode(V)),ce([de],ee)}else ee=R("a",{className:nt.text+" "+nt.url,innerHTML:V});return g(ee,U),ee}function j(R,G,H,V,B,F,L){var Se,ge,we,U=z({},e,F),ee=z({},t,U.ariaAttributes),de=G;"string"!=typeof G&&"number"!=typeof G&&(we=G,de=H[V.text]||"",Se=u(H._id)?H[V.id]:H._id,ge=!(!G.hasOwnProperty("isHeader")||!G.isHeader)),F&&F.enableHtmlSanitizer&&(de=de);var De=R("li",{className:(!0===ge?nt.group:nt.li)+" "+(u(B)?"":B),attrs:""!==ee.groupItemRole&&""!==ee.itemRole?{role:!0===ge?ee.groupItemRole:ee.itemRole}:{}});if(u(Se)?De.setAttribute("data-uid",S()):De.setAttribute("data-uid",Se),ge&&F&&F.groupTemplate){var Ge=aE(F.groupTemplate);L&&"listview"!==L.getModuleName()?(Me=Ge(G,L,"groupTemplate",U.groupTemplateID,!!U.isStringTemplate,null,De))&&ce(Me,De):ce(Ge(G,L,"groupTemplate",U.groupTemplateID,!!U.isStringTemplate),De)}else if(!ge&&F&&F.template){var Me;Ge=aE(F.template),L&&"listview"!==L.getModuleName()?(Me=Ge(G,L,"template",U.templateID,!!U.isStringTemplate,null,De))&&ce(Me,De):ce(Ge(G,L,"template",U.templateID,!!U.isStringTemplate),De)}else{var ht=R("div",{className:nt.textContent,attrs:""!==ee.wrapperRole?{role:ee.wrapperRole}:{}});if(we&&(H[V.url]||H[V.urlAttributes]&&H[V.urlAttributes].href))ht.appendChild(k(R,we,V,de,null,U.itemNavigable));else{var Dt=R("span",{className:nt.text,attrs:""!==ee.itemText?{role:ee.itemText}:{}});F&&F.enableHtmlSanitizer?Dt.innerText=Qt.sanitize(de):Dt.innerHTML=de,ht.appendChild(Dt)}De.appendChild(ht)}return De}function J(R,G,H,V){var B=z({},e,V),F=z({},t,B.ariaAttributes),L=R("ul",{className:(nt=T(B.moduleName)).ul+" "+(u(H)?"":H),attrs:""!==F.listRole?{role:F.listRole}:{}});return ce(G,L),L}r.createList=function(R,G,H,V,B){var F=z({},e,H),L=z({},t,F.ariaAttributes),U=m(G).typeof;return"string"===U||"number"===U?n(R,G,V,H,B):o(R,G,H,L.level,V,B)},r.createListFromArray=n,r.createListItemFromArray=s,r.createListItemFromJson=a,r.createListFromJson=o,r.getSiblingLI=function(R,G,H){if(nt=T(e.moduleName),R&&R.length){var V,B,F=Array.prototype.slice.call(R);for(V=F[(B=G?h(G,F):!0===H?F.length:-1)+(!0===H?-1:1)];V&&(!ln(V)||V.classList.contains(nt.disabled));)V=F[B+=!0===H?-1:1];return V}},r.indexOf=h,r.groupDataSource=function(R,G,H){void 0===H&&(H="None");var V=z({},r.defaultMappedFields,G),B=(new Xe).group(V.groupBy),F=p(R,B=d(H,"key",B));R=[];for(var L=0;L<F.length;L++){var U=F[L].items,ee={};ee[V.text]=F[L].key,ee.isHeader=!0;var Se=V.text;"id"===Se&&(ee[Se="text"]=F[L].key),ee._id="group-list-item-"+(F[L].key?F[L].key.toString().trim():"undefined"),ee.items=U,R.push(ee);for(var ge=0;ge<U.length;ge++)R.push(U[ge])}return R},r.addSorting=d,r.getDataSource=p,r.createJsonFromElement=function f(R,G){var H=z({},e,G),V=z({},r.defaultMappedFields,H.fields),B=R.cloneNode(!0),F=[];B.classList.add("json-parent");var L=B.querySelectorAll(".json-parent>li");B.classList.remove("json-parent");for(var U=0;U<L.length;U++){for(var ee=L[U],de=ee.querySelector("a"),Se=ee.querySelector("ul"),ge={},we=de?de.childNodes:ee.childNodes,De=Object.keys(we),Ge=0;Ge<we.length;Ge++)we[Number(De[Ge])].hasChildNodes()||(ge[V.text]=we[Number(De[Ge])].textContent);var Me=y(ee);Me.id?(ge[V.id]=Me.id,delete Me.id):ge[V.id]=S(),Object.keys(Me).length&&(ge[V.htmlAttributes]=Me),de&&(Me=y(de),Object.keys(Me).length&&(ge[V.urlAttributes]=Me)),Se&&(ge[V.child]=f(Se,G)),F.push(ge)}return F},r.renderContentTemplate=function(R,G,H,V,B,F){for(var ge,L=R("ul",{className:(nt=T(e.moduleName)).ul,attrs:{role:"presentation"}}),U=z({},e,B),ee=z({},r.defaultMappedFields,V),de=aE(G),Se=[],we=S(),De=0;De<H.length;De++){var Ge=js(H[De],ee),Me=H[De],ht=Me.isHeader;ge="string"==typeof H[De]||"number"==typeof H[De]?Me:Ge[ee.value],U.itemCreating&&"function"==typeof U.itemCreating&&U.itemCreating({dataSource:H,curData:Me,text:ge,options:U,fields:ee}),U.itemCreating&&"function"==typeof U.itemCreating&&(Ge=js(H[De],ee),ge="string"==typeof H[De]||"number"==typeof H[De]?Me:Ge[ee.value]);var Je=R("li",{id:we+"-"+De,className:ht?nt.group:nt.li,attrs:{role:"presentation"}});if(ht)Je.innerText="string"==typeof H[De]||"number"==typeof H[De]?Me:Ge[ee.text];else{var bs=ht?U.groupTemplateID:U.templateID;if(ht)F&&"listview"!=F.getModuleName()?(Y=de(Me,F,"headerTemplate",bs,!!U.isStringTemplate,null,Je))&&ce(Y,Je):ce(de(Me,F,"headerTemplate",bs,!!U.isStringTemplate),Je);else if(F&&"listview"!==F.getModuleName()){var Y;(Y=de(Me,F,"template",bs,!!U.isStringTemplate,null,Je))&&ce(Y,Je)}else ce(de(Me,F,"template",bs,!!U.isStringTemplate),Je);Je.setAttribute("data-value",u(ge)?"null":ge),Je.setAttribute("role","option")}U.itemCreated&&"function"==typeof U.itemCreated&&U.itemCreated({dataSource:H,curData:Me,text:ge,item:Je,options:U,fields:ee}),Se.push(Je)}return ce(Se,L),L},r.renderGroupTemplate=function(R,G,H,V,B,F){for(var L=aE(R),U=z({},r.defaultMappedFields,H),ee=z({},e,B),de=U.groupBy,Se=0,ge=V;Se<ge.length;Se++){var we=ge[Se],De={};if(De[""+de]=we.textContent,we.innerHTML="",F&&"listview"!==F.getModuleName()){var Ge=L(De,F,"groupTemplate",ee.groupTemplateID,!!ee.isStringTemplate,null,we);Ge&&ce(Ge,we)}else ce(L(De,F,"groupTemplate",ee.groupTemplateID,!!ee.isStringTemplate),we)}return V},r.generateId=S,r.generateUL=J,r.generateIcon=function(R,G,H,V){var B=z({},e,V);return nt=T(B.moduleName),("Left"===B.expandIconPosition?Tt:ce)([R("div",{className:"e-icons "+B.expandIconClass+" "+(u(H)?"":H)})],G.querySelector("."+nt.textContent)),G}}(st||(st={}));var X;!function(r){var t,i,e=!0;function s(Y){a(Y.floatLabelType,Y.element),Y.element.addEventListener("focus",function(){var te=y(this);(te.classList.contains("e-input-group")||te.classList.contains("e-outline")||te.classList.contains("e-filled"))&&te.classList.add("e-input-focus"),"Auto"===Y.floatLabelType&&setTimeout(function(){r.calculateWidth(Y.element,te)},80)}),Y.element.addEventListener("blur",function(){var te=y(this);(te.classList.contains("e-input-group")||te.classList.contains("e-outline")||te.classList.contains("e-filled"))&&te.classList.remove("e-input-focus"),"Auto"===Y.floatLabelType&&""===Y.element.value&&setTimeout(function(){r.calculateWidth(Y.element,te)},80)}),Y.element.addEventListener("input",function(){a(t,Y.element)})}function a(Y,te){var fe=te.value,Ae=te.parentElement,Oe=Ae.parentElement;""===fe||u(fe)?"Always"!==Y&&(Ae&&Ae.classList.contains("e-input-group")?Ae.classList.remove("e-valid-input"):Oe&&Oe.classList.contains("e-input-group")&&Oe.classList.remove("e-valid-input")):Ae&&Ae.classList.contains("e-input-group")?Ae.classList.add("e-valid-input"):Oe&&Oe.classList.contains("e-input-group")&&Oe.classList.add("e-valid-input")}function o(){var Y=y(this).getElementsByClassName("e-float-text")[0];u(Y)||(D([Y],"e-label-top"),Y.classList.contains("e-label-bottom")&&M([Y],"e-label-bottom"))}function l(){var Y=y(this);if(Y.getElementsByTagName("textarea")[0]?""===Y.getElementsByTagName("textarea")[0].value:""===Y.getElementsByTagName("input")[0].value){var te=Y.getElementsByClassName("e-float-text")[0];u(te)||(te.classList.contains("e-label-top")&&M([te],"e-label-top"),D([te],"e-label-bottom"))}}function h(Y){Y.addEventListener("focus",o),Y.addEventListener("blur",l)}function d(Y,te,fe){var Ae=u(fe)?N:fe;"Auto"===Y.floatLabelType&&h(Y.element),u(te.container)?(te.container=A(Y,"e-float-input","e-float-custom-tag","div",Ae),te.container.classList.add("e-input-group"),Y.element.parentNode&&Y.element.parentNode.insertBefore(te.container,Y.element)):(u(Y.customTag)||te.container.classList.add("e-float-custom-tag"),te.container.classList.add("e-float-input"));var Oe=Ae("span",{className:"e-float-line"});if(i=Ae("label",{className:"e-float-text"}),!u(Y.element.id)&&""!==Y.element.id&&(i.id="label_"+Y.element.id.replace(/ /g,"_"),re(Y.element,{"aria-labelledby":i.id})),!u(Y.element.placeholder)&&""!==Y.element.placeholder&&(i.innerText=T(Y.element.placeholder),Y.element.removeAttribute("placeholder")),!u(Y.properties)&&!u(Y.properties.placeholder)&&""!==Y.properties.placeholder&&(i.innerText=T(Y.properties.placeholder)),i.innerText||te.container.classList.add("e-no-float-label"),te.container.classList.contains("e-float-icon-left")){var $e=te.container.querySelector(".e-input-in-wrap");$e.appendChild(Y.element),$e.appendChild(Oe),$e.appendChild(i)}else te.container.appendChild(Y.element),te.container.appendChild(Oe),te.container.appendChild(i);g(Y.element.value,i),"Always"===Y.floatLabelType&&(i.classList.contains("e-label-bottom")&&M([i],"e-label-bottom"),D([i],"e-label-top")),"Auto"===Y.floatLabelType&&(Y.element.addEventListener("input",function(Mi){g(Y.element.value,i,Y.element)}),Y.element.addEventListener("blur",function(Mi){g(Y.element.value,i)})),u(Y.element.getAttribute("id"))||i.setAttribute("for",Y.element.getAttribute("id"))}function p(Y,te){"Always"===Y&&te.classList.contains("e-outline")&&te.classList.add("e-valid-input")}function m(Y,te,fe){u(te)||(Y&&!fe?M([te],"e-clear-icon-hide"):D([te],"e-clear-icon-hide"))}function g(Y,te,fe){void 0===fe&&(fe=null),Y?(D([te],"e-label-top"),te.classList.contains("e-label-bottom")&&M([te],"e-label-bottom")):(null==fe||fe!==document.activeElement)&&(te.classList.contains("e-label-top")&&M([te],"e-label-top"),D([te],"e-label-bottom"))}function y(Y){var te=u(Y.parentNode)?Y:Y.parentNode;return te&&te.classList.contains("e-input-in-wrap")&&(te=te.parentNode),te}function E(Y,te,fe){(void 0===e||e)&&te.addEventListener("click",function(Ae){Y.classList.contains("e-disabled")||Y.readOnly||(Ae.preventDefault(),Y!==document.activeElement&&Y.focus(),Y.value="",D([te],"e-clear-icon-hide"))}),Y.addEventListener("input",function(Ae){m(Y.value,te)}),Y.addEventListener("focus",function(Ae){m(Y.value,te,Y.readOnly)}),Y.addEventListener("blur",function(Ae){setTimeout(function(){u(te)||(D([te],"e-clear-icon-hide"),te=!u(Y)&&Y.classList.contains("e-combobox")?null:te)},200)})}function w(Y,te){if(y(Y).classList.contains("e-float-input")&&"Auto"===te){var Ae=y(Y).getElementsByClassName("e-float-text")[0];g(Y.value,Ae,Y)}}function A(Y,te,fe,Ae,Oe){var Mi,$e=u(Oe)?N:Oe;return u(Y.customTag)?Mi=$e(Ae,{className:te}):(Mi=$e(Y.customTag,{className:te})).classList.add(fe),Mi.classList.add("e-control-wrapper"),Mi}function T(Y){var te="";if(!u(Y)&&""!==Y){var fe=document.createElement("span");fe.innerHTML='<input  placeholder="'+Y+'"/>',te=fe.children[0].placeholder}return te}function j(Y,te,fe){!u(fe)&&""!==fe&&M(te,fe.split(" ")),!u(Y)&&""!==Y&&D(te,Y.split(" "))}function J(Y,te,fe){var Ae="multiselect"===fe?Y:Y.clientWidth-parseInt(getComputedStyle(Y,null).getPropertyValue("padding-left"),10);u(te.getElementsByClassName("e-float-text-content")[0])||(te.getElementsByClassName("e-float-text-content")[0].classList.contains("e-float-text-overflow")&&te.getElementsByClassName("e-float-text-content")[0].classList.remove("e-float-text-overflow"),(Ae<te.getElementsByClassName("e-float-text-content")[0].clientWidth||Ae===te.getElementsByClassName("e-float-text-content")[0].clientWidth)&&te.getElementsByClassName("e-float-text-content")[0].classList.add("e-float-text-overflow"))}function R(Y,te){Y=T(Y);var fe=y(te);fe.classList.contains("e-float-input")?u(Y)||""===Y?(fe.classList.add("e-no-float-label"),fe.getElementsByClassName("e-float-text-content")[0]?fe.getElementsByClassName("e-float-text")[0].children[0].textContent="":fe.getElementsByClassName("e-float-text")[0].textContent=""):(fe.getElementsByClassName("e-float-text-content")[0]?fe.getElementsByClassName("e-float-text")[0].children[0].textContent=Y:fe.getElementsByClassName("e-float-text")[0].textContent=Y,fe.classList.remove("e-no-float-label"),te.removeAttribute("placeholder")):u(Y)||""===Y?te.removeAttribute("placeholder"):re(te,{placeholder:Y})}function G(Y,te,fe){Y?re(te,{readonly:""}):te.removeAttribute("readonly"),u(fe)||w(te,fe)}function H(Y,te){Y?D(te,"e-rtl"):M(te,"e-rtl")}function V(Y,te,fe,Ae){var Oe={disabled:"disabled","aria-disabled":"true"},$e=!u(Ae);Y?(te.classList.remove("e-disabled"),F(Oe,te),$e&&M([Ae],"e-disabled")):(te.classList.add("e-disabled"),L(Oe,te),$e&&D([Ae],"e-disabled")),u(fe)||w(te,fe)}function B(Y,te,fe,Ae,Oe){var $e=u(Oe)?N:Oe;Y?fe.clearButton=function(Y,te,fe,Ae){var $e=(u(Ae)?N:Ae)("span",{className:"e-clear-icon"}),Mi=te.container;return u(fe)?(te.container.classList.contains("e-float-input")?te.container.querySelector(".e-float-text"):Y).insertAdjacentElement("afterend",$e):Mi.appendChild($e),D([$e],"e-clear-icon-hide"),E(Y,$e),$e.setAttribute("aria-label","close"),$e}(te,fe,Ae,$e):(me(fe.clearButton),fe.clearButton=null)}function F(Y,te){for(var fe=0,Ae=Object.keys(Y);fe<Ae.length;fe++){var Oe=Ae[fe],$e=y(te);"disabled"===Oe&&te.classList.remove("e-disabled"),"disabled"===Oe&&$e.classList.contains("e-input-group")&&$e.classList.remove("e-disabled"),"placeholder"===Oe&&$e.classList.contains("e-float-input")?$e.getElementsByClassName("e-float-text")[0].textContent="":te.removeAttribute(Oe)}}function L(Y,te){for(var fe=0,Ae=Object.keys(Y);fe<Ae.length;fe++){var Oe=Ae[fe],$e=y(te);"disabled"===Oe&&te.classList.add("e-disabled"),"disabled"===Oe&&$e.classList.contains("e-input-group")&&$e.classList.add("e-disabled"),"placeholder"===Oe&&$e.classList.contains("e-float-input")?$e.getElementsByClassName("e-float-text")[0].textContent=Y[""+Oe]:te.setAttribute(Oe,Y[""+Oe])}}function de(Y,te){if(Y.classList.contains("e-outline")&&Y.getElementsByClassName("e-float-text")[0]){var fe=te("span",{className:"e-float-text-content"});fe.innerHTML=Y.getElementsByClassName("e-float-text")[0].innerHTML,Y.getElementsByClassName("e-float-text")[0].innerHTML="",Y.getElementsByClassName("e-float-text")[0].appendChild(fe)}}function ge(Y,te,fe){var Ae=[];Ae.push(fe);var Oe=u(fe)?te.querySelectorAll(".e-input-group-icon"):Ae;if(Y&&Oe.length>0)for(var $e=0;$e<Oe.length;$e++)Oe[parseInt($e.toString())].addEventListener("mousedown",De,!1),Oe[parseInt($e.toString())].addEventListener("mouseup",Ge,!1);else if(Oe.length>0)for($e=0;$e<Oe.length;$e++)Oe[parseInt($e.toString())].removeEventListener("mousedown",De,this),Oe[parseInt($e.toString())].removeEventListener("mouseup",Ge,this)}function De(){for(var te=this.parentElement;!te.classList.contains("e-input-group");)te=te.parentElement;!function(Y,te){!Y.classList.contains("e-disabled")&&!Y.querySelector("input").readOnly&&te.classList.add("e-input-btn-ripple")}(te,this)}function Ge(){var Y=this;setTimeout(function(){Y.classList.remove("e-input-btn-ripple")},500)}function Me(Y,te){var fe=te("span",{className:Y});return fe.classList.add("e-input-group-icon"),fe}function Dt(Y,te,fe,Ae){var Oe=u(Ae)?N:Ae,$e=Me(Y,Oe);te.classList.add("e-float-icon-left");var Mi=te.querySelector(".e-input-in-wrap");if(u(Mi)){Mi=Oe("span",{className:"e-input-in-wrap"}),fe.parentNode.insertBefore(Mi,fe);var Cs=te.querySelectorAll(fe.tagName+" ~ *");Mi.appendChild(fe);for(var Ys=0;Ys<Cs.length;Ys++){var uo=Cs[parseInt(Ys.toString())],aa=Mi.parentElement;(!uo.classList.contains("e-float-line")||(!aa||!aa.classList.contains("e-filled"))&&aa)&&Mi.appendChild(uo)}}return Mi.parentNode.insertBefore($e,Mi),ge(!0,te,$e),$e}function Je(Y,te,fe){var Oe=Me(Y,u(fe)?N:fe);return(te.classList.contains("e-float-icon-left")?te.querySelector(".e-input-in-wrap"):te).appendChild(Oe),ge(!0,te,Oe),Oe}function bs(Y,te){"hidden"===te.type?Y.classList.add("e-hidden"):Y.classList.contains("e-hidden")&&Y.classList.remove("e-hidden")}r.createInput=function(Y,te){var fe=u(te)?N:te,Ae={container:null,buttons:[],clearButton:null};if(t=Y.floatLabelType,e=Y.bindClearAction,u(Y.floatLabelType)||"Never"===Y.floatLabelType?(Ae.container=A(Y,"e-input-group","e-input-custom-tag","span",fe),Y.element.parentNode.insertBefore(Ae.container,Y.element),D([Y.element],"e-input"),Ae.container.appendChild(Y.element)):d(Y,Ae,fe),s(Y),!u(Y.properties)&&!u(Y.properties.showClearButton)&&Y.properties.showClearButton&&(B(Y.properties.showClearButton,Y.element,Ae,!0,fe),Ae.clearButton.setAttribute("role","button"),Ae.container.classList.contains("e-float-input")&&D([Ae.container],"e-input-group")),!u(Y.buttons))for(var Oe=0;Oe<Y.buttons.length;Oe++)Ae.buttons.push(Je(Y.buttons[Oe],Ae.container,fe));return!u(Y.element)&&"TEXTAREA"===Y.element.tagName&&D([Ae.container],"e-multi-line-input"),bs(Ae.container,Y.element),Ae=function(Y,te){if(!u(Y.properties))for(var fe=0,Ae=Object.keys(Y.properties);fe<Ae.length;fe++)switch(Ae[fe]){case"cssClass":j(Y.properties.cssClass,[te.container]),p(Y.floatLabelType,te.container);break;case"enabled":V(Y.properties.enabled,Y.element,Y.floatLabelType,te.container);break;case"enableRtl":H(Y.properties.enableRtl,[te.container]);break;case"placeholder":R(Y.properties.placeholder,Y.element);break;case"readonly":G(Y.properties.readonly,Y.element)}return te}(Y,Ae),de(Ae.container,fe),Ae},r.bindInitialEvent=s,r.wireFloatingEvents=h,r.wireClearBtnEvents=E,r.destroy=function(){i=null},r.setValue=function(Y,te,fe,Ae){if(te.value=Y,"Auto"===fe&&""===Y&&J(te,te.parentElement),!u(fe)&&"Auto"===fe&&w(te,fe),!u(Ae)&&Ae){var Oe=y(te);if(!u(Oe)){var $e=Oe.getElementsByClassName("e-clear-icon")[0];u($e)||(te.value&&!u(Oe)&&Oe.classList.contains("e-input-focus")?M([$e],"e-clear-icon-hide"):D([$e],"e-clear-icon-hide"))}}a(fe,te)},r.setCssClass=j,r.calculateWidth=J,r.setWidth=function(Y,te){"number"==typeof Y?te.style.width=$(Y):"string"==typeof Y&&(te.style.width=Y.match(/px|%|em/)?Y:$(Y)),J(te.firstChild,te)},r.setPlaceholder=R,r.setReadonly=G,r.setEnableRtl=H,r.setEnabled=V,r.setClearButton=B,r.removeAttributes=F,r.addAttributes=L,r.removeFloating=function(Y){var te=Y.container;if(!u(te)&&te.classList.contains("e-float-input")){var fe=te.querySelector("textarea")?te.querySelector("textarea"):te.querySelector("input"),Ae=te.querySelector(".e-float-text").textContent,Oe=null!==te.querySelector(".e-clear-icon");Q(te.querySelector(".e-float-line")),Q(te.querySelector(".e-float-text")),$i(te,["e-input-group"],["e-float-input"]),function(Y){Y.removeEventListener("focus",o),Y.removeEventListener("blur",l)}(fe),re(fe,{placeholder:Ae}),fe.classList.add("e-input"),!Oe&&"INPUT"===fe.tagName&&fe.removeAttribute("required")}},r.addFloating=function(Y,te,fe,Ae){var Oe=u(Ae)?N:Ae,$e=I(Y,".e-input-group");if(t=te,"Never"!==te){var Mi=$e.tagName,Cs={element:Y,floatLabelType:te,customTag:Mi="DIV"!==Mi&&"SPAN"!==Mi?Mi:null,properties:{placeholder:fe}},Ys=$e.querySelector(".e-clear-icon"),uo={container:$e};Y.classList.remove("e-input"),d(Cs,uo,Oe),de(uo.container,Oe),J(Cs.element,uo.container);var aa=$e.classList.contains("e-float-icon-left");if(u(Ys)&&(Ys=aa?$e.querySelector(".e-input-in-wrap").querySelector(".e-input-group-icon"):$e.querySelector(".e-input-group-icon")),u(Ys))aa&&(Ys=$e.querySelector(".e-input-group-icon"));else{var Mw=$e.querySelector(".e-float-line"),Yh=$e.querySelector(".e-float-text"),pL=aa?$e.querySelector(".e-input-in-wrap"):$e;pL.insertBefore(Y,Ys),pL.insertBefore(Mw,Ys),pL.insertBefore(Yh,Ys)}}p(te,Y.parentElement)},r.createSpanElement=de,r.setRipple=function(Y,te){for(var fe=0;fe<te.length;fe++)ge(Y,te[parseInt(fe.toString())].container)},r.addIcon=function(Y,te,fe,Ae,Oe){var $e="string"==typeof te?te.split(","):te;if("append"===Y.toLowerCase())for(var Mi=0,Cs=$e;Mi<Cs.length;Mi++)Je(Cs[Mi],fe,Oe);else for(var uo=0,aa=$e;uo<aa.length;uo++)Dt(aa[uo],fe,Ae,Oe);fe.getElementsByClassName("e-input-group-icon")[0]&&fe.getElementsByClassName("e-float-text-overflow")[0]&&fe.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon")},r.prependSpan=Dt,r.appendSpan=Je,r.validateInputType=bs}(X||(X={}));var tN,wpe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hn=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},DO="e-input-group-icon",SO="e-spin-up",wO="e-error",cf="increment",hv="decrement",Ipe=new RegExp("^(-)?(\\d*)$"),wU="e-input-focus",MU=["title","style","class"],TU=0,zu=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.isVue=!1,n.preventChange=!1,n.isAngular=!1,n.isDynamicChange=!1,n.numericOptions=e,n}return wpe(t,r),t.prototype.preRender=function(){this.isPrevFocused=!1,this.decimalSeparator=".",this.intRegExp=new RegExp("/^(-)?(d*)$/"),this.isCalled=!1;var e=_("ej2_instances",this.element);if(this.cloneElement=this.element.cloneNode(!0),M([this.cloneElement],["e-control","e-numerictextbox","e-lib"]),this.angularTagName=null,this.formEle=I(this.element,"form"),"EJS-NUMERICTEXTBOX"===this.element.tagName){this.angularTagName=this.element.tagName;for(var i=this.createElement("input"),n=0;n<this.element.attributes.length;n++){var s=this.element.attributes[n].nodeName;"id"!==s&&"class"!==s?(i.setAttribute(this.element.attributes[n].nodeName,this.element.attributes[n].nodeValue),i.innerHTML=this.element.innerHTML):"class"===s&&i.setAttribute(s,this.element.className.split(" ").filter(function(o){return 0!==o.indexOf("ng-")}).join(" "))}this.element.hasAttribute("name")&&this.element.removeAttribute("name"),this.element.classList.remove("e-control","e-numerictextbox"),this.element.appendChild(i),this.element=i,We("ej2_instances",e,this.element)}re(this.element,{role:"spinbutton",tabindex:"0",autocomplete:"off"}),this.l10n=new fi("numerictextbox",{incrementTitle:"Increment value",decrementTitle:"Decrement value",placeholder:this.placeholder},this.locale),""!==this.l10n.getConstant("placeholder")&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.element.hasAttribute("id")||this.element.setAttribute("id",vt("numerictextbox")),this.isValidState=!0,this.inputStyle=null,this.inputName=null,this.cultureInfo={},this.initCultureInfo(),this.initCultureFunc(),this.prevValue=this.value,this.updateHTMLAttrToElement(),this.checkAttributes(!1),this.formEle&&(this.inputEleValue=this.value),this.validateMinMax(),this.validateStep(),null===this.placeholder&&this.updatePlaceholder()},t.prototype.render=function(){"input"===this.element.tagName.toLowerCase()&&(this.createWrapper(),this.showSpinButton&&this.spinBtnCreation(),this.setElementWidth(this.width),this.container.classList.contains("e-input-group")||this.container.classList.add("e-input-group"),this.changeValue(null===this.value||isNaN(this.value)?null:this.strictMode?this.trimValue(this.value):this.value),this.wireEvents(),null!==this.value&&!isNaN(this.value)&&this.decimals&&this.setProperties({value:this.roundNumber(this.value,this.decimals)},!0),(this.element.getAttribute("value")||this.value)&&(this.element.setAttribute("value",this.element.value),this.hiddenInput.setAttribute("value",this.hiddenInput.value)),this.elementPrevValue=this.element.value,this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),!u(I(this.element,"fieldset"))&&I(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete())},t.prototype.checkAttributes=function(e){for(var n=0,s=e?u(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","step","disabled","readonly","style","name","placeholder"];n<s.length;n++){var a=s[n];if(!u(this.element.getAttribute(a)))switch(a){case"disabled":if(u(this.numericOptions)||void 0===this.numericOptions.enabled||e){var o=!("disabled"===this.element.getAttribute(a)||""===this.element.getAttribute(a)||"true"===this.element.getAttribute(a));this.setProperties({enabled:o},!e)}break;case"readonly":if(u(this.numericOptions)||void 0===this.numericOptions.readonly||e){var l="readonly"===this.element.getAttribute(a)||""===this.element.getAttribute(a)||"true"===this.element.getAttribute(a);this.setProperties({readonly:l},!e)}break;case"placeholder":(u(this.numericOptions)||void 0===this.numericOptions.placeholder||e)&&this.setProperties({placeholder:this.element.placeholder},!e);break;case"value":if(u(this.numericOptions)||void 0===this.numericOptions.value||e){var h=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(a));this.setProperties(We(a,h,{}),!e)}break;case"min":if(u(this.numericOptions)||void 0===this.numericOptions.min||e){var c=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(a));null!==c&&!isNaN(c)&&this.setProperties(We(a,c,{}),!e)}break;case"max":if(u(this.numericOptions)||void 0===this.numericOptions.max||e){var d=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(a));null!==d&&!isNaN(d)&&this.setProperties(We(a,d,{}),!e)}break;case"step":if(u(this.numericOptions)||void 0===this.numericOptions.step||e){var p=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(a));null!==p&&!isNaN(p)&&this.setProperties(We(a,p,{}),!e)}break;case"style":this.inputStyle=this.element.getAttribute(a);break;case"name":this.inputName=this.element.getAttribute(a);break;default:var f=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(a));(null!==f&&!isNaN(f)||"value"===a)&&this.setProperties(We(a,f,{}),!0)}}},t.prototype.updatePlaceholder=function(){this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0)},t.prototype.initCultureFunc=function(){this.instance=new Li(this.locale)},t.prototype.initCultureInfo=function(){this.cultureInfo.format=this.format,null!==_("currency",this)&&(We("currency",this.currency,this.cultureInfo),this.setProperties({currencyCode:this.currency},!0))},t.prototype.createWrapper=function(){var e=this.cssClass;!u(this.cssClass)&&""!==this.cssClass&&(e=this.getNumericValidClassList(this.cssClass));var i=X.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enableRtl:this.enableRtl,showClearButton:this.showClearButton,enabled:this.enabled}},this.createElement);this.inputWrapper=i,this.container=i.container,this.container.setAttribute("class","e-control-wrapper e-numeric "+this.container.getAttribute("class")),this.updateHTMLAttrToWrapper(),this.readonly&&re(this.element,{"aria-readonly":"true"}),this.hiddenInput=this.createElement("input",{attrs:{type:"text",validateHidden:"true","aria-label":"hidden",class:"e-numeric-hidden"}}),this.inputName=null!==this.inputName?this.inputName:this.element.id,this.element.removeAttribute("name"),re(this.hiddenInput,this.isAngular&&"EJS-NUMERICTEXTBOX"===this.angularTagName&&this.cloneElement.id.length>0?{name:this.cloneElement.id}:{name:this.inputName}),this.container.insertBefore(this.hiddenInput,this.container.childNodes[1]),this.updateDataAttribute(!1),null!==this.inputStyle&&re(this.container,{style:this.inputStyle})},t.prototype.updateDataAttribute=function(e){var i={};if(e)i=this.htmlAttributes;else for(var n=0;n<this.element.attributes.length;n++)i[this.element.attributes[n].name]=this.element.getAttribute(this.element.attributes[n].name);for(var s=0,a=Object.keys(i);s<a.length;s++){var o=a[s];0===o.indexOf("data")&&this.hiddenInput.setAttribute(o,i[""+o])}},t.prototype.updateHTMLAttrToElement=function(){if(!u(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];MU.indexOf(n)<0&&this.element.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.updateCssClass=function(e,i){X.setCssClass(this.getNumericValidClassList(e),[this.container],this.getNumericValidClassList(i))},t.prototype.getNumericValidClassList=function(e){var i=e;return!u(e)&&""!==e&&(i=e.replace(/\s+/g," ").trim()),i},t.prototype.updateHTMLAttrToWrapper=function(){if(!u(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];if(MU.indexOf(n)>-1)if("class"===n){var s=this.getNumericValidClassList(this.htmlAttributes[""+n]);""!==s&&D([this.container],s.split(" "))}else if("style"===n){var a=this.container.getAttribute(n);a=u(a)?this.htmlAttributes[""+n]:a+this.htmlAttributes[""+n],this.container.setAttribute(n,a)}else this.container.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.setElementWidth=function(e){u(e)||("number"==typeof e?this.container.style.width=$(e):"string"==typeof e&&(this.container.style.width=e.match(/px|%|em/)?e:$(e)))},t.prototype.spinBtnCreation=function(){this.spinDown=X.appendSpan(DO+" e-spin-down",this.container,this.createElement),re(this.spinDown,{title:this.l10n.getConstant("decrementTitle")}),this.spinUp=X.appendSpan(DO+" "+SO,this.container,this.createElement),re(this.spinUp,{title:this.l10n.getConstant("incrementTitle")}),this.wireSpinBtnEvents()},t.prototype.validateMinMax=function(){"number"==typeof this.min&&!isNaN(this.min)||this.setProperties({min:-Number.MAX_VALUE},!0),"number"==typeof this.max&&!isNaN(this.max)||this.setProperties({max:Number.MAX_VALUE},!0),null!==this.decimals&&(this.min!==-Number.MAX_VALUE&&this.setProperties({min:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.min))},!0),this.max!==Number.MAX_VALUE&&this.setProperties({max:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.max))},!0)),this.setProperties({min:this.min>this.max?this.max:this.min},!0),this.min!==-Number.MAX_VALUE&&re(this.element,{"aria-valuemin":this.min.toString()}),this.max!==Number.MAX_VALUE&&re(this.element,{"aria-valuemax":this.max.toString()})},t.prototype.formattedValue=function(e,i){return this.instance.getNumberFormat({maximumFractionDigits:e,minimumFractionDigits:e,useGrouping:!1})(i)},t.prototype.validateStep=function(){null!==this.decimals&&this.setProperties({step:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.step))},!0)},t.prototype.action=function(e,i){this.isInteract=!0;var n=this.isFocused?this.instance.getNumberParser({format:"n"})(this.element.value):this.value;this.changeValue(this.performAction(n,this.step,e)),this.raiseChangeEvent(i)},t.prototype.checkErrorClass=function(){this.isValidState?M([this.container],wO):D([this.container],wO),re(this.element,{"aria-invalid":this.isValidState?"false":"true"})},t.prototype.bindClearEvent=function(){this.showClearButton&&b.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},t.prototype.resetHandler=function(e){e.preventDefault(),(!this.inputWrapper.clearButton.classList.contains("e-clear-icon-hide")||this.inputWrapper.container.classList.contains("e-static-clear"))&&this.clear(e),this.isInteract=!0,this.raiseChangeEvent(e)},t.prototype.clear=function(e){if(this.setProperties({value:null},!0),this.setElementValue(""),this.hiddenInput.value="",I(this.element,"form")){var n=this.element.nextElementSibling,s=document.createEvent("KeyboardEvent");s.initEvent("keyup",!1,!0),n.dispatchEvent(s)}},t.prototype.resetFormHandler=function(){this.updateValue("EJS-NUMERICTEXTBOX"===this.element.tagName?null:this.inputEleValue)},t.prototype.setSpinButton=function(){u(this.spinDown)||re(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),u(this.spinUp)||re(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")})},t.prototype.wireEvents=function(){b.add(this.element,"focus",this.focusHandler,this),b.add(this.element,"blur",this.focusOutHandler,this),b.add(this.element,"keydown",this.keyDownHandler,this),b.add(this.element,"keyup",this.keyUpHandler,this),b.add(this.element,"input",this.inputHandler,this),b.add(this.element,"keypress",this.keyPressHandler,this),b.add(this.element,"change",this.changeHandler,this),b.add(this.element,"paste",this.pasteHandler,this),this.enabled&&(this.bindClearEvent(),this.formEle&&b.add(this.formEle,"reset",this.resetFormHandler,this))},t.prototype.wireSpinBtnEvents=function(){b.add(this.spinUp,O.touchStartEvent,this.mouseDownOnSpinner,this),b.add(this.spinDown,O.touchStartEvent,this.mouseDownOnSpinner,this),b.add(this.spinUp,O.touchEndEvent,this.mouseUpOnSpinner,this),b.add(this.spinDown,O.touchEndEvent,this.mouseUpOnSpinner,this),b.add(this.spinUp,O.touchMoveEvent,this.touchMoveOnSpinner,this),b.add(this.spinDown,O.touchMoveEvent,this.touchMoveOnSpinner,this)},t.prototype.unwireEvents=function(){b.remove(this.element,"focus",this.focusHandler),b.remove(this.element,"blur",this.focusOutHandler),b.remove(this.element,"keyup",this.keyUpHandler),b.remove(this.element,"input",this.inputHandler),b.remove(this.element,"keydown",this.keyDownHandler),b.remove(this.element,"keypress",this.keyPressHandler),b.remove(this.element,"change",this.changeHandler),b.remove(this.element,"paste",this.pasteHandler),this.formEle&&b.remove(this.formEle,"reset",this.resetFormHandler)},t.prototype.unwireSpinBtnEvents=function(){b.remove(this.spinUp,O.touchStartEvent,this.mouseDownOnSpinner),b.remove(this.spinDown,O.touchStartEvent,this.mouseDownOnSpinner),b.remove(this.spinUp,O.touchEndEvent,this.mouseUpOnSpinner),b.remove(this.spinDown,O.touchEndEvent,this.mouseUpOnSpinner),b.remove(this.spinUp,O.touchMoveEvent,this.touchMoveOnSpinner),b.remove(this.spinDown,O.touchMoveEvent,this.touchMoveOnSpinner)},t.prototype.changeHandler=function(e){e.stopPropagation(),this.element.value.length||this.setProperties({value:null},!0);var i=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(i,e)},t.prototype.raiseChangeEvent=function(e){if(this.prevValue!==this.value||this.prevValue!==this.inputValue){var i={};this.changeEventArgs={value:this.value,previousValue:this.prevValue,isInteracted:this.isInteract,isInteraction:this.isInteract,event:e},e&&(this.changeEventArgs.event=e),void 0===this.changeEventArgs.event&&(this.changeEventArgs.isInteracted=!1,this.changeEventArgs.isInteraction=!1),ls(i,this.changeEventArgs),this.prevValue=this.value,this.isInteract=!1,this.elementPrevValue=this.element.value,this.preventChange=!1,this.trigger("change",i)}},t.prototype.pasteHandler=function(){var e=this;if(this.enabled&&!this.readonly){var i=this.element.value;setTimeout(function(){e.numericRegex().test(e.element.value)||e.setElementValue(i)})}},t.prototype.preventHandler=function(){var e=this,i=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);setTimeout(function(){if(e.element.selectionStart>0){var n=e.element.selectionStart,s=e.element.selectionStart-1,o=e.element.value.split(""),h=_("decimal",Hg(e.locale)),c=h.charCodeAt(0);" "===e.element.value[s]&&e.element.selectionStart>0&&!i?(u(e.prevVal)?e.element.value=e.element.value.trim():0!==s?e.element.value=e.prevVal:0===s&&(e.element.value=e.element.value.trim()),e.element.setSelectionRange(s,s)):isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&45!==e.element.value[e.element.selectionStart-1].charCodeAt(0)?(o.indexOf(e.element.value[e.element.selectionStart-1])!==o.lastIndexOf(e.element.value[e.element.selectionStart-1])&&e.element.value[e.element.selectionStart-1].charCodeAt(0)===c||e.element.value[e.element.selectionStart-1].charCodeAt(0)!==c)&&(e.element.value=e.element.value.substring(0,s)+e.element.value.substring(n,e.element.value.length),e.element.setSelectionRange(s,s),isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&e.element.selectionStart>0&&e.element.value.length&&e.preventHandler()):isNaN(parseFloat(e.element.value[e.element.selectionStart-2]))&&e.element.selectionStart>1&&45!==e.element.value[e.element.selectionStart-2].charCodeAt(0)&&(o.indexOf(e.element.value[e.element.selectionStart-2])!==o.lastIndexOf(e.element.value[e.element.selectionStart-2])&&e.element.value[e.element.selectionStart-2].charCodeAt(0)===c||e.element.value[e.element.selectionStart-2].charCodeAt(0)!==c)&&(e.element.setSelectionRange(s,s),e.nextEle=e.element.value[e.element.selectionStart],e.cursorPosChanged=!0,e.preventHandler()),!0===e.cursorPosChanged&&e.element.value[e.element.selectionStart]===e.nextEle&&isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&(e.element.setSelectionRange(e.element.selectionStart+1,e.element.selectionStart+1),e.cursorPosChanged=!1,e.nextEle=null),""===e.element.value.trim()&&e.element.setSelectionRange(0,0),e.element.selectionStart>0&&(45===e.element.value[e.element.selectionStart-1].charCodeAt(0)&&e.element.selectionStart>1&&(e.element.value=u(e.prevVal)?e.element.value:e.prevVal,e.element.setSelectionRange(e.element.selectionStart,e.element.selectionStart)),e.element.value[e.element.selectionStart-1]===h&&0===e.decimals&&e.validateDecimalOnType&&(e.element.value=e.element.value.substring(0,s)+e.element.value.substring(n,e.element.value.length))),e.prevVal=e.element.value}})},t.prototype.keyUpHandler=function(){if(this.enabled&&!this.readonly){(!navigator.platform||!/iPad|iPhone|iPod/.test(navigator.platform))&&O.isDevice&&this.preventHandler();var i=this.instance.getNumberParser({format:"n"})(this.element.value);if(i=null===i||isNaN(i)?null:i,this.hiddenInput.value=i||0===i?i.toString():null,I(this.element,"form")){var s=this.element.nextElementSibling,a=document.createEvent("KeyboardEvent");a.initEvent("keyup",!1,!0),s.dispatchEvent(a)}}},t.prototype.inputHandler=function(e){if(this.enabled&&!this.readonly){var n=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);if((navigator.userAgent.toLowerCase().indexOf("firefox")>-1||n)&&O.isDevice&&this.preventHandler(),this.isAngular&&this.element.value!==_("decimal",Hg(this.locale))&&this.element.value!==_("minusSign",Hg(this.locale))){var a=this.instance.getNumberParser({format:"n"})(this.element.value);a=isNaN(a)?null:a,this.localChange({value:a}),this.preventChange=!0}if(this.isVue){var o=this.instance.getNumberParser({format:"n"})(this.element.value),l=this.instance.getNumberParser({format:"n"})(this.elementPrevValue);(new RegExp("[^0-9]+$").test(this.element.value)||(-1!==this.elementPrevValue.indexOf(".")||-1!==this.elementPrevValue.indexOf("-"))&&"0"===this.element.value[this.element.value.length-1])&&(o=this.value);var c={event:e,value:null===o||isNaN(o)?null:o,previousValue:null===l||isNaN(l)?null:l};this.preventChange=!0,this.elementPrevValue=this.element.value,this.trigger("input",c)}}},t.prototype.keyDownHandler=function(e){if(!this.readonly)switch(e.keyCode){case 38:e.preventDefault(),this.action(cf,e);break;case 40:e.preventDefault(),this.action(hv,e)}},t.prototype.performAction=function(e,i,n){(null===e||isNaN(e))&&(e=0);var s=n===cf?e+i:e-i;return s=this.correctRounding(e,i,s),this.strictMode?this.trimValue(s):s},t.prototype.correctRounding=function(e,i,n){var s=new RegExp("[,.](.*)"),a=s.test(e.toString()),o=s.test(i.toString());if(a||o){var l=a?s.exec(e.toString())[0].length:0,h=o?s.exec(i.toString())[0].length:0,c=Math.max(l,h);return this.roundValue(n,c)}return n},t.prototype.roundValue=function(e,i){i=i||0;var n=Math.pow(10,i);return Math.round(e*=n)/n},t.prototype.updateValue=function(e,i){i&&(this.isInteract=!0),null!==e&&!isNaN(e)&&this.decimals&&(e=this.roundNumber(e,this.decimals)),this.inputValue=e,this.changeValue(null===e||isNaN(e)?null:this.strictMode?this.trimValue(e):e),this.isDynamicChange||this.raiseChangeEvent(i)},t.prototype.updateCurrency=function(e,i){We(e,i,this.cultureInfo),this.updateValue(this.value)},t.prototype.changeValue=function(e){if(e||0===e){var i=this.getNumberOfDecimals(e);this.setProperties({value:this.roundNumber(e,i)},!0)}else this.setProperties({value:e=null},!0);this.modifyText(),this.strictMode||this.validateState()},t.prototype.modifyText=function(){if(this.value||0===this.value){var e=this.formatNumber(),i=this.isFocused?e:this.instance.getNumberFormat(this.cultureInfo)(this.value);this.setElementValue(i),re(this.element,{"aria-valuenow":e}),this.hiddenInput.value=this.value.toString(),null!==this.value&&this.serverDecimalSeparator&&(this.hiddenInput.value=this.hiddenInput.value.replace(".",this.serverDecimalSeparator))}else this.setElementValue(""),this.element.removeAttribute("aria-valuenow"),this.hiddenInput.value=null},t.prototype.setElementValue=function(e,i){X.setValue(e,i||this.element,this.floatLabelType,this.showClearButton)},t.prototype.validateState=function(){this.isValidState=!0,(this.value||0===this.value)&&(this.isValidState=!(this.value>this.max||this.value<this.min)),this.checkErrorClass()},t.prototype.getNumberOfDecimals=function(e){var i,n=new RegExp("[eE][-+]?([0-9]+)"),s=e.toString();if(n.test(s)){var a=n.exec(s);u(a)||(s=e.toFixed(Math.min(parseInt(a[1],10),20)))}var o=s.split(".")[1];return i=o&&o.length?o.length:0,null!==this.decimals&&(i=i<this.decimals?i:this.decimals),i},t.prototype.formatNumber=function(){var e=this.getNumberOfDecimals(this.value);return this.instance.getNumberFormat({maximumFractionDigits:e,minimumFractionDigits:e,useGrouping:!1})(this.value)},t.prototype.trimValue=function(e){return e>this.max?this.max:e<this.min?this.min:e},t.prototype.roundNumber=function(e,i){var n=e,s=i||0,a=n.toString().split("e"),o=(n=Math.round(Number(a[0]+"e"+(a[1]?Number(a[1])+s:s)))).toString().split("e");return n=Number(o[0]+"e"+(o[1]?Number(o[1])-s:-s)),Number(n.toFixed(s))},t.prototype.cancelEvent=function(e){return e.preventDefault(),!1},t.prototype.keyPressHandler=function(e){if(!this.enabled||this.readonly)return!0;if(!O.isDevice&&"11.0"===O.info.version&&13===e.keyCode){var i=this.instance.getNumberParser({format:"n"})(this.element.value);return this.updateValue(i,e),!0}if(0===e.which||e.metaKey||e.ctrlKey||8===e.keyCode||13===e.keyCode)return!0;var n=String.fromCharCode(e.which),s=_("decimal",Hg(this.locale)),a="NumpadDecimal"===e.code&&n!==s;a&&(n=s);var o=this.element.value;if(o=o.substring(0,this.element.selectionStart)+n+o.substring(this.element.selectionEnd),this.numericRegex().test(o)){if(a){var l=this.element.selectionStart+1;this.element.value=o,this.element.setSelectionRange(l,l),e.preventDefault(),e.stopPropagation()}return!0}return e.preventDefault(),e.stopPropagation(),!1},t.prototype.numericRegex=function(){var i=_("decimal",Hg(this.locale)),n="*";return"."===i&&(i="\\"+i),0===this.decimals&&this.validateDecimalOnType?Ipe:(this.decimals&&this.validateDecimalOnType&&(n="{0,"+this.decimals+"}"),new RegExp("^(-)?(((\\d+("+i+"\\d"+n+")?)|("+i+"\\d"+n+")))?$"))},t.prototype.mouseWheel=function(e){var i;e.preventDefault(),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i>0?this.action(cf,e):i<0&&this.action(hv,e),this.cancelEvent(e)},t.prototype.focusHandler=function(e){var i=this;if(clearTimeout(TU),this.focusEventArgs={event:e,value:this.value,container:this.container},this.trigger("focus",this.focusEventArgs),this.enabled&&!this.readonly){if(this.isFocused=!0,M([this.container],wO),this.prevValue=this.value,this.value||0===this.value){var n=this.formatNumber();this.setElementValue(n),this.isPrevFocused||(O.isDevice||"11.0"!==O.info.version?TU=setTimeout(function(){i.element.setSelectionRange(0,n.length)},O.isDevice&&O.isIos?600:0):this.element.setSelectionRange(0,n.length))}O.isDevice||b.add(this.element,"mousewheel DOMMouseScroll",this.mouseWheel,this)}},t.prototype.focusOutHandler=function(e){var i=this;if(this.blurEventArgs={event:e,value:this.value,container:this.container},this.trigger("blur",this.blurEventArgs),this.enabled&&!this.readonly){if(this.isPrevFocused){if(e.preventDefault(),O.isDevice){var n=this.element.value;this.element.focus(),this.isPrevFocused=!1;var s=this.element;setTimeout(function(){i.setElementValue(n,s)},200)}}else{this.isFocused=!1,this.element.value.length||this.setProperties({value:null},!0);var a=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(a),O.isDevice||b.remove(this.element,"mousewheel DOMMouseScroll",this.mouseWheel)}if(I(this.element,"form")){var l=this.element.nextElementSibling,h=document.createEvent("FocusEvent");h.initEvent("focusout",!1,!0),l.dispatchEvent(h)}}},t.prototype.mouseDownOnSpinner=function(e){var i=this;if(this.isFocused&&(this.isPrevFocused=!0,e.preventDefault()),this.getElementData(e)){this.getElementData(e);var s=e.currentTarget,a=s.classList.contains(SO)?cf:hv;b.add(s,"mouseleave",this.mouseUpClick,this),this.timeOut=setInterval(function(){i.isCalled=!0,i.action(a,e)},150),b.add(document,"mouseup",this.mouseUpClick,this)}},t.prototype.touchMoveOnSpinner=function(e){var i;if("touchmove"===e.type){var n=e.touches;i=n.length&&document.elementFromPoint(n[0].pageX,n[0].pageY)}else i=document.elementFromPoint(e.clientX,e.clientY);i.classList.contains(DO)||clearInterval(this.timeOut)},t.prototype.mouseUpOnSpinner=function(e){if(this.prevValue=this.value,this.isPrevFocused&&(this.element.focus(),O.isDevice||(this.isPrevFocused=!1)),O.isDevice||e.preventDefault(),this.getElementData(e)){var i=e.currentTarget,n=i.classList.contains(SO)?cf:hv;if(b.remove(i,"mouseleave",this.mouseUpClick),this.isCalled||this.action(n,e),this.isCalled=!1,b.remove(document,"mouseup",this.mouseUpClick),I(this.element,"form")){var a=this.element.nextElementSibling,o=document.createEvent("KeyboardEvent");o.initEvent("keyup",!1,!0),a.dispatchEvent(o)}}},t.prototype.getElementData=function(e){return!(e.which&&3===e.which||e.button&&2===e.button||!this.enabled||this.readonly||(clearInterval(this.timeOut),0))},t.prototype.floatLabelTypeUpdate=function(){X.removeFloating(this.inputWrapper);var e=this.hiddenInput;this.hiddenInput.remove(),X.addFloating(this.element,this.floatLabelType,this.placeholder,this.createElement),this.container.insertBefore(e,this.container.childNodes[1])},t.prototype.mouseUpClick=function(e){e.stopPropagation(),clearInterval(this.timeOut),this.isCalled=!1,this.spinUp&&b.remove(this.spinUp,"mouseleave",this.mouseUpClick),this.spinDown&&b.remove(this.spinDown,"mouseleave",this.mouseUpClick)},t.prototype.increment=function(e){void 0===e&&(e=this.step),this.isInteract=!1,this.changeValue(this.performAction(this.value,e,cf)),this.raiseChangeEvent()},t.prototype.decrement=function(e){void 0===e&&(e=this.step),this.isInteract=!1,this.changeValue(this.performAction(this.value,e,hv)),this.raiseChangeEvent()},t.prototype.destroy=function(){this.unwireEvents(),Q(this.hiddenInput),this.showSpinButton&&(this.unwireSpinBtnEvents(),Q(this.spinUp),Q(this.spinDown));for(var e=["aria-labelledby","role","autocomplete","aria-readonly","aria-disabled","autocapitalize","spellcheck","aria-autocomplete","tabindex","aria-valuemin","aria-valuemax","aria-valuenow","aria-invalid"],i=0;i<e.length;i++)this.element.removeAttribute(e[i]);this.element.classList.remove("e-input"),this.container.insertAdjacentElement("afterend",this.element),Q(this.container),this.spinUp=null,this.spinDown=null,this.container=null,this.hiddenInput=null,this.changeEventArgs=null,this.blurEventArgs=null,this.focusEventArgs=null,this.inputWrapper=null,X.destroy(),r.prototype.destroy.call(this)},t.prototype.getText=function(){return this.element.value},t.prototype.focusIn=function(){document.activeElement!==this.element&&this.enabled&&(this.element.focus(),D([this.container],[wU]))},t.prototype.focusOut=function(){document.activeElement===this.element&&this.enabled&&(this.element.blur(),M([this.container],[wU]))},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++){var a=s[n];switch(a){case"width":this.setElementWidth(e.width),X.calculateWidth(this.element,this.container);break;case"cssClass":this.updateCssClass(e.cssClass,i.cssClass);break;case"enabled":X.setEnabled(e.enabled,this.element),this.bindClearEvent();break;case"enableRtl":X.setEnableRtl(e.enableRtl,[this.container]);break;case"readonly":X.setReadonly(e.readonly,this.element),this.readonly?re(this.element,{"aria-readonly":"true"}):this.element.removeAttribute("aria-readonly");break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.updateDataAttribute(!0),this.checkAttributes(!0),X.validateInputType(this.container,this.element);break;case"placeholder":X.setPlaceholder(e.placeholder,this.element),X.calculateWidth(this.element,this.container);break;case"step":this.step=e.step,this.validateStep();break;case"showSpinButton":this.updateSpinButton(e);break;case"showClearButton":this.updateClearButton(e);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,this.floatLabelTypeUpdate();break;case"value":this.isDynamicChange=(this.isAngular||this.isVue)&&this.preventChange,this.updateValue(e.value),this.isDynamicChange&&(this.preventChange=!1,this.isDynamicChange=!1);break;case"min":case"max":We(a,_(a,e),this),this.validateMinMax(),this.updateValue(this.value);break;case"strictMode":this.strictMode=e.strictMode,this.updateValue(this.value),this.validateState();break;case"locale":this.initCultureFunc(),this.l10n.setLocale(this.locale),this.setSpinButton(),this.updatePlaceholder(),X.setPlaceholder(this.placeholder,this.element),this.updateValue(this.value);break;case"currency":var o=_(a,e);this.setProperties({currencyCode:o},!0),this.updateCurrency(a,o);break;case"currencyCode":var l=_(a,e);this.setProperties({currency:l},!0),this.updateCurrency("currency",l);break;case"format":We(a,_(a,e),this),this.initCultureInfo(),this.updateValue(this.value);break;case"decimals":this.decimals=e.decimals,this.updateValue(this.value)}}},t.prototype.updateClearButton=function(e){X.setClearButton(e.showClearButton,this.element,this.inputWrapper,void 0,this.createElement),this.bindClearEvent()},t.prototype.updateSpinButton=function(e){e.showSpinButton?this.spinBtnCreation():(Q(this.spinUp),Q(this.spinDown))},t.prototype.getModuleName=function(){return"numerictextbox"},hn([v("")],t.prototype,"cssClass",void 0),hn([v(null)],t.prototype,"value",void 0),hn([v(-Number.MAX_VALUE)],t.prototype,"min",void 0),hn([v(Number.MAX_VALUE)],t.prototype,"max",void 0),hn([v(1)],t.prototype,"step",void 0),hn([v(null)],t.prototype,"width",void 0),hn([v(null)],t.prototype,"placeholder",void 0),hn([v({})],t.prototype,"htmlAttributes",void 0),hn([v(!0)],t.prototype,"showSpinButton",void 0),hn([v(!1)],t.prototype,"readonly",void 0),hn([v(!0)],t.prototype,"enabled",void 0),hn([v(!1)],t.prototype,"showClearButton",void 0),hn([v(!1)],t.prototype,"enablePersistence",void 0),hn([v("n2")],t.prototype,"format",void 0),hn([v(null)],t.prototype,"decimals",void 0),hn([v(null)],t.prototype,"currency",void 0),hn([v(null)],t.prototype,"currencyCode",void 0),hn([v(!0)],t.prototype,"strictMode",void 0),hn([v(!1)],t.prototype,"validateDecimalOnType",void 0),hn([v("Never")],t.prototype,"floatLabelType",void 0),hn([x()],t.prototype,"created",void 0),hn([x()],t.prototype,"destroyed",void 0),hn([x()],t.prototype,"change",void 0),hn([x()],t.prototype,"focus",void 0),hn([x()],t.prototype,"blur",void 0),hn([et],t)}(Yt),tfe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xs=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},uf={EMAIL:new RegExp("^[A-Za-z0-9._%+-]{1,}@[A-Za-z0-9._%+-]{1,}([.]{1}[a-zA-Z0-9]{2,}|[.]{1}[a-zA-Z0-9]{2,4}[.]{1}[a-zA-Z0-9]{2,4})$"),URL:/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/m,DATE_ISO:new RegExp("^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$"),DIGITS:new RegExp("^[0-9]*$"),PHONE:new RegExp("^[+]?[0-9]{9,13}$"),CREDITCARD:new RegExp("^\\d{13,16}$")},uv=(()=>(function(r){r[r.Message=0]="Message",r[r.Label=1]="Label"}(uv||(uv={})),uv))(),ife=function(r){function t(i,n){var s=r.call(this,n,i)||this;if(s.validated=[],s.errorRules=[],s.allowSubmit=!1,s.required="required",s.infoElement=null,s.inputElement=null,s.selectQuery="input:not([type=reset]):not([type=button]), select, textarea",s.localyMessage={},s.defaultMessages={required:"This field is required.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateIso:"Please enter a valid date ( ISO ).",creditcard:"Please enter valid card number",number:"Please enter a valid number.",digits:"Please enter only digits.",maxLength:"Please enter no more than {0} characters.",minLength:"Please enter at least {0} characters.",rangeLength:"Please enter a value between {0} and {1} characters long.",range:"Please enter a value between {0} and {1}.",max:"Please enter a value less than or equal to {0}.",min:"Please enter a value greater than or equal to {0}.",regex:"Please enter a correct value.",tel:"Please enter a valid phone number.",pattern:"Please enter a correct pattern value.",equalTo:"Please enter the valid match text"},void 0===s.rules&&(s.rules={}),s.l10n=new fi("formValidator",s.defaultMessages,s.locale),s.locale&&s.localeFunc(),Pu.on("notifyExternalChange",s.afterLocalization,s),i="string"==typeof i?P(i,document):i,null!=s.element)return s.element.setAttribute("novalidate",""),s.inputElements=pe(s.selectQuery,s.element),s.createHTML5Rules(),s.wireEvents(),s}var e;return tfe(t,r),e=t,t.prototype.addRules=function(i,n){i&&(this.rules.hasOwnProperty(i)?z(this.rules[""+i],n,{}):this.rules[""+i]=n)},t.prototype.removeRules=function(i,n){if(i||n)if(this.rules[""+i]&&!n)delete this.rules[""+i];else{if(u(this.rules[""+i]&&n))return;for(var s=0;s<n.length;s++)delete this.rules[""+i][n[parseInt(s.toString())]]}else this.rules={}},t.prototype.validate=function(i){var n=Object.keys(this.rules);if(i&&n.length)return this.validateRules(i),-1!==n.indexOf(i)&&0===this.errorRules.filter(function(l){return l.name===i}).length;this.errorRules=[];for(var s=0,a=n;s<a.length;s++)this.validateRules(a[s]);return 0===this.errorRules.length},t.prototype.reset=function(){this.element.reset(),this.clearForm()},t.prototype.getInputElement=function(i){return this.inputElement=P('[name="'+i+'"]',this.element),this.inputElement},t.prototype.destroy=function(){this.reset(),this.unwireEvents(),this.rules={};for(var n=0,s=pe("."+this.errorClass+", ."+this.validClass,this.element);n<s.length;n++)Q(s[n]);r.prototype.destroy.call(this),this.infoElement=null,Pu.off("notifyExternalChange",this.afterLocalization)},t.prototype.onPropertyChanged=function(i,n){for(var s=0,a=Object.keys(i);s<a.length;s++)"locale"===a[s]&&this.localeFunc()},t.prototype.localeFunc=function(){for(var i=0,n=Object.keys(this.defaultMessages);i<n.length;i++){var s=n[i];this.l10n.setLocale(this.locale);var a=this.l10n.getConstant(s);this.localyMessage[""+s]=a}},t.prototype.getModuleName=function(){return"formvalidator"},t.prototype.afterLocalization=function(i){this.locale=i.locale,this.localeFunc()},t.prototype.refresh=function(){this.unwireEvents(),this.inputElements=pe(this.selectQuery,this.element),this.wireEvents()},t.prototype.clearForm=function(){this.errorRules=[],this.validated=[];for(var n=0,s=pe(this.selectQuery,this.element);n<s.length;n++){var o=s[n];o.removeAttribute("aria-invalid");var l=o.parentElement,h=l.parentElement;l.classList.contains("e-control-wrapper")||l.classList.contains("e-wrapper")||o.classList.contains("e-input")&&l.classList.contains("e-input-group")?l.classList.remove(this.errorClass):null!=h&&(h.classList.contains("e-control-wrapper")||h.classList.contains("e-wrapper"))?h.classList.remove(this.errorClass):o.classList.remove(this.errorClass),o.name.length>0&&(this.getInputElement(o.name),this.getErrorElement(o.name),this.hideMessage(o.name)),l.classList.contains("e-control-wrapper")||l.classList.contains("e-wrapper")||o.classList.contains("e-input")&&l.classList.contains("e-input-group")?l.classList.remove(this.validClass):null!=h&&(h.classList.contains("e-control-wrapper")||h.classList.contains("e-wrapper"))?h.classList.remove(this.validClass):o.classList.remove(this.validClass)}},t.prototype.createHTML5Rules=function(){for(var i=["required","validateHidden","regex","rangeLength","maxLength","minLength","dateIso","digits","pattern","data-val-required","type","data-validation","min","max","range","equalTo","data-val-minlength-min","data-val-equalto-other","data-val-maxlength-max","data-val-range-min","data-val-regex-pattern","data-val-length-max","data-val-creditcard","data-val-phone"],n=["hidden","email","url","date","number","tel"],s=0,a=this.inputElements;s<a.length;s++){for(var o=a[s],l={},h=0,c=i;h<c.length;h++){var d=c[h];if(null!==o.getAttribute(d))switch(d){case"required":this.defRule(o,l,d,o.required);break;case"data-validation":d=o.getAttribute(d),this.defRule(o,l,d,!0);break;case"type":-1!==n.indexOf(o.type)&&this.defRule(o,l,o.type,!0);break;case"rangeLength":case"range":this.defRule(o,l,d,JSON.parse(o.getAttribute(d)));break;case"equalTo":var p=o.getAttribute(d);this.defRule(o,l,d,p);break;default:"true"===o.getAttribute("data-val")?this.annotationRule(o,l,d,o.getAttribute(d)):this.defRule(o,l,d,o.getAttribute(d))}}0!==Object.keys(l).length&&this.addRules(o.name,l)}},t.prototype.annotationRule=function(i,n,s,a){var o=s.split("-"),l=["required","creditcard","phone","maxlength","minlength","range","regex","equalto"],h=o[o.length-1],c=o[o.length-2];if(-1!==l.indexOf(h))switch(h){case"required":this.defRule(i,n,"required",a);break;case"creditcard":this.defRule(i,n,"creditcard",a);break;case"phone":this.defRule(i,n,"tel",a)}else if(-1!==l.indexOf(c))switch(c){case"maxlength":this.defRule(i,n,"maxLength",a);break;case"minlength":this.defRule(i,n,"minLength",a);break;case"range":var d=i.getAttribute("data-val-range-min"),p=i.getAttribute("data-val-range-max");this.defRule(i,n,"range",[d,p]);break;case"equalto":var f=i.getAttribute(s).split(".");this.defRule(i,n,"equalTo",f[f.length-1]);break;case"regex":this.defRule(i,n,"regex",a)}},t.prototype.defRule=function(i,n,s,a){var h,o=i.getAttribute("data-"+s+"-message"),l=i.getAttribute("data-val-"+s);this.rules[i.name]&&"validateHidden"!==s&&"hidden"!==s&&(this.getInputElement(i.name),h=this.getErrorMessage(this.rules[i.name][""+s],s)),o?a=[a,o]:l?a=[a,l]:h&&(a=[a,h]),n[""+s]=a},t.prototype.wireEvents=function(){for(var i=0,n=this.inputElements;i<n.length;i++){var s=n[i];e.isCheckable(s)?b.add(s,"click",this.clickHandler,this):"SELECT"===s.tagName?b.add(s,"change",this.changeHandler,this):(b.add(s,"focusout",this.focusOutHandler,this),b.add(s,"keyup",this.keyUpHandler,this))}b.add(this.element,"submit",this.submitHandler,this),b.add(this.element,"reset",this.resetHandler,this)},t.prototype.unwireEvents=function(){for(var i=0,n=this.inputElements;i<n.length;i++)b.clearEvents(n[i]);b.remove(this.element,"submit",this.submitHandler),b.remove(this.element,"reset",this.resetHandler)},t.prototype.focusOutHandler=function(i){this.trigger("focusout",i);var n=i.target;this.rules[n.name]&&(this.rules[n.name][this.required]||n.value.length>0?this.validate(n.name):-1===this.validated.indexOf(n.name)&&this.validated.push(n.name))},t.prototype.keyUpHandler=function(i){this.trigger("keyup",i);var n=i.target;9===i.which&&(!this.rules[n.name]||this.rules[n.name]&&!this.rules[n.name][this.required])||-1!==this.validated.indexOf(n.name)&&this.rules[n.name]&&-1===[16,17,18,20,35,36,37,38,39,40,45,144,225].indexOf(i.which)&&this.validate(n.name)},t.prototype.clickHandler=function(i){this.trigger("click",i);var n=i.target;"submit"!==n.type?this.validate(n.name):null!==n.getAttribute("formnovalidate")&&(this.allowSubmit=!0)},t.prototype.changeHandler=function(i){this.trigger("change",i),this.validate(i.target.name)},t.prototype.submitHandler=function(i){this.trigger("submit",i),this.allowSubmit||this.validate()?this.allowSubmit=!1:i.preventDefault()},t.prototype.resetHandler=function(){this.clearForm()},t.prototype.validateRules=function(i){if(this.rules[""+i]){var n=Object.keys(this.rules[""+i]),s=!1,a=!1,o=n.indexOf("validateHidden"),l=n.indexOf("hidden");if(this.getInputElement(i),-1!==l&&(s=!0),-1!==o&&(a=!0),!(!s||s&&a))return;-1!==o&&n.splice(o,1),-1!==l&&n.splice(l-1,1),this.getErrorElement(i);for(var h=0,c=n;h<c.length;h++){var d=c[h],p=this.getErrorMessage(this.rules[""+i][""+d],d),f={name:i,message:p},m={inputName:i,element:this.inputElement,message:p};if(!this.isValid(i,d)&&!this.inputElement.classList.contains(this.ignore)){this.removeErrorRules(i),this.errorRules.push(f),this.inputElement.setAttribute("aria-invalid","true"),this.inputElement.setAttribute("aria-describedby",this.inputElement.id+"-info");var g=this.inputElement.parentElement,y=g.parentElement;g.classList.contains("e-control-wrapper")||g.classList.contains("e-wrapper")||this.inputElement.classList.contains("e-input")&&g.classList.contains("e-input-group")?(g.classList.add(this.errorClass),g.classList.remove(this.validClass)):null!=y&&(y.classList.contains("e-control-wrapper")||y.classList.contains("e-wrapper"))?(y.classList.add(this.errorClass),y.classList.remove(this.validClass)):(this.inputElement.classList.add(this.errorClass),this.inputElement.classList.remove(this.validClass)),this.infoElement?this.showMessage(f):this.createErrorElement(i,f.message,this.inputElement),m.errorElement=this.infoElement,m.status="failure",g.classList.contains("e-control-wrapper")||g.classList.contains("e-wrapper")||this.inputElement.classList.contains("e-input")&&g.classList.contains("e-input-group")?(g.classList.add(this.errorClass),g.classList.remove(this.validClass)):null!=y&&(y.classList.contains("e-control-wrapper")||y.classList.contains("e-wrapper"))?(y.classList.add(this.errorClass),y.classList.remove(this.validClass)):(this.inputElement.classList.add(this.errorClass),this.inputElement.classList.remove(this.validClass)),this.optionalValidationStatus(i,m),this.trigger("validationComplete",m),"required"===d&&this.inputElement.setAttribute("aria-required","true");break}this.hideMessage(i),m.status="success",this.trigger("validationComplete",m)}}},t.prototype.optionalValidationStatus=function(i,n){!this.rules[""+i][this.required]&&!this.inputElement.value.length&&!u(this.infoElement)&&(this.infoElement.innerHTML=this.inputElement.value,this.infoElement.setAttribute("aria-invalid","false"),n.status="",this.hideMessage(i))},t.prototype.isValid=function(i,n){var s=this.rules[""+i][""+n],o=this.rules[""+i][""+n],l={value:this.inputElement.value,param:s instanceof Array&&"string"==typeof s[1]?s[0]:s,element:this.inputElement,formElement:this.element};return this.trigger("validationBegin",l),!l.param&&"required"===n||(o&&"function"==typeof o[0]?o[0].call(this,{element:this.inputElement,value:this.inputElement.value}):e.isCheckable(this.inputElement)?"required"!==n||pe('input[name="'+i+'"]:checked',this.element).length>0:e.checkValidator[""+n](l))},t.prototype.getErrorMessage=function(i,n){var s=this.inputElement.getAttribute("data-"+n+"-message")?this.inputElement.getAttribute("data-"+n+"-message"):i instanceof Array&&"string"==typeof i[1]?i[1]:0!==Object.keys(this.localyMessage).length?this.localyMessage[""+n]:this.defaultMessages[""+n],a=s.match(/{(\d)}/g);if(!u(a))for(var o=0;o<a.length;o++){var l=i instanceof Array?i[parseInt(o.toString())]:i;s=s.replace(a[parseInt(o.toString())],l)}return s},t.prototype.createErrorElement=function(i,n,s){var a=N(this.errorElement,{className:this.errorClass,innerHTML:n,attrs:{for:i}});if(this.errorOption===uv.Message&&(a.classList.remove(this.errorClass),a.classList.add("e-message"),a=N(this.errorContainer,{className:this.errorClass,innerHTML:a.outerHTML})),a.id=this.inputElement.name+"-info",this.element.querySelector('[data-valmsg-for="'+s.id+'"]'))this.element.querySelector('[data-valmsg-for="'+s.id+'"]').appendChild(a);else if(!0===s.hasAttribute("data-msg-containerid"))P("#"+s.getAttribute("data-msg-containerid"),this.element).appendChild(a);else if(null!=this.customPlacement)this.customPlacement.call(this,this.inputElement,a);else{var h=this.inputElement.parentElement,c=h.parentElement;h.classList.contains("e-control-wrapper")||h.classList.contains("e-wrapper")?c.insertBefore(a,h.nextSibling):c.classList.contains("e-control-wrapper")||c.classList.contains("e-wrapper")?c.parentElement.insertBefore(a,c.nextSibling):h.insertBefore(a,this.inputElement.nextSibling)}a.style.display="block",this.getErrorElement(i),this.validated.push(i),this.checkRequired(i)},t.prototype.getErrorElement=function(i){return this.infoElement=P(this.errorElement+"."+this.errorClass,this.inputElement.parentElement),this.infoElement||(this.infoElement=P(this.errorElement+"."+this.errorClass+'[for="'+i+'"]',this.element)),this.infoElement},t.prototype.removeErrorRules=function(i){for(var n=0;n<this.errorRules.length;n++)this.errorRules[parseInt(n.toString())].name===i&&this.errorRules.splice(n,1)},t.prototype.showMessage=function(i){this.infoElement.style.display="block",this.infoElement.innerHTML=i.message,this.checkRequired(i.name)},t.prototype.hideMessage=function(i){if(this.infoElement){this.infoElement.style.display="none",this.removeErrorRules(i);var n=this.inputElement.parentElement,s=n.parentElement;n.classList.contains("e-control-wrapper")||n.classList.contains("e-wrapper")||this.inputElement.classList.contains("e-input")&&n.classList.contains("e-input-group")?(n.classList.add(this.validClass),n.classList.remove(this.errorClass)):null!=s&&(s.classList.contains("e-control-wrapper")||s.classList.contains("e-wrapper"))?(s.classList.add(this.validClass),s.classList.remove(this.errorClass)):(this.inputElement.classList.add(this.validClass),this.inputElement.classList.remove(this.errorClass)),this.inputElement.setAttribute("aria-invalid","false")}},t.prototype.checkRequired=function(i){!this.rules[""+i][this.required]&&!this.inputElement.value.length&&!u(this.infoElement)&&(this.infoElement.innerHTML=this.inputElement.value,this.infoElement.setAttribute("aria-invalid","false"),this.hideMessage(i))},t.isCheckable=function(i){var n=i.getAttribute("type");return n&&("checkbox"===n||"radio"===n||"submit"===n)},t.checkValidator={required:function(i){return isNaN(Date.parse(i.value))?i.value.toString().length>0:!isNaN(new Date(i.value).getTime())},email:function(i){return uf.EMAIL.test(i.value)},url:function(i){return uf.URL.test(i.value)},dateIso:function(i){return uf.DATE_ISO.test(i.value)},tel:function(i){return uf.PHONE.test(i.value)},creditcard:function(i){return uf.CREDITCARD.test(i.value)},number:function(i){return!isNaN(Number(i.value))&&-1===i.value.indexOf(" ")},digits:function(i){return uf.DIGITS.test(i.value)},maxLength:function(i){return i.value.length<=i.param},minLength:function(i){return i.value.length>=i.param},rangeLength:function(i){var n=i.param;return i.value.length>=n[0]&&i.value.length<=n[1]},range:function(i){var n=i.param;return!isNaN(Number(i.value))&&Number(i.value)>=n[0]&&Number(i.value)<=n[1]},date:function(i){if(u(i.param)||"string"!=typeof i.param||""===i.param)return!isNaN(new Date(i.value).getTime());var n=new Li,s={format:i.param.toString(),type:"dateTime",skeleton:"yMd"},a=n.parseDate(i.value,s);return!u(a)&&a instanceof Date&&!isNaN(+a)},max:function(i){return isNaN(Number(i.value))?new Date(i.value).getTime()<=new Date(JSON.parse(JSON.stringify(i.param))).getTime():+i.value<=i.param},min:function(i){if(isNaN(Number(i.value))){if(-1!==i.value.indexOf(",")){var n=i.value.replace(/,/g,"");return parseFloat(n)>=i.param}return new Date(i.value).getTime()>=new Date(JSON.parse(JSON.stringify(i.param))).getTime()}return+i.value>=i.param},regex:function(i){return new RegExp(i.param).test(i.value)},equalTo:function(i){var n=i.formElement.querySelector("#"+i.param);return i.param=n.value,i.param===i.value}},Xs([v("")],t.prototype,"locale",void 0),Xs([v("e-hidden")],t.prototype,"ignore",void 0),Xs([v()],t.prototype,"rules",void 0),Xs([v("e-error")],t.prototype,"errorClass",void 0),Xs([v("e-valid")],t.prototype,"validClass",void 0),Xs([v("label")],t.prototype,"errorElement",void 0),Xs([v("div")],t.prototype,"errorContainer",void 0),Xs([v(uv.Label)],t.prototype,"errorOption",void 0),Xs([x()],t.prototype,"focusout",void 0),Xs([x()],t.prototype,"keyup",void 0),Xs([x()],t.prototype,"click",void 0),Xs([x()],t.prototype,"change",void 0),Xs([x()],t.prototype,"submit",void 0),Xs([x()],t.prototype,"validationBegin",void 0),Xs([x()],t.prototype,"validationComplete",void 0),Xs([x()],t.prototype,"customPlacement",void 0),e=Xs([et],t)}(dh),xfe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),IW=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Ac="e-rtl",xc="e-overlay",bv="e-nav-arrow",Cv="e-nav-right-arrow",wE="e-nav-left-arrow",Yu="e-scroll-nav",WO="e-scroll-right-nav",AW="e-scroll-left-nav",xW="e-scroll-device",ME="e-scroll-overlay",qO="e-scroll-right-overlay",YO="e-scroll-left-overlay",TE=function(r){function t(e,i){return r.call(this,e,i)||this}return xfe(t,r),t.prototype.preRender=function(){this.browser=O.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=O.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=vt("hscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(Ac)},t.prototype.render=function(){this.touchModule=new Zn(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),b.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add(xW),this.createOverlay(this.element)):this.createNavIcon(this.element),this.setScrollState()},t.prototype.setScrollState=function(){u(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=this.createElement("div",{className:"e-hscroll-content"}),i=this.createElement("div",{className:"e-hscroll-bar"});i.setAttribute("tabindex","-1");for(var n=this.element,a=0,o=[].slice.call(n.children);a<o.length;a++)e.appendChild(o[a]);i.appendChild(e),n.appendChild(i),i.style.overflowX="hidden",this.scrollEle=i,this.scrollItems=e},t.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},t.prototype.getModuleName=function(){return"hScroll"},t.prototype.destroy=function(){var e=this.element;e.style.display="",e.classList.remove("e-hscroll"),e.classList.remove(xW),e.classList.remove(Ac);var i=pe(".e-"+e.id+"_nav."+Yu,e),n=pe("."+ME,e);[].slice.call(n).forEach(function(l){Q(l)});for(var s=0,a=[].slice.call(this.scrollItems.children);s<a.length;s++)e.appendChild(a[s]);this.uniqueId&&this.element.removeAttribute("id"),Q(this.scrollEle),i.length>0&&(Q(i[0]),u(i[1])||Q(i[1])),b.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,r.prototype.destroy.call(this)},t.prototype.disable=function(e){var i=pe(".e-scroll-nav:not(."+xc+")",this.element);e?this.element.classList.add(xc):this.element.classList.remove(xc),[].slice.call(i).forEach(function(n){n.setAttribute("tabindex",e?"-1":"0")})},t.prototype.createOverlay=function(e){var i=e.id.concat("_nav"),n=this.createElement("div",{className:ME+" "+qO}),s="e-"+e.id.concat("_nav "+Yu+" "+WO),a=this.createElement("div",{id:i.concat("_right"),className:s}),o=this.createElement("div",{className:Cv+" "+bv+" e-icons"});a.appendChild(o);var l=this.createElement("div",{className:ME+" "+YO});this.ieCheck&&a.classList.add("e-ie-align"),e.appendChild(n),e.appendChild(a),e.insertBefore(l,e.firstChild),this.eventBinding([a])},t.prototype.createNavIcon=function(e){var i=e.id.concat("_nav"),n="e-"+e.id.concat("_nav "+Yu+" "+WO),s={role:"button",id:i.concat("_right"),"aria-label":"Scroll right"},a=this.createElement("div",{className:n,attrs:s});a.setAttribute("aria-disabled","false");var o=this.createElement("div",{className:Cv+" "+bv+" e-icons"}),l="e-"+e.id.concat("_nav "+Yu+" "+AW),h={role:"button",id:i.concat("_left"),"aria-label":"Scroll left"},c=this.createElement("div",{className:l+" "+xc,attrs:h});c.setAttribute("aria-disabled","true");var d=this.createElement("div",{className:wE+" "+bv+" e-icons"});c.appendChild(d),a.appendChild(o),e.appendChild(a),e.insertBefore(c,e.firstChild),this.ieCheck&&(a.classList.add("e-ie-align"),c.classList.add("e-ie-align")),this.eventBinding([a,c])},t.prototype.onKeyPress=function(e){var i=this;"Enter"===e.key&&(this.keyTimer=window.setTimeout(function(){i.keyTimeout=!0,i.eleScrolling(10,e.target,!0)},100))},t.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var i=this;[].slice.call(e).forEach(function(n){new Zn(n,{tapHold:i.tabHoldHandler.bind(i),tapHoldThreshold:500}),n.addEventListener("keydown",i.onKeyPress.bind(i)),n.addEventListener("keyup",i.onKeyUp.bind(i)),n.addEventListener("mouseup",i.repeatScroll.bind(i)),n.addEventListener("touchend",i.repeatScroll.bind(i)),n.addEventListener("contextmenu",function(s){s.preventDefault()}),b.add(n,"click",i.clickEventHandler,i)})},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var i=this,n=e.originalEvent.target;n=this.contains(n,Yu)?n.firstElementChild:n,this.timeout=window.setInterval(function(){i.eleScrolling(10,n,!0)},50)},t.prototype.contains=function(e,i){return e.classList.contains(i)},t.prototype.eleScrolling=function(e,i,n){var s=this.element,a=i.classList;a.contains(Yu)&&(a=i.querySelector("."+bv).classList),this.contains(s,Ac)&&this.browserCheck&&(e=-e),!this.contains(s,Ac)||this.browserCheck||this.ieCheck?a.contains(Cv)?this.frameScrollRequest(e,"add",n):this.frameScrollRequest(e,"",n):a.contains(wE)?this.frameScrollRequest(e,"add",n):this.frameScrollRequest(e,"",n)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.swipeHandler=function(e){var n,i=this.scrollEle;n=e.velocity<=1?e.distanceX/(10*e.velocity):e.distanceX/e.velocity;var s=.5,a=function(){var o=Math.sin(s);o<=0?window.cancelAnimationFrame(o):("Left"===e.swipeDirection?i.scrollLeft+=n*o:"Right"===e.swipeDirection&&(i.scrollLeft-=n*o),s-=.5,window.requestAnimationFrame(a))};a()},t.prototype.scrollUpdating=function(e,i){"add"===i?this.scrollEle.scrollLeft+=e:this.scrollEle.scrollLeft-=e,this.enableRtl&&this.scrollEle.scrollLeft>0&&(this.scrollEle.scrollLeft=0)},t.prototype.frameScrollRequest=function(e,i,n){var s=this;if(n)this.scrollUpdating(e,i);else{this.customStep||[].slice.call(pe("."+ME,this.element)).forEach(function(l){e-=l.offsetWidth});var o=function(){var l,h;s.contains(s.element,Ac)&&s.browserCheck?(l=-e,h=-10):(l=e,h=10),l<10?window.cancelAnimationFrame(h):(s.scrollUpdating(h,i),e-=h,window.requestAnimationFrame(o))};o()}},t.prototype.touchHandler=function(e){var i=this.scrollEle,n=e.distanceX;this.ieCheck&&this.contains(this.element,Ac)&&(n=-n),"Left"===e.scrollDirection?i.scrollLeft=i.scrollLeft+n:"Right"===e.scrollDirection&&(i.scrollLeft=i.scrollLeft-n)},t.prototype.arrowDisabling=function(e,i){if(this.isDevice){var s=(u(e)?i:e).querySelector("."+bv);u(e)?$i(s,[Cv],[wE]):$i(s,[wE],[Cv])}else e&&i&&(e.classList.add(xc),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),i.classList.remove(xc),i.setAttribute("aria-disabled","false"),i.setAttribute("tabindex","0"));this.repeatScroll()},t.prototype.scrollHandler=function(e){var i=e.target,n=i.offsetWidth,a=this.element.querySelector("."+AW),o=this.element.querySelector("."+WO),l=this.element.querySelector("."+YO),h=this.element.querySelector("."+qO),c=i.scrollLeft;if(c<=0&&(c=-c),this.isDevice&&(this.enableRtl&&!(this.browserCheck||this.ieCheck)&&(l=this.element.querySelector("."+qO),h=this.element.querySelector("."+YO)),l.style.width=c<40?c+"px":"40px",h.style.width=i.scrollWidth-Math.ceil(n+c)<40?i.scrollWidth-Math.ceil(n+c)+"px":"40px"),0===c)this.arrowDisabling(a,o);else if(Math.ceil(n+c+.1)>=i.scrollWidth)this.arrowDisabling(o,a);else{var d=this.element.querySelector("."+Yu+"."+xc);d&&(d.classList.remove(xc),d.setAttribute("aria-disabled","false"),d.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++)switch(s[n]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(Ac):this.element.classList.remove(Ac)}},IW([v(null)],t.prototype,"scrollStep",void 0),IW([et],t)}(Yt),_fe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),kW=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},IE="e-rtl",Oc="e-overlay",Ev="e-nav-arrow",AE="e-nav-up-arrow",Dv="e-nav-down-arrow",Qu="e-scroll-nav",NW="e-scroll-up-nav",QO="e-scroll-down-nav",_W="e-scroll-device",xE="e-scroll-overlay",LW="e-scroll-up-overlay",RW="e-scroll-down-overlay",gf=function(r){function t(e,i){return r.call(this,e,i)||this}return _fe(t,r),t.prototype.preRender=function(){this.browser=O.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=O.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=vt("vscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(IE)},t.prototype.render=function(){this.touchModule=new Zn(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),b.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add(_W),this.createOverlayElement(this.element)):this.createNavIcon(this.element),this.setScrollState(),b.add(this.element,"wheel",this.wheelEventHandler,this)},t.prototype.setScrollState=function(){u(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=N("div",{className:"e-vscroll-content"}),i=N("div",{className:"e-vscroll-bar"});i.setAttribute("tabindex","-1");for(var n=this.element,a=0,o=[].slice.call(n.children);a<o.length;a++)e.appendChild(o[a]);i.appendChild(e),n.appendChild(i),i.style.overflow="hidden",this.scrollEle=i,this.scrollItems=e},t.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},t.prototype.getModuleName=function(){return"vScroll"},t.prototype.destroy=function(){var e=this.element;e.style.display="",M([this.element],["e-vscroll",_W,IE]);var i=pe(".e-"+e.id+"_nav."+Qu,e),n=pe("."+xE,e);[].slice.call(n).forEach(function(l){Q(l)});for(var s=0,a=[].slice.call(this.scrollItems.children);s<a.length;s++)e.appendChild(a[s]);this.uniqueId&&this.element.removeAttribute("id"),Q(this.scrollEle),i.length>0&&(Q(i[0]),u(i[1])||Q(i[1])),b.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,r.prototype.destroy.call(this)},t.prototype.disable=function(e){var i=pe(".e-scroll-nav:not(."+Oc+")",this.element);e?this.element.classList.add(Oc):this.element.classList.remove(Oc),[].slice.call(i).forEach(function(n){n.setAttribute("tabindex",e?"-1":"0")})},t.prototype.createOverlayElement=function(e){var i=e.id.concat("_nav"),n=N("div",{className:xE+" "+RW}),s="e-"+e.id.concat("_nav "+Qu+" "+QO),a=N("div",{id:i.concat("down"),className:s}),o=N("div",{className:Dv+" "+Ev+" e-icons"});a.appendChild(o);var l=N("div",{className:xE+" "+LW});this.ieCheck&&a.classList.add("e-ie-align"),e.appendChild(n),e.appendChild(a),e.insertBefore(l,e.firstChild),this.eventBinding([a])},t.prototype.createNavIcon=function(e){var i=e.id.concat("_nav"),n="e-"+e.id.concat("_nav "+Qu+" "+QO),s=N("div",{id:i.concat("_down"),className:n});s.setAttribute("aria-disabled","false");var a=N("div",{className:Dv+" "+Ev+" e-icons"}),o="e-"+e.id.concat("_nav "+Qu+" "+NW),l=N("div",{id:i.concat("_up"),className:o+" "+Oc});l.setAttribute("aria-disabled","true");var h=N("div",{className:AE+" "+Ev+" e-icons"});l.appendChild(h),s.appendChild(a),s.setAttribute("tabindex","0"),e.appendChild(s),e.insertBefore(l,e.firstChild),this.ieCheck&&(s.classList.add("e-ie-align"),l.classList.add("e-ie-align")),this.eventBinding([s,l])},t.prototype.onKeyPress=function(e){var i=this;"Enter"===e.key&&(this.keyTimer=window.setTimeout(function(){i.keyTimeout=!0,i.eleScrolling(10,e.target,!0)},100))},t.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var i=this;[].slice.call(e).forEach(function(n){new Zn(n,{tapHold:i.tabHoldHandler.bind(i),tapHoldThreshold:500}),n.addEventListener("keydown",i.onKeyPress.bind(i)),n.addEventListener("keyup",i.onKeyUp.bind(i)),n.addEventListener("mouseup",i.repeatScroll.bind(i)),n.addEventListener("touchend",i.repeatScroll.bind(i)),n.addEventListener("contextmenu",function(s){s.preventDefault()}),b.add(n,"click",i.clickEventHandler,i)})},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var i=this,n=e.originalEvent.target;n=this.contains(n,Qu)?n.firstElementChild:n,this.timeout=window.setInterval(function(){i.eleScrolling(10,n,!0)},50)},t.prototype.contains=function(e,i){return e.classList.contains(i)},t.prototype.eleScrolling=function(e,i,n){var s=i.classList;s.contains(Qu)&&(s=i.querySelector("."+Ev).classList),s.contains(Dv)?this.frameScrollRequest(e,"add",n):s.contains(AE)&&this.frameScrollRequest(e,"",n)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.wheelEventHandler=function(e){e.preventDefault(),this.frameScrollRequest(this.scrollStep,e.deltaY>0?"add":"",!1)},t.prototype.swipeHandler=function(e){var n,i=this.scrollEle;n=e.velocity<=1?e.distanceY/(10*e.velocity):e.distanceY/e.velocity;var s=.5,a=function(){var o=Math.sin(s);o<=0?window.cancelAnimationFrame(o):("Up"===e.swipeDirection?i.scrollTop+=n*o:"Down"===e.swipeDirection&&(i.scrollTop-=n*o),s-=.02,window.requestAnimationFrame(a))};a()},t.prototype.scrollUpdating=function(e,i){"add"===i?this.scrollEle.scrollTop+=e:this.scrollEle.scrollTop-=e},t.prototype.frameScrollRequest=function(e,i,n){var s=this;if(n)this.scrollUpdating(e,i);else{this.customStep||[].slice.call(pe("."+xE,this.element)).forEach(function(l){e-=l.offsetHeight});var o=function(){e<10?window.cancelAnimationFrame(10):(s.scrollUpdating(10,i),e-=10,window.requestAnimationFrame(o))};o()}},t.prototype.touchHandler=function(e){var i=this.scrollEle,n=e.distanceY;"Up"===e.scrollDirection?i.scrollTop=i.scrollTop+n:"Down"===e.scrollDirection&&(i.scrollTop=i.scrollTop-n)},t.prototype.arrowDisabling=function(e,i){if(this.isDevice){var s=(u(e)?i:e).querySelector("."+Ev);u(e)?$i(s,[Dv],[AE]):$i(s,[AE],[Dv])}else e.classList.add(Oc),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),i.classList.remove(Oc),i.setAttribute("aria-disabled","false"),i.setAttribute("tabindex","0");this.repeatScroll()},t.prototype.scrollEventHandler=function(e){var i=e.target,n=i.offsetHeight,s=this.element.querySelector("."+NW),a=this.element.querySelector("."+QO),o=this.element.querySelector("."+LW),l=this.element.querySelector("."+RW),h=i.scrollTop;if(h<=0&&(h=-h),this.isDevice&&(o.style.height=h<40?h+"px":"40px",l.style.height=i.scrollHeight-Math.ceil(n+h)<40?i.scrollHeight-Math.ceil(n+h)+"px":"40px"),0===h)this.arrowDisabling(s,a);else if(Math.ceil(n+h+.1)>=i.scrollHeight)this.arrowDisabling(a,s);else{var c=this.element.querySelector("."+Qu+"."+Oc);c&&(c.classList.remove(Oc),c.setAttribute("aria-disabled","false"),c.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++)switch(s[n]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(IE):this.element.classList.remove(IE)}},kW([v(null)],t.prototype,"scrollStep",void 0),kW([et],t)}(Yt),zW=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ni=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},XO="e-vertical",tn="e-toolbar-items",un="e-toolbar-item",Dl="e-rtl",Sn="e-separator",VE="e-popup-up-icon",Sv="e-popup-down-icon",UW="e-popup-open",WW="e-template",Lr="e-overlay",qW="e-toolbar-text",ZO="e-popup-text",jo="e-overflow-show",jE="e-overflow-hide",Xr="e-hor-nav",YW="e-scroll-nav",QW="e-toolbar-center",Bo="e-tbar-pos",GW="e-hscroll-bar",wv="e-toolbar-pop",kc="e-toolbar-popup",Mv="e-nav-active",Tv="e-ignore",JO="e-popup-alone",Dh="e-hidden",$W="e-toolbar-multirow",KW="e-multirow-pos",ek="e-multirow-separator",tk="e-extended-separator",XW="e-extended-toolbar",BE="e-toolbar-extended",ik="e-tbar-extended",Qfe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return zW(t,r),Ni([v("")],t.prototype,"id",void 0),Ni([v("")],t.prototype,"text",void 0),Ni([v("auto")],t.prototype,"width",void 0),Ni([v("")],t.prototype,"cssClass",void 0),Ni([v(!1)],t.prototype,"showAlwaysInPopup",void 0),Ni([v(!1)],t.prototype,"disabled",void 0),Ni([v("")],t.prototype,"prefixIcon",void 0),Ni([v("")],t.prototype,"suffixIcon",void 0),Ni([v(!0)],t.prototype,"visible",void 0),Ni([v("None")],t.prototype,"overflow",void 0),Ni([v("")],t.prototype,"template",void 0),Ni([v("Button")],t.prototype,"type",void 0),Ni([v("Both")],t.prototype,"showTextOn",void 0),Ni([v(null)],t.prototype,"htmlAttributes",void 0),Ni([v("")],t.prototype,"tooltipText",void 0),Ni([v("Left")],t.prototype,"align",void 0),Ni([x()],t.prototype,"click",void 0),Ni([v(-1)],t.prototype,"tabIndex",void 0),t}(ot),ZW=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.resizeContext=n.resize.bind(n),n.orientationChangeContext=n.orientationChange.bind(n),n.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"},n}return zW(t,r),t.prototype.destroy=function(){var e=this;(this.isReact||this.isAngular)&&this.clearTemplate();var i=this.element.querySelectorAll(".e-control.e-btn");for([].slice.call(i).forEach(function(n){!u(n)&&!u(n.ej2_instances)&&!u(n.ej2_instances[0])&&!n.ej2_instances[0].isDestroyed&&n.ej2_instances[0].destroy()}),this.unwireEvents(),this.tempId.forEach(function(n){u(e.element.querySelector(n))||(document.body.appendChild(e.element.querySelector(n)).style.display="none")}),this.destroyItems();this.element.lastElementChild;)this.element.removeChild(this.element.lastElementChild);this.trgtEle&&(this.element.appendChild(this.ctrlTem),this.trgtEle=null,this.ctrlTem=null),this.popObj&&(this.popObj.destroy(),Q(this.popObj.element)),this.activeEle&&(this.activeEle=null),this.popObj=null,this.tbarAlign=null,this.tbarItemsCol=[],this.remove(this.element,"e-toolpop"),this.cssClass&&M([this.element],this.cssClass.split(" ")),this.element.removeAttribute("style"),["aria-disabled","aria-orientation","role"].forEach(function(n){return e.element.removeAttribute(n)}),r.prototype.destroy.call(this)},t.prototype.preRender=function(){var e={enableCollision:this.enableCollision,scrollStep:this.scrollStep};this.trigger("beforeCreate",e),this.enableCollision=e.enableCollision,this.scrollStep=e.scrollStep,this.scrollModule=null,this.popObj=null,this.tempId=[],this.tbarItemsCol=this.items,this.isVertical=!!this.element.classList.contains(XO),this.isExtendedOpen=!1,this.popupPriCount=0,this.enableRtl&&this.add(this.element,Dl)},t.prototype.wireEvents=function(){b.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resizeContext),window.addEventListener("orientationchange",this.orientationChangeContext),this.allowKeyboard&&this.wireKeyboardEvent()},t.prototype.wireKeyboardEvent=function(){this.keyModule=new Lt(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),b.add(this.element,"keydown",this.docKeyDown,this),this.updateTabIndex("0")},t.prototype.updateTabIndex=function(e){var i=this.element.querySelector("."+un+":not(."+Lr+" ):not(."+Sn+" ):not(."+Dh+" )");if(!u(i)&&!u(i.firstElementChild)){var n=i.firstElementChild.getAttribute("data-tabindex");n&&"-1"===n&&"INPUT"!==i.firstElementChild.tagName&&i.firstElementChild.setAttribute("tabindex",e)}},t.prototype.unwireKeyboardEvent=function(){this.keyModule&&(b.remove(this.element,"keydown",this.docKeyDown),this.keyModule.destroy(),this.keyModule=null)},t.prototype.docKeyDown=function(e){if("INPUT"!==e.target.tagName){var i=!u(this.popObj)&&ln(this.popObj.element)&&"Extended"!==this.overflowMode;9===e.keyCode&&!0===e.target.classList.contains("e-hor-nav")&&i&&this.popObj.hide({name:"FadeOut",duration:100}),(40===e.keyCode||38===e.keyCode||35===e.keyCode||36===e.keyCode)&&e.preventDefault()}},t.prototype.unwireEvents=function(){b.remove(this.element,"click",this.clickHandler),this.destroyScroll(),this.unwireKeyboardEvent(),window.removeEventListener("resize",this.resizeContext),window.removeEventListener("orientationchange",this.orientationChangeContext),b.remove(document,"scroll",this.docEvent),b.remove(document,"click",this.docEvent)},t.prototype.clearProperty=function(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}},t.prototype.docEvent=function(e){var i=I(e.target,".e-popup");this.popObj&&ln(this.popObj.element)&&!i&&"Popup"===this.overflowMode&&this.popObj.hide({name:"FadeOut",duration:100})},t.prototype.destroyScroll=function(){this.scrollModule&&(this.tbarAlign&&this.add(this.scrollModule.element,Bo),this.scrollModule.destroy(),this.scrollModule=null)},t.prototype.destroyItems=function(){if(this.element&&[].slice.call(this.element.querySelectorAll("."+un)).forEach(function(i){Q(i)}),this.tbarAlign){var e=this.element.querySelector("."+tn);[].slice.call(e.children).forEach(function(i){Q(i)}),this.tbarAlign=!1,this.remove(e,Bo)}this.clearProperty()},t.prototype.destroyMode=function(){this.scrollModule&&(this.remove(this.scrollModule.element,Dl),this.destroyScroll()),this.remove(this.element,ik),this.remove(this.element,XW);var e=this.element.querySelector(".e-toolbar-multirow");e&&this.remove(e,$W),this.popObj&&this.popupRefresh(this.popObj.element,!0)},t.prototype.add=function(e,i){e.classList.add(i)},t.prototype.remove=function(e,i){e.classList.remove(i)},t.prototype.elementFocus=function(e){var i=e.firstElementChild;i?(i.focus(),this.activeEleSwitch(e)):e.focus()},t.prototype.clstElement=function(e,i){return e&&this.popObj&&ln(this.popObj.element)?this.popObj.element.querySelector("."+un):this.element===i||e?this.element.querySelector("."+un+":not(."+Lr+" ):not(."+Sn+" ):not(."+Dh+" )"):I(i,"."+un)},t.prototype.keyHandling=function(e,i,n,s,a){var d,p,o=this.popObj,l=this.element,h={name:"FadeOut",duration:100},c="moveUp"===i.action?"previous":"next";switch(i.action){case"moveRight":if(this.isVertical)return;l===n?this.elementFocus(e):s||this.eleFocus(e,"next");break;case"moveLeft":if(this.isVertical)return;s||this.eleFocus(e,"previous");break;case"home":case"end":if(e){var f=I(e,".e-popup"),m=this.element.querySelector("."+BE);"Extended"===this.overflowMode&&m&&m.classList.contains("e-popup-open")&&(f="end"===i.action?m:null),f?ln(this.popObj.element)&&(p=[].slice.call(f.children),d="home"===i.action?this.focusFirstVisibleEle(p):this.focusLastVisibleEle(p)):(p=this.element.querySelectorAll("."+tn+" ."+un+":not(."+Sn+")"),d="home"===i.action?this.focusFirstVisibleEle(p):this.focusLastVisibleEle(p)),d&&this.elementFocus(d)}break;case"moveUp":case"moveDown":if(this.isVertical)this.eleFocus(e,"moveUp"===i.action?"previous":"next");else if(o&&I(n,".e-popup")){var g=o.element,y=g.firstElementChild;"previous"===c&&y===e?g.lastElementChild.firstChild.focus():"next"===c&&g.lastElementChild===e?y.firstChild.focus():this.eleFocus(e,c)}else"moveDown"===i.action&&o&&ln(o.element)&&this.elementFocus(e);break;case"tab":if(!a&&!s){var C=e.firstElementChild;l===n&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(C),C.focus()))}break;case"popupClose":o&&"Extended"!==this.overflowMode&&o.hide(h);break;case"popupOpen":if(!s)return;o&&!ln(o.element)?(o.element.style.top=l.offsetHeight+"px",o.show({name:"FadeIn",duration:100})):o.hide(h)}},t.prototype.keyActionHandler=function(e){var i=e.target;if("INPUT"!==i.tagName&&"TEXTAREA"!==i.tagName&&!this.element.classList.contains(Lr)){e.preventDefault();var n=i.classList.contains(Xr),s=i.classList.contains(YW),a=this.clstElement(n,i);(a||s)&&this.keyHandling(a,e,i,n,s)}},t.prototype.disable=function(e){var i=this.element;e?i.classList.add(Lr):i.classList.remove(Lr),this.activeEle&&this.activeEle.setAttribute("tabindex",this.activeEle.getAttribute("data-tabindex")),this.scrollModule&&this.scrollModule.disable(e),this.popObj&&(ln(this.popObj.element)&&"Extended"!==this.overflowMode&&this.popObj.hide(),i.querySelector("#"+i.id+"_nav").setAttribute("tabindex",e?"-1":"0"))},t.prototype.eleContains=function(e){return e.classList.contains(Sn)||e.classList.contains(Lr)||e.getAttribute("disabled")||e.classList.contains(Dh)||!ln(e)||!e.classList.contains(un)},t.prototype.focusFirstVisibleEle=function(e){for(var n=0;n<e.length;){var s=e[parseInt(n.toString(),10)];if(!s.classList.contains(Dh)&&!s.classList.contains(Lr))return s;n++}},t.prototype.focusLastVisibleEle=function(e){for(var n=e.length-1;n>=0;){var s=e[parseInt(n.toString(),10)];if(!s.classList.contains(Dh)&&!s.classList.contains(Lr))return s;n--}},t.prototype.eleFocus=function(e,i){var n=Object(e)[i+"ElementSibling"];if(n){if(this.eleContains(n))return void this.eleFocus(n,i);this.elementFocus(n)}else if(this.tbarAlign){var a=Object(e.parentElement)[i+"ElementSibling"];if(!u(a)&&0===a.children.length&&(a=Object(a)[i+"ElementSibling"]),!u(a)&&a.children.length>0)if("next"===i){var o=a.querySelector("."+un);this.eleContains(o)?this.eleFocus(o,i):(o.firstElementChild.focus(),this.activeEleSwitch(o))}else this.eleContains(o=a.lastElementChild)?this.eleFocus(o,i):this.elementFocus(o)}else if(!u(e)){var l=this.element.querySelectorAll("."+tn+" ."+un+":not(."+Sn+"):not(."+Lr+"):not(."+Dh+")");"next"===i&&l?this.elementFocus(l[0]):"previous"===i&&l&&this.elementFocus(l[l.length-1])}},t.prototype.clickHandler=function(e){var i=this,n=e.target,s=this.element,a=!u(I(n,"."+wv)),o=n.classList,l=I(n,"."+Xr);l||(l=n),!s.children[0].classList.contains("e-hscroll")&&!s.children[0].classList.contains("e-vscroll")&&o.contains(Xr)&&(o=n.querySelector(".e-icons").classList),(o.contains(VE)||o.contains(Sv))&&this.popupClickHandler(s,l,Dl);var h,c=I(e.target,"."+un);if(!u(c)&&!c.classList.contains(Lr)||l.classList.contains(Xr)){c&&(h=this.items[this.tbarEle.indexOf(c)]);var p={originalEvent:e,item:h};h&&!u(h.click)&&this.trigger("items["+this.tbarEle.indexOf(c)+"].click",p),p.cancel||this.trigger("clicked",p,function(f){!u(i.popObj)&&a&&!f.cancel&&"Popup"===i.overflowMode&&f.item&&"Input"!==f.item.type&&i.popObj.hide({name:"FadeOut",duration:100})})}},t.prototype.popupClickHandler=function(e,i,n){var s=this.popObj;ln(s.element)?(i.classList.remove(Mv),s.hide({name:"FadeOut",duration:100})):(e.classList.contains(n)&&(s.enableRtl=!0,s.position={X:"left",Y:"top"}),0===s.offsetX&&!e.classList.contains(n)&&(s.enableRtl=!1,s.position={X:"right",Y:"top"}),s.dataBind(),s.refreshPosition(),s.element.style.top=this.getElementOffsetY()+"px","Extended"===this.overflowMode&&(s.element.style.minHeight="0px"),i.classList.add(Mv),s.show({name:"FadeIn",duration:100}))},t.prototype.render=function(){var e=this;this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete(),this.isReact&&this.portals&&this.portals.length>0&&this.renderReactTemplates(function(){e.refreshOverflow()})},t.prototype.initialize=function(){var e=$(this.width),i=$(this.height);("msie"!==O.info.name||"auto"!==this.height||"MultiRow"===this.overflowMode)&&ue(this.element,{height:i}),ue(this.element,{width:e}),re(this.element,{role:"toolbar","aria-disabled":"false","aria-orientation":this.isVertical?"vertical":"horizontal"}),this.cssClass&&D([this.element],this.cssClass.split(" "))},t.prototype.renderControl=function(){var e=this.element;this.trgtEle=e.children.length>0?e.querySelector("div"):null,this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderLayout()},t.prototype.renderLayout=function(){this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1),this.separator()},t.prototype.itemsAlign=function(e,i){var n,s;this.tbarEle||(this.tbarEle=[]);for(var a=0;a<e.length;a++)n=this.renderSubComponent(e[parseInt(a.toString(),10)],a),-1===this.tbarEle.indexOf(n)&&this.tbarEle.push(n),this.tbarAlign||this.tbarItemAlign(e[parseInt(a.toString(),10)],i,a),(s=i.querySelector(".e-toolbar-"+e[parseInt(a.toString(),10)].align.toLowerCase()))?(e[parseInt(a.toString(),10)].showAlwaysInPopup&&"Show"!==e[parseInt(a.toString(),10)].overflow||this.tbarAlgEle[(e[parseInt(a.toString(),10)].align+"s").toLowerCase()].push(n),s.appendChild(n)):i.appendChild(n);this.isReact&&(this.notify("render-react-toolbar-template",this.portals),this.renderReactTemplates())},t.prototype.changeOrientation=function(){var e=this.element;this.isVertical?(e.classList.remove(XO),this.isVertical=!1,("auto"===this.height||"100%"===this.height)&&(e.style.height=this.height),e.setAttribute("aria-orientation","horizontal")):(e.classList.add(XO),this.isVertical=!0,e.setAttribute("aria-orientation","vertical"),ue(this.element,{height:$(this.height),width:$(this.width)})),this.destroyMode(),this.refreshOverflow()},t.prototype.initScroll=function(e,i){!this.scrollModule&&this.checkOverflow(e,i[0])&&(this.tbarAlign&&this.element.querySelector("."+tn+" ."+QW).removeAttribute("style"),this.scrollModule=this.isVertical?new gf({scrollStep:this.scrollStep,enableRtl:this.enableRtl},i[0]):new TE({scrollStep:this.scrollStep,enableRtl:this.enableRtl},i[0]),this.cssClass&&D([i[0]],this.cssClass.split(" ")),this.remove(this.scrollModule.element,Bo),ue(this.element,{overflow:"hidden"}))},t.prototype.itemWidthCal=function(e){var s,i=this,n=0;return[].slice.call(pe("."+un,e)).forEach(function(a){ln(a)&&(s=window.getComputedStyle(a),n+=i.isVertical?a.offsetHeight:a.offsetWidth,n+=parseFloat(i.isVertical?s.marginTop:s.marginRight),n+=parseFloat(i.isVertical?s.marginBottom:s.marginLeft))}),n},t.prototype.getScrollCntEle=function(e){return e.querySelector(this.isVertical?".e-vscroll-content":".e-hscroll-content")},t.prototype.checkOverflow=function(e,i){if(u(e)||u(i)||!ln(e))return!1;var n=this.isVertical?e.offsetHeight:e.offsetWidth,s=this.isVertical?i.offsetHeight:i.offsetWidth;(this.tbarAlign||this.scrollModule||n===s)&&(s=this.itemWidthCal(this.scrollModule?this.getScrollCntEle(i):i));var a=e.querySelector("."+Xr),o=e.querySelector("."+YW),l=0;return a?l=this.isVertical?a.offsetHeight:a.offsetWidth:o&&(l=this.isVertical?2*o.offsetHeight:2*o.offsetWidth),s>n-l},t.prototype.refreshOverflow=function(){this.resize()},t.prototype.toolbarAlign=function(e){this.tbarAlign&&(this.add(e,Bo),this.itemPositioning())},t.prototype.renderOverflowMode=function(){var e=this.element,i=e.querySelector("."+tn),n=this.popupPriCount>0;if(e&&e.children.length>0)switch(this.offsetWid=e.offsetWidth,this.remove(this.element,"e-toolpop"),"msie"===O.info.name&&"auto"===this.height&&(e.style.height=""),this.overflowMode){case"Scrollable":u(this.scrollModule)&&this.initScroll(e,[].slice.call(e.getElementsByClassName(tn)));break;case"Popup":this.add(this.element,"e-toolpop"),this.tbarAlign&&this.removePositioning(),(this.checkOverflow(e,i)||n)&&this.setOverflowAttributes(e),this.toolbarAlign(i);break;case"MultiRow":this.add(i,$W),this.checkOverflow(e,i)&&this.tbarAlign&&(this.removePositioning(),this.add(i,KW)),"hidden"===e.style.overflow&&(e.style.overflow=""),("msie"===O.info.name||"auto"!==e.style.height)&&(e.style.height="auto");break;case"Extended":this.add(this.element,XW),(this.checkOverflow(e,i)||n)&&(this.tbarAlign&&this.removePositioning(),this.setOverflowAttributes(e)),this.toolbarAlign(i)}},t.prototype.setOverflowAttributes=function(e){this.createPopupEle(e,[].slice.call(pe("."+tn+" ."+un,e))),re(this.element.querySelector("."+Xr),{tabindex:"0",role:"button","aria-haspopup":"true","aria-label":"overflow"})},t.prototype.separator=function(){var e=this.element,i=[].slice.call(e.querySelectorAll("."+Sn)),n=e.querySelector("."+ek),s=e.querySelector("."+tk),a="MultiRow"===this.overflowMode?n:s;null!==a&&("MultiRow"===this.overflowMode?a.classList.remove(ek):"Extended"===this.overflowMode&&a.classList.remove(tk));for(var o=0;o<=i.length-1;o++)i[parseInt(o.toString(),10)].offsetLeft<30&&0!==i[parseInt(o.toString(),10)].offsetLeft&&("MultiRow"===this.overflowMode?i[parseInt(o.toString(),10)].classList.add(ek):"Extended"===this.overflowMode&&i[parseInt(o.toString(),10)].classList.add(tk))},t.prototype.createPopupEle=function(e,i){var n=e.querySelector("."+Xr),s=this.isVertical;n||this.createPopupIcon(e),n=e.querySelector("."+Xr);var o=(s?e.offsetHeight:e.offsetWidth)-(s?n.offsetHeight:n.offsetWidth);this.element.classList.remove("e-rtl"),ue(this.element,{direction:"initial"}),this.checkPriority(e,i,o,!0),this.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()},t.prototype.pushingPoppedEle=function(e,i,n,s,a){var o=e.element,l=[].slice.call(pe("."+kc,o.querySelector("."+tn))),h=pe("."+jo,n),c=0,d=0;l.forEach(function(g,y){h=pe("."+jo,n),g.classList.contains(jo)&&h.length>0?e.tbResize&&h.length>y?(n.insertBefore(g,h[parseInt(y.toString(),10)]),++d):(n.insertBefore(g,n.children[h.length]),++d):g.classList.contains(jo)||e.tbResize&&g.classList.contains(jE)&&n.children.length>0&&0===h.length?(n.insertBefore(g,n.firstChild),++d):g.classList.contains(jE)?i.push(g):e.tbResize?(n.insertBefore(g,n.childNodes[c+d]),++c):n.appendChild(g),g.classList.contains(Sn)?ue(g,{display:"",height:a+"px"}):ue(g,{display:"",height:s+"px"})}),i.forEach(function(g){n.appendChild(g)});for(var p=pe("."+un,o.querySelector("."+tn)),f=p.length-1;f>=0;f--){var m=p[parseInt(f.toString(),10)];if(!m.classList.contains(Sn)||"Extended"===this.overflowMode)break;ue(m,{display:"none"})}},t.prototype.createPopup=function(){var i,n,e=this.element;"Extended"===this.overflowMode&&(n=e.querySelector("."+Sn),i="auto"===e.style.height||""===e.style.height?null:n&&n.offsetHeight);var o,s=e.querySelector("."+un+":not(."+Sn+"):not(."+kc+")"),a="auto"===e.style.height||""===e.style.height?null:s&&s.offsetHeight;if(P("#"+e.id+"_popup."+wv,e))o=P("#"+e.id+"_popup."+wv,e);else{var h=this.createElement("div",{id:e.id+"_popup",className:wv+" "+BE}),c=this.createElement("div",{id:e.id+"_popup",className:wv});o="Extended"===this.overflowMode?h:c}this.pushingPoppedEle(this,[],o,a,i),this.popupInit(e,o)},t.prototype.getElementOffsetY=function(){return"Extended"===this.overflowMode&&"border-box"===window.getComputedStyle(this.element).getPropertyValue("box-sizing")?this.element.clientHeight:this.element.offsetHeight},t.prototype.popupInit=function(e,i){if(this.popObj){var o=this.popObj.element;ue(o,{maxHeight:"",display:"block"}),ue(o,{maxHeight:o.offsetHeight+"px",display:""})}else{e.appendChild(i),this.cssClass&&D([i],this.cssClass.split(" ")),ue(this.element,{overflow:""});var n=window.getComputedStyle(this.element),s=new us(null,{relateTo:this.element,offsetY:this.isVertical?0:this.getElementOffsetY(),enableRtl:this.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose.bind(this),collision:{Y:this.enableCollision?"flip":"none"},position:this.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});if("Extended"===this.overflowMode&&(s.width=parseFloat(n.width)+2*parseFloat(n.borderRightWidth),s.offsetX=0),s.appendTo(i),b.add(document,"scroll",this.docEvent.bind(this)),b.add(document,"click ",this.docEvent.bind(this)),s.element.style.maxHeight=s.element.offsetHeight+"px",this.isVertical&&(s.element.style.visibility="hidden"),this.isExtendedOpen){var a=this.element.querySelector("."+Xr);a.classList.add(Mv),$i(a.firstElementChild,[VE],[Sv]),this.element.querySelector("."+BE).classList.add(UW)}else s.hide();this.popObj=s}},t.prototype.tbarPopupHandler=function(e){"Extended"===this.overflowMode&&(e?this.add(this.element,ik):this.remove(this.element,ik))},t.prototype.popupOpen=function(e){var i=this.popObj;this.isVertical||(i.offsetY=this.getElementOffsetY(),i.dataBind());var n=this.popObj.element,s=this.popObj.element.parentElement,a=s.querySelector("."+Xr);a.setAttribute("aria-expanded","true"),ue(i.element,{height:"auto",maxHeight:""}),i.element.style.maxHeight=i.element.offsetHeight+"px","Extended"===this.overflowMode&&(i.element.style.minHeight="");var o=n.offsetTop+n.offsetHeight+Vs(s).top,l=a.firstElementChild;a.classList.add(Mv),$i(l,[VE],[Sv]),this.tbarPopupHandler(!0);var h=u(window.scrollY)?0:window.scrollY;if(!this.isVertical&&window.innerHeight+h<o&&this.element.offsetTop<n.offsetHeight){var c=n.offsetHeight-(o-window.innerHeight-h+5);i.height=c+"px";for(var d=0;d<=n.childElementCount;d++){var p=n.children[parseInt(d.toString(),10)];if(p.offsetTop+p.offsetHeight>c){c=p.offsetTop;break}}ue(i.element,{maxHeight:c+"px"})}else if(this.isVertical){var f=this.element.getBoundingClientRect();ue(i.element,{maxHeight:f.top+this.element.offsetHeight+"px",bottom:0,visibility:""})}if(i){var m=n.getBoundingClientRect();m.right>document.documentElement.clientWidth&&m.width>s.getBoundingClientRect().width&&(i.collision={Y:"none"},i.dataBind()),i.refreshPosition()}},t.prototype.popupClose=function(e){var n=this.element.querySelector("."+Xr);n.setAttribute("aria-expanded","false");var s=n.firstElementChild;n.classList.remove(Mv),$i(s,[Sv],[VE]),this.tbarPopupHandler(!1)},t.prototype.checkPriority=function(e,i,n,s){for(var h,a=this.popupPriCount>0,l=n,d=0,p=0,f=0,m=function(T,k){var j=!1;return k.forEach(function(J){T.classList.contains(J)&&(j=!0)}),j},g=i.length-1;g>=0;g--){var y=void 0,C=window.getComputedStyle(i[parseInt(g.toString(),10)]);this.isVertical?(y=parseFloat(C.marginTop),y+=parseFloat(C.marginBottom)):(y=parseFloat(C.marginRight),y+=parseFloat(C.marginLeft));var E=i[parseInt(g.toString(),10)]===this.tbarEle[0];E&&(this.tbarEleMrgn=y),h=this.isVertical?i[parseInt(g.toString(),10)].offsetHeight:i[parseInt(g.toString(),10)].offsetWidth;var S=E?h+y:h;if(m(i[parseInt(g.toString(),10)],[JO])&&a&&(i[parseInt(g.toString(),10)].classList.add(kc),ue(i[parseInt(g.toString(),10)],this.isVertical?{display:"none",minHeight:S+"px"}:{display:"none",minWidth:S+"px"}),f++),this.isVertical?i[parseInt(g.toString(),10)].offsetTop+i[parseInt(g.toString(),10)].offsetHeight+y>n:i[parseInt(g.toString(),10)].offsetLeft+i[parseInt(g.toString(),10)].offsetWidth+y>n){if(i[parseInt(g.toString(),10)].classList.contains(Sn)){if("Extended"===this.overflowMode)m(w=i[parseInt(g.toString(),10)],[Sn,Tv])&&(i[parseInt(g.toString(),10)].classList.add(kc),f++),p++;else if("Popup"===this.overflowMode){var w;d>0&&p===f&&m(w=i[g+p+(d-1)],[Sn,Tv])&&ue(w,{display:"none"}),d++,p=0,f=0}}else p++;i[parseInt(g.toString(),10)].classList.contains(jo)&&s||m(i[parseInt(g.toString(),10)],[Sn,Tv])?n-=(this.isVertical?i[parseInt(g.toString(),10)].offsetHeight:i[parseInt(g.toString(),10)].offsetWidth)+y:(i[parseInt(g.toString(),10)].classList.add(kc),ue(i[parseInt(g.toString(),10)],this.isVertical?{display:"none",minHeight:S+"px"}:{display:"none",minWidth:S+"px"}),f++)}}if(s){var A=pe("."+un+":not(."+kc+")",this.element);this.checkPriority(e,A,l,!1)}},t.prototype.createPopupIcon=function(e){var i=e.id.concat("_nav"),n="e-"+e.id.concat("_nav e-hor-nav"),s=this.createElement("div",{id:i,className:n="Extended"===this.overflowMode?n+" e-expended-nav":n});("msie"===O.info.name||"edge"===O.info.name)&&s.classList.add("e-ie-align");var a=this.createElement("div",{className:Sv+" e-icons"});s.appendChild(a),s.setAttribute("tabindex","0"),s.setAttribute("role","button"),e.appendChild(s)},t.prototype.tbarPriRef=function(e,i,n,s,a,o,l,h,c){var d=h,m=pe("."+kc+":not(."+jo+")",this.popObj.element).length,g=function(w,A){return w.classList.contains(A)};if(0===pe(".e-toolbar-item:not(.e-separator):not(.e-overflow-show)",e).length){var y=e.children[i-(i-n)-1],C=!u(y)&&g(y,Tv);if(!u(y)&&g(y,Sn)&&!ln(y)||C){y.style.display="unset";var E=y.offsetWidth+2*parseFloat(window.getComputedStyle(y).marginRight),S=y.previousElementSibling;o+E<l||a?(e.insertBefore(s,e.children[i+d-(i-n)]),u(S)||(S.style.display="")):(ue(s,c),S.classList.contains(Sn)&&(S.style.display="none")),y.style.display=""}else e.insertBefore(s,e.children[i+d-(i-n)])}else e.insertBefore(s,e.children[i+d-m])},t.prototype.popupRefresh=function(e,i){var n=this,s=this.element,a=this.isVertical,o=s.querySelector("."+tn),l=s.querySelector("."+Xr);if(!u(l)){var h;o.removeAttribute("style"),e.style.display="block",h=a?s.offsetHeight-(l.offsetHeight+o.offsetHeight):s.offsetWidth-(l.offsetWidth+o.offsetWidth);var c=0;[].slice.call(e.children).forEach(function(d){c+=n.popupEleWidth(d),ue(d,{position:""})}),h+(a?l.offsetHeight:l.offsetWidth)>c&&0===this.popupPriCount&&(i=!0),this.popupEleRefresh(h,e,i),e.style.display="",0===e.children.length&&l&&this.popObj&&(Q(l),l=null,this.popObj.destroy(),Q(this.popObj.element),this.popObj=null)}},t.prototype.ignoreEleFetch=function(e,i){var n=[].slice.call(i.querySelectorAll("."+Tv)),s=[],a=0;return n.length>0?(n.forEach(function(o){s.push([].slice.call(i.children).indexOf(o))}),s.forEach(function(o){o<=e&&a++}),a):0},t.prototype.checkPopupRefresh=function(e,i){i.style.display="block";var n=this.popupEleWidth(i.firstElementChild);i.firstElementChild.style.removeProperty("Position");var s=e.offsetWidth-e.querySelector("."+Xr).offsetWidth,a=e.querySelector("."+tn).offsetWidth;return i.style.removeProperty("display"),s>n+a},t.prototype.popupEleWidth=function(e){e.style.position="absolute";var i=this.isVertical?e.offsetHeight:e.offsetWidth,n=e.querySelector(".e-tbar-btn-text");if(e.classList.contains("e-tbtn-align")||e.classList.contains(ZO)){var s=e.children[0];!u(n)&&e.classList.contains(ZO)?n.style.display="none":!u(n)&&e.classList.contains(qW)&&(n.style.display="block"),s.style.minWidth="0%",i=parseFloat(this.isVertical?e.style.minHeight:e.style.minWidth),s.style.minWidth="",s.style.minHeight="",u(n)||(n.style.display="")}return i},t.prototype.popupEleRefresh=function(e,i,n){for(var o,l,s=this.popupPriCount>0,a=this.tbarEle,h=this.element.querySelector("."+tn),c=0,d=function(E){if(E.classList.contains(JO)&&s&&!n)return"continue";var S=p.popupEleWidth(E);if(E===p.tbarEle[0]&&(S+=p.tbarEleMrgn),E.style.position="",!(S<e||n))return"break";var w={minWidth:E.style.minWidth,height:E.style.height,minHeight:E.style.minHeight};if(ue(E,{minWidth:"",height:"",minHeight:""}),E.classList.contains(jE)||E.classList.remove(kc),l=p.tbarEle.indexOf(E),p.tbarAlign){var A=p.items[parseInt(l.toString(),10)].align;l=p.tbarAlgEle[(A+"s").toLowerCase()].indexOf(E),a=p.tbarAlgEle[(A+"s").toLowerCase()],h=p.element.querySelector("."+tn+" .e-toolbar-"+A.toLowerCase())}var T=0;"Extended"!==p.overflowMode&&a.slice(0,l).forEach(function(k){(k.classList.contains(jo)||k.classList.contains(Sn))&&(k.classList.contains(Sn)&&(k.style.display="",e-=k.offsetWidth),T++)}),c=p.ignoreEleFetch(l,h),E.classList.contains(jo)?(p.tbarPriRef(h,l,T,E,n,S,e,c,w),e-=E.offsetWidth):0===l?(h.insertBefore(E,h.firstChild),e-=E.offsetWidth):(o=pe("."+jo,p.popObj.element).length,h.insertBefore(E,h.children[l+c-o]),e-=E.offsetWidth),E.style.height=""},p=this,f=0,m=[].slice.call(i.children);f<m.length&&"break"!==d(m[f]);f++);this.checkOverflow(this.element,this.element.getElementsByClassName(tn)[0])&&!n&&this.renderOverflowMode()},t.prototype.removePositioning=function(){var e=this.element.querySelector("."+tn);if(!u(e)&&e.classList.contains(Bo)){this.remove(e,Bo);var i=[].slice.call(e.childNodes);i[1].removeAttribute("style"),i[2].removeAttribute("style")}},t.prototype.refreshPositioning=function(){var e=this.element.querySelector("."+tn);this.add(e,Bo),this.itemPositioning()},t.prototype.itemPositioning=function(){var i,e=this.element.querySelector("."+tn);if(!u(e)&&e.classList.contains(Bo)){var s,n=this.element.querySelector("."+Xr);s=[].slice.call(this.scrollModule?e.querySelector("."+(this.isVertical?"e-vscroll-content":"e-hscroll-content")).children:e.childNodes),i=this.isVertical?s[0].offsetHeight+s[2].offsetHeight:s[0].offsetWidth+s[2].offsetWidth;var o=this.isVertical?this.element.offsetHeight:this.element.offsetWidth;if(n){o-=this.isVertical?n.offsetHeight:n.offsetWidth;var l=(this.isVertical?n.offsetHeight:n.offsetWidth)+"px";s[2].removeAttribute("style"),this.isVertical?this.enableRtl?s[2].style.top=l:s[2].style.bottom=l:this.enableRtl?s[2].style.left=l:s[2].style.right=l}if(!(o<=i)){var h=(o-i-(this.isVertical?s[1].offsetHeight:s[1].offsetWidth))/2;s[1].removeAttribute("style");var c=(this.isVertical?s[0].offsetHeight:s[0].offsetWidth)+h+"px";this.isVertical?this.enableRtl?s[1].style.marginBottom=c:s[1].style.marginTop=c:this.enableRtl?s[1].style.marginRight=c:s[1].style.marginLeft=c}}},t.prototype.tbarItemAlign=function(e,i,n){var s=this;if(!e.showAlwaysInPopup||"Show"===e.overflow){var a=[];if(a.push(this.createElement("div",{className:"e-toolbar-left"})),a.push(this.createElement("div",{className:QW})),a.push(this.createElement("div",{className:"e-toolbar-right"})),0===n&&"Left"!==e.align)a.forEach(function(h){i.appendChild(h)}),this.tbarAlign=!0,this.add(i,Bo);else if("Left"!==e.align){var l=a[0];[].slice.call(i.childNodes).forEach(function(h){s.tbarAlgEle.lefts.push(h),l.appendChild(h)}),i.appendChild(l),i.appendChild(a[1]),i.appendChild(a[2]),this.tbarAlign=!0,this.add(i,Bo)}}},t.prototype.ctrlTemplate=function(){var e=this;this.ctrlTem=this.trgtEle.cloneNode(!0),this.add(this.trgtEle,tn),this.tbarEle=[],[].slice.call(this.trgtEle.children).forEach(function(n){"DIV"===n.tagName&&(e.tbarEle.push(n),u(n.firstElementChild)||n.firstElementChild.setAttribute("aria-disabled","false"),e.add(n,un))})},t.prototype.renderItems=function(){var e=this.element,i=this.items;if(null!=this.trgtEle)this.ctrlTemplate();else if(e&&i.length>0){var n=void 0;e&&e.children.length>0&&(n=e.querySelector("."+tn)),n||(n=this.createElement("div",{className:tn})),this.itemsAlign(i,n),e.appendChild(n)}},t.prototype.setAttr=function(e,i){for(var s,n=Object.keys(e),a=0;a<n.length;a++)"class"===(s=n[parseInt(a.toString(),10)])?this.add(i,e[""+s]):i.setAttribute(s,e[""+s])},t.prototype.enableItems=function(e,i){var a,n=e,s=n.length;u(i)&&(i=!0);var o=function(d,p){d?(p.classList.remove(Lr),u(p.firstElementChild)||p.firstElementChild.setAttribute("aria-disabled","false")):(p.classList.add(Lr),u(p.firstElementChild)||p.firstElementChild.setAttribute("aria-disabled","true"))};if(!u(s)&&s>=1){for(var l=0,h=[].slice.call(n);l<s;l++){var c=h[parseInt(l.toString(),10)];if("number"==typeof c){if(u(a=this.getElementByIndex(c)))return;n[parseInt(l.toString(),10)]=a}else a=c;o(i,a)}i?M(n,Lr):D(n,Lr)}else{if("number"==typeof n){if(u(a=this.getElementByIndex(n)))return}else a=e;o(i,a)}},t.prototype.getElementByIndex=function(e){return this.tbarEle[parseInt(e.toString(),10)]?this.tbarEle[parseInt(e.toString(),10)]:null},t.prototype.addItems=function(e,i){var n;this.extendedOpen();var s=this.element.querySelector("."+tn);if(u(s))this.itemsRerender(e);else{var a,o="Left";u(i)&&(i=0),e.forEach(function(f){!u(f.align)&&"Left"!==f.align&&"Left"===o&&(o=f.align)});for(var l=0,h=e;l<h.length;l++){var c=h[l];if(u(c.type)&&(c.type="Button"),n=pe("."+un,this.element),c.align=o,a=this.renderSubComponent(c,i),this.tbarEle.length>=i&&n.length>=0){u(this.scrollModule)&&this.destroyMode();var d="L"===c.align[0]?0:"C"===c.align[0]?1:2,p=void 0;this.tbarAlign||"Left"===o?this.tbarAlign?((p=I(n[0],"."+tn).children[parseInt(d.toString(),10)]).insertBefore(a,p.children[parseInt(i.toString(),10)]),this.tbarAlgEle[(c.align+"s").toLowerCase()].splice(i,0,a),this.refreshPositioning()):0===n.length?(n=pe("."+tn,this.element))[0].appendChild(a):n[0].parentNode.insertBefore(a,n[parseInt(i.toString(),10)]):(this.tbarItemAlign(c,s,1),this.tbarAlign=!0,(p=I(n[0],"."+tn).children[parseInt(d.toString(),10)]).appendChild(a),this.tbarAlgEle[(c.align+"s").toLowerCase()].push(a),this.refreshPositioning()),this.items.splice(i,0,c),c.template&&this.tbarEle.splice(this.tbarEle.length-1,1),this.tbarEle.splice(i,0,a),i++,this.offsetWid=s.offsetWidth}}s.style.width="",this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()}},t.prototype.removeItems=function(e){var n,i=e,s=[].slice.call(pe("."+un,this.element));if("number"==typeof i)n=parseInt(e.toString(),10),this.removeItemByIndex(n,s);else if(i&&i.length>1)for(var a=0,o=[].slice.call(i);a<o.length;a++)n=this.tbarEle.indexOf(o[a]),this.removeItemByIndex(n,s),s=pe("."+un,this.element);else n=s.indexOf(i&&i.length&&1===i.length?i[0]:e),this.removeItemByIndex(n,s);this.resize()},t.prototype.removeItemByIndex=function(e,i){if(this.tbarEle[parseInt(e.toString(),10)]&&i[parseInt(e.toString(),10)]){var n=this.tbarEle.indexOf(i[parseInt(e.toString(),10)]);if(this.tbarAlign){var s=this.tbarAlgEle[(this.items[parseInt(n.toString(),10)].align+"s").toLowerCase()].indexOf(this.tbarEle[parseInt(n.toString(),10)]);this.tbarAlgEle[(this.items[parseInt(n.toString(),10)].align+"s").toLowerCase()].splice(parseInt(s.toString(),10),1)}this.isReact&&this.clearToolbarTemplate(i[parseInt(e.toString(),10)]);var a=i[parseInt(e.toString(),10)].querySelector(".e-control.e-btn");!u(a)&&!u(a.ej2_instances[0])&&!a.ej2_instances[0].isDestroyed&&a.ej2_instances[0].destroy(),Q(i[parseInt(e.toString(),10)]),this.items.splice(n,1),this.tbarEle.splice(n,1)}},t.prototype.templateRender=function(e,i,n,s){var l,o=e;if("object"==typeof e&&(l="function"==typeof o.appendTo),"string"!=typeof e&&l)"Input"===n.type&&((p=this.createElement("input")).id=n.id?n.id:vt("tbr-ipt"),i.appendChild(p),o.appendTo(p));else{var c,h=void 0,d=new RegExp(/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i);c="string"==typeof e?e.trim():e;try{if("object"!=typeof e||u(e.tagName))if("string"==typeof e&&d.test(c))i.innerHTML=c;else if(document.querySelectorAll(c).length){var p,f=(p=document.querySelector(c)).outerHTML.trim();i.appendChild(p),p.style.display="",u(f)||this.tempId.push(c)}else h=tt(c);else i.appendChild(e)}catch(C){h=tt(c)}var m=void 0;u(h)||(m=h({},this,"template",this.element.id+s+"_template",this.isStringTemplate,void 0,void 0,this.root)),!u(m)&&m.length>0&&[].slice.call(m).forEach(function(C){u(C.tagName)||(C.style.display=""),i.appendChild(C)})}this.add(i,WW);var y=i.firstElementChild;u(y)||(y.setAttribute("tabindex",u(y.getAttribute("tabIndex"))?"-1":this.getDataTabindex(y)),y.setAttribute("data-tabindex",u(y.getAttribute("tabIndex"))?"-1":this.getDataTabindex(y))),this.tbarEle.push(i)},t.prototype.buttonRendering=function(e,i){var n=this.createElement("button",{className:"e-tbar-btn"});n.setAttribute("type","button");var a,o,s=e.text;n.id=e.id?e.id:vt("e-tbr-btn");var l=this.createElement("span",{className:"e-tbar-btn-text"});s?(l.innerHTML=this.enableHtmlSanitizer?Qt.sanitize(s):s,n.appendChild(l),n.classList.add("e-tbtn-txt")):this.add(i,"e-tbtn-align"),(e.prefixIcon||e.suffixIcon)&&(e.prefixIcon&&e.suffixIcon||e.prefixIcon?(a=e.prefixIcon+" e-icons",o="Left"):(a=e.suffixIcon+" e-icons",o="Right"));var h=new vn({iconCss:a,iconPosition:o});return h.createElement=this.createElement,h.appendTo(n),e.width&&ue(n,{width:$(e.width)}),n},t.prototype.renderSubComponent=function(e,i){var n,s=this.createElement("div",{className:un}),a=this.createElement("div",{innerHTML:this.enableHtmlSanitizer&&!u(e.tooltipText)?Qt.sanitize(e.tooltipText):e.tooltipText});if(this.tbarEle||(this.tbarEle=[]),e.htmlAttributes&&this.setAttr(e.htmlAttributes,s),e.tooltipText&&s.setAttribute("title",a.textContent),e.cssClass&&(s.className=s.className+" "+e.cssClass),e.template)this.templateRender(e.template,s,e,i);else switch(e.type){case"Button":(n=this.buttonRendering(e,s)).setAttribute("tabindex",u(e.tabIndex)?"-1":e.tabIndex.toString()),n.setAttribute("data-tabindex",u(e.tabIndex)?"-1":e.tabIndex.toString()),n.setAttribute("aria-label",e.text||e.tooltipText),n.setAttribute("aria-disabled","false"),s.appendChild(n),s.addEventListener("click",this.itemClick.bind(this));break;case"Separator":this.add(s,Sn)}if(e.showTextOn){var o=e.showTextOn;"Toolbar"===o?(this.add(s,qW),this.add(s,"e-tbtn-align")):"Overflow"===o&&this.add(s,ZO)}if(e.overflow){var l=e.overflow;"Show"===l?this.add(s,jo):"Hide"===l&&(s.classList.contains(Sn)||this.add(s,jE))}return"Show"!==e.overflow&&e.showAlwaysInPopup&&!s.classList.contains(Sn)&&(this.add(s,JO),this.popupPriCount++),e.disabled&&this.add(s,Lr),!1===e.visible&&this.add(s,Dh),s},t.prototype.getDataTabindex=function(e){return u(e.getAttribute("data-tabindex"))?"-1":e.getAttribute("data-tabindex")},t.prototype.itemClick=function(e){this.activeEleSwitch(e.currentTarget)},t.prototype.activeEleSwitch=function(e){this.activeEleRemove(e.firstElementChild),this.activeEle.focus()},t.prototype.activeEleRemove=function(e){if(u(this.activeEle)||this.activeEle.setAttribute("tabindex",this.getDataTabindex(this.activeEle)),this.activeEle=e,"-1"===this.getDataTabindex(this.activeEle))if(u(this.trgtEle)&&!e.parentElement.classList.contains(WW))this.updateTabIndex("-1"),e.removeAttribute("tabindex");else{var i=parseInt(this.getDataTabindex(this.activeEle))+1;this.activeEle.setAttribute("tabindex",i.toString())}},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.getModuleName=function(){return"toolbar"},t.prototype.itemsRerender=function(e){this.items=this.tbarItemsCol,(this.isReact||this.isAngular)&&this.clearTemplate(),this.destroyMode(),this.destroyItems(),this.items=e,this.tbarItemsCol=this.items,this.renderItems(),this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()},t.prototype.resize=function(){var e=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&"Popup"===this.overflowMode&&this.popObj.hide();var i=this.checkOverflow(e,e.getElementsByClassName(tn)[0]);if(!i){this.destroyScroll();var n=e.querySelector("."+tn);u(n)||(this.remove(n,KW),this.tbarAlign&&this.add(n,Bo))}if(!i||!this.scrollModule||this.offsetWid!==e.offsetWidth){if((this.offsetWid>e.offsetWidth||i)&&this.renderOverflowMode(),this.popObj){if("Extended"===this.overflowMode){var s=window.getComputedStyle(this.element);this.popObj.width=parseFloat(s.width)+2*parseFloat(s.borderRightWidth)}this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()}this.element.querySelector("."+GW)&&(this.scrollStep=this.element.querySelector("."+GW).offsetWidth),this.offsetWid=e.offsetWidth,this.tbResize=!1,this.separator()}},t.prototype.orientationChange=function(){var e=this;setTimeout(function(){e.resize()},500)},t.prototype.extendedOpen=function(){var e=this.element.querySelector("."+BE);"Extended"===this.overflowMode&&e&&(this.isExtendedOpen=e.classList.contains(UW))},t.prototype.updateHideEleTabIndex=function(e,i,n,s,a){n&&(s=a.indexOf(e));for(var o=a[++s];o;){if(!this.eleContains(o)){var h=o.firstElementChild.getAttribute("data-tabindex");i&&"-1"===h?o.firstElementChild.setAttribute("tabindex","0"):h!==o.firstElementChild.getAttribute("tabindex")&&o.firstElementChild.setAttribute("tabindex",h);break}o=a[++s]}},t.prototype.clearToolbarTemplate=function(e){if(this.registeredTemplate&&this.registeredTemplate.template){for(var i=this.registeredTemplate,n=0;n<i.template.length;n++)if(!u(a=I(i.template[parseInt(n.toString(),10)].rootNodes[0],"."+un))&&a===e){this.clearTemplate(["template"],[i.template[parseInt(n.toString(),10)]]);break}}else if(this.portals&&this.portals.length>0){var o=this.portals;for(n=0;n<o.length;n++){var a;if(!u(a=I(o[parseInt(n.toString(),10)].containerInfo,"."+un))&&a===e){this.clearTemplate(["template"],n);break}}}},t.prototype.onPropertyChanged=function(e,i){var n=this.element;this.extendedOpen();for(var a=0,o=Object.keys(e);a<o.length;a++)switch(o[a]){case"items":if(e.items instanceof Array&&i.items instanceof Array)this.itemsRerender(e.items);else for(var h=Object.keys(e.items),c=0;c<h.length;c++){var d=parseInt(Object.keys(e.items)[parseInt(c.toString(),10)],10),p=Object.keys(e.items[parseInt(d.toString(),10)])[0],f=Object(e.items[parseInt(d.toString(),10)])[""+p];if(this.tbarAlign||"align"===p){this.refresh(),this.trigger("created");break}var g="overflow"===p&&0!==this.popupPriCount;("showAlwaysInPopup"===p&&!f||this.items[parseInt(d.toString(),10)].showAlwaysInPopup&&g)&&--this.popupPriCount,u(this.scrollModule)&&this.destroyMode();var y=[].slice.call(pe("."+tn+" ."+un,n));this.isReact&&this.items[parseInt(d.toString(),10)].template&&this.clearToolbarTemplate(y[parseInt(d.toString(),10)]),Q(y[parseInt(d.toString(),10)]),this.tbarEle.splice(d,1),this.addItems([this.items[parseInt(d.toString(),10)]],d),this.items.splice(d,1),this.items[parseInt(d.toString(),10)].template&&this.tbarEle.splice(this.items.length,1)}break;case"width":ue(n,{width:$(e.width)}),this.refreshOverflow();break;case"height":ue(this.element,{height:$(e.height)});break;case"overflowMode":this.destroyMode(),this.renderOverflowMode(),this.enableRtl&&this.add(n,Dl),this.refreshOverflow();break;case"enableRtl":e.enableRtl?this.add(n,Dl):this.remove(n,Dl),u(this.scrollModule)||(e.enableRtl?this.add(this.scrollModule.element,Dl):this.remove(this.scrollModule.element,Dl)),u(this.popObj)||(e.enableRtl?this.add(this.popObj.element,Dl):this.remove(this.popObj.element,Dl)),this.tbarAlign&&this.itemPositioning();break;case"scrollStep":this.scrollModule&&(this.scrollModule.scrollStep=this.scrollStep);break;case"enableCollision":this.popObj&&(this.popObj.collision={Y:this.enableCollision?"flip":"none"});break;case"cssClass":i.cssClass&&M([this.element],i.cssClass.split(" ")),e.cssClass&&D([this.element],e.cssClass.split(" "));break;case"allowKeyboard":this.unwireKeyboardEvent(),e.allowKeyboard&&this.wireKeyboardEvent()}},t.prototype.hideItem=function(e,i){var a,n="object"==typeof e,s=e;if(n||!u(s)){var o=[].slice.call(pe("."+un,this.element));n?a=e:this.tbarEle[parseInt(s.toString(),10)]&&(a=[].slice.call(pe("."+un,this.element))[parseInt(s.toString(),10)]),a&&(i?(a.classList.add(Dh),a.classList.contains(Sn)||(u(a.firstElementChild.getAttribute("tabindex"))||"-1"!==a.firstElementChild.getAttribute("tabindex"))&&this.updateHideEleTabIndex(a,i,n,s,o)):(a.classList.remove(Dh),a.classList.contains(Sn)||this.updateHideEleTabIndex(a,i,n,s,o)),this.refreshOverflow())}},Ni([Fs([],Qfe)],t.prototype,"items",void 0),Ni([v("auto")],t.prototype,"width",void 0),Ni([v("auto")],t.prototype,"height",void 0),Ni([v("")],t.prototype,"cssClass",void 0),Ni([v("Scrollable")],t.prototype,"overflowMode",void 0),Ni([v()],t.prototype,"scrollStep",void 0),Ni([v(!0)],t.prototype,"enableCollision",void 0),Ni([v(!0)],t.prototype,"enableHtmlSanitizer",void 0),Ni([v(!0)],t.prototype,"allowKeyboard",void 0),Ni([x()],t.prototype,"clicked",void 0),Ni([x()],t.prototype,"created",void 0),Ni([x()],t.prototype,"destroyed",void 0),Ni([x()],t.prototype,"beforeCreate",void 0),Ni([et],t)}(Yt),KE=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ye=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Ja="e-treeview",u5="e-control",ps="e-icon-collapsible",bi="e-icon-expandable",lt="e-list-item",Xu="e-list-text",zt="e-list-parent",XE="e-hover",ea="e-active",yk="e-icons-spinner",Mh="e-process",yn="e-icons",fs="e-text-content",ZE="e-input",d5="e-input-group",JE="e-tree-input",bk="e-editing",f5="e-interaction",m5="e-droppable",Ck="e-dragging",_v="e-sibling",eD="e-drop-in",Lv="e-drop-next",Ek="e-drop-out",Dk="e-no-drop",Th="e-fullrow",Sf="e-selected",tD="e-expanded",g5="e-node-collapsed",v5="e-disable",Js="e-check",eo="e-stop",Da="e-checkbox-wrapper",Ih="e-frame",y5="e-ripple",Zu="e-node-focus",b5="e-list-img",iD="e-animation-active",C5="e-disabled",wf="e-prevent",E5={treeRole:"group",itemRole:"treeitem",listRole:"group",itemText:"",wrapperRole:""},wme=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return KE(t,r),Ye([v("child")],t.prototype,"child",void 0),Ye([v([])],t.prototype,"dataSource",void 0),Ye([v("expanded")],t.prototype,"expanded",void 0),Ye([v("hasChildren")],t.prototype,"hasChildren",void 0),Ye([v("htmlAttributes")],t.prototype,"htmlAttributes",void 0),Ye([v("iconCss")],t.prototype,"iconCss",void 0),Ye([v("id")],t.prototype,"id",void 0),Ye([v("imageUrl")],t.prototype,"imageUrl",void 0),Ye([v("isChecked")],t.prototype,"isChecked",void 0),Ye([v("parentID")],t.prototype,"parentID",void 0),Ye([v(null)],t.prototype,"query",void 0),Ye([v("selectable")],t.prototype,"selectable",void 0),Ye([v("selected")],t.prototype,"selected",void 0),Ye([v(null)],t.prototype,"tableName",void 0),Ye([v("text")],t.prototype,"text",void 0),Ye([v("tooltip")],t.prototype,"tooltip",void 0),Ye([v("navigateUrl")],t.prototype,"navigateUrl",void 0),t}(ot),D5=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return KE(t,r),Ye([v("SlideDown")],t.prototype,"effect",void 0),Ye([v(400)],t.prototype,"duration",void 0),Ye([v("linear")],t.prototype,"easing",void 0),t}(ot),Mme=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return KE(t,r),Ye([at({effect:"SlideUp",duration:400,easing:"linear"},D5)],t.prototype,"collapse",void 0),Ye([at({effect:"SlideDown",duration:400,easing:"linear"},D5)],t.prototype,"expand",void 0),t}(ot),S5=function(r){function t(i,n){var s=r.call(this,i,n)||this;return s.isRefreshed=!1,s.preventExpand=!1,s.checkedElement=[],s.disableNode=[],s.validArr=[],s.validNodes=[],s.expandChildren=[],s.isFieldChange=!1,s.changeDataSource=!1,s.hasTemplate=!1,s.isFirstRender=!1,s.isNodeDropped=!1,s.isInteracted=!1,s.isRightClick=!1,s.mouseDownStatus=!1,s}var e;return KE(t,r),e=t,t.prototype.getModuleName=function(){return"treeview"},t.prototype.preRender=function(){var i=this;this.checkActionNodes=[],this.parentNodeCheck=[],this.dragStartAction=!1,this.isAnimate=!1,this.keyConfigs={escape:"escape",end:"end",enter:"enter",f2:"f2",home:"home",moveDown:"downarrow",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",ctrlDown:"ctrl+downarrow",ctrlUp:"ctrl+uparrow",ctrlEnter:"ctrl+enter",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",ctrlA:"ctrl+A",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftEnter:"shift+enter",shiftHome:"shift+home",shiftEnd:"shift+end",csDown:"ctrl+shift+downarrow",csUp:"ctrl+shift+uparrow",csEnter:"ctrl+shift+enter",csHome:"ctrl+shift+home",csEnd:"ctrl+shift+end",space:"space",shiftSpace:"shift+space",ctrlSpace:"ctrl+space"},this.listBaseOption={expandCollapse:!0,showIcon:!0,expandIconClass:bi,ariaAttributes:E5,expandIconPosition:"Left",itemCreated:function(n){i.beforeNodeCreate(n)},enableHtmlSanitizer:this.enableHtmlSanitizer,itemNavigable:this.fullRowNavigable},this.updateListProp(this.fields),this.aniObj=new vi({}),this.treeList=[],this.isLoaded=!1,this.isInitalExpand=!1,this.expandChildren=[],this.index=0,this.setTouchClass(),u(this.selectedNodes)&&this.setProperties({selectedNodes:[]},!0),u(this.checkedNodes)&&this.setProperties({checkedNodes:[]},!0),u(this.expandedNodes)?this.setProperties({expandedNodes:[]},!0):this.isInitalExpand=!0},t.prototype.getPersistData=function(){return this.addOnPersist(["selectedNodes","checkedNodes","expandedNodes"])},t.prototype.render=function(){this.initialRender=!0,this.initialize(),this.setDataBinding(!1),this.setDisabledMode(),this.setExpandOnType(),this.disabled||this.setRipple(),this.wireEditingEvents(this.allowEditing),this.setDragAndDrop(this.allowDragAndDrop),this.disabled||this.wireEvents(),this.initialRender=!1,this.renderComplete()},t.prototype.initialize=function(){this.element.setAttribute("role","tree"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active"),this.setCssClass(null,this.cssClass),this.setEnableRtl(),this.setFullRow(this.fullRowSelect),this.setTextWrap(),this.nodeTemplateFn=this.templateComplier(this.nodeTemplate)},t.prototype.setDisabledMode=function(){this.disabled?this.element.classList.add(C5):this.element.classList.remove(C5)},t.prototype.setEnableRtl=function(){(this.enableRtl?D:M)([this.element],"e-rtl")},t.prototype.setRipple=function(){this.rippleFn=xi(this.element,{selector:".e-fullrow,.e-text-content",ignore:"."+fs+" > ."+yn+",."+d5+",."+ZE+", ."+Da}),this.rippleIconFn=xi(this.element,{selector:"."+fs+" > ."+yn,isCenterRipple:!0})},t.prototype.setFullRow=function(i){(i?D:M)([this.element],"e-fullrow-wrap")},t.prototype.setMultiSelect=function(i){var n=P("."+zt,this.element);i?n.setAttribute("aria-multiselectable","true"):n.removeAttribute("aria-multiselectable")},t.prototype.templateComplier=function(i){if(i){this.hasTemplate=!0,this.element.classList.add(f5);try{return"function"!=typeof i&&document.querySelectorAll(i).length?tt(document.querySelector(i).innerHTML.trim()):tt(i)}catch(n){return tt(i)}}this.element.classList.remove(f5)},t.prototype.setDataBinding=function(i){var n=this;this.treeList.push("false"),this.fields.dataSource instanceof ye?(this.isOffline=this.fields.dataSource.dataSource.offline,this.fields.dataSource.ready?this.fields.dataSource.ready.then(function(s){n.isOffline=n.fields.dataSource.dataSource.offline,n.fields.dataSource instanceof ye&&n.isOffline&&(n.treeList.pop(),n.treeData=s.result,n.isNumberTypeId=n.getType(),n.setRootData(),n.renderItems(!0),0===n.treeList.length&&!n.isLoaded&&n.finalize())}).catch(function(s){n.trigger("actionFailure",{error:s})}):this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(function(s){n.treeList.pop(),n.treeData=s.result,n.isNumberTypeId=n.getType(),n.setRootData(),i&&(n.changeDataSource=!0),n.renderItems(!0),n.changeDataSource=!1,0===n.treeList.length&&!n.isLoaded&&n.finalize()}).catch(function(s){n.trigger("actionFailure",{error:s})})):(this.treeList.pop(),u(this.fields.dataSource)?this.rootData=this.treeData=[]:(this.treeData=JSON.parse(JSON.stringify(this.fields.dataSource)),this.setRootData()),this.isNumberTypeId=this.getType(),this.renderItems(!1)),0===this.treeList.length&&!this.isLoaded&&this.finalize()},t.prototype.getQuery=function(i,n){void 0===n&&(n=null);var a,s=[];if(i.query)a=i.query.clone();else{a=new Xe;for(var o=this.getActualProperties(i),l=0,h=Object.keys(o);l<h.length;l++){var c=h[l];"dataSource"!==c&&"tableName"!==c&&"child"!==c&&i[c]&&"url"!==c&&-1===s.indexOf(i[c])&&s.push(i[c])}a.select(s),o.hasOwnProperty("tableName")&&a.from(i.tableName)}return st.addSorting(this.sortOrder,i.text,a),!u(n)&&!u(i.parentID)&&a.where(i.parentID,"equal",this.isNumberTypeId?parseFloat(n):n),a},t.prototype.getType=function(){return!!this.treeData[0]&&"number"==typeof _(this.fields.id,this.treeData[0])},t.prototype.setRootData=function(){if(this.dataType=this.getDataType(this.treeData,this.fields),1===this.dataType){this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID);var i=this.getChildNodes(this.treeData,void 0,!0);this.rootData=u(i)?[]:i}else this.rootData=this.treeData},t.prototype.renderItems=function(i){this.listBaseOption.ariaAttributes.level=1;var n=this.getSortedData(this.rootData);this.ulElement=st.createList(this.createElement,i?this.rootData:n,this.listBaseOption),this.element.appendChild(this.ulElement);var s=this.ulElement.querySelectorAll(".e-list-item");if(!1===this.loadOnDemand)for(var a=0;a<s.length;)this.renderChildNodes(s[a],!0,null,!0),a++;(1===pe("."+zt,this.element).length&&s&&0!==s.length||this.loadOnDemand)&&this.finalizeNode(this.element),this.parentNodeCheck=[],this.parentCheckData=[],this.updateCheckedStateFromDS(),this.autoCheck&&this.showCheckBox&&!this.isLoaded&&this.updateParentCheckState()},t.prototype.updateCheckedStateFromDS=function(i){if(this.validNodes=[],this.treeData&&this.showCheckBox){if(1===this.dataType){for(var n=this.fields,s=new ye(this.treeData).executeLocal((new Xe).where(n.isChecked,"equal",!0,!1)),a=0;a<s.length;a++){var o=s[a][this.fields.id]?s[a][this.fields.id].toString():null;if(s[a][this.fields.parentID]&&s[a][this.fields.parentID].toString(),-1===this.checkedNodes.indexOf(o)&&!this.isLoaded&&this.checkedNodes.push(o),s[a][this.fields.hasChildren])for(var h=s[a][this.fields.id],c=new ye(this.treeData).executeLocal((new Xe).where(n.parentID,"equal",h,!1)),d=0;d<c.length;d++){var p=c[d][this.fields.id]?c[d][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(p)&&this.autoCheck&&this.checkedNodes.push(p)}}for(a=0;a<this.checkedNodes.length;a++){var f=this.fields,m=new ye(this.treeData).executeLocal((new Xe).where(f.id,"equal",this.checkedNodes[a],!0));if(m[0]&&this.autoCheck&&(this.getCheckedNodeDetails(f,m),this.checkIndeterminateState(m[0])),m.length>0){var g=m[0][this.fields.id]?m[0][this.fields.id].toString():null;this.checkedNodes.indexOf(g)>-1&&-1===this.validNodes.indexOf(g)&&this.validNodes.push(g)}for(var y=new ye(this.treeData).executeLocal((new Xe).where(f.parentID,"equal",this.checkedNodes[a],!0)),C=0;C<y.length;C++)g=y[C][this.fields.id]?y[C][this.fields.id].toString():null,-1===this.checkedNodes.indexOf(g)&&this.autoCheck&&this.checkedNodes.push(g),this.checkedNodes.indexOf(g)>-1&&-1===this.validNodes.indexOf(g)&&this.validNodes.push(g)}}else if(2===this.dataType||this.fields.dataSource instanceof ye&&this.isOffline){for(C=0;C<this.treeData.length;C++){var E=this.treeData[C][this.fields.id]?this.treeData[C][this.fields.id].toString():"";this.treeData[C][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(E)&&this.checkedNodes.push(E),this.checkedNodes.indexOf(E)>-1&&-1===this.validNodes.indexOf(E)&&this.validNodes.push(E);var S=_(this.fields.child.toString(),this.treeData[C]);S&&this.updateChildCheckState(S,this.treeData[C])}this.validNodes=this.enablePersistence?this.checkedNodes:this.validNodes}this.setProperties({checkedNodes:this.validNodes},!0)}},t.prototype.getCheckedNodeDetails=function(i,n){var s=n[0][this.fields.parentID]?n[0][this.fields.parentID].toString():null,a=0,o=this.element.querySelector('[data-uid="'+n[0][this.fields.id]+'"]'),l=this.element.querySelector('[data-uid="'+n[0][this.fields.parentID]+'"]');if(o||l)l&&(P("."+Js,l)||this.changeState(l,"indeterminate",null,!0,!0));else{-1===this.parentNodeCheck.indexOf(s)&&this.parentNodeCheck.push(s);for(var c=this.getChildNodes(this.treeData,s),d=0;d<c.length;d++){var p=c[d][this.fields.id]?c[d][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(p)&&a++,a===c.length&&-1===this.checkedNodes.indexOf(s)&&this.checkedNodes.push(s)}var f=new ye(this.treeData).executeLocal((new Xe).where(i.id,"equal",s,!0));this.getCheckedNodeDetails(i,f)}},t.prototype.updateParentCheckState=function(){for(var n,i=pe("."+eo,this.element),s=0;s<i.length;s++){var a=I(i[s],"."+lt),o=a.getAttribute("data-uid").toString(),l=0;if(n=1===this.dataType?new ye(this.treeData).executeLocal((new Xe).where(this.fields.parentID,"equal",o,!0)):this.getChildNodes(this.treeData,o)){for(var h=0;h<n.length;h++){var c=n[h][this.fields.id].toString();-1!==this.checkedNodes.indexOf(c)&&l++}if(l===n.length){var d=a.getAttribute("data-uid");-1===this.checkedNodes.indexOf(d)&&this.checkedNodes.push(d),this.changeState(a,"check",null,!0,!0)}else 0===l&&0===this.checkedNodes.length&&this.changeState(a,"uncheck",null,!0,!0)}}},t.prototype.checkIndeterminateState=function(i){var n;(n=this.element.querySelector(1===this.dataType?'[data-uid="'+i[this.fields.parentID]+'"]':'[data-uid="'+i[this.fields.id]+'"]'))?"true"!==n.querySelector("."+Da).getAttribute("aria-checked")&&this.changeState(n,"indeterminate",null,!0,!0):2===this.dataType&&-1===this.parentNodeCheck.indexOf(i[this.fields.id].toString())&&this.parentNodeCheck.push(i[this.fields.id].toString())},t.prototype.updateChildCheckState=function(i,n){for(var s=0,a=n[this.fields.id]?n[this.fields.id].toString():"",o=0;o<i.length;o++){var l=i[o][this.fields.id]?i[o][this.fields.id].toString():"";i[o][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(l)&&this.checkedNodes.push(l),-1!==this.checkedNodes.indexOf(a)&&-1===this.checkedNodes.indexOf(l)&&this.autoCheck&&this.checkedNodes.push(l),-1!==this.checkedNodes.indexOf(l)&&this.autoCheck&&s++,this.checkedNodes.indexOf(l)>-1&&-1===this.validNodes.indexOf(l)&&this.validNodes.push(l);var h=_(this.fields.child.toString(),i[o]);h&&h.length&&(-1===this.parentCheckData.indexOf(n)&&this.parentCheckData.push(n),this.updateChildCheckState(h,i[o])),s===i.length&&this.autoCheck&&-1===this.checkedNodes.indexOf(a)&&this.checkedNodes.push(a)}if(0!==s&&this.autoCheck){this.checkIndeterminateState(n);for(var c=0;c<this.parentCheckData.length;c++)n!==this.parentCheckData[c]&&this.parentCheckData[c]&&this.checkIndeterminateState(this.parentCheckData[c])}this.parentCheckData=[]},t.prototype.beforeNodeCreate=function(i){if(this.showCheckBox){var n=function(r,t,e){void 0===t&&(t=!1),void 0===e&&(e={});var i=r("div",{className:"e-checkbox-wrapper e-css"});if(e.cssClass&&D([i],e.cssClass.split(" ")),e.enableRtl&&i.classList.add("e-rtl"),t){var n=r("span",{className:"e-ripple-container"});xi(n,{isCenterRipple:!0,duration:400}),i.appendChild(n)}var s=r("span",{className:"e-frame e-icons"});if(e.checked&&s.classList.add("e-check"),i.appendChild(s),e.label){var a=r("span",{className:"e-label"});e.disableHtmlEncode?a.textContent=e.label:a.innerHTML=e.label,i.appendChild(a)}return i}(this.createElement,!0,{cssClass:this.touchClass});n.setAttribute("role","checkbox"),n.setAttribute("aria-label","checkbox");var s=P("div."+yn,i.item),a=i.item.getAttribute("data-uid");i.item.childNodes[0].insertBefore(n,i.item.childNodes[0].childNodes[u(s)?0:1]);var o=_(i.fields.isChecked,i.curData);this.checkedNodes.indexOf(a)>-1?(P("."+Ih,n).classList.add(Js),n.setAttribute("aria-checked","true"),this.addCheck(i.item)):u(o)||"true"!==o.toString()?n.setAttribute("aria-checked","false"):(P("."+Ih,n).classList.add(Js),n.setAttribute("aria-checked","true"),this.addCheck(i.item));var l=P("."+Ih,n);b.add(l,"mousedown",this.frameMouseHandler,this),b.add(l,"mouseup",this.frameMouseHandler,this)}this.fullRowSelect&&this.createFullRow(i.item),this.allowMultiSelection&&!i.item.classList.contains(Sf)&&i.item.setAttribute("aria-selected","false");var h=i.fields;if(this.addActionClass(i,h.selected,Sf),this.addActionClass(i,h.expanded,tD),i.item.setAttribute("tabindex","-1"),b.add(i.item,"focus",this.focusIn,this),!u(this.nodeTemplateFn)){var c=i.item.querySelector("."+Xu),d=i.item.getAttribute("data-uid");c.innerHTML="",this.renderNodeTemplate(i.curData,c,d)}this.isRefreshed||(this.trigger("drawNode",{node:i.item,nodeData:i.curData,text:i.text}),!1===i.curData[this.fields.selectable]&&!this.showCheckBox&&(i.item.classList.add(wf),i.item.firstElementChild.setAttribute("style","cursor: not-allowed")))},t.prototype.frameMouseHandler=function(i){Vu(i,P(".e-ripple-container",i.target.parentElement))},t.prototype.addActionClass=function(i,n,s){var o=_(n,i.curData);!u(o)&&"false"!==o.toString()&&i.item.classList.add(s)},t.prototype.getDataType=function(i,n){if(this.fields.dataSource instanceof ye){for(var s=0;s<i.length;s++)if(this.isOffline){if("string"==typeof n.child&&u(_(n.child,i[s]))&&!u(_(n.parentID,i[s])))return 1}else if("string"==typeof n.child&&u(_(n.child,i[s])))return 1;return 2}s=0;for(var a=i.length;s<a;s++){if("string"==typeof n.child&&!u(_(n.child,i[s])))return 2;if(!u(_(n.parentID,i[s]))||!u(_(n.hasChildren,i[s])))return 1}return 1},t.prototype.getGroupedData=function(i,n){for(var s=(new Xe).group(n),a=st.getDataSource(i,s),o=[],l=0;l<a.length;l++)o.push(a[l].items);return o},t.prototype.getSortedData=function(i){return i&&"None"!==this.sortOrder&&(i=st.getDataSource(i,st.addSorting(this.sortOrder,this.fields.text))),i},t.prototype.finalizeNode=function(i){for(var n=this,s=pe("."+b5,i),a=0;a<s.length;a++)s[a].setAttribute("alt",b5);if(this.isLoaded){for(var o=pe("."+Sf,i),l=0;l<o.length;l++){this.selectNode(o[l],null);break}M(o,Sf)}for(var h=pe("."+lt+":not(."+tD+")",i),c=0;c<h.length;c++){var d=P("div."+yn,h[c]);d&&d.classList.contains(bi)&&this.disableExpandAttr(h[c])}var p=pe("."+tD,i);if(!this.loadOnDemand&&this.fields.dataSource instanceof ye&&(this.isInitalExpand=this.treeData.filter(function(f){return 1==f[n.fields.expanded]}).length>0||this.isInitalExpand),!this.isInitalExpand)for(l=0;l<p.length;l++)this.renderChildNodes(p[l]);M(p,tD),this.updateList(),this.isLoaded&&this.updateCheckedProp()},t.prototype.updateCheckedProp=function(){if(this.showCheckBox){var i=[].concat([],this.checkedNodes);this.setProperties({checkedNodes:i},!0)}},t.prototype.ensureIndeterminate=function(){if(this.autoCheck)for(var i=pe("li",this.element),s=0;s<i.length;s++)i[s].classList.contains(lt)&&(P("."+zt,i[s])?this.ensureParentCheckState(i[s]):this.ensureChildCheckState(i[s]));else{var a=pe("."+eo,this.element);for(s=0;s<a.length;s++)a[s].classList.remove(eo)}},t.prototype.ensureParentCheckState=function(i){if(!u(i)){if(i.classList.contains(Ja))return;var n=i;i.classList.contains(lt)&&(n=P("."+zt,i));var s=pe("."+Js,n),a=pe("."+eo,n),o=pe("."+lt,n),l=i.getElementsByClassName(Da)[0];o.length===s.length?this.changeState(l,"check",null,!0,!0):s.length>0||a.length>0?this.changeState(l,"indeterminate",null,!0,!0):0===s.length&&this.changeState(l,"uncheck",null,!0,!0);var h=I(i,"."+zt);if(!u(h)){var c=I(h,"."+lt);this.ensureParentCheckState(c)}}},t.prototype.ensureChildCheckState=function(i,n){if(!u(i)){var s=P("."+zt,i),a=void 0;if(!u(s)){a=pe("."+Da,s);for(var o=i.getElementsByClassName(Ih)[0].classList.contains(Js),l=i.getElementsByClassName(Ih)[0].classList.contains(eo),h=s.querySelectorAll("li"),d=void s.parentElement.getAttribute("aria-expanded"),p=0;p<a.length;p++){var f=h[p].getAttribute("data-uid");if(u(this.currentLoadData)||u(_(this.fields.isChecked,this.currentLoadData[p]))){var m=a[p].getElementsByClassName(Ih)[0].classList.contains(Js);o||m&&!this.isLoaded||-1!==this.checkedNodes.indexOf(f)&&this.isLoaded&&(l||o)?d="check":h[p].classList.contains("e-has-child")&&!Le(this.parentNodeCheck)&&this.autoCheck&&(o||l)&&-1!==this.parentNodeCheck.indexOf(f)||1===this.dataType&&!Le(this.parentNodeCheck)&&this.autoCheck&&(o||l)&&-1!==this.parentNodeCheck.indexOf(f)?(d="indeterminate",this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(f),1)):d="uncheck"}else d=_(this.fields.isChecked,this.currentLoadData[p])?"check":"uncheck",-1!==this.ele&&(d=o?"check":"uncheck"),"uncheck"===d&&!Le(this.parentNodeCheck)&&this.autoCheck&&-1!==this.parentNodeCheck.indexOf(f)&&(this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(f),1),d="indeterminate");this.changeState(a[p],d,n,!0,!0)}}this.autoCheck&&this.isLoaded&&this.updateParentCheckState()}},t.prototype.doCheckBoxAction=function(i,n){if(pe("."+lt,this.element),u(i)){var m=pe("."+Da,this.element);if(this.loadOnDemand)for(var g=0;g<m.length;g++)this.updateFieldChecked(m[g],n),this.changeState(m[g],n?"check":"uncheck",null,null,null,n);else for(g=0;g<m.length;g++)this.updateFieldChecked(m[g],n),this.changeState(m[g],n?"check":"uncheck")}else for(var a=i.length-1;a>=0;a--){var o=this.getElement(i[a]);if(u(o)){var l=void 0;if(""!==(l=i[a-(i.length-1)]?i[a-(i.length-1)].toString():i[a]?i[a].toString():null)&&n&&l)this.setValidCheckedNode(l),this.dynamicCheckState(l,n);else if(-1!==this.checkedNodes.indexOf(l)&&""!==l&&!n){this.checkedNodes.splice(this.checkedNodes.indexOf(l),1);var h=this.getChildNodes(this.treeData,l);if(h){for(var c=0;c<h.length;c++){var d=h[c][this.fields.id]?h[c][this.fields.id].toString():null;if(-1!==this.checkedNodes.indexOf(d)){this.checkedNodes.splice(this.checkedNodes.indexOf(d),1);var p=this.element.querySelector('[data-uid="'+d+'"]');p&&this.changeState(p,"uncheck",null)}}-1!==this.parentNodeCheck.indexOf(l)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)}l&&this.dynamicCheckState(l,n),this.updateField(this.treeData,this.fields,l,"isChecked",null)}}else{var f=P("."+zt+" ."+Da,o);this.validateCheckNode(f,!n,o,null)}}if(i)for(var y=0;y<i.length-1;y++)l=i[y]?i[y].toString():"",n||this.updateField(this.treeData,this.fields,l,"isChecked",null);this.autoCheck&&this.updateParentCheckState()},t.prototype.updateFieldChecked=function(i,n){var s=I(i,"."+lt),a=s.getAttribute("data-uid");"true"===this.getNodeData(s).isChecked&&!n&&this.updateField(this.treeData,this.fields,a,"isChecked",null)},t.prototype.dynamicCheckState=function(i,n){if(1===this.dataType){var s=0,a=new ye(this.treeData).executeLocal((new Xe).where(this.fields.id,"equal",i,!0));if(a[0]){var o=a[0][this.fields.id]?a[0][this.fields.id].toString():null,l=a[0][this.fields.parentID]?a[0][this.fields.parentID].toString():null,d=((h=this.element.querySelector('[data-uid="'+l+'"]'))&&P("."+eo,h),h?P("."+Js,h):null),p=this.element.querySelector('[data-uid="'+o+'"]'),f=this.getChildNodes(this.treeData,l);if(f)for(var m=0;m<f.length;m++){var g=f[m][this.fields.id]?f[m][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(g)&&s++}-1!==this.checkedNodes.indexOf(i)&&h&&o===i&&this.autoCheck?this.changeState(h,"indeterminate",null):-1===this.checkedNodes.indexOf(i)&&p&&o===i&&!n?this.changeState(p,"uncheck",null):-1!==this.checkedNodes.indexOf(i)&&p&&o===i&&n?this.changeState(p,"check",null):-1===this.checkedNodes.indexOf(i)&&!p&&h&&o===i&&this.autoCheck&&0!==s?this.changeState(h,"indeterminate",null):-1===this.checkedNodes.indexOf(i)&&!p&&h&&o===i&&this.autoCheck&&0===s?this.changeState(h,"uncheck",null):!p&&!h&&o===i&&this.autoCheck&&this.updateIndeterminate(i,n)}}else if(2===this.dataType||this.fields.dataSource instanceof ye&&this.isOffline){o=void 0;var h=void 0;for(d=void 0,m=0;m<this.treeData.length;m++){o=this.treeData[m][this.fields.id]?this.treeData[m][this.fields.id].toString():"",d=(h=this.element.querySelector('[data-uid="'+o+'"]'))?P("."+Js,h):null,-1===this.checkedNodes.indexOf(o)&&h&&d&&!n&&this.changeState(h,"uncheck",null);var y=_(this.fields.child.toString(),this.treeData[m]);y&&this.updateChildIndeterminate(y,o,i,n,o)}}},t.prototype.updateIndeterminate=function(i,n){var o,s=this.getTreeData(i),a=0;1===this.dataType&&(o=s[0][this.fields.parentID]?s[0][this.fields.parentID].toString():null);var l=this.getChildNodes(this.treeData,o);if(l)for(var h=0;h<l.length;h++){var c=l[h][this.fields.id]?l[h][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(c)&&a++}var d=this.element.querySelector('[data-uid="'+o+'"]');d&&n||!n&&d&&-1===this.parentNodeCheck.indexOf(o)&&0!==a?this.changeState(d,"indeterminate",null):!n&&d&&-1===this.parentNodeCheck.indexOf(o)&&0===a?this.changeState(d,"uncheck",null):d||(n||-1!==this.checkedNodes.indexOf(o)||-1===this.parentNodeCheck.indexOf(o)?(n&&-1===this.checkedNodes.indexOf(o)&&-1===this.parentNodeCheck.indexOf(o)||!n&&-1!==this.checkedNodes.indexOf(o)&&-1===this.parentNodeCheck.indexOf(o)&&0!==a)&&this.parentNodeCheck.push(o):this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(o),1),this.updateIndeterminate(o,n),-1!==this.checkedNodes.indexOf(o)&&!n&&this.checkedNodes.splice(this.checkedNodes.indexOf(o),1))},t.prototype.updateChildIndeterminate=function(i,n,s,a,o){for(var l=0,h=0;h<i.length;h++){var c=i[h][this.fields.id]?i[h][this.fields.id].toString():"";-1!==this.checkedNodes.indexOf(c)&&l++;var d=this.element.querySelector('[data-uid="'+n+'"]'),p=d?P("."+eo,d):null,f=d?P("."+Js,d):null,m=this.element.querySelector('[data-uid="'+c+'"]'),g=m?P("."+Js,m):null;if(-1!==this.checkedNodes.indexOf(s)&&d&&c===s&&this.autoCheck)this.changeState(d,"indeterminate",null);else if(-1!==this.checkedNodes.indexOf(s)||!d||m||c!==s||a){if(-1===this.checkedNodes.indexOf(s)&&m&&c===s&&!a)this.changeState(m,"uncheck",null);else if(-1===this.checkedNodes.indexOf(s)&&p&&c===s&&this.autoCheck&&0===l&&!a)p.classList.remove(eo);else if(-1===this.checkedNodes.indexOf(s)&&!m&&f&&c===s&&0===l)this.changeState(d,"uncheck",null);else if(-1===this.checkedNodes.indexOf(c)&&m&&g&&0===l)this.changeState(m,"uncheck",null);else if(!m&&!d&&c===s||-1!==this.parentNodeCheck.indexOf(n)&&this.autoCheck){var y=this.element.querySelector('[data-uid="'+o+'"]');a&&0!==l?this.changeState(y,"indeterminate",null):a&&l===i.length&&-1===this.checkedNodes.indexOf(n)?this.checkedNodes.push(n):!a&&0===l&&-1!==this.parentNodeCheck.indexOf(n)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(n)),-1===this.parentNodeCheck.indexOf(n)&&this.parentNodeCheck.push(n)}}else this.changeState(d,this.autoCheck?"uncheck":0!==l?"indeterminate":"uncheck",null);var C=_(this.fields.child.toString(),i[h]);C&&this.updateChildIndeterminate(C,c,s,a,o)}},t.prototype.changeState=function(i,n,s,a,o,l){var c,h=this,d=I(i,"."+lt);i===d&&(i=P("."+Da,d)),a?this.nodeCheckAction(i,n,d,c,s,a,o,l):(this.checkActionNodes=[],c=this.getCheckEvent(d,n,s),this.trigger("nodeChecking",c,function(p){p.cancel||h.nodeCheckAction(i,n,d,p,s,a,o,l)}))},t.prototype.nodeCheckAction=function(i,n,s,a,o,l,h,c){var d,p=i.getElementsByClassName(Ih)[0];if("check"!==n||p.classList.contains(Js)?"uncheck"===n&&(p.classList.contains(Js)||p.classList.contains(eo))?(M([p],[Js,eo]),this.removeCheck(s),d="false"):"indeterminate"===n&&this.autoCheck&&(p.classList.remove(Js),p.classList.add(eo),this.removeCheck(s),d="mixed"):(p.classList.remove(eo),p.classList.add(Js),this.addCheck(s),d="true"),u(d="check"===n?"true":"uncheck"===n?"false":d)||i.setAttribute("aria-checked",d),h){var f=[].concat([],this.checkActionNodes);a=this.getCheckEvent(s,n,o),Le(l)&&(a.data=f)}void 0!==c&&this.ensureStateChange(s,c),l||u(d)||(i.setAttribute("aria-checked",d),a.data[0].checked=d,this.trigger("nodeChecked",a),this.checkActionNodes=[])},t.prototype.addCheck=function(i){var n=i.getAttribute("data-uid");!u(n)&&-1===this.checkedNodes.indexOf(n)&&this.checkedNodes.push(n)},t.prototype.removeCheck=function(i){var n=this.checkedNodes.indexOf(i.getAttribute("data-uid"));n>-1&&this.checkedNodes.splice(n,1)},t.prototype.getCheckEvent=function(i,n,s){this.checkActionNodes.push(this.getNodeData(i));var a=this.checkActionNodes;return{action:n,cancel:!1,isInteracted:!u(s),node:i,data:a}},t.prototype.finalize=function(){var i=P("."+zt,this.element);if(!u(i)){i.setAttribute("role",E5.treeRole),this.setMultiSelect(this.allowMultiSelection);var n=P("."+lt,this.element);n&&(n.setAttribute("tabindex","0"),this.updateIdAttr(null,n)),this.allowTextWrap&&this.updateWrap(),this.renderReactTemplates(),this.hasPid=!!this.rootData[0]&&this.rootData[0].hasOwnProperty(this.fields.parentID),this.doExpandAction()}},t.prototype.setTextWrap=function(){(this.allowTextWrap?D:M)([this.element],"e-text-wrap"),O.isIE&&(this.allowTextWrap?D:M)([this.element],"e-ie-wrap")},t.prototype.updateWrap=function(i){if(this.fullRowSelect)for(var n=i?pe("."+lt,i):this.liList,s=n.length,a=0;a<s;a++)this.calculateWrap(n[a])},t.prototype.calculateWrap=function(i){var n=P("."+Th,i);n&&n.nextElementSibling&&(n.style.height=this.allowTextWrap?n.nextElementSibling.offsetHeight+"px":"")},t.prototype.doExpandAction=function(){var i=this,n=this.expandedNodes;if(!this.loadOnDemand&&this.fields.dataSource instanceof ye&&(this.isInitalExpand=this.treeData.filter(function(l){return 1==l[i.fields.expanded]}).length>0||this.isInitalExpand),this.isInitalExpand&&n.length>0)if(this.setProperties({expandedNodes:[]},!0),this.fields.dataSource instanceof ye)this.expandGivenNodes(n);else{for(var s=0;s<n.length;s++){var a=P('[data-uid="'+n[s]+'"]',this.element);if(u(a))n[s]&&-1===this.expandChildren.indexOf(n[s])&&this.expandChildren.push(n[s].toString());else{var o=P("."+bi,P("."+fs,a));u(o)||this.expandAction(a,o,null)}}this.afterFinalized()}else this.afterFinalized()},t.prototype.expandGivenNodes=function(i){var n=this;this.expandCallback(i[this.index],function(){n.index++,n.index<i.length?n.expandGivenNodes(i):n.afterFinalized()})},t.prototype.expandCallback=function(i,n){var s=P('[data-uid="'+i+'"]',this.element);if(u(s))n();else{var a=P("."+bi,P("."+fs,s));u(a)?n():this.expandAction(s,a,null,!1,n)}},t.prototype.afterFinalized=function(){this.doSelectionAction(),this.updateCheckedProp(),this.isAnimate=!0,this.isInitalExpand=!1,this.isLoaded&&!this.isFieldChange||this.isNodeDropped||this.trigger("dataBound",{data:this.treeData}),this.isLoaded=!0,this.isNodeDropped=!1},t.prototype.doSelectionAction=function(){var i=pe("."+Sf,this.element),n=this.selectedNodes;if(n.length>0){this.setProperties({selectedNodes:[]},!0);for(var s=0;s<n.length;s++){var a=P('[data-uid="'+n[s]+'"]',this.element);if(a&&!a.classList.contains("e-active")?this.selectNode(a,null,!0):this.selectedNodes.push(n[s]),!this.allowMultiSelection)break}}else this.selectGivenNodes(i);M(i,Sf)},t.prototype.selectGivenNodes=function(i){for(var n=0;n<i.length&&(i[n].classList.contains("e-disable")||this.selectNode(i[n],null,!0),this.allowMultiSelection);n++);},t.prototype.clickHandler=function(i){var n=O.isDevice&&!O.isIos?document.elementFromPoint(i.originalEvent.changedTouches[0].clientX,i.originalEvent.changedTouches[0].clientY):i.originalEvent.target;if(b.remove(this.element,"contextmenu",this.preventContextMenu),n&&!this.dragStartAction){var s=n.classList,a=I(n,"."+lt);if(!a||a.classList.contains(wf)&&!s.contains(bi)&&!s.contains(ps))return;if(3!==i.originalEvent.which){var o=P(".e-ripple-element",a),l=P("."+yn,a);if(this.removeHover(),this.setFocusElement(a),this.showCheckBox&&!a.classList.contains("e-disable")){var h=I(n,"."+Da);if(!u(h)){var c=P("."+Ih,h);return this.validateCheckNode(h,c.classList.contains(Js),a,i.originalEvent),void this.triggerClickEvent(i.originalEvent,a)}}s.contains(bi)?this.expandAction(a,n,i):s.contains(ps)?this.collapseNode(a,n,i):o&&l?l.classList.contains(y5)&&l.classList.contains(bi)?this.expandAction(a,l,i):l.classList.contains(y5)&&l.classList.contains(ps)?this.collapseNode(a,l,i):!s.contains(zt)&&!s.contains(lt)&&this.toggleSelect(a,i.originalEvent,!1):!s.contains(zt)&&!s.contains(lt)&&this.toggleSelect(a,i.originalEvent,!1)}3===i.originalEvent.which&&(this.isRightClick=!0),this.triggerClickEvent(i.originalEvent,a)}},t.prototype.nodeCheckedEvent=function(i,n,s){I(i,"."+lt);var o=this.getCheckEvent(i,n?"uncheck":"check",s);o.data=o.data.splice(0,o.data.length-1),this.trigger("nodeChecked",o)},t.prototype.triggerClickEvent=function(i,n){this.trigger("nodeClicked",{event:i,node:n})},t.prototype.expandNode=function(i,n,s){var a=this;if(this.renderReactTemplates(),n.classList.contains(yk)&&this.hideSpinner(n),this.initialRender||n.classList.add("interaction"),!0!==s||!0===s&&i.classList.contains("e-expanded")){if(!0!==this.preventExpand){M([n],bi),D([n],ps);var o=0,l=0,h=this,c=P("."+zt,i),d=i;this.setHeight(d,c);var p=P("."+lt+"."+ea,i);this.isAnimate&&!this.isRefreshed?this.aniObj.animate(c,{name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing,begin:function(m){d.style.overflow="hidden",!u(p)&&p instanceof HTMLElement&&p.classList.add(iD),o=d.offsetHeight,l=P("."+fs,i).offsetHeight},progress:function(m){m.element.style.display="block",h.animateHeight(m,o,l)},end:function(m){m.element.style.display="block",!u(p)&&p instanceof HTMLElement&&p.classList.remove(iD),a.expandedNode(d,c,n)}}):this.expandedNode(d,c,n)}}else P("."+zt,i).style.display="none",this.fields.dataSource instanceof ye&&(this.preventExpand=!1);this.initialRender&&n.classList.add("interaction")},t.prototype.expandedNode=function(i,n,s){n.style.display="block",i.style.display="block",i.style.overflow="",i.style.height="",M([s],Mh),this.addExpand(i),this.allowTextWrap&&this.isLoaded&&this.isFirstRender&&(this.updateWrap(i),this.isFirstRender=!1),this.isLoaded&&this.expandArgs&&!this.isRefreshed&&(this.expandArgs=this.getExpandEvent(i,null),this.expandArgs.isInteracted=this.isInteracted,this.trigger("nodeExpanded",this.expandArgs))},t.prototype.addExpand=function(i){i.setAttribute("aria-expanded","true"),M([i],g5);var n=i.getAttribute("data-uid");!u(n)&&-1===this.expandedNodes.indexOf(n)&&this.expandedNodes.push(n)},t.prototype.collapseNode=function(i,n,s){var o,a=this;n.classList.contains(Mh)||(D([n],Mh),this.isLoaded?(o=this.getExpandEvent(i,s),this.isInteracted=o.isInteracted,this.trigger("nodeCollapsing",o,function(l){l.cancel?M([n],Mh):a.nodeCollapseAction(i,n,l)})):this.nodeCollapseAction(i,n,o))},t.prototype.nodeCollapseAction=function(i,n,s){var a=this;M([n],ps),D([n],bi);var o=0,l=0,h=this,c=P("."+zt,i),d=i,p=P("."+lt+"."+ea,i);this.isAnimate?this.aniObj.animate(c,{name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing,begin:function(f){d.style.overflow="hidden",!u(p)&&p instanceof HTMLElement&&p.classList.add(iD),o=P("."+fs,i).offsetHeight,l=d.offsetHeight},progress:function(f){h.animateHeight(f,o,l)},end:function(f){f.element.style.display="none",!u(p)&&p instanceof HTMLElement&&p.classList.remove(iD),a.collapsedNode(d,c,n,s)}}):this.collapsedNode(d,c,n,s)},t.prototype.collapsedNode=function(i,n,s,a){n.style.display="none",i.style.overflow="",i.style.height="",M([s],Mh),this.removeExpand(i),this.isLoaded&&((a=this.getExpandEvent(i,null)).isInteracted=this.isInteracted,this.trigger("nodeCollapsed",a))},t.prototype.removeExpand=function(i,n){n?i.removeAttribute("aria-expanded"):this.disableExpandAttr(i);var s=this.expandedNodes.indexOf(i.getAttribute("data-uid"));s>-1&&this.expandedNodes.splice(s,1)},t.prototype.disableExpandAttr=function(i){i.setAttribute("aria-expanded","false"),D([i],g5)},t.prototype.setHeight=function(i,n){n.style.display="block",n.style.visibility="hidden",i.style.height=i.offsetHeight+"px",n.style.display="none",n.style.visibility=""},t.prototype.animateHeight=function(i,n,s){i.element.parentElement.style.height=(i.duration-i.timeStamp)/i.duration*(s-n)+n+"px"},t.prototype.renderChildNodes=function(i,n,s,a){var h,o=this,l=P("div."+yn,i);if(!u(l))if(this.showSpinner(l),this.fields.dataSource instanceof ye){var c=this.parents(i,"."+zt).length,d=this.getChildFields(this.fields,c,1);if(u(d)||u(d.dataSource))return Q(l),void this.removeExpand(i,!0);this.treeList.push("false"),this.fields.dataSource instanceof ye&&this.isOffline?(this.treeList.pop(),h=this.getChildNodes(this.treeData,i.getAttribute("data-uid")),this.loadChild(h,d,l,i,n,s,a)):d.dataSource.executeQuery(this.getQuery(d,i.getAttribute("data-uid"))).then(function(p){o.treeList.pop(),h=p.result,1===o.dataType&&(o.dataType=2),o.loadChild(h,d,l,i,n,s,a)}).catch(function(p){o.trigger("actionFailure",{error:p})})}else{if(h=this.getChildNodes(this.treeData,i.getAttribute("data-uid")),this.currentLoadData=this.getSortedData(h),u(h)||0===h.length)return Q(l),void this.removeExpand(i,!0);this.listBaseOption.ariaAttributes.level=parseFloat(i.getAttribute("aria-level"))+1,i.appendChild(st.createList(this.createElement,this.currentLoadData,this.listBaseOption)),this.expandNode(i,l,a),this.setSelectionForChildNodes(h),this.ensureCheckNode(i),this.finalizeNode(i),this.disableTreeNodes(h),this.renderSubChild(i,n,a)}},t.prototype.loadChild=function(i,n,s,a,o,l,h){if(this.currentLoadData=i,u(i)||0===i.length)Q(s),this.removeExpand(a,!0);else{if(this.updateListProp(n),this.fields.dataSource instanceof ye&&!this.isOffline){var c=a.getAttribute("data-uid");We("child",i,this.getNodeObject(c))}this.listBaseOption.ariaAttributes.level=parseFloat(a.getAttribute("aria-level"))+1,a.appendChild(st.createList(this.createElement,i,this.listBaseOption)),this.expandNode(a,s,h),this.setSelectionForChildNodes(i),this.ensureCheckNode(a),this.finalizeNode(a),this.disableTreeNodes(i),this.renderSubChild(a,o,h)}l&&l(),o&&this.expandedNodes.push(a.getAttribute("data-uid")),0===this.treeList.length&&!this.isLoaded&&this.finalize()},t.prototype.disableTreeNodes=function(i){for(var n=0;n<i.length;){var s=i[n][this.fields.id]?i[n][this.fields.id].toString():null;void 0!==this.disableNode&&-1!==this.disableNode.indexOf(s)&&this.doDisableAction([s]),n++}},t.prototype.setSelectionForChildNodes=function(i){var n;for(n=0;n<i.length;n++){var s=i[n][this.fields.id]?i[n][this.fields.id].toString():null;void 0!==this.selectedNodes&&-1!==this.selectedNodes.indexOf(s)&&this.doSelectionAction()}},t.prototype.ensureCheckNode=function(i){this.showCheckBox&&(this.ele=this.checkedElement?this.checkedElement.indexOf(i.getAttribute("data-uid")):null,this.autoCheck&&(this.ensureChildCheckState(i),this.ensureParentCheckState(i))),this.currentLoadData=null},t.prototype.getFields=function(i,n,s){return n===s?i:this.getFields(this.getChildMapper(i),n,s+1)},t.prototype.getChildFields=function(i,n,s){return n===s?this.getChildMapper(i):this.getChildFields(this.getChildMapper(i),n,s+1)},t.prototype.getChildMapper=function(i){return"string"==typeof i.child||u(i.child)?i:i.child},t.prototype.getChildNodes=function(i,n,s){var o,a=this;if(void 0===s&&(s=!1),u(i))return o;if(1===this.dataType)return this.getChildGroup(this.groupedData,n,s);if("string"==typeof this.fields.child){var l=i.findIndex(function(f){return _(a.fields.id,f)&&_(a.fields.id,f).toString()===n});if(-1!==l)return _(this.fields.child,i[l]);if(-1===l)for(var h=0,c=i.length;h<c;h++){var d=_(this.fields.child,i[h]),p=u(d)?-1:d.findIndex(function(f){return _(a.fields.id,f)&&_(a.fields.id,f).toString()===n});if(-1!==p)return _(this.fields.child,d[p]);if(!u(d)&&void 0!==(o=this.getChildNodes(d,n)))break}}return o},t.prototype.getChildGroup=function(i,n,s){var a;if(u(i))return a;for(var o=0,l=i.length;o<l;o++){if(u(i[o][0])||u(_(this.fields.parentID,i[o][0])))return s?i[o]:[];if(_(this.fields.parentID,i[o][0]).toString()===n)return i[o]}return a},t.prototype.renderSubChild=function(i,n,s){if(n)for(var a=pe("."+bi,i),o=0,l=a.length;o<l;o++){var h=a[o];if(i.querySelector(".e-icons")!==a[o]){var c=I(h,"."+lt);this.expandArgs=this.getExpandEvent(c,null),!0!==s&&this.trigger("nodeExpanding",this.expandArgs),this.renderChildNodes(c,n,null,s)}}},t.prototype.toggleSelect=function(i,n,s){i.classList.contains("e-disable")||(this.allowMultiSelection&&(n&&n.ctrlKey||s)&&this.isActive(i)?this.unselectNode(i,n):this.selectNode(i,n,s))},t.prototype.isActive=function(i){return!!i.classList.contains(ea)},t.prototype.selectNode=function(i,n,s){var o,a=this;u(i)||!this.allowMultiSelection&&this.isActive(i)&&!u(n)?this.setFocusElement(i):this.isLoaded?(o=this.getSelectEvent(i,"select",n),this.trigger("nodeSelecting",o,function(l){!l.cancel&&!l.node.classList.contains(wf)&&a.nodeSelectAction(i,n,l,s)})):this.nodeSelectAction(i,n,o,s)},t.prototype.nodeSelectAction=function(i,n,s,a){if((!this.allowMultiSelection||!a&&(!n||n&&!n.ctrlKey))&&this.removeSelectAll(),this.allowMultiSelection&&n&&n.shiftKey){this.startNode||(this.startNode=i);var o=this.liList.indexOf(this.startNode),l=this.liList.indexOf(i);if(o>l){var h=o;o=l,l=h}for(var c=o;c<=l;c++){var d=this.liList[c];ln(d)&&!d.classList.contains("e-disable")&&this.addSelect(d)}}else this.startNode=i,this.addSelect(i);this.isLoaded&&(s.nodeData=this.getNodeData(i),this.trigger("nodeSelected",s),this.isRightClick=!1),this.isRightClick=!1},t.prototype.unselectNode=function(i,n){var a,s=this;this.isLoaded?(a=this.getSelectEvent(i,"un-select",n),this.trigger("nodeSelecting",a,function(o){o.cancel||s.nodeUnselectAction(i,o)})):this.nodeUnselectAction(i,a)},t.prototype.nodeUnselectAction=function(i,n){this.removeSelect(i),this.setFocusElement(i),this.isLoaded&&(n.nodeData=this.getNodeData(i),this.trigger("nodeSelected",n))},t.prototype.setFocusElement=function(i){if(!u(i)){var n=this.getFocusedNode();n&&(M([n],Zu),n.setAttribute("tabindex","-1")),D([i],Zu),i.setAttribute("tabindex","0"),b.add(i,"blur",this.focusOut,this),this.updateIdAttr(n,i)}},t.prototype.addSelect=function(i){i.setAttribute("aria-selected","true"),D([i],ea);var n=i.getAttribute("data-uid");!u(n)&&-1===this.selectedNodes.indexOf(n)&&this.selectedNodes.push(n)},t.prototype.removeSelect=function(i){this.allowMultiSelection?i.setAttribute("aria-selected","false"):i.removeAttribute("aria-selected"),M([i],ea);var n=this.selectedNodes.indexOf(i.getAttribute("data-uid"));n>-1&&this.selectedNodes.splice(n,1)},t.prototype.removeSelectAll=function(){for(var i=this.element.querySelectorAll("."+ea),n=0,s=i;n<s.length;n++){var a=s[n];this.allowMultiSelection?a.setAttribute("aria-selected","false"):a.removeAttribute("aria-selected")}M(i,ea),this.setProperties({selectedNodes:[]},!0)},t.prototype.getSelectEvent=function(i,n,s){var a=this.getNodeData(i);return{action:n,cancel:!1,isInteracted:!u(s),node:i,nodeData:a}},t.prototype.setExpandOnType=function(){this.expandOnType="Auto"===this.expandOn?O.isDevice?"Click":"DblClick":this.expandOn},t.prototype.expandHandler=function(i){var n=i.originalEvent.target;!n||n.classList.contains(ZE)||n.classList.contains(Ja)||n.classList.contains(zt)||n.classList.contains(lt)||n.classList.contains(yn)||this.showCheckBox&&I(n,"."+Da)||this.expandCollapseAction(I(n,"."+lt),i)},t.prototype.expandCollapseAction=function(i,n){var s=P("div."+yn,i);if(s&&!s.classList.contains(Mh)){var a=s.classList;a.contains(bi)?this.expandAction(i,s,n):a.contains(ps)&&this.collapseNode(i,s,n)}},t.prototype.expandAction=function(i,n,s,a,o){var l=this;n.classList.contains(Mh)||(D([n],Mh),this.isLoaded&&!this.isRefreshed?(this.expandArgs=this.getExpandEvent(i,s),this.isInteracted=this.expandArgs.isInteracted,this.trigger("nodeExpanding",this.expandArgs,function(h){h.cancel?M([n],Mh):l.nodeExpandAction(i,n,a,o)})):this.nodeExpandAction(i,n,a,o))},t.prototype.nodeExpandAction=function(i,n,s,a){var o=P("."+zt,i);if(o&&"UL"===o.nodeName)this.expandNode(i,n);else{this.isFirstRender=!0,this.renderChildNodes(i,s,a);for(var l=pe("."+lt,i),h=0;h<l.length;h++){var c=this.getId(l[h]);if(-1!==this.expandChildren.indexOf(c)&&void 0!==this.expandChildren){var d=P("."+bi,P("."+fs,l[h]));u(d)||this.expandAction(l[h],d,null),this.expandChildren.splice(this.expandChildren.indexOf(c),1)}}}},t.prototype.keyActionHandler=function(i){var n=this,s=i.target,a=this.getFocusedNode();if(s&&s.classList.contains(ZE)){var o=s;"enter"===i.action?o.blur():"escape"===i.action&&(o.value=this.oldText,o.blur())}else i.preventDefault(),this.trigger("keyPress",{cancel:!1,event:i,node:a},function(h){if(!h.cancel)switch(i.action){case"space":n.showCheckBox?n.checkNode(i):n.toggleSelect(a,i);break;case"moveRight":n.openNode(!n.enableRtl,i);break;case"moveLeft":n.openNode(!!n.enableRtl,i);break;case"shiftDown":n.shiftKeySelect(!0,i);break;case"moveDown":case"ctrlDown":case"csDown":n.navigateNode(!0);break;case"shiftUp":n.shiftKeySelect(!1,i);break;case"moveUp":case"ctrlUp":case"csUp":n.navigateNode(!1);break;case"home":case"shiftHome":case"ctrlHome":case"csHome":n.navigateRootNode(!0);break;case"end":case"shiftEnd":case"ctrlEnd":case"csEnd":n.navigateRootNode(!1);break;case"enter":case"ctrlEnter":case"shiftEnter":case"csEnter":case"shiftSpace":case"ctrlSpace":n.toggleSelect(a,i);break;case"f2":n.allowEditing&&!a.classList.contains("e-disable")&&n.createTextbox(a,i);break;case"ctrlA":if(n.allowMultiSelection){var c=pe("."+lt+":not(."+ea+")",n.element);n.selectGivenNodes(c)}}})},t.prototype.navigateToFocus=function(i){var n=this.getFocusedNode().querySelector("."+fs),s=n.getBoundingClientRect(),a=this.getScrollParent(this.element);if(!u(a)){var o=a.getBoundingClientRect();s.bottom>o.bottom?a.scrollTop+=s.bottom-o.bottom:s.top<o.top&&(a.scrollTop-=o.top-s.top)}this.isVisibleInViewport(n)||n.scrollIntoView(i)},t.prototype.isVisibleInViewport=function(i){var n=i.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)},t.prototype.getScrollParent=function(i){return u(i)?null:i.scrollHeight>i.clientHeight?i:this.getScrollParent(i.parentElement)},t.prototype.shiftKeySelect=function(i,n){if(this.allowMultiSelection){var s=this.getFocusedNode(),a=i?this.getNextNode(s):this.getPrevNode(s);this.removeHover(),this.setFocusElement(a),this.toggleSelect(a,n,!1),this.navigateToFocus(!i)}else this.navigateNode(i)},t.prototype.checkNode=function(i){var n=this.getFocusedNode(),s=P("."+Da,n),a=P(" ."+Ih,s).classList.contains(Js);n.classList.contains("e-disable")||0==n.getElementsByClassName("e-checkbox-disabled").length&&this.validateCheckNode(s,a,n,i)},t.prototype.validateCheckNode=function(i,n,s,a){var o=this,l=I(i,"."+lt);this.checkActionNodes=[];var h=n?"false":"true";u(h)||i.setAttribute("aria-checked",h);var c=this.getCheckEvent(l,n?"uncheck":"check",a);this.trigger("nodeChecking",c,function(d){d.cancel||o.nodeCheckingAction(i,n,s,d,a)})},t.prototype.nodeCheckingAction=function(i,n,s,a,o){if(-1===this.checkedElement.indexOf(s.getAttribute("data-uid"))&&(this.checkedElement.push(s.getAttribute("data-uid")),this.autoCheck)){var l=this.getChildNodes(this.treeData,s.getAttribute("data-uid"));null!==l?this.allCheckNode(l,this.checkedElement,null,null,!1):l=null}if(this.changeState(i,n?"uncheck":"check",o,!0),this.autoCheck){this.ensureChildCheckState(s),this.ensureParentCheckState(I(I(s,"."+zt),"."+lt));var h=void 0;"check"===a.action?h=!0:"uncheck"===a.action&&(h=!1),this.ensureStateChange(s,h)}this.nodeCheckedEvent(i,n,o)},t.prototype.ensureStateChange=function(i,n){var s=P("."+zt,i),a=i.getAttribute("data-uid"),o=this.fields;if(1===this.dataType&&this.autoCheck)for(var l=new ye(this.treeData).executeLocal((new Xe).where(o.parentID,"equal",a,!0)),h=0;h<l.length;h++){var c=l[h][this.fields.id]?l[h][this.fields.id].toString():null,d=l[h][this.fields.isChecked]?l[h][this.fields.isChecked].toString():null;if(-1!==this.checkedNodes.indexOf(a)&&-1===this.checkedNodes.indexOf(c)){this.checkedNodes.push(c);var p=this.getChildNodes(this.treeData,c);this.getChildItems(p,n),-1!==this.parentNodeCheck.indexOf(c)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(c),1)}else if(-1===this.checkedNodes.indexOf(a)&&null===s&&-1!==this.checkedNodes.indexOf(c)){if(this.checkedNodes.splice(this.checkedNodes.indexOf(c),1),"true"===d&&this.updateField(this.treeData,this.fields,c,"isChecked",null),-1===this.checkedNodes.indexOf(a)&&null===s||-1!==this.parentNodeCheck.indexOf(c)){var f=this.getChildNodes(this.treeData,c);this.getChildItems(f,n),-1!==this.parentNodeCheck.indexOf(c)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(c),1)}}else p=this.getChildNodes(this.treeData,c),this.getChildItems(p,n)}else if(1!==this.dataType||this.autoCheck)(p=this.getChildNodes(this.treeData,a))&&this.childStateChange(p,a,s,n);else if(n)for(h=0;h<this.treeData.length;h++){var y=this.treeData[h][this.fields.id]?this.treeData[h][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(y)&&this.checkedNodes.push(y)}else{var m=new ye(this.treeData).executeLocal((new Xe).where(o.isChecked,"equal",!0,!1));for(h=0;h<m.length;h++){var g=m[h][this.fields.id]?m[h][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(g)&&this.checkedNodes.splice(this.checkedNodes.indexOf(g),1),this.updateField(this.treeData,this.fields,g,"isChecked",null)}this.checkedNodes=[]}},t.prototype.getChildItems=function(i,n){for(var s=0;s<i.length;s++){var a=i[s][this.fields.id]?i[s][this.fields.id].toString():null,o=i[s][this.fields.isChecked]?i[s][this.fields.isChecked].toString():null;-1!==this.checkedNodes.indexOf(a)&&!n&&this.checkedNodes.splice(this.checkedNodes.indexOf(a),1),-1===this.checkedNodes.indexOf(a)&&n&&this.checkedNodes.push(a),"true"===o&&!n&&this.updateField(this.treeData,this.fields,a,"isChecked",null);var l=this.getChildNodes(this.treeData,a);l.length>0&&this.getChildItems(l,n)}},t.prototype.childStateChange=function(i,n,s,a){for(var o=0;o<i.length;o++){var l=i[o][this.fields.id]?i[o][this.fields.id].toString():"",h=i[o][this.fields.isChecked]?i[o][this.fields.isChecked].toString():null;this.autoCheck?-1!==this.checkedNodes.indexOf(n)&&-1===this.checkedNodes.indexOf(l)?(this.checkedNodes.push(l),-1!==this.parentNodeCheck.indexOf(l)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)):-1===this.checkedNodes.indexOf(n)&&-1!==this.checkedNodes.indexOf(l)&&!a&&(this.checkedNodes.splice(this.checkedNodes.indexOf(l),1),"true"===h&&this.updateField(this.treeData,this.fields,l,"isChecked",null)):this.autoCheck||(a?-1===this.checkedNodes.indexOf(l)&&this.checkedNodes.push(l):(-1!==this.checkedNodes.indexOf(l)&&this.checkedNodes.splice(this.checkedNodes.indexOf(l),1),this.updateField(this.treeData,this.fields,l,"isChecked",null),this.checkedNodes=[]));var c=this.getChildNodes([i[o]],l);c&&this.childStateChange(c,n,s,a)}},t.prototype.allCheckNode=function(i,n,s,a,o){if(i)for(var l=0;l<i.length;l++){var h=_(this.fields.id,i[l]),c=this.element.querySelector('[data-uid="'+h+'"]');!1!==o&&-1===this.checkedElement.indexOf(h.toString())&&(null===c&&!u(i[l][this.fields.isChecked])&&-1===n.indexOf(h.toString())||0===a||2===s)&&(!1!==i[l][this.fields.isChecked]||2===s?n.push(h.toString()):a=null,a=!1!==i[l][this.fields.isChecked]||2===s?0:null),-1===n.indexOf(h.toString())&&u(s)&&n.push(h.toString());var d=_(this.fields.child.toString(),i[l]);if(!0===_(this.fields.hasChildren,i[l])||d){var f,p=_(this.fields.id,i[l]);(f=1===this.dataType?this.getChildNodes(this.treeData,p.toString()):d)&&(u(o)?this.allCheckNode(f,n,s,a):this.allCheckNode(f,n,s,a,o),a=null)}a=null}},t.prototype.openNode=function(i,n){var s=this.getFocusedNode(),a=P("div."+yn,s);if(i){if(!a)return;a.classList.contains(bi)?this.expandAction(s,a,n):this.focusNextNode(s,!0)}else if(a&&a.classList.contains(ps))this.collapseNode(s,a,n);else{var o=I(I(s,"."+zt),"."+lt);if(!o)return;o.classList.contains("e-disable")||(this.setFocus(s,o),this.navigateToFocus(!0))}},t.prototype.navigateNode=function(i){var n=this.getFocusedNode();this.focusNextNode(n,i)},t.prototype.navigateRootNode=function(i){var n=this.getFocusedNode(),s=i?this.getRootNode():this.getEndNode();s.classList.contains("e-disable")||(this.setFocus(n,s),this.navigateToFocus(i))},t.prototype.getFocusedNode=function(){var i,n=P("."+lt+'[tabindex="0"]',this.element);return u(n)&&(i=P("."+lt,this.element)),u(n)?u(i)?this.element.firstElementChild:i:n},t.prototype.focusNextNode=function(i,n){var s=n?this.getNextNode(i):this.getPrevNode(i);if(this.setFocus(i,s),this.navigateToFocus(!n),s.classList.contains("e-disable")){var a=s.lastChild;null==s.previousSibling&&s.classList.contains("e-level-1")?this.focusNextNode(s,!0):null==s.nextSibling&&s.classList.contains("e-node-collapsed")||null==s.nextSibling&&a.classList.contains(fs)?this.focusNextNode(s,!1):this.focusNextNode(s,n)}},t.prototype.getNextNode=function(i){var s,n=this.liList.indexOf(i);do{if(n++,u(s=this.liList[n]))return i}while(!ln(s));return s},t.prototype.getPrevNode=function(i){var s,n=this.liList.indexOf(i);do{if(n--,u(s=this.liList[n]))return i}while(!ln(s));return s},t.prototype.getRootNode=function(){var n,i=0;do{n=this.liList[i],i++}while(!ln(n));return n},t.prototype.getEndNode=function(){var n,i=this.liList.length-1;do{n=this.liList[i],i--}while(!ln(n));return n},t.prototype.setFocus=function(i,n){M([i],Zu),i.setAttribute("tabindex","-1"),!n.classList.contains("e-disable")&&!n.classList.contains(wf)&&(D([n],Zu),n.setAttribute("tabindex","0"),n.focus(),b.add(n,"blur",this.focusOut,this),this.updateIdAttr(i,n))},t.prototype.updateIdAttr=function(i,n){this.element.removeAttribute("aria-activedescendant"),i&&i.removeAttribute("id"),n.setAttribute("id",this.element.id+"_active"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active")},t.prototype.focusIn=function(){if(!this.mouseDownStatus){var i=this.getFocusedNode();i.setAttribute("tabindex","0"),D([i],Zu),b.add(i,"blur",this.focusOut,this)}this.mouseDownStatus=!1},t.prototype.focusOut=function(i){var n=this.getFocusedNode();i.target==n&&(M([n],Zu),b.remove(n,"blur",this.focusOut))},t.prototype.onMouseOver=function(i){var n=i.target,s=n.classList,a=I(n,"."+lt);!a||s.contains(zt)||s.contains(lt)?this.removeHover():a&&!a.classList.contains("e-disable")&&this.setHover(a)},t.prototype.setHover=function(i){!i.classList.contains(XE)&&!i.classList.contains(wf)&&(this.removeHover(),D([i],XE))},t.prototype.onMouseLeave=function(i){this.removeHover()},t.prototype.removeHover=function(){var i=pe("."+XE,this.element);i&&i.length&&M(i,XE)},t.prototype.getNodeData=function(i,n){if(!u(i)&&i.classList.contains(lt)&&!u(I(i,"."+u5))&&I(i,"."+u5).classList.contains(Ja)){var s=i.getAttribute("data-uid"),a=this.getText(i,n),o=I(i.parentNode,"."+lt),l=o?o.getAttribute("data-uid"):null,h=i.classList.contains(ea),c=!i.classList.contains(wf),d="true"===i.getAttribute("aria-expanded"),p=null!==i.getAttribute("aria-expanded")||null!=(P("."+bi,i)||P("."+ps,i)),f=null,m=P("."+Da,i);return this.showCheckBox&&m&&(f=m.getAttribute("aria-checked")),{id:s,text:a,parentID:l,selected:h,selectable:c,expanded:d,isChecked:f,hasChildren:p}}return{id:"",text:"",parentID:"",selected:!1,expanded:!1,isChecked:"",hasChildren:!1}},t.prototype.getText=function(i,n){if(n){var s=this.getNodeObject(i.getAttribute("data-uid")),a=parseFloat(i.getAttribute("aria-level"));return _(this.getFields(this.fields,a,1).text,s)}return P("."+Xu,i).textContent},t.prototype.getExpandEvent=function(i,n){var s=this.getNodeData(i);return{cancel:!1,isInteracted:!u(n),node:i,nodeData:s,event:n}},t.prototype.renderNodeTemplate=function(i,n,s){var a=this.nodeTemplateFn(i,this,"nodeTemplate"+s,this.element.id+"nodeTemplate",this.isStringTemplate,void 0,n,this.root);a&&ce(a=Array.prototype.slice.call(a),n)},t.prototype.destroyTemplate=function(i){this.clearTemplate(["nodeTemplate"+i.getAttribute("data-uid")])},t.prototype.reRenderNodes=function(){this.updateListProp(this.fields),O.isIE?(this.ulElement=this.element.querySelector(".e-list-parent.e-ul"),this.ulElement.parentElement.removeChild(this.ulElement)):this.element.innerHTML="",u(this.nodeTemplateFn)||this.clearTemplate(),this.setTouchClass(),this.setProperties({selectedNodes:[],checkedNodes:[],expandedNodes:[]},!0),this.checkedElement=[],this.isLoaded=!1,this.setDataBinding(!0)},t.prototype.setCssClass=function(i,n){!u(i)&&""!==i&&M([this.element],i.split(" ")),!u(n)&&""!==n&&D([this.element],n.split(" "))},t.prototype.editingHandler=function(i){var n=i.target;if(!(!n||n.classList.contains(Ja)||n.classList.contains(zt)||n.classList.contains(lt)||n.classList.contains(yn)||n.classList.contains(ZE)||n.classList.contains(d5))){var s=I(n,"."+lt);this.createTextbox(s,i)}},t.prototype.createTextbox=function(i,n){var s=this,a=P("."+JE,this.element);a&&a.blur();var o=P("."+Xu,i);this.updateOldText(i);var l=this.createElement("input",{className:JE,attrs:{value:this.oldText}}),h=this.getEditEvent(i,null,l.outerHTML);this.trigger("nodeEditing",h,function(c){if(!c.cancel){var p="width:"+(o.offsetWidth+5)+"px";D([i],bk),u(s.nodeTemplateFn)||s.destroyTemplate(i),s.isReact?setTimeout(function(){s.renderTextBox(h,o,p)},5):s.renderTextBox(h,o,p)}})},t.prototype.renderTextBox=function(i,n,s){n.innerHTML=i.innerHtml;var a=P("."+JE,n);this.inputObj=X.createInput({element:a,properties:{enableRtl:this.enableRtl}},this.createElement),this.inputObj.container.setAttribute("style",s),a.focus(),a.setSelectionRange(0,a.value.length),this.wireInputEvents(a)},t.prototype.updateOldText=function(i){var n=i.getAttribute("data-uid");this.editData=this.getNodeObject(n);var s=parseFloat(i.getAttribute("aria-level"));this.editFields=this.getFields(this.fields,s,1),this.oldText=_(this.editFields.text,this.editData)},t.prototype.inputFocusOut=function(i){if(P("."+JE,this.element)){var n=i.target,s=n.value,a=I(n,"."+Xu),o=I(n,"."+lt);Q(this.inputObj.container),this.fields.dataSource instanceof ye&&!this.isOffline?this.crudOperation("update",null,o,s,null,null,!0):this.appendNewText(o,a,s,!0)}},t.prototype.appendNewText=function(i,n,s,a){var o=this,l=this.getEditEvent(i,s,null);this.trigger("nodeEdited",l,function(h){o.updateText(i,n,s=h.cancel?h.oldText:h.newText,a),h.oldText!==s&&o.triggerEvent("nodeEdited",[o.getNode(i)])})},t.prototype.updateText=function(i,n,s,a){var o=We(this.editFields.text,s,this.editData);if(u(this.nodeTemplateFn))this.enableHtmlSanitizer?n.innerText=Qt.sanitize(s):n.innerHTML=s;else{n.innerText="";var l=i.getAttribute("data-uid");this.renderNodeTemplate(o,n,l),this.renderReactTemplates()}a&&(M([i],bk),i.focus(),b.add(i,"blur",this.focusOut,this),D([i],Zu)),this.allowTextWrap&&this.calculateWrap(i)},t.prototype.getElement=function(i){return u(i)?null:"string"==typeof i?this.element.querySelector('[data-uid="'+i+'"]'):"object"==typeof i?Qp(i):null},t.prototype.getId=function(i){return u(i)?null:"string"==typeof i?i:"object"==typeof i?Qp(i).getAttribute("data-uid"):null},t.prototype.getEditEvent=function(i,n,s){return{cancel:!1,newText:n,node:i,nodeData:this.getNodeData(i),oldText:this.oldText,innerHtml:s}},t.prototype.getNodeObject=function(i){var n;if(u(i))return n;if(1!==this.dataType)return this.getChildNodeObject(this.treeData,this.fields,i);for(var s=0,a=this.treeData.length;s<a;s++){var o=_(this.fields.id,this.treeData[s]);if(!u(this.treeData[s])&&!u(o)&&o.toString()===i)return this.treeData[s]}return n},t.prototype.getChildNodeObject=function(i,n,s){var a;if(u(i))return a;for(var o=0,l=i.length;o<l;o++){var h=_(n.id,i[o]);if(i[o]&&h&&h.toString()===s)return i[o];if("string"!=typeof n.child||u(_(n.child,i[o]))){if(this.fields.dataSource instanceof ye&&!u(_("child",i[o]))&&void 0!==(a=this.getChildNodeObject(_("child",i[o]),this.getChildMapper(n),s)))break}else{var c=_(n.child,i[o]);if(void 0!==(a=this.getChildNodeObject(c,this.getChildMapper(n),s)))break}}return a},t.prototype.setDragAndDrop=function(i){i&&!this.disabled?this.initializeDrag():this.destroyDrag()},t.prototype.initializeDrag=function(){var n,i=this,s=this;this.dragObj=new Xp(this.element,{enableTailMode:!0,enableAutoScroll:!0,dragArea:this.dragArea,dragTarget:"."+fs,enableTapHold:!0,tapHoldThreshold:100,helper:function(a){i.dragTarget=a.sender.target;var o=I(i.dragTarget,"."+Ja),l=I(i.dragTarget,"."+fs);if(i.dragLi=I(i.dragTarget,"."+lt),i.fullRowSelect&&!l&&i.dragTarget.classList.contains(Th)&&(l=i.dragTarget.nextElementSibling),!i.dragTarget||!a.element.isSameNode(o)||!l||i.dragTarget.classList.contains(Ja)||i.dragTarget.classList.contains(zt)||i.dragTarget.classList.contains(lt)||i.dragLi.classList.contains("e-disable"))return!1;var h=l.cloneNode(!0);if(u(P("div."+yn,h))){var c=s.createElement("div",{className:yn+" "+bi});h.insertBefore(c,h.children[0])}(n=s.createElement("div",{className:"e-drag-item "+Ja+" "+i.cssClass+" "+(i.enableRtl?"e-rtl":"")})).appendChild(h);var p=i.selectedNodes.length;if(p>1&&i.allowMultiSelection&&i.dragLi.classList.contains(ea)){var f=s.createElement("span",{className:"e-drop-count",innerHTML:""+p});n.appendChild(f)}return document.body.appendChild(n),document.body.style.cursor="",i.dragData=i.getNodeData(i.dragLi),n},dragStart:function(a){D([i.element],Ck);var l,o=I(a.target,".e-list-item");o&&(l=parseInt(o.getAttribute("aria-level"),10));var h=i.getDragEvent(a.event,i,null,a.target,null,n,l);h.draggedNode.classList.contains(bk)?(i.dragObj.intDestroy(a.event),i.dragCancelAction(n)):i.trigger("nodeDragStart",h,function(c){c.cancel?(i.dragObj.intDestroy(a.event),i.dragCancelAction(n)):i.dragStartAction=!0})},drag:function(a){i.dragObj.setProperties({cursorAt:{top:!u(a.event.targetTouches)||O.isDevice?60:-20}}),i.dragAction(a,n)},dragStop:function(a){M([i.element],Ck),i.removeVirtualEle();var o=a.target,h=I(o,"."+m5);(!o||!h)&&(Q(a.helper),document.body.style.cursor="");var d,c=I(o,".e-list-item");c&&(d=parseInt(c.getAttribute("aria-level"),10));var p=i.getDragEvent(a.event,i,o,o,null,a.helper,d);p.preventTargetExpand=!1,i.trigger("nodeDragStop",p,function(f){i.dragParent=f.draggedParentNode,i.preventExpand=f.preventTargetExpand,f.cancel&&(a.helper.parentNode&&Q(a.helper),document.body.style.cursor=""),i.dragStartAction=!1})}}),this.dropObj=new jce(this.element,{out:function(a){!u(a)&&!a.target.classList.contains(_v)&&i.dropObj.dragData.default&&i.dropObj.dragData.default.helper.classList.contains(Ja)&&(document.body.style.cursor="not-allowed")},over:function(a){document.body.style.cursor=""},drop:function(a){i.dropAction(a)}})},t.prototype.dragCancelAction=function(i){Q(i),M([this.element],Ck),this.dragStartAction=!1},t.prototype.dragAction=function(i,n){var s=I(i.target,"."+m5),a=I(i.target,"."+fs),o=P("div."+yn,n);M([o],[eD,Lv,Ek,Dk]),this.removeVirtualEle(),document.body.style.cursor="";var l=i.target.classList;if(this.fullRowSelect&&!a&&!u(l)&&l.contains(Th)&&(a=i.target.nextElementSibling),s){var h=I(i.target,"."+lt),c=I(i.target,"."+Da),d=I(i.target,"."+ps),p=I(i.target,"."+bi);if(!s.classList.contains(Ja)||a&&!h.isSameNode(this.dragLi)&&!this.isDescendant(this.dragLi,h))if(this.hasTemplate&&h){var f=P(this.fullRowSelect?"."+Th:"."+fs,h);i&&!p&&!d&&i.event.offsetY<7&&!c||p&&i.event.offsetY<5||d&&i.event.offsetX<3?this.appendIndicator(h,o,this.fullRowSelect?1:0):i&&!p&&!d&&!c&&f&&i.event.offsetY>f.offsetHeight-10||p&&i.event.offsetY>19||d&&i.event.offsetX>19?this.appendIndicator(h,o,this.fullRowSelect?2:1):D([o],eD)}else h&&i&&!p&&!d&&i.event.offsetY<7&&!c||p&&i.event.offsetY<5||d&&i.event.offsetX<3?this.appendIndicator(h,o,this.fullRowSelect?1:0):h&&i&&!p&&!d&&i.target.offsetHeight>0&&i.event.offsetY>i.target.offsetHeight-10&&!c||p&&i.event.offsetY>19||d&&i.event.offsetX>19?this.appendIndicator(h,o,this.fullRowSelect?2:1):D([o],eD);else"LI"!==i.target.nodeName||h.isSameNode(this.dragLi)||this.isDescendant(this.dragLi,h)?i.target.classList.contains(_v)?D([o],Lv):D([o],Ek):(D([o],Lv),this.renderVirtualEle(i))}else D([o],Dk),document.body.style.cursor="not-allowed";var y,g=I(i.target,".e-list-item");g&&(y=parseInt(g.getAttribute("aria-level"),10));var C=this.getDragEvent(i.event,this,i.target,i.target,null,n,y);C.dropIndicator&&M([o],C.dropIndicator),this.trigger("nodeDragging",C),C.dropIndicator&&D([o],C.dropIndicator)},t.prototype.appendIndicator=function(i,n,s){D([n],Lv);var a=this.createElement("div",{className:_v});i.insertBefore(a,i.children[s])},t.prototype.dropAction=function(i){var a,o,h,n=i.event.offsetY,s=i.target,l=!1,c=[],d=[];h=i.dragData.draggable;for(var p=0;p<h.ej2_instances.length;p++)if(h.ej2_instances[p]instanceof e){a=h.ej2_instances[p];break}if(a&&a.dragTarget){var m=I(a.dragTarget,"."+lt),g=I(s,"."+lt);if(d.push(m),null==g&&s.classList.contains(Ja)&&(g=s.firstElementChild),Q(i.droppedElement),document.body.style.cursor="",!g||g.isSameNode(m)||this.isDescendant(m,g))return void(this.fields.dataSource instanceof ye||(this.preventExpand=!1));if(a.allowMultiSelection&&m.classList.contains(ea)){var y=pe("."+ea,a.element);if(d=y,i.target.offsetHeight<=33&&n>i.target.offsetHeight-10&&n>6)for(var C=y.length-1;C>=0;C--)g.isSameNode(y[C])||this.isDescendant(y[C],g)||this.appendNode(s,y[C],g,i,a,n);else for(var E=0;E<y.length;E++)g.isSameNode(y[E])||this.isDescendant(y[E],g)||this.appendNode(s,y[E],g,i,a,n)}else this.appendNode(s,m,g,i,a,n);o=parseInt(m.getAttribute("aria-level"),10),l=!0}this.fields.dataSource instanceof ye||(this.preventExpand=!1);for(var S=0;S<d.length;S++)c.push(this.getNode(d[S]));this.trigger("nodeDropped",this.getDragEvent(i.event,a,s,i.target,i.dragData.draggedElement,null,o,l)),a.element.id!==this.element.id&&(a.triggerEvent("nodeDropped",c),this.isNodeDropped=!0,this.fields.dataSource=this.treeData),this.triggerEvent("nodeDropped",c)},t.prototype.appendNode=function(i,n,s,a,o,l){var h=I(i,"."+Da),c=I(a.target,"."+ps),d=I(a.target,"."+bi);n.classList.contains("e-disable")||h||!(d&&a.event.offsetY<5||c&&a.event.offsetX<3||d&&a.event.offsetY>19||c&&a.event.offsetX>19||!d&&!c)?this.dropAsChildNode(n,s,o,null,a,l,!0):"LI"===i.nodeName?this.dropAsSiblingNode(n,s,a,o):i.firstElementChild&&i.classList.contains(Ja)?"UL"===i.firstElementChild.nodeName&&this.dropAsSiblingNode(n,s,a,o):i.classList.contains("e-icon-collapsible")||i.classList.contains("e-icon-expandable")?this.dropAsSiblingNode(n,s,a,o):this.dropAsChildNode(n,s,o,null,a,l),this.showCheckBox&&this.ensureIndeterminate()},t.prototype.dropAsSiblingNode=function(i,n,s,a){var c,o=I(n,"."+zt),l=I(i,"."+zt),h=I(l,"."+lt);if(s.target.offsetHeight>0&&s.event.offsetY>s.target.offsetHeight-2?c=!1:s.event.offsetY<2?c=!0:(s.target.classList.contains("e-icon-expandable")||s.target.classList.contains("e-icon-collapsible"))&&(s.event.offsetY<5||s.event.offsetX<3?c=!0:(s.event.offsetY>15||s.event.offsetX>17)&&(c=!1)),s.target.classList.contains("e-icon-expandable")||s.target.classList.contains("e-icon-collapsible")){var d=s.target.closest("li");o.insertBefore(i,c?d:d.nextElementSibling)}else o.insertBefore(i,c?s.target:s.target.nextElementSibling);this.moveData(i,n,o,c,a),this.updateElement(l,h),this.updateAriaLevel(i),a.element.id===this.element.id?this.updateList():(a.updateInstance(),this.updateInstance())},t.prototype.dropAsChildNode=function(i,n,s,a,o,l,h){var f,c=I(i,"."+zt),d=I(c,"."+lt),p=I(n,"."+zt);if(o&&o.target&&(f=P(this.fullRowSelect?"."+Th:"."+fs,n)),o&&l<7&&!h)p.insertBefore(i,n),this.moveData(i,n,p,!0,s);else if(o&&o.target.offsetHeight>0&&l>o.target.offsetHeight-10&&!h&&!this.hasTemplate)p.insertBefore(i,n.nextElementSibling),this.moveData(i,n,p,!1,s);else if(this.hasTemplate&&f&&l>f.offsetHeight-10&&!h)p.insertBefore(i,n.nextElementSibling),this.moveData(i,n,p,!1,s);else{var m=this.expandParent(n),g=m.childNodes[a];m.insertBefore(i,g),this.moveData(i,g,m,!0,s)}this.updateElement(c,d),this.updateAriaLevel(i),s.element.id===this.element.id?this.updateList():(s.updateInstance(),this.updateInstance())},t.prototype.moveData=function(i,n,s,a,o){var l=I(s,"."+lt),h=this.getId(i),c=o.updateChildField(o.treeData,o.fields,h,null,null,!0),d=this.getId(n),p=this.getDataPos(this.treeData,this.fields,d),f=this.getId(l);if(1===this.dataType){this.updateField(this.treeData,this.fields,f,"hasChildren",!0);var m=u(p)?this.treeData.length:a?p:p+1;if(u(f)&&!this.hasPid)delete c[0][this.fields.parentID];else{var g=this.isNumberTypeId?parseFloat(f):f;We(this.fields.parentID,g,c[0])}if(this.treeData.splice(m,0,c[0]),o.element.id!==this.element.id){var y=o.removeChildNodes(h);m++;for(var C=0,E=y.length;C<E;C++)this.treeData.splice(m,0,y[C]),m++;o.groupedData=o.getGroupedData(o.treeData,o.fields.parentID)}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.addChildData(this.treeData,this.fields,f,c,a?p:p+1)},t.prototype.expandParent=function(i){var n=P("div."+yn,i);n&&n.classList.contains(bi)&&!0!==this.preventExpand&&this.expandAction(i,n,null);var s=P("."+zt,i);if(!0===this.preventExpand&&!s&&n&&this.renderChildNodes(i),!u(s=P("."+zt,i))&&!0===this.preventExpand&&(s.style.display="none"),!u(s)&&!1===this.preventExpand&&(s.style.display="block"),u(s)&&!0===this.preventExpand&&(u(n)&&st.generateIcon(this.createElement,i,bi,this.listBaseOption),(a=P("div."+yn,i))&&a.classList.add("e-icon-expandable"),s=st.generateUL(this.createElement,[],null,this.listBaseOption),i.appendChild(s),a?M([a],ps):st.generateIcon(this.createElement,i,bi,this.listBaseOption),i.setAttribute("aria-expanded","false"),s.style.display="none"),u(s)){var a,o=this.expandArgs;(u(o)||"nodeExpanding"!=o.name)&&this.trigger("nodeExpanding",this.getExpandEvent(i,null)),u(n)&&st.generateIcon(this.createElement,i,ps,this.listBaseOption),(a=P("div."+yn,i))||(st.generateIcon(this.createElement,i,ps,this.listBaseOption),a=P("div."+yn,i)),M([a],bi),s=st.generateUL(this.createElement,[],null,this.listBaseOption),i.appendChild(s),this.addExpand(i),this.trigger("nodeExpanded",this.getExpandEvent(i,null))}return s},t.prototype.updateElement=function(i,n){if(n&&0===i.childElementCount){var s=P("div."+yn,n);Q(i),Q(s);var a=this.getId(n);this.updateField(this.treeData,this.fields,a,"hasChildren",!1),this.removeExpand(n,!0)}},t.prototype.updateAriaLevel=function(i){var n=this.parents(i,"."+zt).length;i.setAttribute("aria-level",""+n),this.updateChildAriaLevel(P("."+zt,i),n+1)},t.prototype.updateChildAriaLevel=function(i,n){if(!u(i))for(var s=i.childNodes,a=0,o=s.length;a<o;a++){var l=s[a];l.setAttribute("aria-level",""+n),this.updateChildAriaLevel(P("."+zt,l),n+1)}},t.prototype.renderVirtualEle=function(i){var n;i.event.offsetY>i.target.offsetHeight-2?n=!1:i.event.offsetY<2&&(n=!0);var s=this.createElement("div",{className:_v});i.target.insertBefore(s,i.target.children[this.fullRowSelect?n?1:2:n?0:1])},t.prototype.removeVirtualEle=function(){var i=P("."+_v);i&&Q(i)},t.prototype.destroyDrag=function(){this.dragObj&&this.dropObj&&(this.dragObj.destroy(),this.dropObj.destroy())},t.prototype.getDragEvent=function(i,n,s,a,o,l,h,c){var d=s?I(s,"."+lt):null,p=d?this.getNodeData(d):null,f=n?n.dragLi:o,m=n?n.dragData:null,g=s?this.parents(s,"."+lt):null,y=n.dragLi.parentElement,C=n.dragLi?I(y,"."+lt):null,E=null,S=null,w=[Lv,eD,Ek,Dk],A=null,T=!0===c?f:d,k=T?I(T,".e-list-parent"):null,j=0,J=null;if(C=n.dragLi&&null===C?I(y,"."+Ja):C,C=!0===c?this.dragParent:C,l)for(;j<4;){if(P("."+yn,l).classList.contains(w[j])){A=w[j];break}j++}if(k){var ne=0;for(j=0;j<k.childElementCount;j++){if(ne=!0!==c&&k.children[j]===f&&d!==f?++ne:ne,!0!==c&&k.children[j].classList.contains("e-hover")){S=i.offsetY>=23?j+1:j;break}if(k.children[j]===T){S=j;break}}S=0!==ne?--S:S,J="e-drop-in"==A?"Inside":i.offsetY<7?"Before":"After"}if(s&&(E=0===g.length?null:s.classList.contains(lt)?g[0]:g[1]),d===f&&(E=d),s&&a.offsetHeight<=33&&i.offsetY<a.offsetHeight-10&&i.offsetY>6&&(E=d,!0!==c)){h=++h;var R=E?P(".e-list-parent",E):null;if(S=R?R.children.length:0,!(this.fields.dataSource instanceof ye)&&null===R&&E){var G=E.hasAttribute("data-uid")?this.getChildNodes(this.fields.dataSource,E.getAttribute("data-uid").toString()):null;S=G?G.length:0}}return{cancel:!1,clonedNode:l,event:i,draggedNode:f,draggedNodeData:m,droppedNode:d,droppedNodeData:p,dropIndex:S,dropLevel:h,draggedParentNode:C,dropTarget:E,dropIndicator:A,target:a,position:J}},t.prototype.addFullRow=function(i){var n=this.liList.length;if(i)for(var s=0;s<n;s++)this.createFullRow(this.liList[s]);else for(s=0;s<n;s++)Q(P("."+Th,this.liList[s]))},t.prototype.createFullRow=function(i){var n=this.createElement("div",{className:Th});i.insertBefore(n,i.childNodes[0])},t.prototype.addMultiSelect=function(i){if(i)for(var s=0,a=pe("."+lt+':not([aria-selected="true"])',this.element);s<a.length;s++)a[s].setAttribute("aria-selected","false");else for(var l=0,h=pe("."+lt+'[aria-selected="false"]',this.element);l<h.length;l++)h[l].removeAttribute("aria-selected")},t.prototype.collapseByLevel=function(i,n,s){if(n>0&&!u(i))for(var a=this.getVisibleNodes(s,i.childNodes),o=0,l=a.length;o<l;o++){var h=a[o],c=P("."+ps,P("."+fs,h));u(c)||this.collapseNode(h,c,null),this.collapseByLevel(P("."+zt,h),n-1,s)}},t.prototype.collapseAllNodes=function(i){for(var n=this.getVisibleNodes(i,pe("."+ps,this.element)),s=0,a=n.length;s<a;s++){var o=n[s],l=I(o,"."+lt);this.collapseNode(l,o,null)}},t.prototype.expandByLevel=function(i,n,s){if(n>0&&!u(i))for(var a=this.getVisibleNodes(s,i.childNodes),o=0,l=a.length;o<l;o++){var h=a[o],c=P("."+bi,P("."+fs,h));u(c)||this.expandAction(h,c,null),this.expandByLevel(P("."+zt,h),n-1,s)}},t.prototype.expandAllNodes=function(i){for(var n=this.getVisibleNodes(i,pe("."+bi,this.element)),s=0,a=n.length;s<a;s++){var o=n[s],l=I(o,"."+lt);this.expandAction(l,o,null,!0)}},t.prototype.getVisibleNodes=function(i,n){var s=Array.prototype.slice.call(n);if(i)for(var a=0;a<s.length;a++)ln(s[a])||(s.splice(a,1),a--);return s},t.prototype.removeNode=function(i){var n=I(i,"."+zt),s=I(n,"."+lt);u(this.nodeTemplateFn)||this.destroyTemplate(i),Q(i),this.updateElement(n,s),this.removeData(i)},t.prototype.updateInstance=function(){this.updateList(),this.updateSelectedNodes(),this.updateExpandedNodes()},t.prototype.updateList=function(){this.liList=Array.prototype.slice.call(pe("."+lt,this.element))},t.prototype.updateSelectedNodes=function(){this.setProperties({selectedNodes:[]},!0);var i=pe("."+ea,this.element);this.selectGivenNodes(i)},t.prototype.updateExpandedNodes=function(){this.setProperties({expandedNodes:[]},!0);for(var i=pe('[aria-expanded="true"]',this.element),n=0,s=i.length;n<s;n++)this.addExpand(i[n])},t.prototype.removeData=function(i){if(1===this.dataType){var n=new ye(this.treeData),s=this.getId(i),a={},o=this.isNumberTypeId?parseFloat(s):s;a[this.fields.id]=o,n.remove(this.fields.id,a),this.removeChildNodes(s)}else s=this.getId(i),this.updateChildField(this.treeData,this.fields,s,null,null,!0)},t.prototype.removeChildNodes=function(i){var n=this.getChildGroup(this.groupedData,i,!1),s=[];if(n)for(var a=0,o=n.length;a<o;a++){var l=new ye(this.treeData),h=_(this.fields.id,n[a]).toString(),c={},d=this.isNumberTypeId?parseFloat(h):h;c[this.fields.id]=d;var p=l.remove(this.fields.id,c);s.push(p[0]),this.removeChildNodes(h)}return s},t.prototype.doGivenAction=function(i,n,s){for(var a=0,o=i.length;a<o;a++){var l=this.getElement(i[a]);if(!u(l)){var h=P("."+n,P("."+fs,l));u(h)||(s?this.expandAction(l,h,null):this.collapseNode(l,h,null))}}},t.prototype.addGivenNodes=function(i,n,s,a,o){if(0!==i.length){var l=this.getSortedData(i),h=n?parseFloat(n.getAttribute("aria-level"))+1:1;a&&this.updateMapper(h);var p,f,m,c=st.createListItemFromJson(this.createElement,l,this.listBaseOption,h),d=this.getId(n);if(u(n)||(f=P("div."+yn,n)),1===this.dataType&&f&&f.classList.contains(bi)&&!u(this.element.offsetParent)&&!this.element.offsetParent.parentElement.classList.contains("e-filemanager")&&(this.preventExpand=!0),1!==this.dataType&&(this.addChildData(this.treeData,this.fields,d,i,s),this.isFirstRender=!1),p=(m=o||(n?this.expandParent(n):P("."+zt,this.element))).childNodes[s],!this.isFirstRender||1===this.dataType){var g=this.expandArgs;if(p||"None"===this.sortOrder){for(var y=0;y<c.length;y++)m.insertBefore(c[y],p);1!==this.dataType||u(n)||u(this.element.offsetParent)||this.element.offsetParent.parentElement.classList.contains("e-filemanager")||(this.preventExpand=!1,(C=P("div."+yn,n))&&C.classList.contains(bi)&&(u(g)||"nodeExpanding"!=g.name)&&this.expandAction(n,C,null))}if(!p&&("Ascending"===this.sortOrder||"Descending"===this.sortOrder))if(0===m.childNodes.length){for(y=0;y<c.length;y++)m.insertBefore(c[y],p);var C;1!==this.dataType||u(n)||u(this.element.offsetParent)||this.element.offsetParent.parentElement.classList.contains("e-filemanager")||(this.preventExpand=!1,(C=P("div."+yn,n))&&C.classList.contains(bi)&&(u(g)||"nodeExpanding"!=g.name)&&this.expandAction(n,C,null))}else{var E=m.childNodes;for(y=0;y<c.length;y++)for(var S=0;S<E.length;S++){if("Ascending"===this.sortOrder?E[S].textContent.toUpperCase()>c[y].innerText.toUpperCase():E[S].textContent.toUpperCase()<c[y].innerText.toUpperCase()){m.insertBefore(c[y],E[S]);break}m.insertBefore(c[y],E[E.length])}}}if(1===this.dataType){this.updateField(this.treeData,this.fields,d,"hasChildren",!0);var A=this.getId(p),T=u(A)?this.treeData.length:this.getDataPos(this.treeData,this.fields,A);for(S=0;S<i.length;S++){if(!u(d)){var k=this.isNumberTypeId?parseFloat(d):d;We(this.fields.parentID,k,i[S])}this.treeData.splice(T,0,i[S]),T++}}this.finalizeNode(m)}},t.prototype.updateMapper=function(i){var n=1===i?this.fields:this.getChildFields(this.fields,i-1,1);this.updateListProp(n)},t.prototype.updateListProp=function(i){var n=this.getActualProperties(i);this.listBaseOption.fields=n,this.listBaseOption.fields.url=n.hasOwnProperty("navigateUrl")?n.navigateUrl:"navigateUrl"},t.prototype.getDataPos=function(i,n,s){for(var a=null,o=0,l=i.length;o<l;o++){var h=_(n.id,i[o]);if(i[o]&&h&&h.toString()===s)return o;if("string"!=typeof n.child||u(_(n.child,i[o]))){if(this.fields.dataSource instanceof ye&&!u(_("child",i[o]))){var d=_("child",i[o]);if(null!==(a=this.getDataPos(d,this.getChildMapper(n),s)))break}}else{var c=_(n.child,i[o]);if(null!==(a=this.getDataPos(c,this.getChildMapper(n),s)))break}}return a},t.prototype.addChildData=function(i,n,s,a,o){var l;if(u(s)){o=u(o)?i.length:o;for(var h=0,c=a.length;h<c;h++)i.splice(o,0,a[h]),o++;return l}for(var d=0,p=i.length;d<p;d++){var f=_(n.id,i[d]);if(i[d]&&f&&f.toString()===s){if("string"==typeof n.child&&i[d].hasOwnProperty(n.child)&&null!==i[d][n.child]||this.fields.dataSource instanceof ye&&i[d].hasOwnProperty("child"))for(u(g=_("string"==typeof n.child?n.child:"child",i[d]))&&(g=[]),o=u(o)?g.length:o,h=0,c=a.length;h<c;h++)g.splice(o,0,a[h]),o++;else i[d]["string"==typeof n.child?n.child:"child"]=a;return!0}if("string"!=typeof n.child||u(_(n.child,i[d]))){if(this.fields.dataSource instanceof ye&&!u(_("child",i[d]))){var g=_("child",i[d]);if(void 0!==(l=this.addChildData(g,this.getChildMapper(n),s,a,o)))break}}else{var y=_(n.child,i[d]);if(void 0!==(l=this.addChildData(y,this.getChildMapper(n),s,a,o)))break}}return l},t.prototype.doDisableAction=function(i){var n=this.nodeType(i),s=this.checkValidId(n);this.validArr=[];for(var a=0,o=s.length;a<o;a++){var l=s[a][this.fields.id].toString();l&&-1===this.disableNode.indexOf(l)&&this.disableNode.push(l);var h=this.getElement(l);h&&(h.setAttribute("aria-disabled","true"),D([h],v5))}},t.prototype.doEnableAction=function(i){for(var n=this.nodeType(i),s=0,a=n.length;s<a;s++){var o=this.getElement(n[s]),l=n[s];l&&-1!==this.disableNode.indexOf(l)&&this.disableNode.splice(this.disableNode.indexOf(l),1),o&&(o.removeAttribute("aria-disabled"),M([o],v5))}},t.prototype.nodeType=function(i){for(var n=[],s=0,a=i.length;s<a;s++){var o=void 0;"string"==typeof i[s]?o=i[s]?i[s].toString():null:"object"==typeof i[s]&&(o=i[s]?i[s].getAttribute("data-uid").toString():null),-1==n.indexOf(o)&&n.push(o)}return n},t.prototype.checkValidId=function(i){var n=this;if(1===this.dataType)this.validArr=this.treeData.filter(function(l){return-1!==i.indexOf(l[n.fields.id]?l[n.fields.id].toString():null)});else if(2===this.dataType)for(var s=0;s<this.treeData.length;s++){var a=this.treeData[s][this.fields.id]?this.treeData[s][this.fields.id].toString():null;-1!==i.indexOf(a)&&this.validArr.push(this.treeData[s]);var o=_(this.fields.child.toString(),this.treeData[s]);o&&this.filterNestedChild(o,i)}return this.validArr},t.prototype.filterNestedChild=function(i,n){for(var s=0;s<i.length;s++){var a=i[s][this.fields.id]?i[s][this.fields.id].toString():null;-1!==n.indexOf(a)&&this.validArr.push(i[s]);var o=_(this.fields.child.toString(),i[s]);o&&this.filterNestedChild(o,n)}},t.prototype.setTouchClass=function(){var i=I(this.element,".e-bigger");this.touchClass=u(i)?"":"e-small"},t.prototype.updatePersistProp=function(){this.removeField(this.treeData,this.fields,["selected","expanded"]);for(var i=this.selectedNodes,n=0,s=i.length;n<s;n++)this.updateField(this.treeData,this.fields,i[n],"selected",!0);for(var a=this.expandedNodes,o=0,l=a.length;o<l;o++)this.updateField(this.treeData,this.fields,a[o],"expanded",!0);if(this.showCheckBox){this.removeField(this.treeData,this.fields,["isChecked"]);var h=this.checkedNodes,c=0;for(l=h.length;c<l;c++)this.updateField(this.treeData,this.fields,h[c],"isChecked",!0)}},t.prototype.removeField=function(i,n,s){if(!u(i)&&!u(n))for(var a=0,o=i.length;a<o;a++){for(var l=0;l<s.length;l++){var h=this.getMapperProp(n,s[l]);u(i[a][h])||delete i[a][h]}"string"!=typeof n.child||u(_(n.child,i[a]))?this.fields.dataSource instanceof ye&&!u(_("child",i[a]))&&this.removeField(_("child",i[a]),this.getChildMapper(n),s):this.removeField(_(n.child,i[a]),this.getChildMapper(n),s)}},t.prototype.getMapperProp=function(i,n){switch(n){case"selected":return u(i.selected)?"selected":i.selected;case"expanded":return u(i.expanded)?"expanded":i.expanded;case"isChecked":return u(i.isChecked)?"isChecked":i.isChecked;case"hasChildren":return u(i.hasChildren)?"hasChildren":i.hasChildren;default:return n}},t.prototype.updateField=function(i,n,s,a,o){if(!u(s))if(1===this.dataType){var l=this.isNumberTypeId?parseFloat(s):s,h=new ye(this.treeData).executeLocal((new Xe).where(n.id,"equal",l,!1));We(this.getMapperProp(n,a),o,h[0])}else this.updateChildField(i,n,s,a,o)},t.prototype.updateChildField=function(i,n,s,a,o,l){var h;if(u(i))return h;for(var c=0,d=i.length;c<d;c++){var p=_(n.id,i[c]);if(i[c]&&p&&p.toString()===s)return l?h=i.splice(c,1):(We(this.getMapperProp(n,a),o,i[c]),h=[]),h;if("string"!=typeof n.child||u(_(n.child,i[c]))){if(this.fields.dataSource instanceof ye&&!u(_("child",i[c]))){var m=_("child",i[c]);if(void 0!==(h=this.updateChildField(m,this.getChildMapper(n),s,a,o,l)))break}}else{var f=_(n.child,i[c]);if(void 0!==(h=this.updateChildField(f,this.getChildMapper(n),s,a,o,l)))break}}return h},t.prototype.triggerEvent=function(i,n){if(this.renderReactTemplates(),"addNodes"===i){for(var s=[],a=0;a<n.length;a++)s.push(this.getNode(this.getElement(u(n[a][this.fields.id])?_(this.fields.id,n[a]).toString():null)));n=s}this.trigger("dataSourceChanged",{data:this.treeData,action:i,nodeData:n})},t.prototype.wireInputEvents=function(i){b.add(i,"blur",this.inputFocusOut,this)},t.prototype.wireEditingEvents=function(i){var n=this;if(i&&!this.disabled){var s=this;this.touchEditObj=new Zn(this.element,{tap:function(a){n.isDoubleTapped(a)&&2===a.tapCount&&(a.originalEvent.preventDefault(),s.editingHandler(a.originalEvent))}})}else this.touchEditObj&&this.touchEditObj.destroy()},t.prototype.wireClickEvent=function(i){if(i){var n=this;this.touchClickObj=new Zn(this.element,{tap:function(s){n.clickHandler(s)}})}else this.touchClickObj&&this.touchClickObj.destroy()},t.prototype.wireExpandOnEvent=function(i){var n=this;if(i){var s=this;this.touchExpandObj=new Zn(this.element,{tap:function(a){("Click"===n.expandOnType||"DblClick"===n.expandOnType&&n.isDoubleTapped(a)&&2===a.tapCount)&&3!==a.originalEvent.which&&s.expandHandler(a)}})}else this.touchExpandObj&&this.touchExpandObj.destroy()},t.prototype.mouseDownHandler=function(i){this.mouseDownStatus=!0,(i.shiftKey||i.ctrlKey)&&i.preventDefault(),i.ctrlKey&&this.allowMultiSelection&&b.add(this.element,"contextmenu",this.preventContextMenu,this)},t.prototype.preventContextMenu=function(i){i.preventDefault()},t.prototype.wireEvents=function(){b.add(this.element,"mousedown",this.mouseDownHandler,this),this.wireClickEvent(!0),"None"!==this.expandOnType&&this.wireExpandOnEvent(!0),b.add(this.element,"mouseover",this.onMouseOver,this),b.add(this.element,"mouseout",this.onMouseLeave,this),this.keyboardModule=new Lt(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})},t.prototype.unWireEvents=function(){b.remove(this.element,"mousedown",this.mouseDownHandler),this.wireClickEvent(!1),this.wireExpandOnEvent(!1),b.remove(this.element,"mouseover",this.onMouseOver),b.remove(this.element,"mouseout",this.onMouseLeave),this.disabled||this.keyboardModule.destroy()},t.prototype.parents=function(i,n){for(var s=[],a=i.parentNode;!u(a);)Ug(a,n)&&s.push(a),a=a.parentNode;return s},t.prototype.isDoubleTapped=function(i){var s,n=i.originalEvent.target;return n&&i.tapCount&&(1===i.tapCount?this.firstTap=I(n,"."+lt):2===i.tapCount&&(s=I(n,"."+lt))),this.firstTap===s},t.prototype.isDescendant=function(i,n){for(var s=n.parentNode;!u(s);){if(s===i)return!0;s=s.parentNode}return!1},t.prototype.showSpinner=function(i){D([i],yk),Qa({target:i,width:O.isDevice?16:14},this.createElement),$r(i)},t.prototype.hideSpinner=function(i){pr(i),i.innerHTML="",M([i],yk)},t.prototype.setCheckedNodes=function(i){i=JSON.parse(JSON.stringify(i)),this.uncheckAll(this.checkedNodes),this.setIndeterminate(i),i.length>0&&this.checkAll(i)},t.prototype.setValidCheckedNode=function(i){if(1===this.dataType){var n=this.fields,s=new ye(this.treeData).executeLocal((new Xe).where(n.id,"equal",i,!0));if(s[0]&&(this.setChildCheckState(s,i,s[0]),this.autoCheck)){for(var a=s[0][this.fields.parentID]?s[0][this.fields.parentID].toString():null,o=this.getChildNodes(this.treeData,a),l=0,h=0;h<o.length;h++){var c=o[h][this.fields.id].toString();-1!==this.checkedNodes.indexOf(c)&&l++}l===o.length&&-1===this.checkedNodes.indexOf(a)&&a&&this.checkedNodes.push(a)}}else if(2===this.dataType)for(var d=0;d<this.treeData.length;d++){if((this.treeData[d][this.fields.id]?this.treeData[d][this.fields.id].toString():"")===i&&-1===this.checkedNodes.indexOf(i)){this.checkedNodes.push(i);break}var f=_(this.fields.child.toString(),this.treeData[d]);f&&this.setChildCheckState(f,i,this.treeData[d])}},t.prototype.setChildCheckState=function(i,n,s){var a,o=0;if(1===this.dataType){s&&(a=s[this.fields.id]?s[this.fields.id].toString():null);for(var l=0;l<i.length;l++){var h=i[l][this.fields.id]?i[l][this.fields.id].toString():null;s&&a&&this.autoCheck&&-1!==this.checkedNodes.indexOf(a)&&-1===this.checkedNodes.indexOf(h)&&this.checkedNodes.push(h),h===n&&-1===this.checkedNodes.indexOf(n)&&this.checkedNodes.push(n),(c=this.getChildNodes(this.treeData,h))&&this.setChildCheckState(c,n,s)}}else for(s&&(a=s[this.fields.id]?s[this.fields.id].toString():""),l=0;l<i.length;l++){var c,d=i[l][this.fields.id]?i[l][this.fields.id].toString():"";s&&a&&this.autoCheck&&-1!==this.checkedNodes.indexOf(a)&&-1===this.checkedNodes.indexOf(d)&&this.checkedNodes.push(d),d===n&&-1===this.checkedNodes.indexOf(n)&&this.checkedNodes.push(n),(c=_(this.fields.child.toString(),i[l]))&&this.setChildCheckState(c,n,i[l]),-1!==this.checkedNodes.indexOf(d)&&this.autoCheck&&o++,o===i.length&&-1===this.checkedNodes.indexOf(a)&&this.autoCheck&&this.checkedNodes.push(a)}},t.prototype.setIndeterminate=function(i){for(var n=0;n<i.length;n++)this.setValidCheckedNode(i[n])},t.prototype.updatePosition=function(i,n,s,a){if(1===this.dataType){var o=this.getDataPos(this.treeData,this.fields,i);if(this.treeData.splice(o,1,n),s){this.removeChildNodes(i);for(var l=0;l<a.length;l++)this.treeData.splice(o,0,a[l]),o++}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.updateChildPosition(this.treeData,this.fields,i,[n],void 0)},t.prototype.updateChildPosition=function(i,n,s,a,o){for(var l,h=0,c=i.length;h<c;h++){var d=_(n.id,i[h]);if(i[h]&&d&&d.toString()===s)return i[h]=a[0],!0;if("string"!=typeof n.child||u(_(n.child,i[h]))){if(this.fields.dataSource instanceof ye&&!u(_("child",i[h]))){var f=_("child",i[h]);if(void 0!==(l=this.updateChildPosition(f,this.getChildMapper(n),s,a,o)))break}}else{var p=_(n.child,i[h]);if(void 0!==(l=this.updateChildPosition(p,this.getChildMapper(n),s,a,o)))break}}return l},t.prototype.dynamicState=function(){this.setDragAndDrop(this.allowDragAndDrop),this.wireEditingEvents(this.allowEditing),this.disabled?(this.unWireEvents(),this.rippleFn(),this.rippleIconFn()):(this.wireEvents(),this.setRipple())},t.prototype.crudOperation=function(i,n,s,a,o,l,h){var g,c=this,d=this.fields.dataSource,p=[],f=this.getQuery(this.fields),m=this.fields.id,y={addedRecords:[],deletedRecords:[],changedRecords:[]},C=[];n?C=this.nodeType(n):s&&("string"==typeof s?C[0]=s.toString():"object"==typeof s&&(C[0]=s.getAttribute("data-uid").toString()));for(var E=0,S=C.length;E<S;E++)if(!u(this.getElement(C[E]))){var A=this.getNodeObject(C[E]);p.push(A)}switch(i){case"delete":1==n.length?g=d.remove(m,p[0],f.fromTable,f):(y.deletedRecords=p,g=d.saveChanges(y,m,f.fromTable,f)),g.then(function(k){return c.deleteSuccess(C)}).catch(function(k){return c.dmFailure(k)});break;case"update":p[0][this.fields.text]=a,(g=d.update(m,p[0],f.fromTable,f)).then(function(k){return c.editSucess(s,a,h)}).catch(function(k){return c.dmFailure(k,s,h)});break;case"insert":if(1==o.length)g=d.insert(o[0],f.fromTable,f);else{var T=[];for(E=0,S=o.length;E<S;E++)T.push(o[E]);y.addedRecords=T,g=d.saveChanges(y,m,f.fromTable,f)}g.then(function(k){var j=c.getElement(s);c.addSuccess(o,j,l),c.preventExpand=!1}).catch(function(k){return c.dmFailure(k)})}},t.prototype.deleteSuccess=function(i){for(var n=[],s=0,a=i.length;s<a;s++){var o=this.getElement(i[s]);n.push(this.getNode(o)),!u(o)&&this.removeNode(o)}this.updateInstance(),1===this.dataType&&(this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)),this.triggerEvent("removeNode",n)},t.prototype.editSucess=function(i,n,s){var a=this.getElement(i),o=P("."+Xu,a);this.appendNewText(a,o,n,s)},t.prototype.addSuccess=function(i,n,s){var a,o=n?n.querySelector("."+yn):null,l=this;n&&o&&o.classList.contains(bi)&&null===n.querySelector("."+zt)?l.renderChildNodes(n,null,function(){a=n.querySelector("."+zt),l.addGivenNodes(i,n,s,!0,a),l.triggerEvent("addNodes",i)}):(this.addGivenNodes(i,n,s,!0),this.triggerEvent("addNodes",i))},t.prototype.dmFailure=function(i,n,s){n&&this.updatePreviousText(n,s),this.trigger("actionFailure",{error:i})},t.prototype.updatePreviousText=function(i,n){var s=this.getElement(i),a=P("."+Xu,s);this.updateText(s,a,this.oldText,n)},t.prototype.getHierarchicalParentId=function(i,n,s){var a=this,o=n.findIndex(function(c){return c[a.fields.id]&&c[a.fields.id].toString()===i});if(-1==o)for(var l=0;l<n.length;l++){var h=_(this.fields.child.toString(),n[l]);if(!u(h)){if(-1!=(o=h.findIndex(function(c){return c[a.fields.id]&&c[a.fields.id].toString()===i}))){s.push(n[l][this.fields.id].toString()),this.getHierarchicalParentId(n[l][this.fields.id].toString(),this.treeData,s);break}this.getHierarchicalParentId(i,h,s)}}return s},t.prototype.onPropertyChanged=function(i,n){for(var s=0,a=Object.keys(i);s<a.length;s++)switch(a[s]){case"allowDragAndDrop":this.setDragAndDrop(this.allowDragAndDrop);break;case"dragArea":this.allowDragAndDrop&&(this.dragObj.dragArea=this.dragArea);break;case"allowEditing":this.wireEditingEvents(this.allowEditing);break;case"allowMultiSelection":if(this.selectedNodes.length>1){var l=this.getElement(this.selectedNodes[0]);this.isLoaded=!1,this.removeSelectAll(),this.selectNode(l,null),this.isLoaded=!0}this.setMultiSelect(this.allowMultiSelection),this.addMultiSelect(this.allowMultiSelection);break;case"allowTextWrap":this.setTextWrap(),this.updateWrap();break;case"checkedNodes":this.showCheckBox&&(this.checkedNodes=n.checkedNodes,this.setCheckedNodes(i.checkedNodes));break;case"autoCheck":this.showCheckBox&&(this.autoCheck=i.autoCheck,this.ensureIndeterminate());break;case"cssClass":this.setCssClass(n.cssClass,i.cssClass);break;case"enableRtl":this.setEnableRtl();break;case"expandedNodes":this.isAnimate=!1,this.setProperties({expandedNodes:[]},!0),this.collapseAll(),this.isInitalExpand=!0,this.setProperties({expandedNodes:u(i.expandedNodes)?[]:i.expandedNodes},!0),this.doExpandAction(),this.isInitalExpand=!1,this.isAnimate=!0;break;case"expandOn":this.wireExpandOnEvent(!1),this.setExpandOnType(),"None"!==this.expandOnType&&!this.disabled&&this.wireExpandOnEvent(!0);break;case"disabled":this.setDisabledMode(),this.dynamicState();break;case"fields":this.isAnimate=!1,this.isFieldChange=!0,this.initialRender=!0,(!this.isReact||this.isReact&&!(this.fields.dataSource instanceof ye))&&this.reRenderNodes(),this.initialRender=!1,this.isAnimate=!0,this.isFieldChange=!1;break;case"fullRowSelect":this.setFullRow(this.fullRowSelect),this.addFullRow(this.fullRowSelect),this.allowTextWrap&&(this.setTextWrap(),this.updateWrap());break;case"loadOnDemand":if(!1===this.loadOnDemand&&!this.onLoaded){for(var h=this.element.querySelectorAll("li"),c=0;c<h.length;)"true"!==h[c].getAttribute("aria-expanded")&&this.renderChildNodes(h[c],!0,null,!0),c++;this.onLoaded=!0}break;case"nodeTemplate":this.hasTemplate=!1,this.nodeTemplateFn=this.templateComplier(this.nodeTemplate),this.reRenderNodes();break;case"selectedNodes":this.removeSelectAll(),this.setProperties({selectedNodes:i.selectedNodes},!0),this.doSelectionAction();break;case"showCheckBox":case"sortOrder":this.reRenderNodes();break;case"fullRowNavigable":this.setProperties({fullRowNavigable:i.fullRowNavigable},!0),this.listBaseOption.itemNavigable=i.fullRowNavigable,this.reRenderNodes()}},t.prototype.destroy=function(){this.clearTemplate(),this.element.removeAttribute("aria-activedescendant"),this.unWireEvents(),this.wireEditingEvents(!1),this.disabled||(this.rippleFn(),this.rippleIconFn()),this.setCssClass(this.cssClass,null),this.setDragAndDrop(!1),this.setFullRow(!1),this.ulElement&&this.ulElement.parentElement&&this.ulElement.parentElement.removeChild(this.ulElement),this.ulElement=null,this.liList=null,this.startNode=null,this.firstTap=null,this.expandArgs=null,this.dragLi=null,this.dragTarget=null,this.dragParent=null,this.dragObj=null,this.dropObj=null,this.inputObj=null,this.touchEditObj=null,this.touchExpandObj=null,this.touchClickObj=null,r.prototype.destroy.call(this)},t.prototype.addNodes=function(i,n,s,a){if(!u(i)){i=JSON.parse(JSON.stringify(i));var o=this.getElement(n);if(this.preventExpand=a,this.fields.dataSource instanceof ye)this.isOffline?this.addSuccess(i,o,s):this.crudOperation("insert",null,n,null,i,s,this.preventExpand);else if(2===this.dataType)this.addGivenNodes(i,o,s);else{if(o)this.addGivenNodes(i,o,s);else{i=this.getSortedData(i);for(var l=0;l<i.length;l++){var h=_(this.fields.parentID,i[l]);o=h&&this.getElement(h.toString()),this.addGivenNodes([i[l]],o,s)}}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}this.updateCheckedStateFromDS(),this.showCheckBox&&o&&this.ensureParentCheckState(o),this.fields.dataSource instanceof ye||(this.preventExpand=!1,this.triggerEvent("addNodes",i))}},t.prototype.beginEdit=function(i){var n=this.getElement(i);u(n)||this.disabled||this.createTextbox(n,null)},t.prototype.checkAll=function(i){this.showCheckBox&&this.doCheckBoxAction(i,!0)},t.prototype.collapseAll=function(i,n,s){u(i)?n>0?this.collapseByLevel(P("."+zt,this.element),n,s):this.collapseAllNodes(s):this.doGivenAction(i,ps,!1)},t.prototype.disableNodes=function(i){u(i)||this.doDisableAction(i)},t.prototype.enableNodes=function(i){u(i)||this.doEnableAction(i)},t.prototype.ensureVisible=function(i){var n=[];if(1==this.dataType)for(var s=this.getTreeData(i);0!=s.length&&!u(s[0][this.fields.parentID]);)n.push(s[0][this.fields.parentID].toString()),s=this.getTreeData(s[0][this.fields.parentID].toString());else 2==this.dataType&&(n=this.getHierarchicalParentId(i,this.treeData,n));this.expandAll(n.reverse());var a=this.getElement(i);if(!u(a)){if("object"==typeof i){var o=this.parents(a,"."+lt);this.expandAll(o)}setTimeout(function(){a.scrollIntoView({behavior:"smooth"})},450)}},t.prototype.expandAll=function(i,n,s){u(i)?n>0?this.expandByLevel(P("."+zt,this.element),n,s):this.expandAllNodes(s):this.doGivenAction(i,bi,!0)},t.prototype.getAllCheckedNodes=function(){return this.checkedNodes},t.prototype.getDisabledNodes=function(){return this.disableNode},t.prototype.getNode=function(i){var n=this.getElement(i);return this.getNodeData(n,!0)},t.prototype.getTreeData=function(i){var n=this.getId(i);if(this.updatePersistProp(),u(n))return this.treeData;var s=this.getNodeObject(n);return u(s)?[]:[s]},t.prototype.moveNodes=function(i,n,s,a){var o=this.getElement(n),l=[];if(!u(o)){for(var h=0;h<i.length;h++){var c=this.getElement(i[h]);l.push(this.getNode(c)),!(u(c)||o.isSameNode(c)||this.isDescendant(c,o))&&(this.preventExpand=a,this.dropAsChildNode(c,o,this,s))}this.fields.dataSource instanceof ye||(this.preventExpand=!1),this.triggerEvent("moveNodes",l)}},t.prototype.refreshNode=function(i,n){if(!u(i)&&!u(n)){var s,a=!1;1==this.dataType&&n.length>1?a=!0:2==this.dataType&&1===n.length&&(u(_(this.fields.child.toString(),n[0]))||(a=!0));var h,c,l=this.getElement(i);if(s=l?l.getAttribute("data-uid"):i?i.toString():null,this.refreshData=this.getNodeObject(s),n=JSON.parse(JSON.stringify(n)),1==this.dataType&&a){for(var d=0;d<n.length;d++)if(u(n[d][this.fields.parentID])){c=n[d],n.splice(d,1);break}h=z({},this.refreshData,c)}else h=z({},this.refreshData,n[0]);if(u(l))return void this.updatePosition(s,h,a,n);this.isRefreshed=!0;var p=parseFloat(l.getAttribute("aria-level")),f=st.createListItemFromJson(this.createElement,[h],this.listBaseOption,p),m=P("."+zt,l),g=_(this.fields.child.toString(),h);if(a&&m||a&&!u(g)){var y=l.parentElement,C=Array.prototype.indexOf.call(y.childNodes,l);me(l),y.insertBefore(f[0],y.childNodes[C]),this.updatePosition(s,h,a,n),a&&m&&this.expandAll([s])}else{var E=P("."+fs,l),S=P("."+fs,f[0]),w=P("div."+yn,E),A=P("div."+yn,S);w&&A&&(A.classList.contains(bi)&&w.classList.contains(ps)?(M([A],bi),D([A],ps)):A.classList.contains(ps)&&w.classList.contains(bi)?(M([A],ps),D([A],bi)):w.classList.contains("interaction")&&D([A],"interaction")),me(E);var T=P("."+Th,l);T.parentNode.insertBefore(S,T.nextSibling),this.updatePosition(s,h,a,n)}if(l=this.getElement(i),h[this.fields.tooltip]&&l.setAttribute("title",h[this.fields.tooltip]),h.hasOwnProperty(this.fields.htmlAttributes)&&h[this.fields.htmlAttributes]){var k={};ls(k,h[this.fields.htmlAttributes]),k.class?(D([l],k.class.split(" ")),delete k.class):re(l,k)}-1!==this.selectedNodes.indexOf(s)&&(l.setAttribute("aria-selected","true"),D([l],ea)),this.isRefreshed=!1,this.triggerEvent("refreshNode",[this.getNode(l)])}},t.prototype.removeNodes=function(i){u(i)||(this.fields.dataSource instanceof ye&&!this.isOffline?this.crudOperation("delete",i):this.deleteSuccess(i))},t.prototype.updateNode=function(i,n){var s=this;if(!u(i)&&!u(n)&&this.allowEditing){var a=this.getElement(i);if(!u(a)){var o=P("."+Xu,a);this.updateOldText(a);var l=this.getEditEvent(a,null,null);this.trigger("nodeEditing",l,function(h){h.cancel||(s.fields.dataSource instanceof ye&&!s.isOffline?s.crudOperation("update",null,i,n,null,null,!1):s.appendNewText(a,o,n,!1))})}}},t.prototype.uncheckAll=function(i){this.showCheckBox&&this.doCheckBoxAction(i,!1)},Ye([v(!1)],t.prototype,"allowDragAndDrop",void 0),Ye([v(!1)],t.prototype,"allowEditing",void 0),Ye([v(!1)],t.prototype,"allowMultiSelection",void 0),Ye([v(!1)],t.prototype,"allowTextWrap",void 0),Ye([at({},Mme)],t.prototype,"animation",void 0),Ye([v()],t.prototype,"checkedNodes",void 0),Ye([v("")],t.prototype,"cssClass",void 0),Ye([v(!1)],t.prototype,"disabled",void 0),Ye([v(null)],t.prototype,"dragArea",void 0),Ye([v(!1)],t.prototype,"enableHtmlSanitizer",void 0),Ye([v(!1)],t.prototype,"enablePersistence",void 0),Ye([v()],t.prototype,"expandedNodes",void 0),Ye([v("Auto")],t.prototype,"expandOn",void 0),Ye([at({},wme)],t.prototype,"fields",void 0),Ye([v(!0)],t.prototype,"fullRowSelect",void 0),Ye([v(!0)],t.prototype,"loadOnDemand",void 0),Ye([v()],t.prototype,"locale",void 0),Ye([v()],t.prototype,"nodeTemplate",void 0),Ye([v()],t.prototype,"selectedNodes",void 0),Ye([v("None")],t.prototype,"sortOrder",void 0),Ye([v(!1)],t.prototype,"showCheckBox",void 0),Ye([v(!0)],t.prototype,"autoCheck",void 0),Ye([v(!1)],t.prototype,"fullRowNavigable",void 0),Ye([x()],t.prototype,"actionFailure",void 0),Ye([x()],t.prototype,"created",void 0),Ye([x()],t.prototype,"dataBound",void 0),Ye([x()],t.prototype,"dataSourceChanged",void 0),Ye([x()],t.prototype,"drawNode",void 0),Ye([x()],t.prototype,"destroyed",void 0),Ye([x()],t.prototype,"keyPress",void 0),Ye([x()],t.prototype,"nodeChecked",void 0),Ye([x()],t.prototype,"nodeChecking",void 0),Ye([x()],t.prototype,"nodeClicked",void 0),Ye([x()],t.prototype,"nodeCollapsed",void 0),Ye([x()],t.prototype,"nodeCollapsing",void 0),Ye([x()],t.prototype,"nodeDragging",void 0),Ye([x()],t.prototype,"nodeDragStart",void 0),Ye([x()],t.prototype,"nodeDragStop",void 0),Ye([x()],t.prototype,"nodeDropped",void 0),Ye([x()],t.prototype,"nodeEdited",void 0),Ye([x()],t.prototype,"nodeEditing",void 0),Ye([x()],t.prototype,"nodeExpanded",void 0),Ye([x()],t.prototype,"nodeExpanding",void 0),Ye([x()],t.prototype,"nodeSelected",void 0),Ye([x()],t.prototype,"nodeSelecting",void 0),e=Ye([et],t)}(Yt),I5=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ri=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},lD="e-carousel",ta="e-active",hD="e-rtl",Nk="e-partial",A5="e-swipe",_k="e-carousel-slide-container",cD="e-carousel-items",Af="e-carousel-item",uD="e-previous",Vv="e-carousel-navigators",Lk="e-carousel-indicators",O5="e-indicator-bars",jv="e-indicator-bar",k5="e-indicator",dD="e-icons",Rk="e-play-pause",xf="e-play-icon",Of="e-pause-icon",Bv="e-previous-button",Hv="e-next-button",ed="e-play-button",_5="e-round",kf="e-hover-arrows",td="e-carousel-hover",pD="e-template",L5="e-carousel-slide-animation",R5="e-carousel-fade-animation",P5="e-carousel-custom-animation",F5="e-carousel-animation-none",Lc="e-prev",Rc="e-next",V5="e-transition-start",j5="e-transition-end",zs=(()=>(function(r){r[r.Touch=1]="Touch",r[r.Mouse=2]="Mouse"}(zs||(zs={})),zs))(),Pme=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return I5(t,r),Ri([v()],t.prototype,"cssClass",void 0),Ri([v()],t.prototype,"interval",void 0),Ri([v()],t.prototype,"template",void 0),Ri([v()],t.prototype,"htmlAttributes",void 0),t}(ot),Fme=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.isSwipe=!1,n}return I5(t,r),t.prototype.getModuleName=function(){return lD.replace("e-","")},t.prototype.getPersistData=function(){return this.addOnPersist(["selectedIndex"])},t.prototype.preRender=function(){this.keyConfigs={home:"home",end:"end",space:"space",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow"},this.localeObj=new fi(this.getModuleName(),{nextSlide:"Next slide",of:"of",pauseSlideTransition:"Pause slide transition",playSlideTransition:"Play slide transition",previousSlide:"Previous slide",slide:"Slide",slideShow:"Slide show"},this.locale)},t.prototype.render=function(){this.initialize(),this.renderSlides(),this.renderNavigators(),this.renderPlayButton(),this.renderIndicators(),this.applyAnimation(),this.wireEvents()},t.prototype.onPropertyChanged=function(e,i){for(var n,s,a=0,o=Object.keys(e);a<o.length;a++){var l=o[a];switch(l){case"animationEffect":this.applyAnimation();break;case"cssClass":$i(this.element,[e.cssClass],[i.cssClass]);break;case"selectedIndex":this.setActiveSlide(this.selectedIndex,i.selectedIndex>this.selectedIndex?"Previous":"Next"),this.autoSlide();break;case"htmlAttributes":u(this.htmlAttributes)||this.setHtmlAttributes(this.htmlAttributes,this.element);break;case"enableTouchSwipe":!this.enableTouchSwipe&&this.touchModule&&this.touchModule.destroy(),this.element.querySelector("."+cD)&&this.renderTouchActions();break;case"loop":this.loop&&u(this.autoSlideInterval)&&this.applySlideInterval(),this.handleNavigatorsActions(this.selectedIndex),(this.partialVisible||this.swipeMode!==(~zs.Touch&~zs.Mouse))&&this.reRenderSlides();break;case"enableRtl":if((s=[].slice.call(this.element.querySelectorAll("."+Bv+",\n                ."+Hv+", ."+ed))).push(this.element),this.enableRtl?D(s,hD):M(s,hD),this.partialVisible||this.swipeMode!==(~zs.Touch&~zs.Mouse)){var h=this.loop?this.getNumOfItems():0;this.itemsContainer.style.transform=this.getTranslateX(this.itemsContainer.firstElementChild.clientWidth,this.selectedIndex+h)}break;case"buttonsVisibility":if(n=this.element.querySelector("."+Vv))switch(this.buttonsVisibility){case"Hidden":this.resetTemplates(["previousButtonTemplate","nextButtonTemplate"]),me(n);break;case"VisibleOnHover":D([].slice.call(n.childNodes),kf);break;case"Visible":M([].slice.call(n.childNodes),kf)}else this.renderNavigators(),this.renderPlayButton();break;case"width":ue(this.element,{width:$(this.width)});break;case"height":ue(this.element,{height:$(this.height)});break;case"autoPlay":this.showPlayButton&&u(this.playButtonTemplate)&&this.playButtonClickHandler(null,!0),this.autoSlide();break;case"interval":this.autoSlide();break;case"showIndicators":case"indicatorsType":(n=this.element.querySelector("."+Lk))&&(this.resetTemplates(["indicatorsTemplate"]),me(n)),this.renderIndicators();break;case"showPlayButton":n=this.element.querySelector("."+Rk),!this.showPlayButton&&n&&(me(n),this.resetTemplates(["playButtonTemplate"])),this.renderPlayButton();break;case"items":case"dataSource":var d="dataSource"===l?this.dataSource:this.items;d.length>0&&this.selectedIndex>=d.length&&(this.setActiveSlide(d.length-1,"Previous"),this.autoSlide()),this.reRenderSlides(),this.reRenderIndicators();break;case"partialVisible":this.partialVisible?D([this.element],Nk):M([this.element],Nk),this.reRenderSlides();break;case"swipeMode":b.remove(this.element,"mousedown touchstart",this.swipeStart),b.remove(this.element,"mousemove touchmove",this.swiping),b.remove(this.element,"mouseup touchend",this.swipStop),this.swipeModehandlers(),this.reRenderSlides()}}},t.prototype.reRenderSlides=function(){var e=this.element.querySelector("."+cD);e&&(this.resetTemplates(["itemTemplate"]),me(e)),this.renderSlides()},t.prototype.reRenderIndicators=function(){var e=this.element.querySelector("."+Lk);e&&(this.resetTemplates(["indicatorsTemplate"]),me(e)),this.renderIndicators()},t.prototype.initialize=function(){var e=[];e.push(lD),this.cssClass&&e.push(this.cssClass),this.enableRtl&&e.push(hD),this.partialVisible&&e.push(Nk),this.swipeMode!==(~zs.Touch&~zs.Mouse)&&e.push(A5),D([this.element],e),ue(this.element,{width:$(this.width),height:$(this.height)}),re(this.element,{tabindex:"0",role:"group","aria-roledescription":"carousel","aria-label":this.localeObj.getConstant("slideShow")}),u(this.htmlAttributes)||this.setHtmlAttributes(this.htmlAttributes,this.element)},t.prototype.renderSlides=function(){var e=this,i=this.element.querySelector("."+_k);i||(i=this.createElement("div",{className:_k}),this.element.appendChild(i)),this.itemsContainer=this.createElement("div",{className:cD,attrs:{"aria-live":this.autoPlay?"off":"polite"}}),i.appendChild(this.itemsContainer);var n=this.getNumOfItems();n>0&&this.loop&&(this.items.length>0?this.items.slice(-n).forEach(function(o,l){e.renderSlide(o,o.template,l,e.itemsContainer,!0)}):this.dataSource.length>0&&this.dataSource.slice(-n).forEach(function(o,l){e.renderSlide(o,e.itemTemplate,l,e.itemsContainer,!0)})),this.items.length>0?(this.slideItems=this.items,this.items.forEach(function(o,l){e.renderSlide(o,o.template,l,e.itemsContainer)})):this.dataSource.length>0&&(this.slideItems=this.dataSource,this.dataSource.forEach(function(o,l){e.renderSlide(o,e.itemTemplate,l,e.itemsContainer)})),n>0&&this.loop&&(this.items.length>0?this.items.slice(0,n).forEach(function(o,l){e.renderSlide(o,o.template,l,e.itemsContainer,!0)}):this.dataSource.length>0&&this.dataSource.slice(0,n).forEach(function(o,l){e.renderSlide(o,e.itemTemplate,l,e.itemsContainer,!0)})),this.renderTemplates(),this.itemsContainer.style.setProperty("--carousel-items-count",""+this.itemsContainer.children.length);var s=u(this.itemsContainer.firstElementChild)?0:this.itemsContainer.firstElementChild.clientWidth;this.itemsContainer.style.transitionProperty="none",this.itemsContainer.style.transform=this.getTranslateX(s,this.selectedIndex+(this.loop?n:0)),this.autoSlide(),this.renderTouchActions(),this.renderKeyboardActions()},t.prototype.getTranslateX=function(e,i){return void 0===i&&(i=1),this.enableRtl?"translateX("+e*i+"px)":"translateX("+-e*i+"px)"},t.prototype.renderSlide=function(e,i,n,s,a){void 0===a&&(a=!1);var o=this.createElement("div",{id:vt("carousel_item"),className:Af+" "+(e.cssClass?e.cssClass:"")+" "+(this.selectedIndex!==n||a?"":ta),attrs:{"aria-hidden":this.selectedIndex!==n||a?"true":"false","data-index":n.toString(),role:"group","aria-roledescription":"slide"}});a&&o.classList.add("e-cloned"),u(e.htmlAttributes)||this.setHtmlAttributes(e.htmlAttributes,o);var l=this.element.id+"_template";ce(this.templateParser(i)(e,this,"itemTemplate",l,!1),o),s.appendChild(o)},t.prototype.renderNavigators=function(){if("Hidden"!==this.buttonsVisibility){var e=this.createElement("div",{className:Vv});this.element.querySelector("."+_k).insertAdjacentElement("afterend",e),!u(this.slideItems)&&this.slideItems.length>1&&(this.renderNavigatorButton("Previous"),this.renderNavigatorButton("Next")),this.renderTemplates()}},t.prototype.renderNavigatorButton=function(e){var i=this.createElement("div",{className:("Previous"===e?uD:"e-next")+" "+("VisibleOnHover"===this.buttonsVisibility?kf:"")});if("Previous"===e&&this.previousButtonTemplate){D([i],pD);var n=this.element.id+"_previousButtonTemplate";ce(this.templateParser(this.previousButtonTemplate)({type:"Previous"},this,"previousButtonTemplate",n,!1),i)}else if("Next"===e&&this.nextButtonTemplate)D([i],pD),n=this.element.id+"_nextButtonTemplate",ce(this.templateParser(this.nextButtonTemplate)({type:"Next"},this,"nextButtonTemplate",n,!1),i);else{var a=this.createElement("button",{attrs:{"aria-label":this.localeObj.getConstant("Previous"===e?"previousSlide":"nextSlide"),type:"button"}});new vn({cssClass:"e-flat "+_5+" "+("Previous"===e?Bv:Hv),iconCss:dD+" "+("Previous"===e?"e-previous-icon":"e-next-icon"),enableRtl:this.enableRtl,disabled:!this.loop&&this.selectedIndex===("Previous"===e?0:this.slideItems.length-1)}).appendTo(a),i.appendChild(a)}this.element.querySelector("."+Vv).appendChild(i),b.add(i,"click",this.navigatorClickHandler,this)},t.prototype.renderPlayButton=function(){if(!(u(this.slideItems)||"Hidden"===this.buttonsVisibility||!this.showPlayButton||this.slideItems.length<=1)){var e=this.createElement("div",{className:Rk+" "+("VisibleOnHover"===this.buttonsVisibility?kf:"")});if(this.playButtonTemplate){D([e],pD);var i=this.element.id+"_playButtonTemplate";ce(this.templateParser(this.playButtonTemplate)({},this,"playButtonTemplate",i,!1),e)}else{var s=this.createElement("button",{attrs:{"aria-label":this.localeObj.getConstant(this.autoPlay?"pauseSlideTransition":"playSlideTransition"),type:"button"}}),a=this.selectedIndex===this.slideItems.length-1&&!this.loop,o=new vn({cssClass:"e-flat "+_5+" "+ed,iconCss:dD+" "+(this.autoPlay&&!a?Of:xf),isToggle:!0,enableRtl:this.enableRtl});a&&(this.setProperties({autoPlay:!1},!0),s.setAttribute("aria-label",this.localeObj.getConstant("playSlideTransition")),this.itemsContainer.setAttribute("aria-live","polite")),o.appendTo(s),e.appendChild(s)}var l=this.element.querySelector("."+Vv);l.insertBefore(e,l.lastElementChild),this.renderTemplates(),b.add(e,"click",this.playButtonClickHandler,this)}},t.prototype.renderIndicators=function(){var e=this;if(this.showIndicators){var i="e-default";this.indicatorsTemplate||(i="e-"+this.indicatorsType.toLowerCase());var a,n=this.createElement("div",{className:Lk+" "+i}),s=this.createElement("div",{className:O5});if(n.appendChild(s),this.slideItems)switch(this.indicatorsType){case"Fraction":this.indicatorsTemplate?this.renderIndicatorTemplate(s,this.selectedIndex+1):s.innerText=this.selectedIndex+1+" / "+this.slideItems.length;break;case"Progress":this.indicatorsTemplate?this.renderIndicatorTemplate(s,this.selectedIndex+1):((a=this.createElement("div",{className:jv})).style.setProperty("--carousel-items-current",""+(this.selectedIndex+1)),a.style.setProperty("--carousel-items-count",""+this.slideItems.length),s.appendChild(a));break;case"Default":case"Dynamic":this.slideItems.forEach(function(o,l){var h=e.createElement("div",{className:jv+" "+(e.selectedIndex===l?ta:e.selectedIndex-1===l?Lc:e.selectedIndex+1===l?Rc:""),attrs:{"data-index":l.toString(),"aria-current":e.selectedIndex===l?"true":"false"}});if(h.style.setProperty("--carousel-items-current",""+e.selectedIndex),e.indicatorsTemplate)e.renderIndicatorTemplate(h,l);else if("Default"===e.indicatorsType){var c=e.createElement("button",{className:k5,attrs:{type:"button","aria-label":e.localeObj.getConstant("slide")+" "+(l+1)+" "+e.localeObj.getConstant("of")+" "+e.slideItems.length}});h.appendChild(c),c.appendChild(e.createElement("div",{})),new vn({cssClass:"e-flat e-small"}).appendTo(c)}s.appendChild(h),"Default"===e.indicatorsType&&b.add(h,"click",e.indicatorClickHandler,e)})}this.element.appendChild(n)}},t.prototype.renderIndicatorTemplate=function(e,i){void 0===i&&(i=0),D([e],pD);var n=this.element.id+"_indicatorsTemplate";ce(this.templateParser(this.indicatorsTemplate)({index:i,selectedIndex:this.selectedIndex},this,"indicatorsTemplate",n,!1),e)},t.prototype.renderKeyboardActions=function(){this.keyModule=new Lt(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:this.keyConfigs})},t.prototype.renderTouchActions=function(){!this.enableTouchSwipe||(this.touchModule=new Zn(this.element,{swipe:this.swipeHandler.bind(this)}))},t.prototype.applyAnimation=function(){switch(M([this.element],[P5,R5,L5,F5]),this.animationEffect){case"Slide":D([this.element],L5);break;case"Fade":D([this.element],R5);break;case"None":D([this.element],F5);break;case"Custom":D([this.element],P5)}},t.prototype.autoSlide=function(){u(this.slideItems)||this.slideItems.length<=1||(this.resetSlideInterval(),this.applySlideInterval())},t.prototype.autoSlideChange=function(){var e=this.element.querySelector("."+ta);if(!u(e)){var i=parseInt(e.dataset.index,10);if(this.loop||i!==this.slideItems.length-1){var n=(i+1)%this.slideItems.length;this.element.classList.contains(td)||this.setActiveSlide(n,"Next"),this.autoSlide()}else this.resetSlideInterval()}},t.prototype.applySlideInterval=function(){var e=this;if(this.autoPlay&&!this.element.classList.contains(td)){var i=this.interval;this.items.length>0&&!u(this.items[this.selectedIndex].interval)&&(i=this.items[this.selectedIndex].interval),this.autoSlideInterval=setInterval(function(){return e.autoSlideChange()},i)}},t.prototype.resetSlideInterval=function(){clearInterval(this.autoSlideInterval),this.autoSlideInterval=null},t.prototype.getSlideIndex=function(e){var i=this.selectedIndex;return"Previous"===e?--i<0&&(i=this.slideItems.length-1):++i===this.slideItems.length&&(i=0),i},t.prototype.setActiveSlide=function(e,i,n){var s=this;if(void 0===n&&(n=!1),!(this.element.querySelectorAll("."+Af+"."+Lc+",."+Af+"."+Rc).length>0)){var a=[].slice.call(this.element.querySelectorAll("."+Af+":not(.e-cloned)")),o=this.element.querySelector("."+Af+"."+ta);if(u(o)&&this.showIndicators){var l=this.element.querySelector("."+jv+"."+ta),h=parseInt(l.dataset.index,10);return void D([a[parseInt(h.toString(),10)]],ta)}if(u(o))return void D([a[parseInt(e.toString(),10)]],ta);var c=parseInt(o.dataset.index,10),d=a[parseInt(e.toString(),10)];this.trigger("slideChanging",{currentIndex:c,nextIndex:e,currentSlide:o,nextSlide:d,slideDirection:i,isSwiped:n,cancel:!1},function(f){if(!f.cancel){s.setProperties({selectedIndex:e},!0),re(f.currentSlide,{"aria-hidden":"true"}),re(f.nextSlide,{"aria-hidden":"false"}),s.refreshIndicators(c,e),s.slideChangedEventArgs={currentIndex:f.nextIndex,previousIndex:f.currentIndex,currentSlide:f.nextSlide,previousSlide:f.currentSlide,slideDirection:i,isSwiped:n};var m=a[parseInt(e.toString(),10)].clientWidth,g=s.getNumOfItems();s.isSwipe||(s.itemsContainer.style.transitionDuration="0.6s"),s.isSwipe=!1,"Fade"===s.animationEffect?s.itemsContainer.classList.add("e-fade-in-out"):s.itemsContainer.style.transitionProperty="transform",s.itemsContainer.style.transform=s.loop?0===s.slideChangedEventArgs.currentIndex&&"Next"===s.slideChangedEventArgs.slideDirection?s.getTranslateX(m,a.length+g):s.slideChangedEventArgs.currentIndex===s.slideItems.length-1&&"Previous"===s.slideChangedEventArgs.slideDirection?s.partialVisible?s.getTranslateX(m):"translateX(0px)":s.getTranslateX(m,e+g):s.getTranslateX(m,e),"Slide"===s.animationEffect?"Previous"===i?(D([f.nextSlide],Lc),f.nextSlide.setAttribute("data-slide-height",f.nextSlide.offsetHeight.toString()),D([f.currentSlide,f.nextSlide],j5)):(D([f.nextSlide],Rc),f.nextSlide.setAttribute("data-slide-height",f.nextSlide.offsetHeight.toString()),D([f.currentSlide,f.nextSlide],V5)):"Fade"===s.animationEffect?(M([f.currentSlide],ta),D([f.nextSlide],ta)):"Custom"===s.animationEffect?"Previous"===i?(D([f.nextSlide],Rc),D([f.currentSlide],Lc)):(D([f.currentSlide],Lc),D([f.nextSlide],Rc)):s.onTransitionEnd(),s.handleNavigatorsActions(e)}})}},t.prototype.onTransitionEnd=function(){var e=this;M(this.element.querySelectorAll("."+cD),"e-fade-in-out");var i=this.getNumOfItems();this.slideChangedEventArgs&&(this.itemsContainer.style.transitionProperty="none",this.loop&&(0===this.slideChangedEventArgs.currentIndex&&"Next"===this.slideChangedEventArgs.slideDirection||this.slideChangedEventArgs.currentIndex===this.slideItems.length-1&&"Previous"===this.slideChangedEventArgs.slideDirection)&&(this.itemsContainer.style.transform=this.getTranslateX(this.slideChangedEventArgs.currentSlide.clientWidth,this.slideChangedEventArgs.currentIndex+i)),D([this.slideChangedEventArgs.currentSlide],ta),M([this.slideChangedEventArgs.previousSlide],ta),this.trigger("slideChanged",this.slideChangedEventArgs,function(){M(e.element.querySelectorAll("."+Af),[Lc,Rc,V5,j5]),e.slideChangedEventArgs=null}))},t.prototype.refreshIndicators=function(e,i){var n=this,s=this.element.querySelector("."+O5);if(!u(s)){var a=[].slice.call(s.childNodes);switch(this.indicatorsType){case"Default":case"Dynamic":re(a[parseInt(e.toString(),10)],{"aria-current":"false"}),re(a[parseInt(i.toString(),10)],{"aria-current":"true"}),M(a,[ta,Lc,Rc]),D([a[parseInt(i.toString(),10)]],ta),a[i-1]&&D([a[i-1]],Lc),a[i+1]&&D([a[i+1]],Rc),a.forEach(function(o){return o.style.setProperty("--carousel-items-current",""+n.selectedIndex)});break;case"Fraction":this.indicatorsTemplate?(s.children.length>0&&s.removeChild(s.firstElementChild),this.renderIndicatorTemplate(s,i+1)):s.innerText=this.selectedIndex+1+" / "+this.slideItems.length;break;case"Progress":this.indicatorsTemplate?(s.children.length>0&&s.removeChild(s.firstElementChild),this.renderIndicatorTemplate(s,i+1)):s.firstElementChild.style.setProperty("--carousel-items-current",""+(this.selectedIndex+1))}}},t.prototype.setHtmlAttributes=function(e,i){for(var s=0,a=Object.keys(e);s<a.length;s++){var o=a[s];"class"===o?D([i],e[""+o]):i.setAttribute(o,e[""+o])}},t.prototype.templateParser=function(e){if(e)try{return"function"!=typeof e&&document.querySelectorAll(e).length?tt(document.querySelector(e).innerHTML.trim()):tt(e)}catch(i){return tt(e)}},t.prototype.getNavigatorState=function(e,i){var n=e.querySelector("."+(i?Bv:Hv));return!!n&&Wn(n,vn).disabled},t.prototype.navigatorClickHandler=function(e){var i=e.currentTarget;if(!this.getNavigatorState(i,i.classList.contains(uD))){var s=i.classList.contains(uD)?"Previous":"Next";this.setActiveSlide(this.getSlideIndex(s),s),this.autoSlide()}},t.prototype.indicatorClickHandler=function(e){var i=I(e.target,"."+jv),n=parseInt(i.dataset.index,10);this.selectedIndex!==n&&(this.setActiveSlide(n,this.selectedIndex>n?"Previous":"Next"),this.autoSlide())},t.prototype.playButtonClickHandler=function(e,i){void 0===i&&(i=!1);var n=this.element.querySelector("."+ed);if(n){var s=Wn(n,vn);i||this.setProperties({autoPlay:!this.autoPlay},!0),n.setAttribute("aria-label",this.localeObj.getConstant(this.autoPlay?"pauseSlideTransition":"playSlideTransition")),s.iconCss=dD+" "+(this.autoPlay?Of:xf),s.dataBind(),this.itemsContainer.setAttribute("aria-live",this.autoPlay?"off":"polite"),this.autoPlay&&!this.loop&&this.selectedIndex===this.slideItems.length-1&&this.setActiveSlide(0,"Next"),this.autoSlide()}},t.prototype.keyHandler=function(e){var i,n,s=!1,a=e.target;switch(e.preventDefault(),e.action){case"space":this.showIndicators&&a.classList.contains(k5)?a.click():a.classList.contains(lD)||a.classList.contains(ed)?this.playButtonClickHandler(e):a.classList.contains(Hv)?this.next():a.classList.contains(Bv)&&this.prev();break;case"end":n=this.slideItems.length-1,i="Next",s=!0;break;case"home":n=0,i="Previous",s=!0;break;case"moveUp":case"moveLeft":case"moveDown":case"moveRight":this.showIndicators&&u(this.indicatorsTemplate)&&this.element.focus(),n=this.getSlideIndex(i="moveUp"===e.action||"moveLeft"===e.action?"Previous":"Next"),s=!this.isSuspendSlideTransition(n,i)}s&&(this.setActiveSlide(n,i),this.autoSlide(),s=!1)},t.prototype.swipeHandler=function(e){if(!(this.element.classList.contains(td)||u(this.slideItems)||this.slideItems.length<=1)){var i="Right"===e.swipeDirection?"Previous":"Next",n=this.getSlideIndex(i);this.isSuspendSlideTransition(n,i)||(this.setActiveSlide(n,i,!0),this.autoSlide())}},t.prototype.isSuspendSlideTransition=function(e,i){return!this.loop&&("Next"===i&&0===e||"Previous"===i&&e===this.slideItems.length-1)},t.prototype.handleNavigatorsActions=function(e){if("Hidden"!==this.buttonsVisibility){if(this.showPlayButton){var i=this.element.querySelector("."+ed),n=this.selectedIndex===this.slideItems.length-1&&!this.loop,s=u(this.playButtonTemplate)&&i&&n;u(this.playButtonTemplate)&&i&&!n&&(s=!i.classList.contains(ta)),s&&(this.setProperties({autoPlay:!n},!0),i.setAttribute("aria-label",this.localeObj.getConstant(this.autoPlay?"pauseSlideTransition":"playSlideTransition")),this.itemsContainer.setAttribute("aria-live",this.autoPlay?"off":"polite"),(a=Wn(i,vn)).iconCss=dD+" "+(this.autoPlay?Of:xf),a.dataBind())}var o=this.element.querySelector("."+Bv);o&&u(this.previousButtonTemplate)&&((a=Wn(o,vn)).disabled=!this.loop&&0===e,a.dataBind());var a,l=this.element.querySelector("."+Hv);l&&u(this.nextButtonTemplate)&&((a=Wn(l,vn)).disabled=!this.loop&&e===this.slideItems.length-1,a.dataBind())}},t.prototype.onHoverActions=function(e){var i=this.element.querySelector("."+Vv);switch(e.type){case"mouseenter":"VisibleOnHover"===this.buttonsVisibility&&i&&M([].slice.call(i.childNodes),kf),this.pauseOnHover&&D([this.element],td);break;case"mouseleave":"VisibleOnHover"===this.buttonsVisibility&&i&&D([].slice.call(i.childNodes),kf),M([this.element],td)}this.autoSlide()},t.prototype.onFocusActions=function(e){switch(e.type){case"focusin":D([this.element],td);break;case"focusout":M([this.element],td)}this.autoSlide()},t.prototype.destroyButtons=function(){for(var i=0,n=[].slice.call(this.element.querySelectorAll(".e-control.e-btn"));i<n.length;i++){var a=Wn(n[i],vn);a&&a.destroy()}},t.prototype.getNumOfItems=function(){return this.partialVisible?2:1},t.prototype.getTranslateValue=function(e){var i=getComputedStyle(e);return window.WebKitCSSMatrix?new WebKitCSSMatrix(i.webkitTransform).m41:0},t.prototype.swipeStart=function(e){this.timeStampStart||(this.timeStampStart=Date.now()),this.isSwipe=!1,this.itemsContainer.classList.add("e-swipe-start"),this.prevPageX=e.touches?e.touches[0].pageX:e.pageX,this.initialTranslate=this.getTranslateValue(this.itemsContainer)},t.prototype.swiping=function(e){if(this.itemsContainer.classList.contains("e-swipe-start")){e.preventDefault();var n=this.prevPageX-(e.touches?e.touches[0].pageX:e.pageX);!this.loop&&(this.enableRtl&&(0===this.selectedIndex&&n>0||this.selectedIndex===this.itemsContainer.childElementCount-1&&n<0)||!this.enableRtl&&(0===this.selectedIndex&&n<0||this.selectedIndex===this.itemsContainer.childElementCount-1&&n>0))||(this.itemsContainer.style.transform="translateX("+(this.initialTranslate+(this.enableRtl?n:-n))+"px)")}},t.prototype.swipStop=function(){this.isSwipe=!0;var e=Date.now()-this.timeStampStart,i=this.getTranslateValue(this.itemsContainer)-this.initialTranslate;i=i<0?-1*i:i,this.isSwipe&&(this.itemsContainer.style.transitionDuration=(O.isDevice?i:i*(O.isDevice?6:1.66))/e/10+"s");var a=this.itemsContainer.firstElementChild.clientWidth/2;this.itemsContainer.classList.remove("e-swipe-start");var o=this.getTranslateValue(this.itemsContainer);o-this.initialTranslate<-a?this.swipeNavigation(!this.enableRtl):o-this.initialTranslate>a?this.swipeNavigation(this.enableRtl):(this.itemsContainer.style.transform="translateX("+this.initialTranslate+"px)","Fade"===this.animationEffect&&this.itemsContainer.classList.add("e-fade-in-out"))},t.prototype.swipeNavigation=function(e){e?this.next():this.prev()},t.prototype.swipeModehandlers=function(){(this.swipeMode&zs.Touch)===zs.Touch&&(b.add(this.itemsContainer,"touchstart",this.swipeStart,this),b.add(this.itemsContainer,"touchmove",this.swiping,this),b.add(this.itemsContainer,"touchend",this.swipStop,this)),(this.swipeMode&zs.Mouse)===zs.Mouse&&(b.add(this.itemsContainer,"mousedown",this.swipeStart,this),b.add(this.itemsContainer,"mousemove",this.swiping,this),b.add(this.itemsContainer,"mouseup",this.swipStop,this)),0===this.swipeMode&&(this.swipeMode&zs.Mouse&zs.Touch)==(zs.Mouse&zs.Touch)&&(b.add(this.itemsContainer,"mousedown touchstart",this.swipeStart,this),b.add(this.itemsContainer,"mousemove touchmove",this.swiping,this),b.add(this.itemsContainer,"mouseup touchend",this.swipStop,this))},t.prototype.resizeHandler=function(){if(this.itemsContainer&&this.itemsContainer.firstElementChild){var e=this.getNumOfItems();this.itemsContainer.style.transform=this.getTranslateX(this.itemsContainer.firstElementChild.clientWidth,this.selectedIndex+e)}},t.prototype.wireEvents=function(){"Custom"!==this.animationEffect&&this.swipeModehandlers(),b.add(this.element,"focusin focusout",this.onFocusActions,this),b.add(this.element,"mouseenter mouseleave",this.onHoverActions,this),b.add(this.element.firstElementChild,"animationend",this.onTransitionEnd,this),b.add(this.element.firstElementChild,"transitionend",this.onTransitionEnd,this),b.add(window,"resize",this.resizeHandler,this)},t.prototype.unWireEvents=function(){var e=this;[].slice.call(this.element.querySelectorAll("."+jv)).forEach(function(a){b.remove(a,"click",e.indicatorClickHandler)}),[].slice.call(this.element.querySelectorAll("."+uD+",.e-next")).forEach(function(a){b.remove(a,"click",e.navigatorClickHandler)});var s=this.element.querySelector("."+Rk);s&&b.remove(s,"click",this.playButtonClickHandler),b.remove(this.element.firstElementChild,"animationend",this.onTransitionEnd),b.remove(this.element.firstElementChild,"transitionend",this.onTransitionEnd),b.clearEvents(this.element),b.clearEvents(this.itemsContainer),b.remove(window,"resize",this.resizeHandler)},t.prototype.prev=function(){(this.loop||0!==this.selectedIndex)&&(this.setActiveSlide(0===this.selectedIndex?this.slideItems.length-1:this.selectedIndex-1,"Previous"),this.autoSlide())},t.prototype.next=function(){(this.loop||this.selectedIndex!==this.slideItems.length-1)&&(this.setActiveSlide(this.selectedIndex===this.slideItems.length-1?0:this.selectedIndex+1,"Next"),this.autoSlide())},t.prototype.play=function(){var e=this.element.querySelector("."+xf);this.showPlayButton&&e&&($i(e,[Of],[xf]),this.element.querySelector("."+ed).setAttribute("aria-label",this.localeObj.getConstant("pauseSlideTransition"))),this.setProperties({autoPlay:!0},!0),this.itemsContainer.setAttribute("aria-live","off"),this.applySlideInterval()},t.prototype.pause=function(){var e=this.element.querySelector("."+Of);this.showPlayButton&&e&&(this.element.querySelector("."+ed).setAttribute("aria-label",this.localeObj.getConstant("playSlideTransition")),$i(e,[xf],[Of])),this.setProperties({autoPlay:!1},!0),this.itemsContainer.setAttribute("aria-live","off"),this.resetSlideInterval()},t.prototype.renderTemplates=function(){(this.isAngular||this.isReact)&&this.renderReactTemplates()},t.prototype.resetTemplates=function(e){(this.isAngular||this.isReact)&&this.clearTemplate(e)},t.prototype.destroy=function(){var e=this;this.resetTemplates(),this.touchModule&&(this.touchModule.destroy(),this.touchModule=null),this.keyModule.destroy(),this.keyModule=null,this.resetSlideInterval(),this.destroyButtons(),this.unWireEvents(),[].slice.call(this.element.children).forEach(function(i){e.element.removeChild(i)}),M([this.element],[lD,this.cssClass,hD,A5]),["tabindex","role","style"].forEach(function(i){e.element.removeAttribute(i)}),this.itemsContainer=null,r.prototype.destroy.call(this)},Ri([Fs([],Pme)],t.prototype,"items",void 0),Ri([v("Slide")],t.prototype,"animationEffect",void 0),Ri([v()],t.prototype,"previousButtonTemplate",void 0),Ri([v()],t.prototype,"nextButtonTemplate",void 0),Ri([v()],t.prototype,"indicatorsTemplate",void 0),Ri([v()],t.prototype,"playButtonTemplate",void 0),Ri([v()],t.prototype,"cssClass",void 0),Ri([v([])],t.prototype,"dataSource",void 0),Ri([v()],t.prototype,"itemTemplate",void 0),Ri([v(0)],t.prototype,"selectedIndex",void 0),Ri([v("100%")],t.prototype,"width",void 0),Ri([v("100%")],t.prototype,"height",void 0),Ri([v(5e3)],t.prototype,"interval",void 0),Ri([v(!0)],t.prototype,"autoPlay",void 0),Ri([v(!0)],t.prototype,"pauseOnHover",void 0),Ri([v(!0)],t.prototype,"loop",void 0),Ri([v(!1)],t.prototype,"showPlayButton",void 0),Ri([v(!0)],t.prototype,"enableTouchSwipe",void 0),Ri([v(!0)],t.prototype,"showIndicators",void 0),Ri([v("Default")],t.prototype,"indicatorsType",void 0),Ri([v("Visible")],t.prototype,"buttonsVisibility",void 0),Ri([v(!1)],t.prototype,"partialVisible",void 0),Ri([v(zs.Touch)],t.prototype,"swipeMode",void 0),Ri([v()],t.prototype,"htmlAttributes",void 0),Ri([x()],t.prototype,"slideChanging",void 0),Ri([x()],t.prototype,"slideChanged",void 0),Ri([et],t)}(Yt),Q5=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bn=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},io="e-other-month",jk="e-other-year",zv="e-calendar",G5="e-device",Bk="e-year",Hk="e-month",K5="e-decade",X5="e-icons",Pn="e-disabled",Pc="e-overlay",zk="e-week-number",Us="e-selected",ia="e-focused-date",fD="e-month-hide",Z5="e-today",mD="e-zoomin",tq="e-calendar-day-header-lg",Uk=864e5,iq=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.effect="",n.isPopupClicked=!1,n.isDateSelected=!0,n.isTodayClicked=!1,n.preventChange=!1,n.isAngular=!1,n.previousDates=!1,n}return Q5(t,r),t.prototype.render=function(){this.rangeValidation(this.min,this.max),this.calendarEleCopy=this.element.cloneNode(!0),"Islamic"===this.calendarMode&&(+this.min.setSeconds(0)==+new Date(1900,0,1,0,0,0)&&(this.min=new Date(1944,2,18)),+this.max==+new Date(2099,11,31)&&(this.max=new Date(2069,10,16))),this.globalize=new Li(this.locale),(u(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.todayDisabled=!1,this.todayDate=new Date((new Date).setHours(0,0,0,0)),"calendar"===this.getModuleName()?(this.element.classList.add(zv),this.enableRtl&&this.element.classList.add("e-rtl"),O.isDevice&&this.element.classList.add(G5),re(this.element,{"data-role":"calendar"}),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.setAttribute("tabindex",this.tabIndex)):(this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(zv),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),O.isDevice&&this.calendarElement.classList.add(G5),re(this.calendarElement,{"data-role":"calendar"})),!u(I(this.element,"fieldset"))&&I(this.element,"fieldset").disabled&&(this.enabled=!1),this.createHeader(),this.createContent(),this.wireEvents()},t.prototype.rangeValidation=function(e,i){u(e)&&this.setProperties({min:new Date(1900,0,1)},!0),u(i)&&this.setProperties({max:new Date(2099,11,31)},!0)},t.prototype.getDefaultKeyConfig=function(){return this.defaultKeyConfigs={controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",altUpArrow:"alt+uparrow",spacebar:"space",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"},this.defaultKeyConfigs},t.prototype.validateDate=function(e){this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.currentDate=this.currentDate?this.currentDate:new Date((new Date).setHours(0,0,0,0)),!u(e)&&this.min<=this.max&&e>=this.min&&e<=this.max&&(this.currentDate=new Date(this.checkValue(e)))},t.prototype.setOverlayIndex=function(e,i,n,s){if(s&&!u(i)&&!u(n)&&!u(e)){var a=parseInt(i.style.zIndex,10)?parseInt(i.style.zIndex,10):1e3;n.style.zIndex=(a-1).toString(),e.style.zIndex=a.toString()}},t.prototype.minMaxUpdate=function(e){+this.min<=+this.max?M([this.element],Pc):(this.setProperties({min:this.min},!0),D([this.element],Pc)),this.min=u(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=u(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,+this.min<=+this.max&&e&&+e<=+this.max&&+e>=+this.min?this.currentDate=new Date(this.checkValue(e)):+this.min<=+this.max&&!e&&+this.currentDate>+this.max?this.currentDate=new Date(this.checkValue(this.max)):+this.currentDate<+this.min&&(this.currentDate=new Date(this.checkValue(this.min)))},t.prototype.createHeader=function(){this.headerElement=this.createElement("div",{className:"e-header"});var s=this.createElement("div",{className:"e-icon-container"});this.previousIcon=this.createElement("button",{className:"e-prev",attrs:{type:"button"}}),xi(this.previousIcon,{duration:400,selector:".e-prev",isCenterRipple:!0}),re(this.previousIcon,{"aria-disabled":"false","aria-label":"previous month"}),this.nextIcon=this.createElement("button",{className:"e-next",attrs:{type:"button"}}),xi(this.nextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),"daterangepicker"===this.getModuleName()&&(re(this.previousIcon,{tabIndex:"-1"}),re(this.nextIcon,{tabIndex:"-1"})),re(this.nextIcon,{"aria-disabled":"false","aria-label":"next month"}),this.headerTitleElement=this.createElement("div",{className:"e-day e-title"}),re(this.headerTitleElement,{"aria-atomic":"true","aria-live":"assertive","aria-label":"title"}),this.headerElement.appendChild(this.headerTitleElement),this.previousIcon.appendChild(this.createElement("span",{className:"e-date-icon-prev "+X5})),this.nextIcon.appendChild(this.createElement("span",{className:"e-date-icon-next  "+X5})),s.appendChild(this.previousIcon),s.appendChild(this.nextIcon),this.headerElement.appendChild(s),"calendar"===this.getModuleName()?this.element.appendChild(this.headerElement):this.calendarElement.appendChild(this.headerElement),this.adjustLongHeaderSize()},t.prototype.createContent=function(){this.contentElement=this.createElement("div",{className:"e-content"}),this.table=this.createElement("table",{attrs:{tabIndex:"0",role:"grid","aria-activedescendant":"","aria-labelledby":this.element.id}}),"calendar"===this.getModuleName()?this.element.appendChild(this.contentElement):this.calendarElement.appendChild(this.contentElement),this.contentElement.appendChild(this.table),this.createContentHeader(),this.createContentBody(),this.showTodayButton&&this.createContentFooter()},t.prototype.getCultureValues=function(){var i,e=[],n="days.stand-alone."+this.dayHeaderFormat.toLowerCase();if(!u(i="en"===this.locale||"en-US"===this.locale?_(n,Ps()):this.getCultureObjects(ji,""+this.locale)))for(var s=0,a=Object.keys(i);s<a.length;s++)e.push(_(a[s],i));return e},t.prototype.toCapitalize=function(e){return!u(e)&&e.length?e[0].toUpperCase()+e.slice(1):e},t.prototype.createContentHeader=function(){"calendar"===this.getModuleName()?u(this.element.querySelectorAll(".e-content .e-week-header")[0])||Q(this.element.querySelectorAll(".e-content .e-week-header")[0]):u(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0])||Q(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]);var i="";(this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:0},!0),this.tableHeadElement=this.createElement("thead",{className:"e-week-header"}),this.weekNumber&&(i+='<th class="e-week-number"></th>',"calendar"===this.getModuleName()?D([this.element],""+zk):D([this.calendarElement],""+zk));var n=this.getCultureValues().length>0&&this.getCultureValues()?this.shiftArray(this.getCultureValues().length>0&&this.getCultureValues(),this.firstDayOfWeek):null;if(!u(n))for(var s=0;s<=6;s++)i+='<th  class="">'+this.toCapitalize(n[s])+"</th>";this.tableHeadElement.innerHTML=i="<tr>"+i+"</tr>",this.table.appendChild(this.tableHeadElement)},t.prototype.createContentBody=function(){switch("calendar"===this.getModuleName()?u(this.element.querySelectorAll(".e-content tbody")[0])||Q(this.element.querySelectorAll(".e-content tbody")[0]):u(this.calendarElement.querySelectorAll(".e-content tbody")[0])||Q(this.calendarElement.querySelectorAll(".e-content tbody")[0]),this.start){case"Year":this.renderYears();break;case"Decade":this.renderDecades();break;default:this.renderMonths()}},t.prototype.updateFooter=function(){this.todayElement.textContent=this.l10.getConstant("today"),this.todayElement.setAttribute("aria-label",this.l10.getConstant("today"))},t.prototype.createContentFooter=function(){if(this.showTodayButton){var e=new Date(+this.min),i=new Date(+this.max);this.globalize=new Li(this.locale),this.l10=new fi(this.getModuleName(),{today:"Today"},this.locale),this.todayElement=this.createElement("button",{attrs:{role:"button"}}),xi(this.todayElement),this.updateFooter(),D([this.todayElement],["e-btn",Z5,"e-flat","e-primary","e-css"]),(!(+new Date(e.setHours(0,0,0,0))<=+this.todayDate&&+this.todayDate<=+new Date(i.setHours(0,0,0,0)))||this.todayDisabled)&&D([this.todayElement],Pn),this.footer=this.createElement("div",{className:"e-footer-container"}),this.footer.appendChild(this.todayElement),"calendar"===this.getModuleName()&&this.element.appendChild(this.footer),"datepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),"datetimepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),this.todayElement.classList.contains(Pn)||b.add(this.todayElement,"click",this.todayButtonClick,this)}},t.prototype.wireEvents=function(e,i,n,s){b.add(this.headerTitleElement,"click",this.navigateTitle,this),this.defaultKeyConfigs=z(this.defaultKeyConfigs,this.keyConfigs),this.keyboardModule="calendar"===this.getModuleName()?new Lt(this.element,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}):new Lt(this.calendarElement,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})},t.prototype.dateWireEvents=function(e,i,n,s){this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.defaultKeyConfigs=z(this.defaultKeyConfigs,n),this.serverModuleName=s},t.prototype.todayButtonClick=function(e,i,n){this.showTodayButton&&(this.effect=this.currentView()===this.depth?"":"e-zoomin",this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.navigateTo(this.depth,new Date(this.checkValue(i)),n):this.navigateTo("Month",new Date(this.checkValue(i)),n))},t.prototype.resetCalendar=function(){this.calendarElement&&Q(this.calendarElement),this.tableBodyElement&&Q(this.tableBodyElement),this.table&&Q(this.table),this.tableHeadElement&&Q(this.tableHeadElement),this.nextIcon&&Q(this.nextIcon),this.previousIcon&&Q(this.previousIcon),this.footer&&Q(this.footer),this.todayElement=null,this.renderDayCellArgs=null,this.calendarElement=this.tableBodyElement=this.footer=this.tableHeadElement=this.nextIcon=this.previousIcon=this.table=null},t.prototype.keyActionHandle=function(e,i,n){var a,s=this.tableBodyElement.querySelector("tr td.e-focused-date");a=n?u(s)||+i!==parseInt(s.getAttribute("id").split("_")[0],10)?this.tableBodyElement.querySelector("tr td.e-selected"):s:this.tableBodyElement.querySelector("tr td.e-selected");var o=this.getViewNumber(this.currentView()),l=this.getViewNumber(this.depth),h=o===l&&this.getViewNumber(this.start)>=l;switch(this.effect="",e.action){case"moveLeft":this.keyboardNavigate(-1,o,e,this.max,this.min),e.preventDefault();break;case"moveRight":this.keyboardNavigate(1,o,e,this.max,this.min),e.preventDefault();break;case"moveUp":this.keyboardNavigate(0===o?-7:-4,o,e,this.max,this.min),e.preventDefault();break;case"moveDown":this.keyboardNavigate(0===o?7:4,o,e,this.max,this.min),e.preventDefault();break;case"select":if(e.target===this.todayElement)this.todayButtonClick(e,i);else{var c=u(s)?a:s;if(!u(c)&&!c.classList.contains(Pn))if(h){var d=new Date(parseInt(""+c.id,0));this.selectDate(e,d,c)}else this.contentClick(null,--o,c,i)}break;case"controlUp":this.title(),e.preventDefault();break;case"controlDown":(!u(s)&&!h||!u(a)&&!h)&&this.contentClick(null,--o,s||a,i),e.preventDefault();break;case"home":this.currentDate=this.firstDay(this.currentDate),Q(this.tableBodyElement),0===o?this.renderMonths(e):1===o?this.renderYears(e):this.renderDecades(e),e.preventDefault();break;case"end":this.currentDate=this.lastDay(this.currentDate,o),Q(this.tableBodyElement),0===o?this.renderMonths(e):1===o?this.renderYears(e):this.renderDecades(e),e.preventDefault();break;case"pageUp":this.addMonths(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"pageDown":this.addMonths(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageUp":this.addYears(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageDown":this.addYears(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"controlHome":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),0,1)),e.preventDefault();break;case"controlEnd":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),11,31)),e.preventDefault()}"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.keyboardNavigate=function(e,i,n,s,a){var o=new Date(this.checkValue(this.currentDate));switch(i){case 2:this.addYears(this.currentDate,e),this.isMonthYearRange(this.currentDate)?(Q(this.tableBodyElement),this.renderDecades(n)):this.currentDate=o;break;case 1:this.addMonths(this.currentDate,e),this.isMonthYearRange(this.currentDate)?(Q(this.tableBodyElement),this.renderYears(n)):this.currentDate=o;break;case 0:this.addDay(this.currentDate,e,n,s,a),this.isMinMaxRange(this.currentDate)?(Q(this.tableBodyElement),this.renderMonths(n)):this.currentDate=o}},t.prototype.preRender=function(e){var i=this;this.navigatePreviousHandler=this.navigatePrevious.bind(this),this.navigateNextHandler=this.navigateNext.bind(this),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.navigateHandler=function(n){i.triggerNavigate(n)}},t.prototype.minMaxDate=function(e){var i=new Date(new Date(+e).setHours(0,0,0,0)),n=new Date(new Date(+this.min).setHours(0,0,0,0)),s=new Date(new Date(+this.max).setHours(0,0,0,0));return(+i==+n||+i==+s)&&(+e<+this.min&&(e=new Date(+this.min)),+e>+this.max&&(e=new Date(+this.max))),e},t.prototype.renderMonths=function(e,i,n){var a,s=this.weekNumber?8:7;a="Gregorian"===this.calendarMode?this.renderDays(this.currentDate,i,null,null,n,e):this.islamicModule.islamicRenderDays(this.currentDate,i),this.createContentHeader(),"Gregorian"===this.calendarMode?this.renderTemplate(a,s,Hk,e,i):this.islamicModule.islamicRenderTemplate(a,s,Hk,e,i)},t.prototype.renderDays=function(e,i,n,s,a,o){var p,l=[],c=a?new Date(+e):this.getDate(new Date,this.timezone),d=new Date(this.checkValue(e)),f=d.getMonth();this.titleUpdate(e,"days");var m=d;for(d=new Date(m.getFullYear(),m.getMonth(),0,m.getHours(),m.getMinutes(),m.getSeconds(),m.getMilliseconds());d.getDay()!==this.firstDayOfWeek;)this.setStartDate(d,-1*Uk);for(var g=0;g<42;++g){var y=this.createElement("td",{className:"e-cell"}),C=this.createElement("span");if(g%7==0&&this.weekNumber){var E="FirstDay"===this.weekRule?6:"FirstFourDayWeek"===this.weekRule?3:0,S=new Date(d.getFullYear(),d.getMonth(),d.getDate()+E);C.textContent=""+this.getWeek(S),y.appendChild(C),D([y],""+zk),l.push(y)}p=new Date(+d),d=this.minMaxDate(d);var w={type:"dateTime",skeleton:"full"},A=this.globalize.parseDate(this.globalize.formatDate(d,w),w),T=this.dayCell(d),k=this.globalize.formatDate(d,{type:"date",skeleton:"full"}),j=this.createElement("span");j.textContent=this.globalize.formatDate(d,{format:"d",type:"date",skeleton:"yMd"});var J=this.min>d||this.max<d;J?(D([T],Pn),D([T],Pc)):j.setAttribute("title",""+k),f!==d.getMonth()&&D([T],io),(0===d.getDay()||6===d.getDay())&&D([T],"e-weekend"),T.appendChild(j),this.renderDayCellArgs={date:d,isDisabled:!1,element:T,isOutOfRange:J};var ne=this.renderDayCellArgs;if(this.renderDayCellEvent(ne),ne.isDisabled){var R=new Date(this.checkValue(i)),G=new Date(this.checkValue(ne.date));if(n){if(!u(s)&&s.length>0)for(var H=0;H<s.length;H++)+new Date(this.globalize.formatDate(ne.date,{type:"date",skeleton:"yMd"}))==+new Date(this.globalize.formatDate(s[H],{type:"date",skeleton:"yMd"}))&&(s.splice(H,1),H=-1)}else R&&+R==+G&&this.setProperties({value:null},!0)}this.renderDayCellArgs.isDisabled&&!T.classList.contains(Us)&&(D([T],Pn),D([T],Pc),+this.renderDayCellArgs.date==+this.todayDate&&(this.todayDisabled=!0));var F=T.classList.contains(io),L=T.classList.contains(Pn);L||b.add(T,"click",this.clickHandler,this);var U=void 0;if(!u(o)&&"click"===o.type&&(U=o.currentTarget),!n||u(s)||L)!L&&this.getDateVal(d,i)&&D([T],Us);else{for(var ee=0;ee<s.length;ee++){var Se={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};if((this.globalize.formatDate(d,Se)===this.globalize.formatDate(s[ee],Se)&&this.getDateVal(d,s[ee])||this.getDateVal(d,i))&&D([T],Us),!u(U)&&U.innerText===T.innerText&&this.previousDates&&T.classList.contains(Us)&&U.classList.contains(Us)){M([T],Us),this.previousDates=!1;for(var ge=this.copyValues(s),we=0;we<ge.length;we++){var Ge={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};this.globalize.formatDate(A,Ge)===this.globalize.formatDate(ge[we],Ge)&&(H=ge.indexOf(ge[we]),ge.splice(H,1),s.splice(H,1))}this.setProperties({values:ge},!0)}else this.updateFocus(F,L,d,T,e)}s.length<=0&&this.updateFocus(F,L,d,T,e)}this.updateFocus(F,L,d,T,e),!u(A)&&A.getFullYear()===c.getFullYear()&&A.getMonth()===c.getMonth()&&A.getDate()===c.getDate()&&D([T],Z5),l.push(this.renderDayCellArgs.element),d=new Date(+p),this.addDay(d,1,null,this.max,this.min)}return l},t.prototype.updateFocus=function(e,i,n,s,a){a.getDate()!==n.getDate()||e||i?(a>=this.max&&parseInt(s.id,0)===+this.max&&!e&&!i&&D([s],ia),a<=this.min&&parseInt(s.id,0)===+this.min&&!e&&!i&&D([s],ia)):D([s],ia)},t.prototype.renderYears=function(e,i){this.removeTableHeadElement();var s=[],a=u(i),o=new Date(this.checkValue(this.currentDate)),l=o.getMonth(),h=o.getFullYear(),c=o,d=c.getFullYear(),p=new Date(this.checkValue(this.min)).getFullYear(),f=new Date(this.checkValue(this.min)).getMonth(),m=new Date(this.checkValue(this.max)).getFullYear(),g=new Date(this.checkValue(this.max)).getMonth();c.setMonth(0),this.titleUpdate(this.currentDate,"months"),c.setDate(1);for(var y=0;y<12;++y){var C=this.dayCell(c),E=this.createElement("span"),S=i&&i.getMonth()===c.getMonth(),w=i&&i.getFullYear()===h&&S,A=this.globalize.formatDate(c,{type:"date",format:"MMM y"});E.textContent=this.toCapitalize(this.globalize.formatDate(c,{format:null,type:"dateTime",skeleton:"MMM"})),this.min&&(d<p||y<f&&d===p)||this.max&&(d>m||y>g&&d>=m)?D([C],Pn):!a&&w?D([C],Us):c.getMonth()===l&&this.currentDate.getMonth()===l&&D([C],ia),c.setDate(1),c.setMonth(c.getMonth()+1),C.classList.contains(Pn)||(b.add(C,"click",this.clickHandler,this),E.setAttribute("title",""+A)),C.appendChild(E),s.push(C)}this.renderTemplate(s,4,Bk,e,i)},t.prototype.renderDecades=function(e,i){this.removeTableHeadElement();var a=[],o=new Date(this.checkValue(this.currentDate));o.setMonth(0),o.setDate(1);var l=o.getFullYear(),h=new Date(o.setFullYear(l-l%10)),c=new Date(o.setFullYear(l-l%10+9)),d=h.getFullYear(),p=c.getFullYear(),f=this.globalize.formatDate(h,{format:null,type:"dateTime",skeleton:"y"}),m=this.globalize.formatDate(c,{format:null,type:"dateTime",skeleton:"y"});this.headerTitleElement.textContent=f+" - "+m;for(var y=new Date(l-l%10-1,0,1).getFullYear(),C=0;C<12;++C){var E=y+C;o.setFullYear(E);var S=this.dayCell(o),w=this.createElement("span");w.textContent=this.globalize.formatDate(o,{format:null,type:"dateTime",skeleton:"y"}),E<d||E>p?(D([S],jk),!u(i)&&o.getFullYear()===i.getFullYear()&&D([S],Us),(E<new Date(this.checkValue(this.min)).getFullYear()||E>new Date(this.checkValue(this.max)).getFullYear())&&D([S],Pn)):E<new Date(this.checkValue(this.min)).getFullYear()||E>new Date(this.checkValue(this.max)).getFullYear()?D([S],Pn):u(i)||o.getFullYear()!==i.getFullYear()?o.getFullYear()===this.currentDate.getFullYear()&&!S.classList.contains(Pn)&&D([S],ia):D([S],Us),S.classList.contains(Pn)||(b.add(S,"click",this.clickHandler,this),w.setAttribute("title",""+w.textContent)),S.appendChild(w),a.push(S)}this.renderTemplate(a,4,"e-decade",e,i)},t.prototype.dayCell=function(e){var a,n={skeleton:"full",type:"dateTime",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},s=this.globalize.parseDate(this.globalize.formatDate(e,n),n);u(s)||(a=s.valueOf());var o={className:"e-cell",attrs:{id:""+vt(""+a),"aria-selected":"false"}};return this.createElement("td",o)},t.prototype.firstDay=function(e){var i="Decade"!==this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+io):this.tableBodyElement.querySelectorAll("td:not(."+jk);if(i.length)for(var n=0;n<i.length;n++)if(!i[n].classList.contains(Pn)){e=new Date(parseInt(i[n].id,0));break}return e},t.prototype.lastDay=function(e,i){var n=new Date(e.getFullYear(),e.getMonth()+1,0);if(2!==i){var s=Math.abs(n.getTimezoneOffset()-this.firstDay(e).getTimezoneOffset());return s&&n.setHours(this.firstDay(e).getHours()+s/60),this.findLastDay(n)}return this.findLastDay(this.firstDay(n))},t.prototype.checkDateValue=function(e){return!u(e)&&e instanceof Date&&!isNaN(+e)?e:null},t.prototype.findLastDay=function(e){var i="Decade"===this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+jk):this.tableBodyElement.querySelectorAll("td:not(."+io);if(i.length)for(var n=i.length-1;n>=0;n--)if(!i[n].classList.contains(Pn)){e=new Date(parseInt(i[n].id,0));break}return e},t.prototype.removeTableHeadElement=function(){"calendar"===this.getModuleName()?u(this.element.querySelectorAll(".e-content table thead")[0])||Q(this.tableHeadElement):u(this.calendarElement.querySelectorAll(".e-content table thead")[0])||Q(this.tableHeadElement)},t.prototype.renderTemplate=function(e,i,n,s,a){var l,o=this.getViewNumber(this.currentView());this.tableBodyElement=this.createElement("tbody"),this.table.appendChild(this.tableBodyElement),M([this.contentElement,this.headerElement],[Hk,K5,Bk]),D([this.contentElement,this.headerElement],[n]);for(var p=i,f=0,m=0;m<e.length/i;++m){for(l=this.createElement("tr"),f=0+f;f<p;f++)!e[f].classList.contains("e-week-number")&&!u(e[f].children[0])&&(D([e[f].children[0]],["e-day"]),xi(e[f].children[0],{duration:600,isCenterRipple:!0})),l.appendChild(e[f]),this.weekNumber&&7===f&&e[7].classList.contains(io)&&D([l],fD),!this.weekNumber&&6===f&&e[6].classList.contains(io)&&D([l],fD),this.weekNumber?41===f&&e[41].classList.contains(io)&&D([l],fD):35===f&&e[35].classList.contains(io)&&D([l],fD);p+=i,f+=0,this.tableBodyElement.appendChild(l)}this.table.querySelector("tbody").className=this.effect,"Gregorian"===this.calendarMode?this.iconHandler():this.islamicModule.islamicIconHandler(),(o!==this.getViewNumber(this.currentView())||0===o&&o!==this.getViewNumber(this.currentView()))&&this.navigateHandler(s),this.setAriaActiveDescendant()},t.prototype.clickHandler=function(e,i){this.clickEventEmitter(e);var n=e.currentTarget,s=this.getViewNumber(this.currentView());n.classList.contains(io)?this.contentClick(e,0,null,i):s===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)||2===s?this.contentClick(e,1,null,i):n.classList.contains(io)||0!==s?this.contentClick(e,0,n,i):this.selectDate(e,this.getIdValue(e,null),null),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.clickEventEmitter=function(e){e.preventDefault()},t.prototype.contentClick=function(e,i,n,s){var a=this.getViewNumber(this.currentView()),o=this.getIdValue(e,n);switch(i){case 0:a===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?(Q(this.tableBodyElement),this.currentDate=o,this.effect=mD,this.renderMonths(e)):("Gregorian"===this.calendarMode?(this.currentDate.setMonth(o.getMonth()),o.getMonth()>0&&this.currentDate.getMonth()!==o.getMonth()&&this.currentDate.setDate(0),this.currentDate.setFullYear(o.getFullYear())):this.currentDate=o,this.effect=mD,Q(this.tableBodyElement),this.renderMonths(e));break;case 1:if(a===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth))this.selectDate(e,o,null);else{if("Gregorian"===this.calendarMode)this.currentDate.setFullYear(o.getFullYear());else{this.islamicPreviousHeader=this.headerElement.textContent;var l=this.islamicModule.getIslamicDate(o);this.currentDate=this.islamicModule.toGregorian(l.year,l.month,1)}this.effect=mD,Q(this.tableBodyElement),this.renderYears(e)}}},t.prototype.switchView=function(e,i,n,s){switch(e){case 0:Q(this.tableBodyElement),this.renderMonths(i,null,s);break;case 1:Q(this.tableBodyElement),this.renderYears(i);break;case 2:Q(this.tableBodyElement),this.renderDecades(i)}},t.prototype.getModuleName=function(){return"calendar"},t.prototype.requiredModules=function(){var e=[];return this&&e.push({args:[this],member:"islamic"}),e},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.onPropertyChanged=function(e,i,n,s){this.effect="";for(var a=0,o=Object.keys(e);a<o.length;a++){var l=o[a];switch(l){case"enableRtl":e.enableRtl?"calendar"===this.getModuleName()?this.element.classList.add("e-rtl"):this.calendarElement.classList.add("e-rtl"):"calendar"===this.getModuleName()?this.element.classList.remove("e-rtl"):this.calendarElement.classList.remove("e-rtl");break;case"dayHeaderFormat":this.getCultureValues(),("datepicker"!==this.getModuleName()||this.calendarElement)&&this.createContentHeader(),this.adjustLongHeaderSize();break;case"min":case"max":this.rangeValidation(this.min,this.max),this.setProperties("min"===l?{min:this.checkDateValue(new Date(this.checkValue(e.min)))}:{max:this.checkDateValue(new Date(this.checkValue(e.max)))},!0),this.setProperties({start:this.currentView()},!0),this.tableBodyElement&&Q(this.tableBodyElement),this.minMaxUpdate(),n&&this.validateValues(n,s),("datepicker"!==this.getModuleName()||this.calendarElement)&&this.createContentBody(),(this.todayDate<this.min||this.max<this.todayDate)&&this.footer&&this.todayElement?(Q(this.todayElement),Q(this.footer),this.todayElement=this.footer=null,this.createContentFooter()):this.footer&&this.todayElement&&this.todayElement.classList.contains("e-disabled")&&(M([this.todayElement],Pn),Q(this.todayElement),Q(this.footer),this.todayElement=this.footer=null,this.createContentFooter());break;case"start":case"depth":case"weekNumber":case"firstDayOfWeek":case"weekRule":this.checkView(),("datepicker"!==this.getModuleName()||this.calendarElement)&&(this.createContentHeader(),this.createContentBody());break;case"locale":this.globalize=new Li(this.locale),("datepicker"!==this.getModuleName()||this.calendarElement)&&(this.createContentHeader(),this.createContentBody()),"calendar"===this.getModuleName()&&(this.l10=new fi(this.getModuleName(),{today:"Today"},this.locale)),this.l10.setLocale(this.locale),this.showTodayButton&&this.updateFooter();break;case"showTodayButton":e.showTodayButton?this.createContentFooter():!u(this.todayElement)&&!u(this.footer)&&(Q(this.todayElement),Q(this.footer),this.todayElement=this.footer=void 0),this.setProperties({showTodayButton:e.showTodayButton},!0)}}},t.prototype.validateValues=function(e,i){if(e&&!u(i)&&i.length>0){for(var n=this.copyValues(i),s=0;s<n.length;s++){var l,o="Gregorian"===this.calendarMode?"gregorian":"islamic";l=this.globalize.formatDate(n[s],"Gregorian"===this.calendarMode?{type:"date",skeleton:"yMd"}:{type:"dateTime",skeleton:"full",calendar:"islamic"});var d=this.globalize.formatDate(this.min,{type:"date",skeleton:"yMd",calendar:o}),m=this.globalize.formatDate(this.max,{type:"date",skeleton:"yMd",calendar:o});(+new Date(l)<+new Date(d)||+new Date(l)>+new Date(m))&&(n.splice(s,1),s=-1)}this.setProperties({values:n},!0)}},t.prototype.setValueUpdate=function(){u(this.tableBodyElement)||(Q(this.tableBodyElement),this.setProperties({start:this.currentView()},!0),this.createContentBody())},t.prototype.copyValues=function(e){var i=[];if(!u(e)&&e.length>0)for(var n=0;n<e.length;n++)i.push(new Date(+e[n]));return i},t.prototype.titleUpdate=function(e,i){var s,a,n=new Li(this.locale),o="Gregorian"===this.calendarMode?"gregorian":"islamic";switch("Gregorian"===this.calendarMode?(s=n.formatDate(e,{type:"dateTime",skeleton:"yMMMM",calendar:o}),a=n.formatDate(e,{format:null,type:"dateTime",skeleton:"y",calendar:o})):(s=n.formatDate(e,{type:"dateTime",format:"MMMM y",calendar:o}),a=n.formatDate(e,{type:"dateTime",format:"y",calendar:o})),i){case"days":this.headerTitleElement.textContent=this.toCapitalize(s);break;case"months":this.headerTitleElement.textContent=a}},t.prototype.setActiveDescendant=function(){var e,a,i=this.tableBodyElement.querySelector("tr td.e-focused-date"),n=this.tableBodyElement.querySelector("tr td.e-selected"),s="Gregorian"===this.calendarMode?"gregorian":"islamic",o=this.currentView();return a=this.globalize.formatDate(this.currentDate,"Month"===o?{type:"date",skeleton:"full",calendar:s}:"Year"===o?"islamic"!==s?{type:"date",skeleton:"yMMMM",calendar:s}:{type:"date",skeleton:"GyMMM",calendar:s}:{format:null,type:"date",skeleton:"y",calendar:s}),(n||i)&&(u(n)||n.setAttribute("aria-selected","true"),(i||n).setAttribute("aria-label",a),e=(i||n).getAttribute("id")),e},t.prototype.iconHandler=function(){switch(new Date(this.checkValue(this.currentDate)).setDate(1),this.currentView()){case"Month":this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Year":this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Decade":this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.max)>-1)}},t.prototype.destroy=function(){("calendar"===this.getModuleName()&&this.element||this.calendarElement&&this.element)&&M([this.element],[zv]),"calendar"===this.getModuleName()&&this.element&&(u(this.headerTitleElement)||b.remove(this.headerTitleElement,"click",this.navigateTitle),this.todayElement&&b.remove(this.todayElement,"click",this.todayButtonClick),this.previousIconHandler(!0),this.nextIconHandler(!0),this.keyboardModule.destroy(),this.element.removeAttribute("data-role"),u(this.calendarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.element&&(this.element.innerHTML=""),this.todayElement=null,this.tableBodyElement=null,this.todayButtonEvent=null,this.renderDayCellArgs=null,this.headerElement=null,this.nextIcon=null,this.table=null,this.tableHeadElement=null,this.previousIcon=null,this.headerTitleElement=null,this.footer=null,this.contentElement=null,r.prototype.destroy.call(this)},t.prototype.title=function(e){var i=this.getViewNumber(this.currentView());this.effect=mD,this.switchView(++i,e)},t.prototype.getViewNumber=function(e){return"Month"===e?0:"Year"===e?1:2},t.prototype.navigateTitle=function(e){e.preventDefault(),this.title(e),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.previous=function(){this.effect="";var e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,-1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,-1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,-10),this.switchView(e)}},t.prototype.navigatePrevious=function(e){!O.isDevice&&e.preventDefault(),"Gregorian"===this.calendarMode?this.previous():this.islamicModule.islamicPrevious(),this.triggerNavigate(e),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.next=function(){this.effect="";var e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,10),this.switchView(e)}},t.prototype.navigateNext=function(e){!O.isDevice&&e.preventDefault(),"Gregorian"===this.calendarMode?this.next():this.islamicModule.islamicNext(),this.triggerNavigate(e),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.navigateTo=function(e,i,n){+i>=+this.min&&+i<=+this.max&&(this.currentDate=i),+i<=+this.min&&(this.currentDate=new Date(this.checkValue(this.min))),+i>=+this.max&&(this.currentDate=new Date(this.checkValue(this.max))),this.getViewNumber(this.depth)>=this.getViewNumber(e)&&(this.getViewNumber(this.depth)<=this.getViewNumber(this.start)||this.getViewNumber(this.depth)===this.getViewNumber(e))&&(e=this.depth),this.switchView(this.getViewNumber(e),null,null,n)},t.prototype.currentView=function(){return!u(this.contentElement)&&this.contentElement.classList.contains(Bk)?"Year":!u(this.contentElement)&&this.contentElement.classList.contains(K5)?"Decade":"Month"},t.prototype.getDateVal=function(e,i){return!u(i)&&e.getDate()===i.getDate()&&e.getMonth()===i.getMonth()&&e.getFullYear()===i.getFullYear()},t.prototype.getCultureObjects=function(e,i){var n=".dates.calendars.gregorian.days.format."+this.dayHeaderFormat.toLowerCase(),s=".dates.calendars.islamic.days.format."+this.dayHeaderFormat.toLowerCase();return _("Gregorian"===this.calendarMode?"main."+this.locale+n:"main."+this.locale+s,e)},t.prototype.getWeek=function(e){var i=new Date(this.checkValue(e)).valueOf(),n=new Date(e.getFullYear(),0,1).valueOf();return Math.ceil((i-n+Uk)/Uk/7)},t.prototype.setStartDate=function(e,i){var n=e.getTimezoneOffset(),s=new Date(e.getTime()+i),a=s.getTimezoneOffset()-n;e.setTime(s.getTime()+6e4*a)},t.prototype.addMonths=function(e,i){if("Gregorian"===this.calendarMode){var n=e.getDate();e.setDate(1),e.setMonth(e.getMonth()+i),e.setDate(Math.min(n,this.getMaxDays(e)))}else{var s=this.islamicModule.getIslamicDate(e);this.currentDate=this.islamicModule.toGregorian(s.year,s.month+i,1)}},t.prototype.addYears=function(e,i){if("Gregorian"===this.calendarMode){var n=e.getDate();e.setDate(1),e.setFullYear(e.getFullYear()+i),e.setDate(Math.min(n,this.getMaxDays(e)))}else{var s=this.islamicModule.getIslamicDate(e);this.currentDate=this.islamicModule.toGregorian(s.year+i,s.month,1)}},t.prototype.getIdValue=function(e,i){var a={type:"dateTime",skeleton:"full",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},o=this.globalize.formatDate(new Date(parseInt(""+(e?e.currentTarget:i).getAttribute("id"),0)),a),l=this.globalize.parseDate(o,a),h=l.valueOf()-l.valueOf()%1e3;return new Date(h)},t.prototype.adjustLongHeaderSize=function(){M([this.element],tq),"Wide"===this.dayHeaderFormat&&D(["calendar"===this.getModuleName()?this.element:this.calendarElement],tq)},t.prototype.selectDate=function(e,i,n,s,a){var o=n||e.currentTarget;if(this.isDateSelected=!1,"Decade"===this.currentView())this.setDateDecade(this.currentDate,i.getFullYear());else if("Year"===this.currentView())this.setDateYear(this.currentDate,i);else{if(s&&!this.checkPresentDate(i,a)){var l=this.copyValues(a);!u(a)&&l.length>0?(l.push(new Date(this.checkValue(i))),this.setProperties({values:l},!0),this.setProperties({value:a[a.length-1]},!0)):this.setProperties({values:[new Date(this.checkValue(i))]},!0)}else this.setProperties({value:new Date(this.checkValue(i))},!0);this.currentDate=new Date(this.checkValue(i))}var h=I(o,"."+zv);if(u(h)&&(h=this.tableBodyElement),!s&&!u(h.querySelector("."+Us))&&M([h.querySelector("."+Us)],Us),!s&&!u(h.querySelector("."+ia))&&M([h.querySelector("."+ia)],ia),s){l=this.copyValues(a);for(var c=Array.prototype.slice.call(this.tableBodyElement.querySelectorAll("td")),d=0;d<c.length;d++){var p=h.querySelectorAll("td."+ia)[0],f=h.querySelectorAll("td."+Us)[0];c[d]===p&&M([c[d]],ia),c[d]===f&&!this.checkPresentDate(new Date(parseInt(f.getAttribute("id").split("_")[0],10)),a)&&M([c[d]],Us)}if(o.classList.contains(Us)){M([o],Us);for(var m=0;m<l.length;m++){var y={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};this.globalize.formatDate(i,y)===this.globalize.formatDate(l[m],y)&&(d=l.indexOf(l[m]),l.splice(d,1),D([o],ia))}this.setProperties({values:l},!0)}else D([o],Us)}else D([o],Us);this.isDateSelected=!0},t.prototype.checkPresentDate=function(e,i){var n=!1;if(!u(i))for(var s=0;s<i.length;s++){var a="Gregorian"===this.calendarMode?"gregorian":"islamic";this.globalize.formatDate(e,{format:null,type:"date",skeleton:"short",calendar:a})===this.globalize.formatDate(i[s],{format:null,type:"date",skeleton:"short",calendar:a})&&(n=!0)}return n},t.prototype.setAriaActiveDescendant=function(){re(this.table,{"aria-activedescendant":""+this.setActiveDescendant()})},t.prototype.previousIconHandler=function(e){e?u(this.previousIcon)||(b.remove(this.previousIcon,"click",this.navigatePreviousHandler),D([this.previousIcon],""+Pn),D([this.previousIcon],""+Pc),this.previousIcon.setAttribute("aria-disabled","true")):(b.add(this.previousIcon,"click",this.navigatePreviousHandler),M([this.previousIcon],""+Pn),M([this.previousIcon],""+Pc),this.previousIcon.setAttribute("aria-disabled","false"))},t.prototype.renderDayCellEvent=function(e){z(this.renderDayCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",e)},t.prototype.navigatedEvent=function(e){z(this.navigatedArgs,{name:"navigated",event:e}),this.trigger("navigated",this.navigatedArgs)},t.prototype.triggerNavigate=function(e){this.navigatedArgs={view:this.currentView(),date:this.currentDate},this.navigatedEvent(e)},t.prototype.nextIconHandler=function(e){e?u(this.previousIcon)||(b.remove(this.nextIcon,"click",this.navigateNextHandler),D([this.nextIcon],Pn),D([this.nextIcon],Pc),this.nextIcon.setAttribute("aria-disabled","true")):(b.add(this.nextIcon,"click",this.navigateNextHandler),M([this.nextIcon],Pn),M([this.nextIcon],Pc),this.nextIcon.setAttribute("aria-disabled","false"))},t.prototype.compare=function(e,i,n){var a,o,s=i.getFullYear();return a=s,o=0,n&&(a=(s-=s%n)-s%n+n-1),e.getFullYear()>a?o=1:e.getFullYear()<s&&(o=-1),o},t.prototype.isMinMaxRange=function(e){return+e>=+this.min&&+e<=+this.max},t.prototype.isMonthYearRange=function(e){if("Gregorian"===this.calendarMode)return e.getMonth()>=this.min.getMonth()&&e.getFullYear()>=this.min.getFullYear()&&e.getMonth()<=this.max.getMonth()&&e.getFullYear()<=this.max.getFullYear();var i=this.islamicModule.getIslamicDate(e);return i.month>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).month&&i.year>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).year&&i.month<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).month&&i.year<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).year},t.prototype.compareYear=function(e,i){return this.compare(e,i,0)},t.prototype.compareDecade=function(e,i){return this.compare(e,i,10)},t.prototype.shiftArray=function(e,i){return e.slice(i).concat(e.slice(0,i))},t.prototype.addDay=function(e,i,n,s,a){var o=i,l=new Date(+e);if(!u(this.tableBodyElement)&&!u(n)){for(;this.findNextTD(new Date(+e),o,s,a);)o+=i;var h=new Date(l.setDate(l.getDate()+o));o=+h>+s||+h<+a?o===i?i-i:i:o}e.setDate(e.getDate()+o)},t.prototype.findNextTD=function(e,i,n,s){var a=new Date(e.setDate(e.getDate()+i)),o=[],l=!1;if(o=(!u(a)&&a.getMonth())===(!u(this.currentDate)&&this.currentDate.getMonth())?("Gregorian"===this.calendarMode?this.renderDays(a):this.islamicModule.islamicRenderDays(this.currentDate,a)).filter(function(d){return d.classList.contains(Pn)}):this.tableBodyElement.querySelectorAll("td."+Pn),+a<=+n&&+a>=+s&&o.length)for(var c=0;c<o.length&&!(l=+a==+new Date(parseInt(o[c].id,0)));c++);return l},t.prototype.getMaxDays=function(e){var i,n=new Date(this.checkValue(e));i=28;for(var s=n.getMonth();n.getMonth()===s;)++i,n.setDate(i);return i-1},t.prototype.setDateDecade=function(e,i){e.setFullYear(i),this.setProperties({value:new Date(this.checkValue(e))},!0)},t.prototype.setDateYear=function(e,i){e.setFullYear(i.getFullYear(),i.getMonth(),e.getDate()),i.getMonth()!==e.getMonth()&&(e.setDate(0),this.currentDate=new Date(this.checkValue(i))),this.setProperties({value:new Date(this.checkValue(e))},!0)},t.prototype.compareMonth=function(e,i){return e.getFullYear()>i.getFullYear()?1:e.getFullYear()<i.getFullYear()?-1:e.getMonth()===i.getMonth()?0:e.getMonth()>i.getMonth()?1:-1},t.prototype.checkValue=function(e){return e instanceof Date?e.toUTCString():""+e},t.prototype.checkView=function(){"Decade"!==this.start&&"Year"!==this.start&&this.setProperties({start:"Month"},!0),"Decade"!==this.depth&&"Year"!==this.depth&&this.setProperties({depth:"Month"},!0),this.getViewNumber(this.depth)>this.getViewNumber(this.start)&&this.setProperties({depth:"Month"},!0)},t.prototype.getDate=function(e,i){return i&&(e=new Date(e.toLocaleString("en-US",{timeZone:i}))),e},bn([v(new Date(1900,0,1))],t.prototype,"min",void 0),bn([v(!0)],t.prototype,"enabled",void 0),bn([v(null)],t.prototype,"cssClass",void 0),bn([v(new Date(2099,11,31))],t.prototype,"max",void 0),bn([v(null)],t.prototype,"firstDayOfWeek",void 0),bn([v("Gregorian")],t.prototype,"calendarMode",void 0),bn([v("Month")],t.prototype,"start",void 0),bn([v("Month")],t.prototype,"depth",void 0),bn([v(!1)],t.prototype,"weekNumber",void 0),bn([v("FirstDay")],t.prototype,"weekRule",void 0),bn([v(!0)],t.prototype,"showTodayButton",void 0),bn([v("Short")],t.prototype,"dayHeaderFormat",void 0),bn([v(!1)],t.prototype,"enablePersistence",void 0),bn([v(null)],t.prototype,"keyConfigs",void 0),bn([v(null)],t.prototype,"serverTimezoneOffset",void 0),bn([x()],t.prototype,"created",void 0),bn([x()],t.prototype,"destroyed",void 0),bn([x()],t.prototype,"navigated",void 0),bn([x()],t.prototype,"renderDayCell",void 0),bn([et],t)}(Yt),nq=function(r){function t(e,i){return r.call(this,e,i)||this}return Q5(t,r),t.prototype.render=function(){if("Islamic"===this.calendarMode&&void 0===this.islamicModule&&Yp("Requires the injectable Islamic modules to render Calendar in Islamic mode"),this.isMultiSelection&&"object"==typeof this.values&&!u(this.values)&&this.values.length>0){for(var e=[],i=[],n=0;n<this.values.length;n++)-1===e.indexOf(+this.values[n])&&(e.push(+this.values[n]),i.push(this.values[n]));this.setProperties({values:i},!0);for(var s=0;s<this.values.length;s++)if(!this.checkDateValue(this.values[s]))if("string"==typeof this.values[s]&&this.checkDateValue(new Date(this.checkValue(this.values[s])))){var a=new Date(this.checkValue(this.values[s]));this.values.splice(s,1),this.values.splice(s,0,a)}else this.values.splice(s,1);this.setProperties({value:this.values[this.values.length-1]},!0),this.previousValues=this.values.length}if(this.validateDate(),this.minMaxUpdate(),"calendar"===this.getModuleName()&&(this.setEnable(this.enabled),this.setClass(this.cssClass)),r.prototype.render.call(this),"calendar"===this.getModuleName()){var o=I(this.element,"form");o&&b.add(o,"reset",this.formResetHandler.bind(this)),this.setTimeZone(this.serverTimezoneOffset)}this.renderComplete()},t.prototype.setEnable=function(e){e?M([this.element],Pn):D([this.element],Pn)},t.prototype.setClass=function(e,i){u(i)||(i=i.replace(/\s+/g," ").trim()),u(e)||(e=e.replace(/\s+/g," ").trim()),!u(i)&&""!==i&&M([this.element],i.split(" ")),u(e)||D([this.element],e.split(" "))},t.prototype.isDayLightSaving=function(){var e=new Date(this.value.getFullYear(),6,1).getTimezoneOffset(),i=new Date(this.value.getFullYear(),0,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(i,e)},t.prototype.setTimeZone=function(e){if(!u(this.serverTimezoneOffset)&&this.value){var s=e+(new Date).getTimezoneOffset()/60;s=this.isDayLightSaving()?s--:s,this.value=new Date(this.value.getTime()+60*s*60*1e3)}},t.prototype.formResetHandler=function(){this.setProperties({value:null},!0)},t.prototype.validateDate=function(){"string"==typeof this.value&&this.setProperties({value:this.checkDateValue(new Date(this.checkValue(this.value)))},!0),r.prototype.validateDate.call(this,this.value),!u(this.value)&&this.min<=this.max&&this.value>=this.min&&this.value<=this.max&&(this.currentDate=new Date(this.checkValue(this.value))),isNaN(+this.value)&&this.setProperties({value:null},!0)},t.prototype.minMaxUpdate=function(){"calendar"===this.getModuleName()&&(!u(this.value)&&this.value<=this.min&&this.min<=this.max?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!u(this.value)&&this.value>=this.max&&this.min<=this.max&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})),"calendar"===this.getModuleName()||u(this.value)?r.prototype.minMaxUpdate.call(this,this.value):!u(this.value)&&this.value<this.min&&this.min<=this.max?r.prototype.minMaxUpdate.call(this,this.min):!u(this.value)&&this.value>this.max&&this.min<=this.max&&r.prototype.minMaxUpdate.call(this,this.max)},t.prototype.generateTodayVal=function(e){var i=new Date;return u(this.timezone)||(i=r.prototype.getDate.call(this,i,this.timezone)),e&&u(this.timezone)?(i.setHours(e.getHours()),i.setMinutes(e.getMinutes()),i.setSeconds(e.getSeconds()),i.setMilliseconds(e.getMilliseconds())):i=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0,0),i},t.prototype.todayButtonClick=function(e){if(this.showTodayButton){var i=this.generateTodayVal(this.value);if(this.setProperties({value:i},!0),this.isTodayClicked=!0,this.todayButtonEvent=e,this.isMultiSelection){var n=this.copyValues(this.values);r.prototype.checkPresentDate.call(this,i,this.values)||(n.push(i),this.setProperties({values:n}))}r.prototype.todayButtonClick.call(this,e,new Date(+this.value))}},t.prototype.keyActionHandle=function(e){r.prototype.keyActionHandle.call(this,e,this.value,this.isMultiSelection)},t.prototype.preRender=function(){var e=this;this.changeHandler=function(i){e.triggerChange(i)},this.checkView(),r.prototype.preRender.call(this,this.value)},t.prototype.createContent=function(){this.previousDate=this.value,this.previousDateTime=this.value,r.prototype.createContent.call(this)},t.prototype.minMaxDate=function(e){return r.prototype.minMaxDate.call(this,e)},t.prototype.renderMonths=function(e,i,n){r.prototype.renderMonths.call(this,e,this.value,n)},t.prototype.renderDays=function(e,i,n,s,a,o){var l=r.prototype.renderDays.call(this,e,this.value,this.isMultiSelection,this.values,a,o);return this.isMultiSelection&&r.prototype.validateValues.call(this,this.isMultiSelection,this.values),l},t.prototype.renderYears=function(e){"Gregorian"===this.calendarMode?r.prototype.renderYears.call(this,e,this.value):this.islamicModule.islamicRenderYears(e,this.value)},t.prototype.renderDecades=function(e){"Gregorian"===this.calendarMode?r.prototype.renderDecades.call(this,e,this.value):this.islamicModule.islamicRenderDecade(e,this.value)},t.prototype.renderTemplate=function(e,i,n,s){"Gregorian"===this.calendarMode?r.prototype.renderTemplate.call(this,e,i,n,s,this.value):this.islamicModule.islamicRenderTemplate(e,i,n,s,this.value),this.changedArgs={value:this.value,values:this.values},s&&"click"===s.type&&s.currentTarget.classList.contains(io)?this.changeHandler(s):this.changeHandler()},t.prototype.clickHandler=function(e){var i=e.currentTarget;if(this.isPopupClicked=!0,i.classList.contains(io))if(this.isMultiSelection){var n=this.copyValues(this.values);-1===n.toString().indexOf(this.getIdValue(e,null).toString())?(n.push(this.getIdValue(e,null)),this.setProperties({values:n},!0),this.setProperties({value:this.values[this.values.length-1]},!0)):this.previousDates=!0}else this.setProperties({value:this.getIdValue(e,null)},!0);var s=this.currentView();r.prototype.clickHandler.call(this,e,this.value),this.isMultiSelection&&this.currentDate!==this.value&&!u(this.tableBodyElement.querySelectorAll("."+ia)[0])&&"Year"===s&&this.tableBodyElement.querySelectorAll("."+ia)[0].classList.remove(ia)},t.prototype.switchView=function(e,i,n,s){r.prototype.switchView.call(this,e,i,this.isMultiSelection,s)},t.prototype.getModuleName=function(){return r.prototype.getModuleName.call(this),"calendar"},t.prototype.getPersistData=function(){return r.prototype.getPersistData.call(this),this.addOnPersist(["value","values"])},t.prototype.onPropertyChanged=function(e,i){this.effect="",this.rangeValidation(this.min,this.max);for(var n=0,s=Object.keys(e);n<s.length;n++)switch(s[n]){case"value":this.isDateSelected&&("string"==typeof e.value?this.setProperties({value:new Date(this.checkValue(e.value))},!0):e.value=new Date(this.checkValue(e.value)),isNaN(+this.value)&&this.setProperties({value:i.value},!0),this.update());break;case"values":if(this.isDateSelected){if("string"==typeof e.values||"number"==typeof e.values)this.setProperties({values:null},!0);else{for(var o=this.copyValues(this.values),l=0;l<o.length;l++){var h=o[l];this.checkDateValue(h)&&!r.prototype.checkPresentDate.call(this,h,o)&&o.push(h)}this.setProperties({values:o},!0),this.values.length>0&&this.setProperties({value:e.values[e.values.length-1]},!0)}this.validateValues(this.isMultiSelection,this.values),this.update()}break;case"isMultiSelection":this.isDateSelected&&(this.setProperties({isMultiSelection:e.isMultiSelection},!0),this.update());break;case"enabled":this.setEnable(this.enabled);break;case"cssClass":"calendar"===this.getModuleName()&&this.setClass(e.cssClass,i.cssClass);break;default:r.prototype.onPropertyChanged.call(this,e,i,this.isMultiSelection,this.values)}this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange},t.prototype.destroy=function(){if(r.prototype.destroy.call(this),"calendar"===this.getModuleName()){this.changedArgs=null;var e=I(this.element,"form");e&&b.remove(e,"reset",this.formResetHandler.bind(this))}},t.prototype.navigateTo=function(e,i,n){this.minMaxUpdate(),r.prototype.navigateTo.call(this,e,i,n)},t.prototype.currentView=function(){return r.prototype.currentView.call(this)},t.prototype.addDate=function(e){if("string"!=typeof e&&"number"!=typeof e){var i=this.copyValues(this.values);if("object"==typeof e&&e.length>0)for(var n=e,s=0;s<n.length;s++)this.checkDateValue(n[s])&&!r.prototype.checkPresentDate.call(this,n[s],i)&&(!u(i)&&i.length>0?i.push(n[s]):i=[new Date(+n[s])]);else this.checkDateValue(e)&&!r.prototype.checkPresentDate.call(this,e,i)&&(!u(i)&&i.length>0?i.push(e):i=[new Date(+e)]);this.setProperties({values:i},!0),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.validateValues(this.isMultiSelection,i),this.update(),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}},t.prototype.removeDate=function(e){if("string"!=typeof e&&"number"!=typeof e&&!u(this.values)&&this.values.length>0){var i=this.copyValues(this.values);if("object"==typeof e&&e.length>0)for(var n=e,s=0;s<n.length;s++)for(var a=0;a<i.length;a++)+i[a]==+n[s]&&i.splice(a,1);else for(a=0;a<i.length;a++)+i[a]==+e&&i.splice(a,1);this.setProperties({values:i},!1),this.update(),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}},t.prototype.setTodayDate=function(e){var i=new Date(+e);this.setProperties({value:i},!0),r.prototype.todayButtonClick.call(this,null,i,!0)},t.prototype.update=function(){this.validateDate(),this.minMaxUpdate(),r.prototype.setValueUpdate.call(this)},t.prototype.selectDate=function(e,i,n){r.prototype.selectDate.call(this,e,i,n,this.isMultiSelection,this.values),this.isMultiSelection&&!u(this.values)&&this.values.length>0&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler(e)},t.prototype.changeEvent=function(e){((this.value&&this.value.valueOf())!==(this.previousDate&&+this.previousDate.valueOf())||this.isMultiSelection)&&(this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.changedArgs),this.previousDate=new Date(+this.value))},t.prototype.triggerChange=function(e){!u(this.todayButtonEvent)&&this.isTodayClicked&&(e=this.todayButtonEvent,this.isTodayClicked=!1),this.changedArgs.event=e||null,this.changedArgs.isInteracted=!u(e),u(this.value)||this.setProperties({value:this.value},!0),this.isMultiSelection||+this.value===Number.NaN||(u(this.value)||u(this.previousDate))&&(null!==this.previousDate||isNaN(+this.value))?!u(this.values)&&this.previousValues!==this.values.length&&(this.changeEvent(e),this.previousValues=this.values.length):this.changeEvent(e)},bn([v(null)],t.prototype,"value",void 0),bn([v(null)],t.prototype,"values",void 0),bn([v(!1)],t.prototype,"isMultiSelection",void 0),bn([x()],t.prototype,"change",void 0),bn([et],t)}(iq),cge=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Bi=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},vD="e-datepicker",oq="e-popup-wrapper",qk="e-input-focus",lq="e-error",yD="e-active",hq="e-date-overflow",bD="e-selected",Yk="e-non-edit",cq=["title","class","style"],uq=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.isDateIconClicked=!1,n.isAltKeyPressed=!1,n.isInteracted=!0,n.invalidValueString=null,n.checkPreviousValue=null,n.maskedDateValue="",n.isAngular=!1,n.preventChange=!1,n.isIconClicked=!1,n.isDynamicValueChanged=!1,n.moduleName=n.getModuleName(),n.isFocused=!1,n.isBlur=!1,n.isKeyAction=!1,n.datepickerOptions=e,n}return cge(t,r),t.prototype.render=function(){this.initialize(),this.bindEvents(),"Auto"===this.floatLabelType&&X.calculateWidth(this.inputElement,this.inputWrapper.container),!u(this.inputWrapper.buttons[0])&&!u(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon"),!u(I(this.element,"fieldset"))&&I(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete(),this.setTimeZone(this.serverTimezoneOffset)},t.prototype.setTimeZone=function(e){if(!u(this.serverTimezoneOffset)&&this.value){var s=e+(new Date).getTimezoneOffset()/60;s=this.isDayLightSaving()?s--:s,this.value=new Date(this.value.getTime()+60*s*60*1e3),this.updateInput()}},t.prototype.isDayLightSaving=function(){var e=new Date(this.value.getFullYear(),0,1).getTimezoneOffset(),i=new Date(this.value.getFullYear(),6,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(e,i)},t.prototype.setAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):re(this.inputElement,{readonly:""}),this.updateIconState()},t.prototype.updateIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&M([this.inputWrapper.container],[Yk]):""===this.inputElement.value?M([this.inputWrapper.container],[Yk]):D([this.inputWrapper.container],[Yk])},t.prototype.initialize=function(){this.checkInvalidValue(this.value),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"}),this.createInput(),this.updateHtmlAttributeToWrapper(),this.setAllowEdit(),!this.enableMask||this.value||!this.maskedDateValue||"Always"!==this.floatLabelType&&this.floatLabelType&&this.placeholder?this.enableMask||this.updateInput(!0):(this.updateInput(!0),this.updateInputValue(this.maskedDateValue)),this.previousElementValue=this.inputElement.value,this.previousDate=u(this.value)?null:new Date(+this.value),this.inputElement.setAttribute("value",this.inputElement.value),this.inputValueCopy=this.value},t.prototype.createInput=function(){var e={"aria-atomic":"true","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-invalid":"false","aria-label":this.getModuleName()};if("datepicker"===this.getModuleName()){var i={placeholder:this.placeholder};this.globalize=new Li(this.locale),this.l10n=new fi("datepicker",i,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0)}this.fullScreenMode&&O.isDevice&&(this.cssClass+=" e-popup-expand");var n=this.cssClass;!u(this.cssClass)&&""!==this.cssClass&&(n=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=X.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,bindClearAction:!this.enableMask,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:n,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-date-icon e-icons"]},this.createElement),this.setWidth(this.width),this.inputElement.setAttribute("name",""!==this.inputElement.name?""+this.inputElement.getAttribute("name"):""+this.element.id),re(this.inputElement,e),this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1),X.addAttributes({"aria-label":"select",role:"button"},this.inputWrapper.buttons[0]),D([this.inputWrapper.container],"e-date-wrapper")},t.prototype.updateInput=function(e,i){if(void 0===e&&(e=!1),void 0===i&&(i=!1),this.value&&!this.isCalendar()&&this.disabledDates(e,i),isNaN(+new Date(this.checkValue(this.value)))&&this.setProperties({value:null},!0),this.strictMode&&(r.prototype.validateDate.call(this),this.minMaxUpdates(),r.prototype.minMaxUpdate.call(this)),!u(this.value)){var s=this.value,a=void 0,o=u(this.formatString)?this.dateTimeFormat:this.formatString;a="datetimepicker"===this.getModuleName()?this.globalize.formatDate(this.value,"Gregorian"===this.calendarMode?{format:o,type:"dateTime",skeleton:"yMd"}:{format:o,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):this.globalize.formatDate(this.value,"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),(+s<=+this.max&&+s>=+this.min||!this.strictMode&&(+s>=+this.max||!+this.value||!+this.value||+s<=+this.min))&&this.updateInputValue(a)}u(this.value)&&this.strictMode&&(this.enableMask?(this.updateInputValue(this.maskedDateValue),this.notify("createMask",{module:"MaskedDateTime"})):this.updateInputValue("")),!this.strictMode&&u(this.value)&&this.invalidValueString&&this.updateInputValue(this.invalidValueString),this.changedArgs={value:this.value},this.errorClass(),this.updateIconState()},t.prototype.minMaxUpdates=function(){!u(this.value)&&this.value<this.min&&this.min<=this.max&&this.strictMode?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!u(this.value)&&this.value>this.max&&this.min<=this.max&&this.strictMode&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})},t.prototype.checkStringValue=function(e){var i=null,n=null,s=null;if("datetimepicker"===this.getModuleName()){var a=new Li(this.locale);"Gregorian"===this.calendarMode?(n={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd"},s={format:a.getDatePattern({skeleton:"yMd"}),type:"dateTime"}):(n={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},s={format:a.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})}else n="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};return u(i=this.checkDateValue(this.globalize.parseDate(e,n)))&&"datetimepicker"===this.getModuleName()&&(i=this.checkDateValue(this.globalize.parseDate(e,s))),i},t.prototype.checkInvalidValue=function(e){if(!(e instanceof Date||u(e))){var i=null,n=e;if("number"==typeof e&&(n=e.toString()),"datetimepicker"===this.getModuleName()){var o=new Li(this.locale);o.getDatePattern({skeleton:"yMd"})}var l=!1;if("string"!=typeof n)n=null,l=!0;else if("string"==typeof n&&(n=n.trim()),!(i=this.checkStringValue(n))){var c=null;c=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/.test(n)&&!c.test(n)||/^[a-zA-Z0-9- ]*$/.test(n)||isNaN(+new Date(this.checkValue(n)))?l=!0:i=new Date(n)}l?(this.strictMode||(this.invalidValueString=n),this.setProperties({value:null},!0)):this.setProperties({value:i},!0)}},t.prototype.bindInputEvent=function(){(!u(this.formatString)||this.enableMask)&&(this.enableMask||-1===this.formatString.indexOf("y")?b.add(this.inputElement,"input",this.inputHandler,this):b.remove(this.inputElement,"input",this.inputHandler))},t.prototype.bindEvents=function(){b.add(this.inputWrapper.buttons[0],"mousedown",this.dateIconHandler,this),b.add(this.inputElement,"mouseup",this.mouseUpHandler,this),b.add(this.inputElement,"focus",this.inputFocusHandler,this),b.add(this.inputElement,"blur",this.inputBlurHandler,this),b.add(this.inputElement,"keyup",this.keyupHandler,this),this.enableMask&&b.add(this.inputElement,"keydown",this.keydownHandler,this),this.bindInputEvent(),b.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&b.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this),this.formElement&&b.add(this.formElement,"reset",this.resetFormHandler,this),this.defaultKeyConfigs=z(this.defaultKeyConfigs,this.keyConfigs),this.keyboardModules=new Lt(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})},t.prototype.keydownHandler=function(e){switch(e.code){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":case"Home":case"End":case"Delete":this.enableMask&&!this.popupObj&&!this.readonly&&("Delete"!==e.code&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e}))}},t.prototype.unBindEvents=function(){u(this.inputWrapper)||b.remove(this.inputWrapper.buttons[0],"mousedown",this.dateIconHandler),b.remove(this.inputElement,"mouseup",this.mouseUpHandler),b.remove(this.inputElement,"focus",this.inputFocusHandler),b.remove(this.inputElement,"blur",this.inputBlurHandler),b.remove(this.inputElement,"change",this.inputChangeHandler),b.remove(this.inputElement,"keyup",this.keyupHandler),this.enableMask&&b.remove(this.inputElement,"keydown",this.keydownHandler),this.showClearButton&&this.inputWrapper.clearButton&&b.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.formElement&&b.remove(this.formElement,"reset",this.resetFormHandler)},t.prototype.resetFormHandler=function(){if(this.enabled&&!this.inputElement.disabled){var e=this.inputElement.getAttribute("value");("EJS-DATEPICKER"===this.element.tagName||"EJS-DATETIMEPICKER"===this.element.tagName)&&(e="",this.inputValueCopy=null,this.inputElement.setAttribute("value","")),this.setProperties({value:this.inputValueCopy},!0),this.restoreValue(),this.inputElement&&(this.updateInputValue(e),this.errorClass())}},t.prototype.restoreValue=function(){this.currentDate=this.value?this.value:new Date,this.previousDate=this.value,this.previousElementValue=u(this.inputValueCopy)?"":this.globalize.formatDate(this.inputValueCopy,{format:this.formatString,type:"dateTime",skeleton:"yMd"})},t.prototype.inputChangeHandler=function(e){!this.enabled||e.stopPropagation()},t.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&b.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},t.prototype.resetHandler=function(e){!this.enabled||(e.preventDefault(),this.clear(e))},t.prototype.mouseUpHandler=function(e){this.enableMask&&(e.preventDefault(),this.notify("setMaskSelection",{module:"MaskedDateTime"}))},t.prototype.clear=function(e){if(this.setProperties({value:null},!0),this.enableMask||this.updateInputValue(""),this.trigger("cleared",{event:e}),this.invalidValueString="",this.updateInput(),this.popupUpdate(),this.changeEvent(e),this.enableMask&&this.notify("clearHandler",{module:"MaskedDateTime"}),I(this.element,"form")){var n=this.element,s=document.createEvent("KeyboardEvent");s.initEvent("keyup",!1,!0),n.dispatchEvent(s)}},t.prototype.preventEventBubbling=function(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnDateIconClick")},t.prototype.updateInputValue=function(e){X.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.dateIconHandler=function(e){!this.enabled||(this.isIconClicked=!0,O.isDevice&&(this.inputElement.setAttribute("readonly",""),this.inputElement.blur()),e.preventDefault(),this.readonly||(this.isCalendar()?this.hide(e):(this.isDateIconClicked=!0,this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus(),this.inputElement.focus(),D([this.inputWrapper.container],[qk]),D(this.inputWrapper.buttons,yD))),this.isIconClicked=!1)},t.prototype.updateHtmlAttributeToWrapper=function(){if(!u(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];if(!u(this.htmlAttributes[""+n])&&cq.indexOf(n)>-1)if("class"===n){var s=this.htmlAttributes[""+n].replace(/\s+/g," ").trim();""!==s&&D([this.inputWrapper.container],s.split(" "))}else if("style"===n){var a=this.inputWrapper.container.getAttribute(n);u(a)?a=this.htmlAttributes[""+n]:";"===a.charAt(a.length-1)?a+=this.htmlAttributes[""+n]:a=a+";"+this.htmlAttributes[""+n],this.inputWrapper.container.setAttribute(n,a)}else this.inputWrapper.container.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.updateHtmlAttributeToElement=function(){if(!u(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];cq.indexOf(n)<0&&this.inputElement.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.updateCssClass=function(e,i){u(i)||(i=i.replace(/\s+/g," ").trim()),u(e)||(e=e.replace(/\s+/g," ").trim()),X.setCssClass(e,[this.inputWrapper.container],i),this.popupWrapper&&X.setCssClass(e,[this.popupWrapper],i)},t.prototype.calendarKeyActionHandle=function(e){switch(e.action){case"escape":this.isCalendar()?this.hide(e):this.inputWrapper.container.children[this.index].blur();break;case"enter":this.isCalendar()?+this.value!=+this.currentDate&&!this.isCalendar()&&this.inputWrapper.container.children[this.index].focus():this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus();break;case"tab":this.hide(e)}},t.prototype.inputFocusHandler=function(){if(this.isFocused=!0,this.enabled){this.enableMask&&!this.inputElement.value&&this.placeholder&&this.maskedDateValue&&!this.value&&("Auto"===this.floatLabelType||"Never"===this.floatLabelType||this.placeholder)&&(this.updateInputValue(this.maskedDateValue),this.inputElement.selectionStart=0,this.inputElement.selectionEnd=this.inputElement.value.length);var e={model:this};this.isDateIconClicked=!1,this.trigger("focus",e),this.updateIconState(),this.openOnFocus&&!this.isIconClicked&&this.show()}},t.prototype.inputHandler=function(){this.isPopupClicked=!1,this.enableMask&&this.notify("inputHandler",{module:"MaskedDateTime"})},t.prototype.inputBlurHandler=function(e){this.enabled&&(this.strictModeUpdate(),""===this.inputElement.value&&u(this.value)&&(this.invalidValueString=null,this.updateInputValue("")),this.isBlur=!0,this.updateInput(!1,!0),this.isBlur=!1,this.popupUpdate(),this.changeTrigger(e),this.enableMask&&this.maskedDateValue&&this.placeholder&&"Always"!==this.floatLabelType&&this.inputElement.value===this.maskedDateValue&&!this.value&&("Auto"===this.floatLabelType||"Never"===this.floatLabelType||this.placeholder)&&this.updateInputValue(""),this.errorClass(),this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e),"datepicker"===this.getModuleName()&&this.trigger("blur",{model:this}),this.isCalendar()&&(this.defaultKeyConfigs=z(this.defaultKeyConfigs,this.keyConfigs),this.calendarKeyboardModules=new Lt(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.calendarKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})),this.isPopupClicked=!1)},t.prototype.documentHandler=function(e){!u(this.popupObj)&&!u(this.inputWrapper)&&(this.inputWrapper.container.contains(e.target)&&"mousedown"!==e.type||this.popupObj.element&&this.popupObj.element.contains(e.target))&&"touchstart"!==e.type&&e.preventDefault();var i=e.target;I(i,".e-datepicker.e-popup-wrapper")||u(this.inputWrapper)||I(i,".e-input-group")===this.inputWrapper.container||i.classList.contains("e-day")||i.classList.contains("e-dlg-overlay")?I(i,".e-datepicker.e-popup-wrapper")&&(i.classList.contains("e-day")&&!u(e.target.parentElement)&&e.target.parentElement.classList.contains("e-selected")&&I(i,".e-content")&&I(i,".e-content").classList.contains("e-"+this.depth.toLowerCase())||I(i,".e-footer-container")&&i.classList.contains("e-today")&&i.classList.contains("e-btn")&&+new Date(+this.value)==+r.prototype.generateTodayVal.call(this,this.value))&&this.hide(e):(this.hide(e),this.focusOut())},t.prototype.inputKeyActionHandle=function(e){var i=this.currentView();switch(e.action){case"altUpArrow":this.isAltKeyPressed=!1,this.hide(e),this.inputElement.focus();break;case"altDownArrow":this.isAltKeyPressed=!0,this.strictModeUpdate(),this.updateInput(),this.changeTrigger(e),"datepicker"===this.getModuleName()&&this.show(null,e);break;case"escape":this.hide(e);break;case"enter":this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass(),!this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e),this.isCalendar()&&(e.preventDefault(),e.stopPropagation());break;case"tab":case"shiftTab":var n=this.inputElement.selectionStart,s=this.inputElement.selectionEnd;if(this.enableMask&&!this.popupObj&&!this.readonly){var a=this.inputElement.value.length;(0===n&&s===a||s!==a&&"tab"===e.action||0!==n&&"shiftTab"===e.action)&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e}),n=this.inputElement.selectionStart,s=this.inputElement.selectionEnd}this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass(),this.enableMask&&(this.inputElement.selectionStart=n,this.inputElement.selectionEnd=s),this.hide(e);break;default:this.defaultAction(e),"select"===e.action&&i===this.depth&&this.hide(e)}},t.prototype.defaultAction=function(e){this.previousDate=!u(this.value)&&new Date(+this.value)||null,this.isCalendar()&&(r.prototype.keyActionHandle.call(this,e),this.isCalendar()&&re(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()}))},t.prototype.popupUpdate=function(){if((u(this.value)&&!u(this.previousDate)||+this.value!=+this.previousDate)&&(this.popupObj&&this.popupObj.element.querySelectorAll("."+bD).length>0&&M(this.popupObj.element.querySelectorAll("."+bD),[bD]),!u(this.value)&&+this.value>=+this.min&&+this.value<=+this.max)){var e=new Date(this.checkValue(this.value));r.prototype.navigateTo.call(this,"Month",e)}},t.prototype.strictModeUpdate=function(){var e,o,l;"datetimepicker"===this.getModuleName()?e=u(this.formatString)?this.dateTimeFormat:this.formatString:(!/^y/.test(this.formatString)||/[^a-zA-Z]/.test(this.formatString))&&(e=u(this.formatString)?this.formatString:this.formatString.replace("dd","d")),u(e)?e=this.formatString:e.split("M").length-1<3&&(e=e.replace("MM","M")),o="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:u(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:u(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:"Gregorian"===this.calendarMode?{format:e,type:"dateTime",skeleton:"yMd"}:{format:e,type:"dateTime",skeleton:"yMd",calendar:"islamic"},"string"==typeof this.inputElement.value&&(this.inputElement.value=this.inputElement.value.trim()),"datetimepicker"===this.getModuleName()?l=this.checkDateValue(this.globalize.parseDate(this.inputElement.value,o))?this.globalize.parseDate(this.inputElement.value.toLocaleUpperCase(),o):this.globalize.parseDate(this.inputElement.value,"Gregorian"===this.calendarMode?{format:e,type:"dateTime",skeleton:"yMd"}:{format:e,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):(l=!u(l=this.globalize.parseDate(this.inputElement.value,o))&&isNaN(+l)?null:l,!u(this.formatString)&&""!==this.inputElement.value&&this.strictMode&&(this.isPopupClicked||!this.isPopupClicked&&this.inputElement.value===this.previousElementValue)&&-1===this.formatString.indexOf("y")&&l.setFullYear(this.value.getFullYear())),"datepicker"===this.getModuleName()&&this.value&&!isNaN(+this.value)&&l&&l.setHours(this.value.getHours(),this.value.getMinutes(),this.value.getSeconds(),this.value.getMilliseconds()),this.strictMode&&l?(this.updateInputValue(this.globalize.formatDate(l,o)),this.inputElement.value!==this.previousElementValue&&this.setProperties({value:l},!0)):this.strictMode||this.inputElement.value!==this.previousElementValue&&this.setProperties({value:l},!0),this.strictMode&&!l&&this.inputElement.value===(this.enableMask?this.maskedDateValue:"")&&this.setProperties({value:null},!0),isNaN(+this.value)&&this.setProperties({value:null},!0),u(this.value)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)))},t.prototype.createCalendar=function(){var e=this;this.popupWrapper=this.createElement("div",{className:vD+" "+oq}),u(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),O.isDevice&&(this.modelHeader(),this.modal=this.createElement("div"),this.modal.className=vD+" e-date-modal",document.body.className+=" "+hq,this.modal.style.display="block",document.body.appendChild(this.modal)),this.calendarElement.querySelector("table tbody").className="",this.popupObj=new us(this.popupWrapper,{content:this.calendarElement,relateTo:O.isDevice?document.body:this.inputWrapper.container,position:O.isDevice?{X:"center",Y:"center"}:this.enableRtl?{X:"right",Y:"bottom"}:{X:"left",Y:"bottom"},offsetY:4,targetType:"container",enableRtl:this.enableRtl,zIndex:this.zIndex,collision:O.isDevice?{X:"fit",Y:"fit"}:this.enableRtl?{X:"fit",Y:"flip"}:{X:"flip",Y:"flip"},open:function(){O.isDevice&&e.fullScreenMode&&(e.iconRight=parseInt(window.getComputedStyle(e.calendarElement.querySelector(".e-header.e-month .e-prev")).marginRight,10)>16,e.touchModule=new Zn(e.calendarElement.querySelector(".e-content.e-month"),{swipe:e.CalendarSwipeHandler.bind(e)}),b.add(e.calendarElement.querySelector(".e-content.e-month"),"touchstart",e.TouchStartHandler,e)),"datetimepicker"!==e.getModuleName()&&document.activeElement!==e.inputElement&&(e.defaultKeyConfigs=z(e.defaultKeyConfigs,e.keyConfigs),e.calendarElement.children[1].firstElementChild.focus(),e.calendarKeyboardModules=new Lt(e.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:e.calendarKeyActionHandle.bind(e),keyConfigs:e.defaultKeyConfigs}),e.calendarKeyboardModules=new Lt(e.inputWrapper.container.children[e.index],{eventName:"keydown",keyAction:e.calendarKeyActionHandle.bind(e),keyConfigs:e.defaultKeyConfigs}))},close:function(){e.isDateIconClicked&&e.inputWrapper.container.children[e.index].focus(),e.value&&e.disabledDates(),e.popupObj&&e.popupObj.destroy(),e.resetCalendar(),Q(e.popupWrapper),e.popupObj=e.popupWrapper=null,e.preventArgs=null,e.calendarKeyboardModules=null,e.setAriaAttributes()},targetExitViewport:function(){O.isDevice||e.hide()}}),this.popupObj.element.className+=" "+this.cssClass,this.setAriaAttributes()},t.prototype.CalendarSwipeHandler=function(e){var i=0;if(this.iconRight)switch(e.swipeDirection){case"Left":i=1;break;case"Right":i=-1}else switch(e.swipeDirection){case"Up":i=1;break;case"Down":i=-1}this.touchStart&&(1===i?this.navigateNext(e):-1===i&&this.navigatePrevious(e),this.touchStart=!1)},t.prototype.TouchStartHandler=function(e){this.touchStart=!0},t.prototype.setAriaDisabled=function(){this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1)},t.prototype.modelHeader=function(){var e,i=this.createElement("div",{className:"e-model-header"}),n=this.createElement("h1",{className:"e-model-year"}),s=this.createElement("div"),a=this.createElement("span",{className:"e-model-day"}),o=this.createElement("span",{className:"e-model-month"});if(e="Gregorian"===this.calendarMode?{format:"y",skeleton:"dateTime"}:{format:"y",skeleton:"dateTime",calendar:"islamic"},n.textContent=""+this.globalize.formatDate(this.value||new Date,e),e="Gregorian"===this.calendarMode?{format:"E",skeleton:"dateTime"}:{format:"E",skeleton:"dateTime",calendar:"islamic"},a.textContent=this.globalize.formatDate(this.value||new Date,e)+", ",e="Gregorian"===this.calendarMode?{format:"MMM d",skeleton:"dateTime"}:{format:"MMM d",skeleton:"dateTime",calendar:"islamic"},o.textContent=""+this.globalize.formatDate(this.value||new Date,e),this.fullScreenMode){var l=this.createElement("span",{className:"e-popup-close"});b.add(l,"mousedown touchstart",this.modelCloseHandler,this);var h=this.calendarElement.querySelector("button.e-today");s.classList.add("e-day-wrapper"),h.classList.add("e-outline"),i.appendChild(l),i.appendChild(h)}this.fullScreenMode||i.appendChild(n),s.appendChild(a),s.appendChild(o),i.appendChild(s),this.calendarElement.insertBefore(i,this.calendarElement.firstElementChild)},t.prototype.modelCloseHandler=function(e){this.hide()},t.prototype.changeTrigger=function(e){this.inputElement.value!==this.previousElementValue&&(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.isDynamicValueChanged&&this.isCalendar()&&this.popupUpdate(),this.changedArgs.value=this.value,this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=!u(e),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.changedArgs),this.previousElementValue=this.inputElement.value,this.previousDate=isNaN(+new Date(this.checkValue(this.value)))?null:new Date(this.checkValue(this.value)),this.isInteracted=!0),this.isKeyAction=!1},t.prototype.navigatedEvent=function(){this.trigger("navigated",this.navigatedArgs)},t.prototype.keyupHandler=function(e){this.isKeyAction=this.inputElement.value!==this.previousElementValue},t.prototype.changeEvent=function(e){!this.isIconClicked&&!(this.isBlur||this.isKeyAction)&&this.selectCalendar(e),(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())?(this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=this.isInteracted,this.isDynamicValueChanged||this.trigger("change",this.changedArgs),this.previousDate=this.value&&new Date(+this.value),this.isDynamicValueChanged||this.hide(e),this.previousElementValue=this.inputElement.value,this.errorClass()):e&&this.hide(e),this.isKeyAction=!1},t.prototype.requiredModules=function(){var e=[];return this&&e.push({args:[this],member:"islamic"}),this.enableMask&&e.push({args:[this],member:"MaskedDateTime"}),e},t.prototype.selectCalendar=function(e){var i,n;n="datetimepicker"===this.getModuleName()&&u(this.formatString)?this.dateTimeFormat:this.formatString,this.value&&(i="datetimepicker"===this.getModuleName()?this.globalize.formatDate(this.changedArgs.value,"Gregorian"===this.calendarMode?{format:n,type:"dateTime",skeleton:"yMd"}:{format:n,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):this.globalize.formatDate(this.changedArgs.value,"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"})),u(i)||(this.updateInputValue(i),this.enableMask&&this.notify("setMaskSelection",{module:"MaskedDateTime"}))},t.prototype.isCalendar=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+oq))},t.prototype.setWidth=function(e){this.inputWrapper.container.style.width="number"==typeof e?$(this.width):"string"==typeof e?e.match(/px|%|em/)?this.width:$(this.width):"100%"},t.prototype.show=function(e,i){var n=this;if(!(this.enabled&&this.readonly||!this.enabled||this.popupObj)){var s=!0,a=void 0;if(u(this.value)||+this.value>=+new Date(this.checkValue(this.min))&&+this.value<=+new Date(this.checkValue(this.max))?a=this.value||null:(a=new Date(this.checkValue(this.value)),this.setProperties({value:null},!0)),this.isCalendar()||(r.prototype.render.call(this),this.setProperties({value:a||null},!0),this.previousDate=a,this.createCalendar()),O.isDevice&&(this.mobilePopupWrapper=this.createElement("div",{className:"e-datepick-mob-popup-wrap"}),document.body.appendChild(this.mobilePopupWrapper)),this.preventArgs={preventDefault:function(){s=!1},popup:this.popupObj,event:i||null,cancel:!1,appendTo:O.isDevice?this.mobilePopupWrapper:document.body},this.trigger("open",this.preventArgs,function(h){(n.preventArgs=h,s&&!n.preventArgs.cancel)?(D(n.inputWrapper.buttons,yD),n.preventArgs.appendTo.appendChild(n.popupWrapper),n.popupObj.refreshPosition(n.inputElement),n.popupObj.show(new vi({name:"FadeIn",duration:O.isDevice?0:300}),1e3===n.zIndex?n.element:null),r.prototype.setOverlayIndex.call(n,n.mobilePopupWrapper,n.popupObj.element,n.modal,O.isDevice),n.setAriaAttributes()):(n.popupObj.destroy(),n.popupWrapper=n.popupObj=null);!u(n.inputElement)&&""===n.inputElement.value&&!u(n.tableBodyElement)&&n.tableBodyElement.querySelectorAll("td.e-selected").length>0&&(D([n.tableBodyElement.querySelector("td.e-selected")],"e-focused-date"),M(n.tableBodyElement.querySelectorAll("td.e-selected"),bD)),b.add(document,"mousedown touchstart",n.documentHandler,n)}),O.isDevice){var l=this.createElement("div",{className:"e-dlg-overlay"});l.style.zIndex=(this.zIndex-1).toString(),this.mobilePopupWrapper.appendChild(l)}}},t.prototype.hide=function(e){var i=this;if(u(this.popupWrapper))O.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit();else{var n=!0;this.preventArgs={preventDefault:function(){n=!1},popup:this.popupObj,event:e||null,cancel:!1},M(this.inputWrapper.buttons,yD),M([document.body],hq);var s=this.preventArgs;this.isCalendar()?this.trigger("close",s,function(a){i.closeEventCallback(n,a)}):this.closeEventCallback(n,s)}},t.prototype.closeEventCallback=function(e,i){this.preventArgs=i,this.isCalendar()&&e&&!this.preventArgs.cancel&&(this.popupObj.hide(),this.isAltKeyPressed=!1,this.keyboardModule.destroy(),M(this.inputWrapper.buttons,yD)),this.setAriaAttributes(),O.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),O.isDevice&&!u(this.mobilePopupWrapper)&&e&&(u(this.preventArgs)||!this.preventArgs.cancel)&&(this.mobilePopupWrapper.remove(),this.mobilePopupWrapper=null),b.remove(document,"mousedown touchstart",this.documentHandler),O.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},t.prototype.focusIn=function(e){document.activeElement!==this.inputElement&&this.enabled&&(this.inputElement.focus(),D([this.inputWrapper.container],[qk]))},t.prototype.focusOut=function(){document.activeElement===this.inputElement&&(M([this.inputWrapper.container],[qk]),this.inputElement.blur())},t.prototype.currentView=function(){var e;return this.calendarElement&&(e=r.prototype.currentView.call(this)),e},t.prototype.navigateTo=function(e,i){this.calendarElement&&r.prototype.navigateTo.call(this,e,i)},t.prototype.destroy=function(){this.unBindEvents(),r.prototype.destroy.call(this),u(this.keyboardModules)||this.keyboardModules.destroy(),this.popupObj&&this.popupObj.element.classList.contains("e-popup")&&r.prototype.destroy.call(this);var e={"aria-atomic":"true","aria-disabled":"true","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-label":this.getModuleName()};this.inputElement&&(X.removeAttributes(e,this.inputElement),u(this.inputElementCopy.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),b.remove(this.inputElement,"blur",this.inputBlurHandler),b.remove(this.inputElement,"focus",this.inputFocusHandler),this.ensureInputAttribute()),this.isCalendar()&&(this.popupWrapper&&Q(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.keyboardModule.destroy()),null===this.ngTag&&(this.inputElement&&(u(this.inputWrapper)||this.inputWrapper.container.insertAdjacentElement("afterend",this.inputElement),M([this.inputElement],["e-input"])),M([this.element],[vD]),u(this.inputWrapper)||Q(this.inputWrapper.container)),this.formElement&&b.remove(this.formElement,"reset",this.resetFormHandler),this.inputWrapper=null,this.keyboardModules=null},t.prototype.ensureInputAttribute=function(){for(var e=[],i=0;i<this.inputElement.attributes.length;i++)e[i]=this.inputElement.attributes[i].name;for(i=0;i<e.length;i++)u(this.inputElementCopy.getAttribute(e[i]))?("value"===e[i].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(e[i])):("value"===e[i].toLowerCase()&&(this.inputElement.value=this.inputElementCopy.getAttribute(e[i])),this.inputElement.setAttribute(e[i],this.inputElementCopy.getAttribute(e[i])))},t.prototype.preRender=function(){this.inputElementCopy=this.element.cloneNode(!0),M([this.inputElementCopy],[vD,"e-control","e-lib"]),this.inputElement=this.element,this.formElement=I(this.inputElement,"form"),this.index=this.showClearButton?2:1,this.ngTag=null,("EJS-DATEPICKER"===this.element.tagName||"EJS-DATETIMEPICKER"===this.element.tagName)&&(this.ngTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.element.getAttribute("id")?null!==this.ngTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):"datetimepicker"===this.getModuleName()?(this.element.id=vt("ej2-datetimepicker"),null!==this.ngTag&&re(this.inputElement,{id:this.element.id+"_input"})):(this.element.id=vt("ej2-datepicker"),null!==this.ngTag&&re(this.inputElement,{id:this.element.id+"_input"})),null!==this.ngTag&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement(),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.checkHtmlAttributes(!1),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),r.prototype.preRender.call(this)},t.prototype.getDefaultKeyConfig=function(){return this.defaultKeyConfigs={altUpArrow:"alt+uparrow",altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",shiftTab:"shift+tab",tab:"tab"},this.defaultKeyConfigs},t.prototype.validationAttribute=function(e,i){var n=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");i.setAttribute("name",n),e.removeAttribute("name");for(var s=["required","aria-required","form"],a=0;a<s.length;a++)if(!u(e.getAttribute(s[a]))){var o=e.getAttribute(s[a]);i.setAttribute(s[a],o),e.removeAttribute(s[a])}},t.prototype.checkFormat=function(){var e=new Li(this.locale);if(this.format)if("string"==typeof this.format)this.formatString=this.format;else if(""===this.format.skeleton||u(this.format.skeleton))this.formatString="datetimepicker"===this.getModuleName()?this.dateTimeFormat:null;else{var i=this.format.skeleton;this.formatString="datetimepicker"===this.getModuleName()?e.getDatePattern({skeleton:i,type:"dateTime"}):e.getDatePattern({skeleton:i,type:"date"})}else this.formatString=null},t.prototype.checkHtmlAttributes=function(e){this.globalize=new Li(this.locale),this.checkFormat(),this.checkView();var n,i=e?u(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","disabled","readonly","style","name","placeholder","type"];n="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:u(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:u(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};for(var s=0,a=i;s<a.length;s++){var o=a[s];if(!u(this.inputElement.getAttribute(o)))switch(o){case"disabled":if(u(this.datepickerOptions)||void 0===this.datepickerOptions.enabled||e){var l=!("disabled"===this.inputElement.getAttribute(o)||""===this.inputElement.getAttribute(o)||"true"===this.inputElement.getAttribute(o));this.setProperties({enabled:l},!e)}break;case"readonly":if(u(this.datepickerOptions)||void 0===this.datepickerOptions.readonly||e){var h="readonly"===this.inputElement.getAttribute(o)||""===this.inputElement.getAttribute(o)||"true"===this.inputElement.getAttribute(o);this.setProperties({readonly:h},!e)}break;case"placeholder":(u(this.datepickerOptions)||void 0===this.datepickerOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(o)},!e);break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(o));break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(o));break;case"value":if(u(this.datepickerOptions)||void 0===this.datepickerOptions.value||e){var c=this.inputElement.getAttribute(o);this.setProperties(We(o,this.globalize.parseDate(c,n),{}),!e)}break;case"min":if(+this.min==+new Date(1900,0,1)||e){var d=this.inputElement.getAttribute(o);this.setProperties(We(o,this.globalize.parseDate(d),{}),!e)}break;case"max":if(+this.max==+new Date(2099,11,31)||e){var p=this.inputElement.getAttribute(o);this.setProperties(We(o,this.globalize.parseDate(p),{}),!e)}break;case"type":"text"!==this.inputElement.getAttribute(o)&&this.inputElement.setAttribute("type","text")}}},t.prototype.getModuleName=function(){return"datepicker"},t.prototype.disabledDates=function(e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var a=this.checkDateValue(this.value)?new Date(+this.value):new Date(this.checkValue(this.value)),o=this.previousDate;this.minMaxUpdates(),(!e||e&&!u(this.renderDayCell))&&r.prototype.render.call(this),this.previousDate=o;var c,h='*[id^="/id"]'.replace("/id",""+(a&&+a));this.strictMode||("string"==typeof this.value||"object"==typeof this.value&&+this.value!=+a)&&this.setProperties({value:a},!0),!u(this.calendarElement)&&!u(this.calendarElement.querySelectorAll(h)[0])&&this.calendarElement.querySelectorAll(h)[0].classList.contains("e-disabled")&&(this.strictMode||(this.currentDate=new Date((new Date).setHours(0,0,0,0)))),c="datetimepicker"===this.getModuleName()?this.globalize.formatDate(a,"Gregorian"===this.calendarMode?{format:u(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:u(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):this.globalize.formatDate(a,"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),this.popupObj||(this.updateInputValue(c),this.enableMask&&(this.updateInputValue(this.maskedDateValue),this.notify("createMask",{module:"MaskedDateTime",isBlur:i})))},t.prototype.setAriaAttributes=function(){this.isCalendar()?(X.addAttributes({"aria-expanded":"true"},this.inputElement),re(this.inputElement,{"aria-owns":this.inputElement.id+"_options"}),this.value&&re(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()})):(X.addAttributes({"aria-expanded":"false"},this.inputElement),this.inputElement.removeAttribute("aria-owns"),this.inputElement.removeAttribute("aria-activedescendant"))},t.prototype.errorClass=function(){var e='*[id^="/id"]'.replace("/id",""+ +this.value),i=this.calendarElement&&this.calendarElement.querySelectorAll(e)[0]&&this.calendarElement.querySelectorAll(e)[0].classList.contains("e-disabled");!(u(this.value)||u(this.min)||u(this.max)||new Date(this.value).setMilliseconds(0)>=new Date(this.min).setMilliseconds(0)&&new Date(this.value).setMilliseconds(0)<=new Date(this.max).setMilliseconds(0))||!this.strictMode&&""!==this.inputElement.value&&this.inputElement.value!==this.maskedDateValue&&u(this.value)||i?(D([this.inputWrapper.container],lq),re(this.inputElement,{"aria-invalid":"true"})):u(this.inputWrapper)||(M([this.inputWrapper.container],lq),re(this.inputElement,{"aria-invalid":"false"}))},t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++){switch(s[n]){case"value":this.isDynamicValueChanged=!0,this.isInteracted=!1,this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,this.previousElementValue=this.inputElement.value,u(this.value)&&(this.updateInputValue(this.enableMask?this.maskedDateValue:""),this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.updateInput(!0),+this.previousDate!=+this.value&&this.changeTrigger(null),this.isInteracted=!0,this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange,this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"format":this.checkFormat(),this.bindInputEvent(),this.updateInput(),this.enableMask&&(this.notify("createMask",{module:"MaskedDateTime"}),this.value||this.updateInputValue(this.maskedDateValue));break;case"allowEdit":this.setAllowEdit();break;case"placeholder":X.setPlaceholder(this.placeholder,this.inputElement);break;case"readonly":X.setReadonly(this.readonly,this.inputElement);break;case"enabled":X.setEnabled(this.enabled,this.inputElement),this.setAriaDisabled();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkHtmlAttributes(!0);break;case"locale":this.globalize=new Li(this.locale),this.l10n.setLocale(this.locale),this.datepickerOptions&&null==this.datepickerOptions.placeholder&&(this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),X.setPlaceholder(this.placeholder,this.inputElement)),this.updateInput(),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"enableRtl":X.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"start":case"depth":this.checkView(),this.calendarElement&&r.prototype.onPropertyChanged.call(this,e,i);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0);break;case"cssClass":this.updateCssClass(e.cssClass,i.cssClass);break;case"showClearButton":X.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent(),this.index=this.showClearButton?2:1;break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width),X.calculateWidth(this.inputElement,this.inputWrapper.container),!u(this.inputWrapper.buttons[0])&&!u(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"floatLabelType":this.floatLabelType=e.floatLabelType,X.removeFloating(this.inputWrapper),X.addFloating(this.inputElement,this.floatLabelType,this.placeholder),!u(this.inputWrapper.buttons[0])&&!u(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),this.updateInputValue(this.maskedDateValue),this.bindInputEvent()):this.inputElement.value===this.maskedDateValue&&this.updateInputValue("");break;default:this.calendarElement&&this.isCalendar()&&r.prototype.onPropertyChanged.call(this,e,i)}this.isDynamicValueChanged||this.hide(null),this.isDynamicValueChanged=!1}},Bi([v(null)],t.prototype,"width",void 0),Bi([v(null)],t.prototype,"value",void 0),Bi([v(null)],t.prototype,"cssClass",void 0),Bi([v(!1)],t.prototype,"strictMode",void 0),Bi([v(null)],t.prototype,"format",void 0),Bi([v(!0)],t.prototype,"enabled",void 0),Bi([v(!1)],t.prototype,"fullScreenMode",void 0),Bi([v({})],t.prototype,"htmlAttributes",void 0),Bi([v(null)],t.prototype,"values",void 0),Bi([v(!1)],t.prototype,"isMultiSelection",void 0),Bi([v(!0)],t.prototype,"showClearButton",void 0),Bi([v(!0)],t.prototype,"allowEdit",void 0),Bi([v(null)],t.prototype,"keyConfigs",void 0),Bi([v(!1)],t.prototype,"enablePersistence",void 0),Bi([v(1e3)],t.prototype,"zIndex",void 0),Bi([v(!1)],t.prototype,"readonly",void 0),Bi([v(null)],t.prototype,"placeholder",void 0),Bi([v("Never")],t.prototype,"floatLabelType",void 0),Bi([v(null)],t.prototype,"serverTimezoneOffset",void 0),Bi([v(!1)],t.prototype,"openOnFocus",void 0),Bi([v(!1)],t.prototype,"enableMask",void 0),Bi([v({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],t.prototype,"maskPlaceholder",void 0),Bi([x()],t.prototype,"open",void 0),Bi([x()],t.prototype,"cleared",void 0),Bi([x()],t.prototype,"close",void 0),Bi([x()],t.prototype,"blur",void 0),Bi([x()],t.prototype,"focus",void 0),Bi([x()],t.prototype,"created",void 0),Bi([x()],t.prototype,"destroyed",void 0),Bi([et],t)}(nq);(new Date).getDate(),(new Date).getMonth(),(new Date).getFullYear(),function(r){r.createListItems=function(e,i,n,s,a,o){var l,h=6e4*o,c=[],d=[];l=+i.setMilliseconds(0);for(var p=+n.setMilliseconds(0);p>=l;)d.push(l),c.push(s.formatDate(new Date(l),{format:a,type:"time"})),l+=h;return{collection:d,list:st.createList(e,c,null,!0)}}}(tN||(tN={}));var Gq,Zge=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),li=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},ive=(new Date).getDate(),nve=(new Date).getMonth(),sve=(new Date).getFullYear(),rve=(new Date).getHours(),ave=(new Date).getMinutes(),ove=(new Date).getSeconds(),lve=(new Date).getMilliseconds(),Gv="e-datetimepicker",_q="e-datetimepopup-wrapper",Lq="e-popup",$v="e-input-focus",Pq="e-icon-anim",iN="e-disabled",Fq="e-error",jc="e-active",nN="e-hover",Bc="e-list-item",jq="e-time-overflow",fve=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.valueWithMinutes=null,n.scrollInvoked=!1,n.moduleName=n.getModuleName(),n.dateTimeOptions=e,n}return Zge(t,r),t.prototype.focusHandler=function(){!this.enabled||D([this.inputWrapper.container],$v)},t.prototype.focusIn=function(){r.prototype.focusIn.call(this)},t.prototype.focusOut=function(){document.activeElement===this.inputElement&&(this.inputElement.blur(),M([this.inputWrapper.container],[$v]))},t.prototype.blurHandler=function(e){if(this.enabled){if(this.isTimePopupOpen()&&this.isPreventBlur)return void this.inputElement.focus();M([this.inputWrapper.container],$v);var i={model:this};this.isTimePopupOpen()&&this.hide(e),this.trigger("blur",i)}},t.prototype.destroy=function(){this.popupObject&&this.popupObject.element.classList.contains(Lq)&&(this.popupObject.destroy(),Q(this.dateTimeWrapper),this.dateTimeWrapper=void 0,this.liCollections=this.timeCollections=[],u(this.rippleFn)||this.rippleFn()),this.inputElement&&X.removeAttributes({"aria-live":"assertive","aria-atomic":"true","aria-invalid":"false",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-expanded":"false",role:"combobox",autocomplete:"off"},this.inputElement),this.isCalendar()&&(this.popupWrapper&&Q(this.popupWrapper),this.popupObject=this.popupWrapper=null,this.keyboardHandler.destroy()),this.unBindInputEvents(),this.liCollections=null,this.rippleFn=null,this.selectedElement=null,this.listTag=null,this.timeIcon=null,this.popupObject=null,this.preventArgs=null,this.keyboardModule=null,r.prototype.destroy.call(this)},t.prototype.render=function(){this.timekeyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.valueWithMinutes=null,this.previousDateTime=null,this.isPreventBlur=!1,this.cloneElement=this.element.cloneNode(!0),this.dateTimeFormat=this.cldrDateTimeFormat(),this.initValue=this.value,"string"==typeof this.min&&(this.min=this.checkDateValue(new Date(this.min))),"string"==typeof this.max&&(this.max=this.checkDateValue(new Date(this.max))),!u(I(this.element,"fieldset"))&&I(this.element,"fieldset").disabled&&(this.enabled=!1),r.prototype.updateHtmlAttributeToElement.call(this),this.checkAttributes(!1),this.l10n=new fi("datetimepicker",{placeholder:this.placeholder},this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),r.prototype.render.call(this),this.createInputElement(),r.prototype.updateHtmlAttributeToWrapper.call(this),this.bindInputEvents(),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"}),this.setValue(!0),this.enableMask&&!this.value&&this.maskedDateValue&&("Always"===this.floatLabelType||!this.floatLabelType||!this.placeholder)&&X.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkValue(this.scrollTo)))},!0),this.previousDateTime=this.value&&new Date(+this.value),"EJS-DATETIMEPICKER"===this.element.tagName&&(this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.enabled||(this.inputElement.tabIndex=-1)),"Auto"===this.floatLabelType&&X.calculateWidth(this.inputElement,this.inputWrapper.container),!u(this.inputWrapper.buttons[0])&&!u(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-date-time-icon"),this.renderComplete()},t.prototype.setValue=function(e){if(void 0===e&&(e=!1),this.initValue=this.validateMinMaxRange(this.value),!this.strictMode&&this.isDateObject(this.initValue)){var i=this.validateMinMaxRange(this.initValue);X.setValue(this.getFormattedValue(i),this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:i},!0)}else u(this.value)&&(this.initValue=null,this.setProperties({value:null},!0));this.valueWithMinutes=this.value,r.prototype.updateInput.call(this,e)},t.prototype.validateMinMaxRange=function(e){var i=e;return this.isDateObject(e)?i=this.validateValue(e):+this.min>+this.max&&this.disablePopupButton(!0),this.checkValidState(i),i},t.prototype.checkValidState=function(e){this.isValidState=!0,this.strictMode||(+e>+this.max||+e<+this.min)&&(this.isValidState=!1),this.checkErrorState()},t.prototype.checkErrorState=function(){this.isValidState?M([this.inputWrapper.container],Fq):D([this.inputWrapper.container],Fq),re(this.inputElement,{"aria-invalid":this.isValidState?"false":"true"})},t.prototype.validateValue=function(e){var i=e;return this.strictMode?+this.min>+this.max?(this.disablePopupButton(!0),i=this.max):+e<+this.min?i=this.min:+e>+this.max&&(i=this.max):+this.min>+this.max&&(this.disablePopupButton(!0),i=e),i},t.prototype.disablePopupButton=function(e){e?(D([this.inputWrapper.buttons[0],this.timeIcon],iN),this.hide()):M([this.inputWrapper.buttons[0],this.timeIcon],iN)},t.prototype.getFormattedValue=function(e){var i;return u(e)?null:(i="Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd"}:{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd",calendar:"islamic"},this.globalize.formatDate(e,i))},t.prototype.isDateObject=function(e){return!u(e)&&!isNaN(+e)},t.prototype.createInputElement=function(){M([this.inputElement],"e-datepicker"),M([this.inputWrapper.container],"e-date-wrapper"),D([this.inputWrapper.container],"e-datetime-wrapper"),D([this.inputElement],Gv),this.renderTimeIcon()},t.prototype.renderTimeIcon=function(){this.timeIcon=X.appendSpan("e-input-group-icon e-time-icon e-icons",this.inputWrapper.container)},t.prototype.bindInputEvents=function(){b.add(this.timeIcon,"mousedown",this.timeHandler,this),b.add(this.inputWrapper.buttons[0],"mousedown",this.dateHandler,this),b.add(this.inputElement,"blur",this.blurHandler,this),b.add(this.inputElement,"focus",this.focusHandler,this),this.defaultKeyConfigs=z(this.defaultKeyConfigs,this.keyConfigs),this.keyboardHandler=new Lt(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyAction.bind(this),keyConfigs:this.defaultKeyConfigs})},t.prototype.unBindInputEvents=function(){b.remove(this.timeIcon,"mousedown touchstart",this.timeHandler),b.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateHandler),this.inputElement&&(b.remove(this.inputElement,"blur",this.blurHandler),b.remove(this.inputElement,"focus",this.focusHandler)),this.keyboardHandler&&this.keyboardHandler.destroy()},t.prototype.cldrTimeFormat=function(){return this.isNullOrEmpty(this.timeFormat)?"en"===this.locale||"en-US"===this.locale?_("timeFormats.short",Ps()):this.getCultureTimeObject(ji,""+this.locale):this.timeFormat},t.prototype.cldrDateTimeFormat=function(){var n=new Li(this.locale).getDatePattern({skeleton:"yMd"});return this.isNullOrEmpty(this.formatString)?n+" "+this.getCldrFormat("time"):this.formatString},t.prototype.getCldrFormat=function(e){return"en"===this.locale||"en-US"===this.locale?_("timeFormats.short",Ps()):this.getCultureTimeObject(ji,""+this.locale)},t.prototype.isNullOrEmpty=function(e){return!!(u(e)||"string"==typeof e&&""===e.trim())},t.prototype.getCultureTimeObject=function(e,i){return _("Gregorian"===this.calendarMode?"main."+this.locale+".dates.calendars.gregorian.timeFormats.short":"main."+this.locale+".dates.calendars.islamic.timeFormats.short",e)},t.prototype.timeHandler=function(e){!this.enabled||(this.isIconClicked=!0,O.isDevice&&this.inputElement.setAttribute("readonly",""),e.currentTarget===this.timeIcon&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isDatePopupOpen()&&r.prototype.hide.call(this,e),this.isTimePopupOpen()?this.closePopup(e):(this.inputElement.focus(),this.popupCreation("time",e),D([this.inputWrapper.container],[$v]))),this.isIconClicked=!1)},t.prototype.dateHandler=function(e){!this.enabled||(e.currentTarget===this.inputWrapper.buttons[0]&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isTimePopupOpen()&&this.closePopup(e),u(this.popupWrapper)||this.popupCreation("date",e)))},t.prototype.show=function(e,i){this.enabled&&this.readonly||!this.enabled||("time"!==e||this.dateTimeWrapper?this.popupObj||(this.isTimePopupOpen()&&this.hide(i),r.prototype.show.call(this),this.popupCreation("date",i)):(this.isDatePopupOpen()&&this.hide(i),this.popupCreation("time",i)))},t.prototype.toggle=function(e){this.isDatePopupOpen()?(r.prototype.hide.call(this,e),this.show("time",null)):this.isTimePopupOpen()?(this.hide(e),r.prototype.show.call(this,null,e),this.popupCreation("date",null)):this.show(null,e)},t.prototype.listCreation=function(){var e;e=this.globalize.parseDate(this.inputElement.value,"Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"datetime"}:{format:this.cldrDateTimeFormat(),type:"datetime",calendar:"islamic"});var i=u(this.value)?""!==this.inputElement.value?e:new Date:this.value;this.valueWithMinutes=i,this.listWrapper=N("div",{className:"e-content",attrs:{tabindex:"0"}});var n=this.startTime(i),s=this.endTime(i),a=tN.createListItems(this.createElement,n,s,this.globalize,this.cldrTimeFormat(),this.step);this.timeCollections=a.collection,this.listTag=a.list,re(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),ce([a.list],this.listWrapper),this.wireTimeListEvents(),this.rippleFn=xi(this.listWrapper,{duration:300,selector:"."+Bc}),this.liCollections=this.listWrapper.querySelectorAll("."+Bc)},t.prototype.popupCreation=function(e,i){if(O.isDevice&&this.element.setAttribute("readonly","readonly"),"date"===e)!this.readonly&&this.popupWrapper&&(D([this.popupWrapper],_q),re(this.popupWrapper,{id:this.element.id+"_datepopup"}));else if(!this.readonly&&(this.dateTimeWrapper=N("div",{className:Gv+" "+Lq,attrs:{id:this.element.id+"_timepopup",style:"visibility:hidden ; display:block"}}),u(this.cssClass)||(this.dateTimeWrapper.className+=" "+this.cssClass),!u(this.step)&&this.step>0&&(this.listCreation(),ce([this.listWrapper],this.dateTimeWrapper)),document.body.appendChild(this.dateTimeWrapper),this.addTimeSelection(),this.renderPopup(),this.setTimeScrollPosition(),this.openPopup(i),(!O.isDevice||O.isDevice&&!this.fullScreenMode)&&this.popupObject.refreshPosition(this.inputElement),O.isDevice&&this.fullScreenMode&&(this.dateTimeWrapper.style.left="0px"),O.isDevice)){var n=this.createElement("div",{className:"e-dlg-overlay"});n.style.zIndex=(this.zIndex-1).toString(),this.timeModal.appendChild(n)}},t.prototype.openPopup=function(e){var i=this;this.preventArgs={cancel:!1,popup:this.popupObject,event:e||null},this.trigger("open",this.preventArgs,function(s){if(i.preventArgs=s,!i.preventArgs.cancel&&!i.readonly){i.popupObject.show(new vi({name:"FadeIn",duration:100}),1e3===i.zIndex?i.element:null),D([i.inputWrapper.container],[Pq]),re(i.inputElement,{"aria-expanded":"true"}),re(i.inputElement,{"aria-owns":i.inputElement.id+"_options"}),b.add(document,"mousedown touchstart",i.documentClickHandler,i)}})},t.prototype.documentClickHandler=function(e){var i=e.target;!u(this.popupObject)&&(this.inputWrapper.container.contains(i)&&"mousedown"!==e.type||this.popupObject.element&&this.popupObject.element.contains(i))&&"touchstart"!==e.type&&e.preventDefault(),I(i,'[id="'+(this.popupObject&&this.popupObject.element.id+'"]'))||i===this.inputElement||i===this.timeIcon||u(this.inputWrapper)||i===this.inputWrapper.container||i.classList.contains("e-dlg-overlay")?i!==this.inputElement&&(O.isDevice||(this.isPreventBlur=document.activeElement===this.inputElement&&(O.isIE||"edge"===O.info.name)&&i===this.popupObject.element)):this.isTimePopupOpen()&&(this.hide(e),this.focusOut())},t.prototype.isTimePopupOpen=function(){return!(!this.dateTimeWrapper||!this.dateTimeWrapper.classList.contains(""+Gv))},t.prototype.isDatePopupOpen=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+_q))},t.prototype.renderPopup=function(){var e=this;if(this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),O.isDevice&&(this.timeModal=N("div"),this.timeModal.className=Gv+" e-time-modal",document.body.className+=" "+jq,this.timeModal.style.display="block",document.body.appendChild(this.timeModal)),this.popupObject=new us(this.dateTimeWrapper,{width:this.setPopupWidth(),zIndex:this.zIndex,targetType:"container",collision:O.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},relateTo:O.isDevice?document.body:this.inputWrapper.container,position:O.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},enableRtl:this.enableRtl,offsetY:4,open:function(){e.dateTimeWrapper.style.visibility="visible",D([e.timeIcon],jc),O.isDevice||(e.timekeyConfigure=z(e.timekeyConfigure,e.keyConfigs),e.inputEvent=new Lt(e.inputWrapper.container,{keyAction:e.timeKeyActionHandle.bind(e),keyConfigs:e.timekeyConfigure,eventName:"keydown"}))},close:function(){M([e.timeIcon],jc),e.unWireTimeListEvents(),e.inputElement.removeAttribute("aria-activedescendant"),me(e.popupObject.element),e.popupObject.destroy(),e.dateTimeWrapper.innerHTML="",e.listWrapper=e.dateTimeWrapper=void 0,e.inputEvent&&e.inputEvent.destroy()},targetExitViewport:function(){O.isDevice||e.hide()}}),O.isDevice&&this.fullScreenMode?(this.popupObject.element.style.display="flex",this.popupObject.element.style.maxHeight="100%",this.popupObject.element.style.width="100%"):this.popupObject.element.style.maxHeight="250px",O.isDevice&&this.fullScreenMode){var n=N("div",{className:"e-datetime-mob-popup-wrap"}),s=this.createElement("div",{className:"e-model-header"}),a=this.createElement("span",{className:"e-model-title"});a.textContent="Select time";var o=this.createElement("span",{className:"e-popup-close"});b.add(o,"mousedown touchstart",this.dateTimeCloseHandler,this);var l=this.dateTimeWrapper.querySelector(".e-content");s.appendChild(o),s.appendChild(a),n.appendChild(s),n.appendChild(l),this.dateTimeWrapper.insertBefore(n,this.dateTimeWrapper.firstElementChild)}},t.prototype.dateTimeCloseHandler=function(e){this.hide()},t.prototype.setDimension=function(e){return"number"==typeof e?$(e):"string"==typeof e?e:"100%"},t.prototype.setPopupWidth=function(){var e=this.setDimension(this.width);return e.indexOf("%")>-1&&(e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px"),e},t.prototype.wireTimeListEvents=function(){b.add(this.listWrapper,"click",this.onMouseClick,this),O.isDevice||(b.add(this.listWrapper,"mouseover",this.onMouseOver,this),b.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},t.prototype.unWireTimeListEvents=function(){this.listWrapper&&(b.remove(this.listWrapper,"click",this.onMouseClick),b.remove(document,"mousedown touchstart",this.documentClickHandler),O.isDevice||(b.add(this.listWrapper,"mouseover",this.onMouseOver,this),b.add(this.listWrapper,"mouseout",this.onMouseLeave,this)))},t.prototype.onMouseOver=function(e){var i=I(e.target,"."+Bc);this.setTimeHover(i,nN)},t.prototype.onMouseLeave=function(){this.removeTimeHover(nN)},t.prototype.setTimeHover=function(e,i){this.enabled&&this.isValidLI(e)&&!e.classList.contains(i)&&(this.removeTimeHover(i),D([e],i))},t.prototype.getPopupHeight=function(){var e=parseInt("250px",10),i=this.dateTimeWrapper.getBoundingClientRect().height;return O.isDevice&&this.fullScreenMode?i:i>e?e:i},t.prototype.changeEvent=function(e){r.prototype.changeEvent.call(this,e),(this.value&&this.value.valueOf())!==(this.previousDateTime&&+this.previousDateTime.valueOf())&&(this.valueWithMinutes=this.value,this.setInputValue("date"),this.previousDateTime=this.value&&new Date(+this.value))},t.prototype.updateValue=function(e){this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs={value:this.value,event:e||null,isInteracted:!u(e),element:this.element},this.addTimeSelection(),this.trigger("change",this.changedArgs),this.previousDateTime=this.previousDate=this.value)},t.prototype.setTimeScrollPosition=function(){var e=this.selectedElement;u(e)?this.dateTimeWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)},t.prototype.findScrollTop=function(e){var i=this.getPopupHeight(),n=e.nextElementSibling,s=n?n.offsetTop:e.offsetTop,a=e.getBoundingClientRect().height;s+e.offsetTop>i?O.isDevice&&this.fullScreenMode?this.dateTimeWrapper.querySelector(".e-content").scrollTop=n?s-(i/2+a/2):s:this.dateTimeWrapper.scrollTop=n?s-(i/2+a/2):s:this.dateTimeWrapper.scrollTop=0},t.prototype.setScrollTo=function(){var e,i=this.dateTimeWrapper.querySelectorAll("."+Bc);if(i.length>=0){this.scrollInvoked=!0;var n=this.timeCollections[0],s=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();e=i[Math.round((s-n)/(6e4*this.step))]}else this.dateTimeWrapper.scrollTop=0;u(e)?this.dateTimeWrapper.scrollTop=0:this.findScrollTop(e)},t.prototype.setInputValue=function(e){if("date"===e)this.inputElement.value=this.previousElementValue=this.getFormattedValue(this.getFullDateTime()),this.setProperties({value:this.getFullDateTime()},!0);else{var i=this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));X.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton),this.previousElementValue=this.inputElement.value,this.setProperties({value:new Date(this.timeCollections[this.activeIndex])},!0),this.enableMask&&this.createMask()}this.updateIconState()},t.prototype.getFullDateTime=function(){var e;return e=this.isDateObject(this.valueWithMinutes)?this.combineDateTime(this.valueWithMinutes):this.previousDate,this.validateMinMaxRange(e)},t.prototype.createMask=function(){this.notify("createMask",{module:"MaskedDateTime"})},t.prototype.combineDateTime=function(e){if(this.isDateObject(e)){var i=this.previousDate.getDate(),n=this.previousDate.getMonth(),s=this.previousDate.getFullYear(),a=e.getHours(),o=e.getMinutes(),l=e.getSeconds();return new Date(s,n,i,a,o,l)}return this.previousDate},t.prototype.onMouseClick=function(e){var n=this.selectedElement=I(e.target,"."+Bc);n&&n.classList.contains(Bc)&&(this.timeValue=n.getAttribute("data-value"),this.hide(e)),this.setSelection(n,e)},t.prototype.setSelection=function(e,i){if(this.isValidLI(e)&&!e.classList.contains(jc)){this.selectedElement=e;var n=Array.prototype.slice.call(this.liCollections).indexOf(e);this.activeIndex=n,this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),D([this.selectedElement],jc),this.selectedElement.setAttribute("aria-selected","true"),this.updateValue(i)}},t.prototype.setTimeActiveClass=function(){var e=u(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;if(!u(e)){var i=e.querySelectorAll("."+Bc);if(i.length)for(var n=0;n<i.length;n++)if(this.timeCollections[n]===+this.valueWithMinutes){i[n].setAttribute("aria-selected","true"),this.selectedElement=i[n],this.activeIndex=n,this.setTimeActiveDescendant();break}}},t.prototype.setTimeActiveDescendant=function(){!u(this.selectedElement)&&this.value?re(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")}):this.inputElement.removeAttribute("aria-activedescendant")},t.prototype.addTimeSelection=function(){this.selectedElement=null,this.removeTimeSelection(),this.setTimeActiveClass(),u(this.selectedElement)||(D([this.selectedElement],jc),this.selectedElement.setAttribute("aria-selected","true"))},t.prototype.removeTimeSelection=function(){if(this.removeTimeHover(nN),!u(this.dateTimeWrapper)){var e=this.dateTimeWrapper.querySelectorAll("."+jc);e.length&&(M(e,jc),e[0].removeAttribute("aria-selected"))}},t.prototype.removeTimeHover=function(e){var i=this.getTimeHoverItem(e);i&&i.length&&M(i,e)},t.prototype.getTimeHoverItem=function(e){var n,i=u(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;return u(i)||(n=i.querySelectorAll("."+e)),n},t.prototype.isValidLI=function(e){return e&&e.classList.contains(Bc)&&!e.classList.contains(iN)},t.prototype.calculateStartEnd=function(e,i,n){var s=e.getDate(),a=e.getMonth(),o=e.getFullYear(),l=e.getHours(),h=e.getMinutes(),c=e.getSeconds(),d=e.getMilliseconds();return i?"starttime"===n?new Date(o,a,s,0,0,0):new Date(o,a,s,23,59,59):new Date(o,a,s,l,h,c,d)},t.prototype.startTime=function(e){var i,n,s=this.min,a=null===e?new Date:e;return+a.getDate()==+s.getDate()&&+a.getMonth()==+s.getMonth()&&+a.getFullYear()==+s.getFullYear()||+new Date(a.getFullYear(),a.getMonth(),a.getDate())<=+new Date(s.getFullYear(),s.getMonth(),s.getDate())?(n=!1,i=this.min):+a<+this.max&&+a>+this.min?(n=!0,i=a):+a>=+this.max&&(n=!0,i=this.max),this.calculateStartEnd(i,n,"starttime")},t.prototype.endTime=function(e){var i,n,s=this.max,a=null===e?new Date:e;return+a.getDate()==+s.getDate()&&+a.getMonth()==+s.getMonth()&&+a.getFullYear()==+s.getFullYear()||+new Date(a.getUTCFullYear(),a.getMonth(),a.getDate())>=+new Date(s.getFullYear(),s.getMonth(),s.getDate())?(n=!1,i=this.max):+a<+this.max&&+a>+this.min?(n=!0,i=a):+a<=+this.min&&(n=!0,i=this.min),this.calculateStartEnd(i,n,"endtime")},t.prototype.hide=function(e){var i=this;if(this.popupObj||this.dateTimeWrapper){this.preventArgs={cancel:!1,popup:this.popupObj||this.popupObject,event:e||null};var n=this.preventArgs;u(this.popupObj)?this.trigger("close",n,function(s){i.dateTimeCloseEventCallback(e,s)}):this.dateTimeCloseEventCallback(e,n)}else O.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},t.prototype.dateTimeCloseEventCallback=function(e,i){this.preventArgs=i,this.preventArgs.cancel||(this.isDatePopupOpen()?r.prototype.hide.call(this,e):this.isTimePopupOpen()&&(this.closePopup(e),M([document.body],jq),O.isDevice&&this.timeModal&&(this.timeModal.style.display="none",this.timeModal.outerHTML="",this.timeModal=null),this.setTimeActiveDescendant())),O.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},t.prototype.closePopup=function(e){this.isTimePopupOpen()&&this.popupObject&&(this.popupObject.hide(new vi({name:"FadeOut",duration:100,delay:0})),this.inputWrapper.container.classList.remove(Pq),re(this.inputElement,{"aria-expanded":"false"}),this.inputElement.removeAttribute("aria-owns"),b.remove(document,"mousedown touchstart",this.documentClickHandler))},t.prototype.preRender=function(){this.checkFormat(),this.dateTimeFormat=this.cldrDateTimeFormat(),r.prototype.preRender.call(this),M([this.inputElementCopy],[Gv])},t.prototype.getProperty=function(e,i){this.setProperties("min"===i?{min:this.validateValue(e.min)}:{max:this.validateValue(e.max)},!0)},t.prototype.checkAttributes=function(e){for(var n,s=0,a=e?u(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["style","name","step","disabled","readonly","value","min","max","placeholder","type"];s<a.length;s++){var o=a[s];if(!u(this.inputElement.getAttribute(o)))switch(o){case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(o));break;case"step":this.step=parseInt(this.inputElement.getAttribute(o),10);break;case"readonly":if(u(this.dateTimeOptions)||void 0===this.dateTimeOptions.readonly||e){var l="disabled"===this.inputElement.getAttribute(o)||""===this.inputElement.getAttribute(o)||"true"===this.inputElement.getAttribute(o);this.setProperties({readonly:l},!e)}break;case"placeholder":(u(this.dateTimeOptions)||void 0===this.dateTimeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(o)},!e);break;case"min":(u(this.dateTimeOptions)||void 0===this.dateTimeOptions.min||e)&&(n=new Date(this.inputElement.getAttribute(o)),!this.isNullOrEmpty(n)&&!isNaN(+n)&&this.setProperties({min:n},!e));break;case"disabled":if(u(this.dateTimeOptions)||void 0===this.dateTimeOptions.enabled||e){var h=!("disabled"===this.inputElement.getAttribute(o)||"true"===this.inputElement.getAttribute(o)||""===this.inputElement.getAttribute(o));this.setProperties({enabled:h},!e)}break;case"value":(u(this.dateTimeOptions)||void 0===this.dateTimeOptions.value||e)&&(n=new Date(this.inputElement.getAttribute(o)),!this.isNullOrEmpty(n)&&!isNaN(+n)&&this.setProperties({value:n},!e));break;case"max":(u(this.dateTimeOptions)||void 0===this.dateTimeOptions.max||e)&&(n=new Date(this.inputElement.getAttribute(o)),!this.isNullOrEmpty(n)&&!isNaN(+n)&&this.setProperties({max:n},!e))}}},t.prototype.requiredModules=function(){var e=[];return this&&e.push({args:[this],member:"islamic"}),this.enableMask&&e.push(this.maskedDateModule()),e},t.prototype.maskedDateModule=function(){return{args:[this],member:"MaskedDateTime"}},t.prototype.getTimeActiveElement=function(){return u(this.dateTimeWrapper)?null:this.dateTimeWrapper.querySelectorAll("."+jc)},t.prototype.createDateObj=function(e){return e instanceof Date?e:null},t.prototype.getDateObject=function(e){if(!this.isNullOrEmpty(e)){var i=this.createDateObj(e),n=this.valueWithMinutes,s=!u(n);if(this.checkDateValue(i)){var a=s?n.getDate():ive,o=s?n.getMonth():nve,l=s?n.getFullYear():sve,h=s?n.getHours():rve,c=s?n.getMinutes():ave,d=s?n.getSeconds():ove,p=s?n.getMilliseconds():lve;return this.scrollInvoked?(this.scrollInvoked=!1,new Date(l,o,a,i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())):new Date(l,o,a,h,c,d,p)}}return null},t.prototype.findNextTimeElement=function(e){var i=this.inputElement.value,n=u(this.valueWithMinutes)?this.createDateObj(i):this.getDateObject(this.valueWithMinutes),s=null,a=this.liCollections.length;if(!u(this.activeIndex)||!u(this.checkDateValue(n))){if("home"===e.action)s=+this.createDateObj(new Date(this.timeCollections[0])),this.activeIndex=0;else if("end"===e.action)s=+this.createDateObj(new Date(this.timeCollections[this.timeCollections.length-1])),this.activeIndex=this.timeCollections.length-1;else if("down"===e.action){for(var o=0;o<a;o++)if(+n<this.timeCollections[o]){s=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}}else for(o=a-1;o>=0;o--)if(+n>this.timeCollections[o]){s=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(u(s)?null:new Date(s))}},t.prototype.setTimeValue=function(e,i){var n,s,a=this.validateMinMaxRange(i),o=this.createDateObj(a);return this.getFormattedValue(o)!==(u(this.value)?null:this.getFormattedValue(this.value))?(this.valueWithMinutes=u(o)?null:o,s=new Date(+this.valueWithMinutes)):(this.strictMode&&(e=o),this.valueWithMinutes=this.checkDateValue(e),s=new Date(+this.valueWithMinutes)),n=this.globalize.formatDate(s,"Gregorian"===this.calendarMode?{format:u(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd"}:{format:u(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),!this.strictMode&&u(s),X.setValue(n,this.inputElement,this.floatLabelType,this.showClearButton),s},t.prototype.timeElementValue=function(e){if(!u(this.checkDateValue(e))&&!this.isNullOrEmpty(e)){var i=e instanceof Date?e:this.getDateObject(e);return this.setTimeValue(i,e)}return null},t.prototype.timeKeyHandler=function(e){if(!(u(this.step)||this.step<=0)){var i=this.timeCollections.length;if(u(this.getTimeActiveElement())||0===this.getTimeActiveElement().length)this.liCollections.length>0&&(u(this.value)&&u(this.activeIndex)?(this.activeIndex=0,this.selectedElement=this.liCollections[0],this.timeElementValue(new Date(this.timeCollections[0]))):this.findNextTimeElement(e));else{var n=void 0;if(e.keyCode>=37&&e.keyCode<=40){var s=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=this.activeIndex===i?0:this.activeIndex,this.activeIndex=s=this.activeIndex<0?i-1:this.activeIndex,n=u(this.timeCollections[s])?this.timeCollections[0]:this.timeCollections[s]}else"home"===e.action?(this.activeIndex=0,n=this.timeCollections[0]):"end"===e.action&&(this.activeIndex=i-1,n=this.timeCollections[i-1]);this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(new Date(n))}this.isNavigate=!0,this.setTimeHover(this.selectedElement,"e-navigation"),this.setTimeActiveDescendant(),this.isTimePopupOpen()&&null!==this.selectedElement&&(!e||"click"!==e.type)&&this.setTimeScrollPosition()}},t.prototype.timeKeyActionHandle=function(e){if(this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"up":case"down":case"home":case"end":this.timeKeyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs.value=this.value,this.addTimeSelection(),this.previousDateTime=this.value)):this.updateValue(e),this.hide(e),D([this.inputWrapper.container],$v),this.isNavigate=!1,e.stopPropagation();break;case"escape":this.hide(e);break;default:this.isNavigate=!1}},t.prototype.inputKeyAction=function(e){"altDownArrow"===e.action&&(this.strictModeUpdate(),this.updateInput(),this.toggle(e))},t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++){var a=s[n];switch(a){case"value":this.isDynamicValueChanged=!0,this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,e.value=this.validateValue(e.value),X.setValue(this.enableMask?this.maskedDateValue:this.getFormattedValue(e.value),this.inputElement,this.floatLabelType,this.showClearButton),this.valueWithMinutes=e.value,this.setProperties({value:e.value},!0),this.popupObj&&this.popupUpdate(),this.previousDateTime=new Date(this.inputElement.value),this.updateInput(),this.changeTrigger(null),this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange,this.enableMask&&this.value&&this.notify("createMask",{module:"MaskedDateTime"});break;case"min":case"max":this.getProperty(e,a),this.updateInput();break;case"enableRtl":X.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"cssClass":u(i.cssClass)||(i.cssClass=i.cssClass.replace(/\s+/g," ").trim()),u(e.cssClass)||(e.cssClass=e.cssClass.replace(/\s+/g," ").trim()),X.setCssClass(e.cssClass,[this.inputWrapper.container],i.cssClass),this.dateTimeWrapper&&X.setCssClass(e.cssClass,[this.dateTimeWrapper],i.cssClass);break;case"locale":this.globalize=new Li(this.locale),this.l10n.setLocale(this.locale),this.dateTimeOptions&&null==this.dateTimeOptions.placeholder&&(this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),X.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement)),this.dateTimeFormat=this.cldrDateTimeFormat(),r.prototype.updateInput.call(this);break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"format":this.setProperties({format:e.format},!0),this.checkFormat(),this.dateTimeFormat=this.formatString,this.setValue(),this.enableMask&&(this.notify("createMask",{module:"MaskedDateTime"}),this.value||X.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton));break;case"placeholder":X.setPlaceholder(e.placeholder,this.inputElement);break;case"enabled":X.setEnabled(this.enabled,this.inputElement),this.enabled||(this.inputElement.tabIndex=-1);break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width),X.calculateWidth(this.inputElement,this.inputWrapper.container),!u(this.inputWrapper.buttons[0])&&!u(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-date-time-icon");break;case"readonly":X.setReadonly(this.readonly,this.inputElement);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,X.removeFloating(this.inputWrapper),X.addFloating(this.inputElement,this.floatLabelType,this.placeholder),!u(this.inputWrapper.buttons[0])&&!u(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-date-time-icon");break;case"scrollTo":this.checkDateValue(new Date(this.checkValue(e.scrollTo)))?(this.dateTimeWrapper&&this.setScrollTo(),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkValue(e.scrollTo)))},!0)):this.setProperties({scrollTo:null},!0);break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),X.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton)):this.inputElement.value===this.maskedDateValue&&(this.maskedDateValue="",X.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton));break;default:r.prototype.onPropertyChanged.call(this,e,i)}this.isDynamicValueChanged||this.hide(null),this.isDynamicValueChanged=!1}},t.prototype.getModuleName=function(){return"datetimepicker"},t.prototype.restoreValue=function(){this.previousDateTime=this.previousDate,this.currentDate=this.value?this.value:new Date,this.valueWithMinutes=this.value,this.previousDate=this.value,this.previousElementValue=this.previousElementValue=u(this.inputValueCopy)?"":this.getFormattedValue(this.inputValueCopy)},li([v(null)],t.prototype,"timeFormat",void 0),li([v(30)],t.prototype,"step",void 0),li([v(null)],t.prototype,"scrollTo",void 0),li([v(1e3)],t.prototype,"zIndex",void 0),li([v(null)],t.prototype,"value",void 0),li([v(null)],t.prototype,"keyConfigs",void 0),li([v({})],t.prototype,"htmlAttributes",void 0),li([v(!1)],t.prototype,"enablePersistence",void 0),li([v(!0)],t.prototype,"allowEdit",void 0),li([v(!1)],t.prototype,"isMultiSelection",void 0),li([v(null)],t.prototype,"values",void 0),li([v(!0)],t.prototype,"showClearButton",void 0),li([v(null)],t.prototype,"placeholder",void 0),li([v(!1)],t.prototype,"strictMode",void 0),li([v(!1)],t.prototype,"fullScreenMode",void 0),li([v(null)],t.prototype,"serverTimezoneOffset",void 0),li([v(new Date(1900,0,1))],t.prototype,"min",void 0),li([v(new Date(2099,11,31))],t.prototype,"max",void 0),li([v(null)],t.prototype,"firstDayOfWeek",void 0),li([v("Gregorian")],t.prototype,"calendarMode",void 0),li([v("Month")],t.prototype,"start",void 0),li([v("Month")],t.prototype,"depth",void 0),li([v(!1)],t.prototype,"weekNumber",void 0),li([v(!0)],t.prototype,"showTodayButton",void 0),li([v("Short")],t.prototype,"dayHeaderFormat",void 0),li([v(!1)],t.prototype,"openOnFocus",void 0),li([v(!1)],t.prototype,"enableMask",void 0),li([v({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],t.prototype,"maskPlaceholder",void 0),li([x()],t.prototype,"open",void 0),li([x()],t.prototype,"close",void 0),li([x()],t.prototype,"cleared",void 0),li([x()],t.prototype,"blur",void 0),li([x()],t.prototype,"focus",void 0),li([x()],t.prototype,"created",void 0),li([x()],t.prototype,"destroyed",void 0),li([et],t)}(uq),Xv=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hi=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},sa="e-toast",Lf="e-toast-container",Wq="e-toast-title",qq="e-toast-full-width",Yq="e-toast-content",ID="e-toast-message",AD="e-toast-progress",sN="e-toast-close-icon",rN="e-rtl",Cve=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Xv(t,r),hi([v("Left")],t.prototype,"X",void 0),hi([v("Top")],t.prototype,"Y",void 0),t}(ot),Eve=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Xv(t,r),hi([v(null)],t.prototype,"model",void 0),hi([v(null)],t.prototype,"click",void 0),t}(ot),Qq=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Xv(t,r),hi([v("FadeIn")],t.prototype,"effect",void 0),hi([v(600)],t.prototype,"duration",void 0),hi([v("ease")],t.prototype,"easing",void 0),t}(ot),Dve=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Xv(t,r),hi([at({effect:"FadeIn",duration:600,easing:"ease"},Qq)],t.prototype,"show",void 0),hi([at({effect:"FadeOut",duration:600,easing:"ease"},Qq)],t.prototype,"hide",void 0),t}(ot),Sve=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.toastCollection=[],n.needsID=!0,n}return Xv(t,r),t.prototype.getModuleName=function(){return"toast"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.destroy=function(){this.hide("All"),this.element.classList.remove(Lf),ue(this.element,{position:"","z-index":""}),!u(this.refElement)&&!u(this.refElement.parentElement)&&(this.refElement.parentElement.insertBefore(this.element,this.refElement),Q(this.refElement),this.refElement=void 0),this.isBlazorServer()||r.prototype.destroy.call(this)},t.prototype.preRender=function(){this.isDevice=O.isDevice,"300px"===this.width&&(this.width=this.isDevice&&screen.width<768?"100%":"300px"),u(this.target)&&(this.target=document.body),this.enableRtl&&!this.isBlazorServer()&&this.element.classList.add(rN)},t.prototype.render=function(){this.progressObj=[],this.intervalId=[],this.contentTemplate=null,this.toastTemplate=null,this.renderComplete(),this.initRenderClass=this.element.className},t.prototype.show=function(e){var i;if(u(e)||(this.templateChanges(e),i=JSON.parse(JSON.stringify(e)),z(this,this,e)),u(this.toastContainer)){this.toastContainer=this.getContainer();var n="string"==typeof this.target?document.querySelector(this.target):"object"==typeof this.target?this.target:document.body;if(u(n))return;"BODY"===n.tagName?this.toastContainer.style.position="fixed":(this.toastContainer.style.position="absolute",n.style.position="relative"),this.setPositioning(this.position),n.appendChild(this.toastContainer)}this.isBlazorServer()&&this.element.classList.contains("e-control")?this.isToastModel(e):(this.toastEle=this.createElement("div",{className:sa,id:vt("toast")}),this.setWidthHeight(),this.setCSSClass(this.cssClass),u(this.template)||""===this.template?this.personalizeToast():this.templateRendering(),this.setProgress(),this.setCloseButton(),this.setAria(),this.appendToTarget(e),this.isDevice&&screen.width<768&&new Zn(this.toastEle,{swipe:this.swipeHandler.bind(this)}),u(i)||(z(i,{element:[this.toastEle]},!0),this.toastCollection.push(i)),this.isReact&&this.renderReactTemplates())},t.prototype.showToast=function(e,i){this.toastEle=this.element.querySelector("#"+e),this.show(i)},t.prototype.isToastModel=function(e){this.toastContainer=this.element,this.setPositioning(this.position),u(this.element.lastElementChild)||this.setProgress(),this.setAria(),this.appendToTarget(e)},t.prototype.swipeHandler=function(e){var i=I(e.originalEvent.target,"."+sa+":not(."+Lf+")"),n=this.animation.hide.effect;u(i)||("Right"===e.swipeDirection?(this.animation.hide.effect="SlideRightOut",this.hideToast("swipe",i)):"Left"===e.swipeDirection&&(this.animation.hide.effect="SlideLeftOut",this.hideToast("swipe",i)),this.animation.hide.effect=n)},t.prototype.templateChanges=function(e){!Le(e.content)&&!u(this.contentTemplate)&&this.content!==e.content&&this.clearContentTemplate(),!Le(e.template)&&!u(this.toastTemplate)&&this.template!==e.template&&this.clearToastTemplate()},t.prototype.setCSSClass=function(e){if(e){var i=-1!==e.indexOf(",")?",":" ";$i(this.toastEle,e.split(i),[]),this.toastContainer&&$i(this.toastContainer,e.split(i),[])}},t.prototype.setWidthHeight=function(){"300px"===this.width?this.toastEle.style.width=$(this.width):"100%"===this.width?this.toastContainer.classList.add(qq):(this.toastEle.style.width=$(this.width),this.toastContainer.classList.remove(qq)),this.toastEle.style.height=$(this.height)},t.prototype.templateRendering=function(){this.fetchEle(this.toastEle,this.template,"template")},t.prototype.sanitizeHelper=function(e){if(this.enableHtmlSanitizer){var i=Qt.beforeSanitize();z(i,i,{cancel:!1,helper:null}),this.trigger("beforeSanitizeHtml",i),i.cancel&&!u(i.helper)?e=i.helper(e):i.cancel||(e=Qt.serializeValue(i,e))}return e},t.prototype.hide=function(e){this.hideToast("",e)},t.prototype.hideToast=function(e,i){if(!u(this.toastContainer)&&0!==this.toastContainer.childElementCount){if("string"==typeof i&&"All"===i){for(var n=0;n<this.toastContainer.childElementCount;n++)this.destroyToast(this.toastContainer.children[n],e);return}u(i)&&(i=this.newestOnTop?this.toastContainer.lastElementChild:this.toastContainer.firstElementChild),this.destroyToast(i,e)}},t.prototype.fetchEle=function(e,i,n){var s,a,o,l;if(i="string"==typeof i?this.sanitizeHelper(i):i,l=e.classList.contains(Wq)?this.element.id+"title":e.classList.contains(Yq)?this.element.id+"content":this.element.id+"template",!u(a="content"===n?this.contentTemplate:this.toastTemplate))return e.appendChild(a.cloneNode(!0)),e;try{if("function"!=typeof i&&document.querySelectorAll(i).length>0){var h=null;"title"!==n&&(h=document.querySelector(i),e.appendChild(h),h.style.display="");var c=u(h)?a:h.cloneNode(!0);"content"===n?this.contentTemplate=c:this.toastTemplate=c}else s=tt(i)}catch(p){s=tt("object"==typeof i?i:Fu(function(){return i}))}return u(s)||(o=this.isBlazorServer()?s({},this,n,l,!0):s({},this,n,null,!0)),u(o)||!(o.length>0)||u(o[0].tagName)&&1===o.length?"function"!=typeof i&&0===e.childElementCount&&(e.innerHTML=i):[].slice.call(o).forEach(function(p){u(p.tagName)||(p.style.display=""),e.appendChild(p)}),e},t.prototype.clearProgress=function(e){u(this.intervalId[e])||(clearInterval(this.intervalId[e]),delete this.intervalId[e]),u(this.progressObj[e])||(clearInterval(this.progressObj[e].intervalId),delete this.progressObj[e])},t.prototype.removeToastContainer=function(e){e&&this.toastContainer.classList.contains("e-toast-util")&&Q(this.toastContainer)},t.prototype.clearContainerPos=function(e){var i=this;this.isBlazorServer()?this.toastContainer=null:(this.customPosition?(ue(this.toastContainer,{left:"",top:""}),this.removeToastContainer(e),this.toastContainer=null,this.customPosition=!1):([sa+"-top-left",sa+"-top-right",sa+"-bottom-left",sa+"-bottom-right",sa+"-bottom-center",sa+"-top-center",sa+"-full-width"].forEach(function(n){!u(i.toastContainer)&&i.toastContainer.classList.contains(n)&&i.toastContainer.classList.remove(n)}),this.removeToastContainer(e),this.toastContainer=null),u(this.contentTemplate)||this.clearContentTemplate(),u(this.toastTemplate)||this.clearToastTemplate())},t.prototype.clearContentTemplate=function(){this.contentTemplate.style.display="none",document.body.appendChild(this.contentTemplate),this.contentTemplate=null},t.prototype.clearToastTemplate=function(){this.toastTemplate.style.display="none",document.body.appendChild(this.toastTemplate),this.toastTemplate=null},t.prototype.isBlazorServer=function(){return!1},t.prototype.destroyToast=function(e,i){for(var s,n=this,a=0;a<this.toastCollection.length;a++)this.toastCollection[a].element[0]===e&&(s=this.toastCollection[a],this.toastCollection.splice(a,1));var o={options:this,cancel:!1,type:i,element:e,toastContainer:this.toastContainer},l=this.animation.hide,h={duration:l.duration,name:l.effect,timingFunction:l.easing},c=parseInt(e.id.split("toast_")[1],10),d=this.isBlazorServer()?{options:s,toastContainer:this.toastContainer}:{options:s,toastContainer:this.toastContainer,toastObj:this};this.trigger("beforeClose",o,function(p){p.cancel||(!u(n.progressObj[c])&&!u(e.querySelector("."+AD))&&(n.progressObj[c].progressEle.style.width="0%"),h.end=function(){n.clearProgress(c),(!n.isBlazorServer()||u(s))&&Q(e),n.trigger("close",d),0===n.toastContainer.childElementCount&&n.clearContainerPos(!0),l=null,h=null},new vi(h).animate(e))})},t.prototype.personalizeToast=function(){this.setIcon(),this.setTitle(),this.setContent(),this.actionButtons()},t.prototype.setAria=function(){re(this.toastEle,{role:"alert"})},t.prototype.setPositioning=function(e){this.isBlazorServer()||(isNaN(parseFloat(e.X))&&isNaN(parseFloat(e.Y))?this.toastContainer.classList.add(sa+"-"+e.Y.toString().toLowerCase()+"-"+e.X.toString().toLowerCase()):(this.customPosition=!0,ue(this.toastContainer,{left:$(e.X),top:$(e.Y)})))},t.prototype.setCloseButton=function(){if(this.showCloseButton){this.l10n=new fi("toast",{close:"Close"},this.locale),this.l10n.setLocale(this.locale);var i=this.l10n.getConstant("close"),n=this.createElement("div",{className:sN+" e-icons ",attrs:{tabindex:"0","aria-label":i,role:"button"}});this.toastEle.classList.add("e-toast-header-close-icon"),this.toastEle.appendChild(n)}},t.prototype.setProgress=function(){if(this.timeOut>0){var e=parseInt(this.toastEle.id.split("toast_")[1],10);this.intervalId[e]=window.setTimeout(this.destroyToast.bind(this,this.toastEle),this.timeOut),this.progressObj[e]={hideEta:null,intervalId:null,maxHideTime:null,element:null,timeOutId:null,progressEle:null},this.progressObj[e].maxHideTime=parseFloat(this.timeOut+""),this.progressObj[e].hideEta=(new Date).getTime()+this.progressObj[e].maxHideTime,this.progressObj[e].element=this.toastEle,this.extendedTimeout>0&&(b.add(this.toastEle,"mouseover",this.toastHoverAction.bind(this,e)),b.add(this.toastEle,"mouseleave",this.delayedToastProgress.bind(this,e)),this.progressObj[e].timeOutId=this.intervalId[e]),this.showProgressBar&&(this.progressBarEle=this.createElement("div",{className:AD}),this.toastEle.insertBefore(this.progressBarEle,this.toastEle.children[0]),this.progressObj[e].intervalId=setInterval(this.updateProgressBar.bind(this,this.progressObj[e]),10),this.progressObj[e].progressEle=this.progressBarEle)}},t.prototype.toastHoverAction=function(e){clearTimeout(this.progressObj[e].timeOutId),clearInterval(this.progressObj[e].intervalId),this.progressObj[e].hideEta=0,u(this.progressObj[e].element.querySelector("."+AD))||(this.progressObj[e].progressEle.style.width="0%")},t.prototype.delayedToastProgress=function(e){var i=this.progressObj[e],n=i.element;i.timeOutId=window.setTimeout(this.destroyToast.bind(this,n),this.extendedTimeout),i.maxHideTime=parseFloat(this.extendedTimeout+""),i.hideEta=(new Date).getTime()+i.maxHideTime,u(n.querySelector("."+AD))||(i.intervalId=setInterval(this.updateProgressBar.bind(this,i),10))},t.prototype.updateProgressBar=function(e){var i=(e.hideEta-(new Date).getTime())/e.maxHideTime*100;e.progressEle.style.width=(i="Ltr"===this.progressDirection?100-i:i)+"%"},t.prototype.setIcon=function(){if(!u(this.icon)&&0!==this.icon.length){var e=this.createElement("div",{className:"e-toast-icon e-icons "+this.icon});this.toastEle.classList.add("e-toast-header-icon"),this.toastEle.appendChild(e)}},t.prototype.setTitle=function(){if(!u(this.title)){var e=this.createElement("div",{className:Wq});e=this.fetchEle(e,this.title,"title");var i=this.createElement("div",{className:ID});i.appendChild(e),this.toastEle.appendChild(i)}},t.prototype.setContent=function(){var e=this.createElement("div",{className:Yq}),i=this.element;if(u(this.content)||""===this.content){var n=""!==this.element.innerHTML.replace(/\s/g,"");if((i.children.length>0||n)&&(!i.firstElementChild||!i.firstElementChild.classList.contains(sa))){this.innerEle=document.createDocumentFragment();for(var s=this.createElement("div");0!==i.childNodes.length;)this.innerEle.appendChild(this.element.childNodes[0]);e.appendChild(this.innerEle),[].slice.call(e.children).forEach(function(a){s.appendChild(a.cloneNode(!0))}),this.content=s,this.appendMessageContainer(e)}}else"object"!=typeof this.content||u(this.content.tagName)?(e=this.fetchEle(e,this.content,"content"),this.appendMessageContainer(e)):(e.appendChild(this.content),this.content=this.content.cloneNode(!0),this.appendMessageContainer(e))},t.prototype.appendMessageContainer=function(e){if(this.toastEle.querySelectorAll("."+ID).length>0)this.toastEle.querySelector("."+ID).appendChild(e);else{var i=this.createElement("div",{className:ID});i.appendChild(e),this.toastEle.appendChild(i)}},t.prototype.actionButtons=function(){var e=this,i=this.createElement("div",{className:"e-toast-actions"});[].slice.call(this.buttons).forEach(function(n){if(!u(n.model)){var s=e.createElement("button");s.setAttribute("type","button"),(u(n.model.cssClass)||0===n.model.cssClass.length)&&(n.model.cssClass="e-primary "+e.cssClass),s.classList.add("e-small"),new vn(n.model,s),!u(n.click)&&"function"==typeof n.click&&b.add(s,"click",n.click),i.appendChild(s)}}),i.childElementCount>0&&this.appendMessageContainer(i)},t.prototype.appendToTarget=function(e){var i=this,n=this.isBlazorServer()?{options:e,element:this.toastEle,cancel:!1}:{options:e,toastObj:this,element:this.toastEle,cancel:!1};this.trigger("beforeOpen",n,function(s){if(s.cancel){if(i.isBlazorServer()){var a=parseInt(i.toastEle.id.split("toast_")[1],10);i.clearProgress(a),Q(i.toastEle),0===i.toastContainer.childElementCount&&i.clearContainerPos()}}else i.isBlazorServer()||(i.toastEle.style.display="none"),i.newestOnTop&&0!==i.toastContainer.childElementCount?i.toastContainer.insertBefore(i.toastEle,i.toastContainer.children[0]):i.isBlazorServer()||i.toastContainer.appendChild(i.toastEle),M([i.toastEle],"e-blazor-toast-hidden"),b.add(i.toastEle,"click",i.clickHandler,i),b.add(i.toastEle,"keydown",i.keyDownHandler,i),i.toastContainer.style.zIndex=ml(i.toastContainer)+"",i.displayToast(i.toastEle,e)})},t.prototype.clickHandler=function(e){var i=this;this.isBlazorServer()||e.stopPropagation();var n=e.target,s=I(n,"."+sa),a=this.isBlazorServer()?{element:s,cancel:!1,clickToClose:!1,originalEvent:e}:{element:s,cancel:!1,clickToClose:!1,originalEvent:e,toastObj:this},o=n.classList.contains(sN);this.trigger("click",a,function(l){(o&&!l.cancel||l.clickToClose)&&i.destroyToast(s,"click")})},t.prototype.keyDownHandler=function(e){if(e.target.classList.contains(sN)&&(13===e.keyCode||32===e.keyCode)){var n=I(e.target,"."+sa);this.destroyToast(n,"key")}},t.prototype.displayToast=function(e,i){var n=this,s=this.animation.show,a={duration:s.duration,name:s.effect,timingFunction:s.easing},o=this.isBlazorServer()?{options:i,element:this.toastEle}:{options:i,toastObj:this,element:this.toastEle};a.begin=function(){e.style.display=""},a.end=function(){n.trigger("open",o)},new vi(a).animate(e)},t.prototype.getContainer=function(){return this.element.classList.add(Lf),this.element},t.prototype.onPropertyChanged=function(e,i){for(var n=this.element,s=0,a=Object.keys(e);s<a.length;s++)"enableRtl"===a[s]&&(e.enableRtl?n.classList.add(rN):n.classList.remove(rN))},hi([v("300px")],t.prototype,"width",void 0),hi([v("auto")],t.prototype,"height",void 0),hi([v(null)],t.prototype,"title",void 0),hi([v(null)],t.prototype,"content",void 0),hi([v(!0)],t.prototype,"enableHtmlSanitizer",void 0),hi([v(null)],t.prototype,"icon",void 0),hi([v(null)],t.prototype,"cssClass",void 0),hi([v(null)],t.prototype,"template",void 0),hi([v(!0)],t.prototype,"newestOnTop",void 0),hi([v(!1)],t.prototype,"showCloseButton",void 0),hi([v(!1)],t.prototype,"showProgressBar",void 0),hi([v(5e3)],t.prototype,"timeOut",void 0),hi([v("Rtl")],t.prototype,"progressDirection",void 0),hi([v(1e3)],t.prototype,"extendedTimeout",void 0),hi([at({},Dve)],t.prototype,"animation",void 0),hi([at({},Cve)],t.prototype,"position",void 0),hi([Fs([{}],Eve)],t.prototype,"buttons",void 0),hi([v(null)],t.prototype,"target",void 0),hi([x()],t.prototype,"created",void 0),hi([x()],t.prototype,"beforeSanitizeHtml",void 0),hi([x()],t.prototype,"destroyed",void 0),hi([x()],t.prototype,"open",void 0),hi([x()],t.prototype,"beforeOpen",void 0),hi([x()],t.prototype,"beforeClose",void 0),hi([x()],t.prototype,"close",void 0),hi([x()],t.prototype,"click",void 0),hi([et],t)}(Yt);!function(r){r.show=function(e,i,n){var s,a;if(document.querySelector("."+Lf)?s=document.querySelector("."+Lf):(s=N("div",{className:sa+" "+Lf+" e-toast-util"}),document.body.appendChild(s)),"string"==typeof e){var o=void 0,l=void 0;if(u(i))o="",l="";else switch(i){case"Warning":o="e-toast-warning",l="e-toast-warning-icon";break;case"Success":o="e-toast-success",l="e-toast-success-icon";break;case"Error":o="e-toast-danger",l="e-toast-error-icon";break;case"Information":o="e-toast-info",l="e-toast-info-icon"}a={content:e,cssClass:o,icon:l,timeOut:u(n)?5e3:n}}else a=e;var h=new Sve(a);return h.appendTo(s),h.show(),h}}(Gq||(Gq={}));var Ive=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Hc=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},pN={TEXTSHAPE:"e-skeleton-text",CIRCLESHAPE:"e-skeleton-circle",SQUARESHAPE:"e-skeleton-square",RECTANGLESHAPE:"e-skeleton-rectangle",WAVEEFFECT:"e-shimmer-wave",PULSEEFFECT:"e-shimmer-pulse",FADEEFFECT:"e-shimmer-fade",VISIBLENONE:"e-visible-none"},Ave=function(r){function t(e,i){return r.call(this,e,i)||this}return Ive(t,r),t.prototype.getModuleName=function(){return"skeleton"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.preRender=function(){this.element.id||(this.element.id=vt("e-"+this.getModuleName())),this.updateCssClass(),re(this.element,{role:"alert","aria-busy":"true","aria-live":"polite","aria-label":this.label})},t.prototype.render=function(){this.initialize()},t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++)switch(s[n]){case"width":case"height":this.updateDimension();break;case"shape":this.updateShape();break;case"shimmerEffect":this.updateEffect();break;case"visible":this.updateVisibility();break;case"label":this.element.setAttribute("aria-label",this.label);break;case"cssClass":i.cssClass&&M([this.element],i.cssClass.split(" ")),this.updateCssClass()}},t.prototype.destroy=function(){r.prototype.destroy.call(this);var e=["role","aria-live","aria-busy","aria-label"],i=[];this.cssClass&&(i=i.concat(this.cssClass.split(" ")));for(var n=0;n<e.length;n++)this.element.removeAttribute(e[parseInt(n.toString(),10)]);i=(i=i.concat(this.element.classList.value.match(/(e-skeleton-[^\s]+)/g))).concat(this.element.classList.value.match(/(e-shimmer-[^\s]+)/g)),M([this.element],i)},t.prototype.initialize=function(){this.updateShape(),this.updateEffect(),this.updateVisibility()},t.prototype.updateShape=function(){var e=pN[this.shape.toUpperCase()+"SHAPE"],i=this.element.classList.value.match(/(e-skeleton-[^\s]+)/g);this.updateDimension(),i&&M([this.element],i),D([this.element],[e])},t.prototype.updateDimension=function(){var e=!this.width&&["Text","Rectangle"].indexOf(this.shape)>-1?"100%":$(this.width),i=["Circle","Square"].indexOf(this.shape)>-1?e:$(this.height);this.element.style.width=e,this.element.style.height=i},t.prototype.updateEffect=function(){var e=this.element.classList.value.match(/(e-shimmer-[^\s]+)/g);e&&M([this.element],e),D([this.element],[pN[this.shimmerEffect.toUpperCase()+"EFFECT"]])},t.prototype.updateVisibility=function(){this.element.classList[this.visible?"remove":"add"](pN.VISIBLENONE)},t.prototype.updateCssClass=function(){this.cssClass&&D([this.element],this.cssClass.split(" "))},Hc([v("")],t.prototype,"width",void 0),Hc([v("")],t.prototype,"height",void 0),Hc([v(!0)],t.prototype,"visible",void 0),Hc([v("Text")],t.prototype,"shape",void 0),Hc([v("Wave")],t.prototype,"shimmerEffect",void 0),Hc([v("Loading...")],t.prototype,"label",void 0),Hc([v("")],t.prototype,"cssClass",void 0),Hc([et],t)}(Yt),Tl="",fN="",Oh=[],kD="";function od(r,t,e,i,n,s,a){var o=t;i=null==i||i;var l={item:null,index:null};if(r&&r.length){var h=r.length,c=i?r.toLocaleLowerCase():r;c=function(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(c);for(var d=function(g,y){var S,C=y[g],E=void 0;if(t&&n){var w=C,A=s.text.split(".");n.filter(function(T){Array.prototype.slice.call(A).forEach(function(k){("object"===a&&!T.isHeader&&-1!==w.textContent.toString().indexOf(T[k])&&w.getAttribute("data-value")===T[s.value].toString()||"string"===a&&-1!==w.textContent.toString().indexOf(T))&&(S="object"===a?T[k]:T)})})}if(E=n&&S?(i?S.toLocaleLowerCase():S).replace(/^\s+|\s+$/g,""):(i?C.textContent.toLocaleLowerCase():C.textContent).replace(/^\s+|\s+$/g,""),"Equal"===e&&E===c||"StartsWith"===e&&E.substr(0,h)===c||"EndsWith"===e&&E.substr(E.length-c.length)===c||"Contains"===e&&new RegExp(c,"g").test(E))return l.item=C,l.index=g,{value:{item:C,index:g}}},p=0,f=o;p<f.length;p++){var m=d(p,f);if("object"==typeof m)return m.value}return l}return l}var Zq=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),dn=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},ND=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Zq(t,r),dn([v()],t.prototype,"text",void 0),dn([v()],t.prototype,"value",void 0),dn([v()],t.prototype,"iconCss",void 0),dn([v()],t.prototype,"groupBy",void 0),dn([v()],t.prototype,"htmlAttributes",void 0),t}(ot),se_root="e-dropdownbase",se_focus="e-item-focus",se_li="e-list-item",se_group="e-list-group-item",_D=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.preventChange=!1,n.isAngular=!1,n.isPreventChange=!1,n.isDynamicDataChange=!1,n.addedNewItem=!1,n.isAddNewItemTemplate=!1,n.isRequesting=!1,n.isVirtualizationEnabled=!1,n.isAllowFiltering=!1,n.virtualizedItemsCount=0,n.totalItemCount=0,n.dataCount=0,n}return Zq(t,r),t.prototype.getPropObject=function(e,i,n){var s=new Object,a=new Object;s[e]=i[e],a[e]=n[e];var l=new Object;return l.newProperty=s,l.oldProperty=a,l},t.prototype.getValueByText=function(e,i,n){var s=null;return u(this.listData)||(s=this.checkValueCase(e,!!i,n)),s},t.prototype.checkValueCase=function(e,i,n,s){var a=this,o=null;s&&(o=e);var l=this.listData,h=this.fields,c=this.typeOfData(l).typeof;if("string"===c||"number"===c||"boolean"===c)for(var d=0,p=l;d<p.length;d++){var f=p[d];u(f)||(n?o=this.checkingAccent(String(f),e,i):i?this.checkIgnoreCase(String(f),e)&&(o=this.getItemValue(String(f),e,i)):this.checkNonIgnoreCase(String(f),e)&&(o=this.getItemValue(String(f),e,i,s)))}else if(i)l.filter(function(g){!u(_(h.value,g))&&a.checkIgnoreCase(_(h.text,g).toString(),e)&&(o=_(h.value,g))});else if(s){var m=null;m=o,l.filter(function(g){var y=_(h.value,g);!u(y)&&!u(o)&&y.toString()===m.toString()&&(o=_(h.text,g))})}else l.filter(function(g){a.checkNonIgnoreCase(_(h.text,g),e)&&(o=_(h.value,g))});return o},t.prototype.checkingAccent=function(e,i,n){var s=oe.ignoreDiacritics(String(e)),a=oe.ignoreDiacritics(i.toString()),o=null;return n?this.checkIgnoreCase(s,a)&&(o=this.getItemValue(String(e),i,n)):this.checkNonIgnoreCase(String(e),i)&&(o=this.getItemValue(String(e),i,n)),o},t.prototype.checkIgnoreCase=function(e,i){return String(e).toLowerCase()===i.toString().toLowerCase()},t.prototype.checkNonIgnoreCase=function(e,i){return String(e)===i.toString()},t.prototype.getItemValue=function(e,i,n,s){var l=this.typeOfData(this.listData).typeof;return s?e.toString():n?"string"===l?String(e):this.getFormattedValue(String(e)):"string"===l?i:this.getFormattedValue(i)},t.prototype.templateCompiler=function(e){var i=!1;if("function"!=typeof e&&e)try{i=!!pe(e,document).length}catch(n){i=!1}return i},t.prototype.l10nUpdate=function(e){var i="listbox"===this.getModuleName()?this.ulElement:this.list;if("No records found"!==this.noRecordsTemplate||"Request failed"!==this.actionFailureTemplate){var n=e?this.actionFailureTemplate:this.noRecordsTemplate,s=void 0,a=e?this.actionFailureTemplateId:this.noRecordsTemplateId;i.innerHTML="";var o=this.templateCompiler(n);s=tt("function"!=typeof n&&o?P(n,document).innerHTML.trim():n);var l=e?"actionFailureTemplate":"noRecordsTemplate",h=void 0;if((h=this.isReact&&"function"==typeof n?s({},this,l,a,this.isStringTemplate,null):s({},this,l,a,this.isStringTemplate,null,i))&&h.length>0)for(var c=0;c<h.length;c++)"listbox"===this.getModuleName()&&"noRecordsTemplate"===l?"#text"===h[c].nodeName?((d=this.createElement("li")).textContent=h[c].textContent,d.classList.add("e-list-nrt"),d.setAttribute("role","option"),i.appendChild(d)):(h[c].classList.add("e-list-nr-template"),i.appendChild(h[c])):h[c]instanceof HTMLElement&&i.appendChild(h[c]);this.renderReactTemplates()}else{var f=new fi(this.getLocaleName(),{},this.locale);this.l10n=""!==f.getConstant("actionFailureTemplate")||""!==f.getConstant("noRecordsTemplate")?f:new fi("listbox"===this.getModuleName()?"listbox":"mention"===this.getModuleName()?"mention":"dropdowns",{noRecordsTemplate:"No records found",actionFailureTemplate:"Request failed"},this.locale);var d,m=this.l10n.getConstant(e?"actionFailureTemplate":"noRecordsTemplate");"listbox"===this.getModuleName()?((d=this.createElement("li")).textContent=m,i.appendChild(d),d.classList.add("e-list-nrt"),d.setAttribute("role","option")):u(i)||(i.innerHTML=m)}},t.prototype.getLocaleName=function(){return"drop-down-base"},t.prototype.getTextByValue=function(e){return this.checkValueCase(e,!1,!1,!0)},t.prototype.getFormattedValue=function(e){if(this.listData&&this.listData.length){var i;if(i=this.typeOfData(this.properties.allowCustomValue&&this.properties.value&&this.properties.value instanceof Array&&this.properties.value.length>0?this.properties.value:this.listData),"number"==typeof _(this.fields.value?this.fields.value:"value",i.item)||"number"===i.typeof)return parseFloat(e);if("boolean"==typeof _(this.fields.value?this.fields.value:"value",i.item)||"boolean"===i.typeof)return"true"===e||""+e=="true"}return e},t.prototype.setEnableRtl=function(){u(this.enableRtlElements)||(this.list&&this.enableRtlElements.push(this.list),this.enableRtl?D(this.enableRtlElements,"e-rtl"):M(this.enableRtlElements,"e-rtl"))},t.prototype.initialize=function(e){if(this.bindEvent=!0,this.actionFailureTemplateId=this.element.id+"ActionFailureTemplate","UL"===this.element.tagName){var i=st.createJsonFromElement(this.element);this.setProperties({fields:{text:"text",value:"text"}},!0),this.resetList(i,this.fields)}else"SELECT"===this.element.tagName?(this.dataSource instanceof Array?this.dataSource.length>0:!u(this.dataSource))?this.isDynamicDataChange&&this.setListData(this.dataSource,this.fields,this.query):this.renderItemsBySelect():this.setListData(this.dataSource,this.fields,this.query,e)},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.updateDataAttribute=function(e){for(var i=["class","style","id","type","aria-expanded","aria-autocomplete","aria-readonly"],n={},s=0;s<this.element.attributes.length;s++)-1===i.indexOf(this.element.attributes[s].name)&&("dropdownlist"!==this.getModuleName()||"readonly"!==this.element.attributes[s].name)&&(n[this.element.attributes[s].name]=this.element.getAttribute(this.element.attributes[s].name));z(n,e,n),this.setProperties({htmlAttributes:n},!0)},t.prototype.renderItemsBySelect=function(){var e=this.element,i={value:"value",text:"text"},n=[],s=e.querySelectorAll("select>optgroup"),a=e.querySelectorAll("select>option");if(this.getJSONfromOption(n,a,i),s.length){for(var o=0;o<s.length;o++){var l=s[o],h={};h[i.text]=l.label,h.isHeader=!0;var c=l.querySelectorAll("option");n.push(h),this.getJSONfromOption(n,c,i)}e.querySelectorAll("select>option")}this.updateFields(i.text,i.value,this.fields.groupBy,this.fields.htmlAttributes,this.fields.iconCss),this.resetList(n,i)},t.prototype.updateFields=function(e,i,n,s,a){var o={fields:{text:e,value:i,groupBy:u(n)?this.fields&&this.fields.groupBy:n,htmlAttributes:u(s)?this.fields&&this.fields.htmlAttributes:s,iconCss:u(a)?this.fields&&this.fields.iconCss:a}};this.setProperties(o,!0)},t.prototype.getJSONfromOption=function(e,i,n){for(var s=0,a=i;s<a.length;s++){var o=a[s],l={};l[n.text]=o.innerText,l[n.value]=u(o.getAttribute(n.value))?o.innerText:o.getAttribute(n.value),e.push(l)}},t.prototype.preRender=function(){this.scrollTimer=-1,this.enableRtlElements=[],this.isRequested=!1,this.isDataFetched=!1,this.itemTemplateId=this.element.id+"ItemTemplate",this.displayTemplateId=this.element.id+"DisplayTemplate",this.spinnerTemplateId=this.element.id+"SpinnerTemplate",this.valueTemplateId=this.element.id+"ValueTemplate",this.groupTemplateId=this.element.id+"GroupTemplate",this.headerTemplateId=this.element.id+"HeaderTemplate",this.footerTemplateId=this.element.id+"FooterTemplate",this.noRecordsTemplateId=this.element.id+"NoRecordsTemplate"},t.prototype.setListData=function(e,i,n,s){var o,a=this;i=i||this.fields,this.isActive=!0;var l={cancel:!1,data:e,query:n};this.isPreventChange=!(!this.isAngular||!this.preventChange)||this.isPreventChange,this.isRequesting||this.trigger("actionBegin",l,function(h){if(!h.cancel)if(a.isRequesting=!0,a.showSpinner(),e instanceof ye){if(a.isRequested=!0,a.isDataFetched)return void a.emptyDataRequest(i);h.data.executeQuery(a.getQuery(h.query)).then(function(f){a.isPreventChange=!(!a.isAngular||!a.preventChange)||a.isPreventChange,a.trigger("actionComplete",f,function(m){if(!m.cancel){var g=m.result;0===g.length&&(a.isDataFetched=!0),a.dataCount=m.count,a.totalItemCount=m.count,o=a.renderItems(g,i),a.onActionComplete(o,g,m),a.groupTemplate&&a.renderGroupTemplate(o),a.isRequested=!1,a.bindChildItems(g,o,i,m)}a.isRequesting=!1})}).catch(function(f){a.isRequested=!1,a.isRequesting=!1,a.onActionFailure(f),a.hideSpinner()})}else{a.isRequesting=!1;var c=new ye(h.data),d=a.getQuery(h.query).executeLocal(c);a.dataCount=d.count,a.totalItemCount=d.count;var p={cancel:!1,result:d=a.isVirtualizationEnabled?d.result:d};a.isPreventChange=!(!a.isAngular||!a.preventChange)||a.isPreventChange,a.trigger("actionComplete",p,function(f){f.cancel||(o=a.renderItems(f.result,i),a.onActionComplete(o,f.result,s),a.groupTemplate&&a.renderGroupTemplate(o),a.bindChildItems(f.result,o,i),setTimeout(function(){"multiselect"===a.getModuleName()&&null!=a.itemTemplate&&o.childElementCount>0&&(o.children[0].childElementCount>0||a.fields.groupBy&&o.children[1]&&o.children[1].childElementCount>0)&&a.updateDataList()}))})}})},t.prototype.bindChildItems=function(e,i,n,s){var a=this;e.length>=100&&"autocomplete"===this.getModuleName()?setTimeout(function(){ce(a.remainingItems(a.sortedData,n),i),a.liCollections=a.list.querySelectorAll("."+se_li),a.updateListValues(),a.raiseDataBound(e,s)},0):this.raiseDataBound(e,s)},t.prototype.updateListValues=function(){},t.prototype.findListElement=function(e,i,n,s){var a=null;if(e)for(var o=[].slice.call(e.querySelectorAll(i)),l=0;l<o.length;l++)if(o[l].getAttribute(n)===s+""){a=o[l];break}return a},t.prototype.raiseDataBound=function(e,i){this.hideSpinner(),this.trigger("dataBound",{items:e,e:i})},t.prototype.remainingItems=function(e,i){var n=new ye(e).executeLocal((new Xe).skip(100));if(this.itemTemplate){var s=this.templateListItem(n,i);return[].slice.call(s.childNodes)}var a=this.typeOfData(n).typeof;return"string"===a||"number"===a||"boolean"===a?st.createListItemFromArray(this.createElement,n,!0,this.listOption(n,i),this):st.createListItemFromJson(this.createElement,n,this.listOption(n,i),1,!0,this)},t.prototype.emptyDataRequest=function(e){var i=[];this.onActionComplete(this.renderItems(i,e),i),this.isRequested=!1,this.hideSpinner()},t.prototype.showSpinner=function(){},t.prototype.hideSpinner=function(){},t.prototype.onActionFailure=function(e){this.liCollections=[],this.trigger("actionFailure",e),this.l10nUpdate(!0),u(this.list)||D([this.list],"e-nodata")},t.prototype.onActionComplete=function(e,i,n){if(this.listData=i,this.isVirtualizationEnabled&&this.notify("setGeneratedData",{module:"VirtualScroll"}),"listbox"!==this.getModuleName()&&e.setAttribute("tabindex","0"),this.isReact&&this.clearTemplate(["itemTemplate","groupTemplate","actionFailureTemplate","noRecordsTemplate"]),this.fixedHeaderElement=u(this.fixedHeaderElement)?this.fixedHeaderElement:null,"multiselect"===this.getModuleName()&&this.properties.allowCustomValue&&this.fields.groupBy)for(var s=0;s<e.childElementCount;s++)e.children[s].classList.contains("e-list-group-item")&&(u(e.children[s].innerHTML)||""==e.children[s].innerHTML)&&D([e.children[s]],"e-hide-group-header");u(this.list)||this.isVirtualizationEnabled||(this.list.innerHTML="",this.list.appendChild(e),this.liCollections=this.list.querySelectorAll("."+se_li),this.ulElement=this.list.querySelector("ul"),this.postRender(this.list,i,this.bindEvent))},t.prototype.postRender=function(e,i,n){var s=e.querySelector("."+se_li),a=e.querySelector(".e-active");s&&!a&&s.classList.add(se_focus),i.length<=0?(this.l10nUpdate(),D([e],"e-nodata")):e.classList.remove("e-nodata")},t.prototype.getQuery=function(e){return e||(this.query?this.query:new Xe)},t.prototype.updateVirtualizationProperties=function(e,i){this.isVirtualizationEnabled=!0,this.virtualizedItemsCount=e,this.isAllowFiltering=i},t.prototype.renderGroupTemplate=function(e){if(null!==this.fields.groupBy&&this.dataSource||this.element.querySelector("."+se_group)){var i=this.dataSource,n={groupTemplateID:this.groupTemplateId,isStringTemplate:this.isStringTemplate},s=e.querySelectorAll("."+se_group),a=this.templateCompiler(this.groupTemplate);if("function"!=typeof this.groupTemplate&&a){var o=P(this.groupTemplate,document).innerHTML.trim(),l=st.renderGroupTemplate(o,i,this.fields.properties,s,n,this);if(this.isGroupChecking)for(var h=0;h<l.length;h++)this.notify("addItem",{module:"CheckBoxSelection",item:l[h]})}else if(l=st.renderGroupTemplate(this.groupTemplate,i,this.fields.properties,s,n,this),this.isGroupChecking)for(h=0;h<l.length;h++)this.notify("addItem",{module:"CheckBoxSelection",item:l[h]});this.renderReactTemplates()}},t.prototype.createListItems=function(e,i){e&&i.groupBy||this.element.querySelector("optgroup")?(i.groupBy&&("None"!==this.sortOrder&&(e=this.getSortedDataSource(e)),e=st.groupDataSource(e,i.properties,this.sortOrder)),D([this.list],"e-dd-group")):e=this.getSortedDataSource(e);var n=this.listOption(e,i),s=e.length>100?new ye(e).executeLocal((new Xe).take(100)):e;return this.sortedData=e,st.createList(this.createElement,"autocomplete"===this.getModuleName()?s:e,n,!0,this)},t.prototype.listOption=function(e,i){var n=!u(i.iconCss),s=u(i.properties)?i:i.properties;return z({},null!==i.text||null!==i.value?{fields:s,showIcon:n,ariaAttributes:{groupItemRole:"presentation"}}:{fields:{value:"text"}},i,!0)},t.prototype.setFloatingHeader=function(e){!u(this.list)&&!this.list.classList.contains("e-nodata")&&(u(this.fixedHeaderElement)&&(this.fixedHeaderElement=this.createElement("div",{className:"e-fixed-head"}),!u(this.list)&&!this.list.querySelector("li").classList.contains(se_group)&&(this.fixedHeaderElement.style.display="none"),!u(this.fixedHeaderElement)&&!u(this.list)&&Tt([this.fixedHeaderElement],this.list),this.setFixedHeader()),!u(this.fixedHeaderElement)&&"0"===this.fixedHeaderElement.style.zIndex&&this.setFixedHeader(),this.scrollStop(e))},t.prototype.scrollStop=function(e){for(var i=u(e)?this.list:e.target,n=parseInt(getComputedStyle(this.getValidLi(),null).getPropertyValue("height"),10),s=Math.round(i.scrollTop/n),a=this.list.querySelectorAll("li:not(.e-hide-listitem)"),o=s;o>-1;o--){if(!u(a[o])&&a[o].classList.contains(se_group)){this.fixedHeaderElement.innerHTML=a[o].innerHTML,this.fixedHeaderElement.style.top=i.scrollTop+"px",this.fixedHeaderElement.style.display="block";break}this.fixedHeaderElement.style.display="none",this.fixedHeaderElement.style.top="none"}},t.prototype.getValidLi=function(){return this.liCollections[0]},t.prototype.renderItems=function(e,i){var n;if(this.itemTemplate&&e){var s=e;s&&i.groupBy?("None"!==this.sortOrder&&(s=this.getSortedDataSource(s)),s=st.groupDataSource(s,i.properties,this.sortOrder)):s=this.getSortedDataSource(s),this.sortedData=s;var a=s.length>100?new ye(s).executeLocal((new Xe).take(100)):s;if(n=this.templateListItem("autocomplete"===this.getModuleName()?a:s,i),this.isVirtualizationEnabled){var o=this.list.querySelector(".e-list-parent"),l=this.list.querySelector(".e-virtual-ddl-content");e.length>=this.virtualizedItemsCount&&o&&l||o&&l&&this.isAllowFiltering||o&&l&&"autocomplete"===this.getModuleName()?(l.replaceChild(n,o),this.liCollections=this.list.querySelectorAll("."+se_li),this.ulElement=this.list.querySelector("ul"),this.listData=e,this.postRender(this.list,e,this.bindEvent)):l||(this.list.innerHTML="",this.list.appendChild(n),this.liCollections=this.list.querySelectorAll("."+se_li),this.ulElement=this.list.querySelector("ul"),this.listData=e,this.postRender(this.list,e,this.bindEvent))}}else n=this.createListItems(e,i),this.isVirtualizationEnabled&&(o=this.list.querySelector(".e-list-parent"),l=this.list.querySelector(".e-virtual-ddl-content"),e.length>=this.virtualizedItemsCount&&o&&l||o&&l&&this.isAllowFiltering||o&&l&&"autocomplete"===this.getModuleName()?(l.replaceChild(n,o),this.liCollections=this.list.querySelectorAll("."+se_li),this.ulElement=this.list.querySelector("ul"),this.listData=e,this.postRender(this.list,e,this.bindEvent)):l||(this.list.innerHTML="",this.list.appendChild(n),this.liCollections=this.list.querySelectorAll("."+se_li),this.ulElement=this.list.querySelector("ul"),this.listData=e,this.postRender(this.list,e,this.bindEvent)));return n},t.prototype.templateListItem=function(e,i){var n=this.listOption(e,i);n.templateID=this.itemTemplateId,n.isStringTemplate=this.isStringTemplate;var s=this.templateCompiler(this.itemTemplate);if("function"!=typeof this.itemTemplate&&s){var a=P(this.itemTemplate,document).innerHTML.trim();return st.renderContentTemplate(this.createElement,a,e,i.properties,n,this)}return st.renderContentTemplate(this.createElement,this.itemTemplate,e,i.properties,n,this)},t.prototype.typeOfData=function(e){for(var n=0;!u(e)&&n<e.length;n++)if(!u(e[n])&&!u("string"==typeof e[n]||"number"==typeof e[n]||"boolean"==typeof e[n]?e[n]:_(this.fields.value?this.fields.value:"value",e[n])))return{typeof:typeof e[n],item:e[n]};return{typeof:null,item:null}},t.prototype.setFixedHeader=function(){u(this.list)||(this.list.parentElement.style.display="block");var e=0;if(this.list&&this.list.parentElement&&(e=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-width"),10),isNaN(e))&&(e=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-top-width"),10)+parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-bottom-width"),10)+parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-left-width"),10)+parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-right-width"),10)),!u(this.liCollections)){var o=this.getValidLi().offsetWidth-e;this.fixedHeaderElement.style.width=o.toString()+"px"}ue(this.fixedHeaderElement,{zIndex:10});var l=this.ulElement.querySelector("."+se_group+":not(.e-hide-listitem)");this.fixedHeaderElement.innerHTML=l.innerHTML},t.prototype.getSortedDataSource=function(e){if(e&&"None"!==this.sortOrder){var i=this.fields.text?this.fields.text:"text";("string"===this.typeOfData(e).typeof||"number"===this.typeOfData(e).typeof||"boolean"===this.typeOfData(e).typeof)&&(i=""),e=st.getDataSource(e,st.addSorting(this.sortOrder,i))}return e},t.prototype.getIndexByValueFilter=function(e){for(var i,n=this.renderItems(this.selectData,this.fields),s=0;s<n.children.length;s++)if(!u(e)&&n.children[s].getAttribute("data-value")===e.toString()){i=s;break}return i},t.prototype.getIndexByValue=function(e){for(var i,n=this.getItems(),s=0;s<n.length;s++)if(!u(e)&&n[s].getAttribute("data-value")===e.toString()){i=s;break}return i},t.prototype.dispatchEvent=function(e,i){var n=document.createEvent("HTMLEvents");n.initEvent(i,!1,!0),e&&e.dispatchEvent(n)},t.prototype.setFields=function(){this.fields.value&&!this.fields.text?this.updateFields(this.fields.value,this.fields.value):!this.fields.value&&this.fields.text?this.updateFields(this.fields.text,this.fields.text):!this.fields.value&&!this.fields.text&&this.updateFields("text","text")},t.prototype.resetList=function(e,i,n,s){this.list&&(("SELECT"===this.element.tagName&&this.element.options.length>0||"UL"===this.element.tagName&&this.element.childNodes.length>0)&&!(e instanceof Array?e.length>0:!u(e))&&this.selectData&&this.selectData.length>0&&(e=this.selectData),e="combobox"===this.getModuleName()&&this.selectData&&e instanceof Array&&e.length<this.selectData.length&&this.addedNewItem?this.selectData:e,this.addedNewItem=!1,this.setListData(e,i,n,s))},t.prototype.updateSelectElementData=function(e){(e||this.isVirtualizationEnabled)&&u(this.selectData)&&this.listData&&this.listData.length>0&&(this.selectData=this.listData)},t.prototype.updateSelection=function(){},t.prototype.renderList=function(){this.render()},t.prototype.updateDataSource=function(e){this.resetList(this.dataSource),this.totalItemCount=this.dataSource instanceof ye?this.dataSource.dataSource.json.length:0},t.prototype.setUpdateInitial=function(e,i){this.isDataFetched=!1;for(var n={},s=0;e.length>s;s++)i[e[s]]&&"fields"===e[s]?(this.setFields(),n[e[s]]=i[e[s]]):i[e[s]]&&(n[e[s]]=i[e[s]]);Object.keys(n).length>0&&(-1===Object.keys(n).indexOf("dataSource")&&(n.dataSource=this.dataSource),this.updateDataSource(n))},t.prototype.onPropertyChanged=function(e,i){"dropdownbase"===this.getModuleName()&&this.setUpdateInitial(["fields","query","dataSource"],e),this.setUpdateInitial(["sortOrder","itemTemplate"],e);for(var n=0,s=Object.keys(e);n<s.length;n++)switch(s[n]){case"query":case"sortOrder":case"dataSource":case"itemTemplate":break;case"enableRtl":this.setEnableRtl();break;case"groupTemplate":if(this.renderGroupTemplate(this.list),this.ulElement&&this.fixedHeaderElement){var o=this.ulElement.querySelector("."+se_group);this.fixedHeaderElement.innerHTML=o.innerHTML}break;case"locale":this.list&&!u(this.liCollections)&&0===this.liCollections.length&&this.l10nUpdate();break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0),this.setZIndex()}},t.prototype.render=function(e,i){this.list="listbox"===this.getModuleName()?this.createElement("div",{className:"e-content",attrs:{tabindex:"0"}}):this.createElement("div",{className:"e-content"}),this.list.classList.add(se_root),this.setFields(),this.rippleFun=xi(this.list,{duration:300,selector:"."+se_li});var s=this.element.querySelector("select>optgroup");if((this.fields.groupBy||!u(s))&&!this.isGroupChecking&&b.add(this.list,"scroll",this.setFloatingHeader,this),"dropdownbase"===this.getModuleName()){this.element.getAttribute("tabindex")&&this.list.setAttribute("tabindex",this.element.getAttribute("tabindex")),M([this.element],se_root),this.element.style.display="none";var a=this.createElement("div");this.element.parentElement.insertBefore(a,this.element),a.appendChild(this.element),a.appendChild(this.list)}this.setEnableRtl(),i||this.initialize(e)},t.prototype.removeScrollEvent=function(){this.list&&b.remove(this.list,"scroll",this.setFloatingHeader)},t.prototype.getModuleName=function(){return"dropdownbase"},t.prototype.getItems=function(){return this.ulElement.querySelectorAll("."+se_li)},t.prototype.addItem=function(e,i){if((!this.list||this.list.textContent===this.noRecordsTemplate&&"listbox"!==this.getModuleName())&&this.renderList(),"None"!==this.sortOrder&&u(i)){var n=[].slice.call(this.listData);n.push(e),n=this.getSortedDataSource(n),this.fields.groupBy&&(n=st.groupDataSource(n,this.fields.properties,this.sortOrder)),i=n.indexOf(e)}var o,s=this.getItems().length,a=this.list.querySelector(".e-active");e=e instanceof Array?e:[e],o=u(i)||i<0||i>s-1?s:i;var l=this.fields;e&&l.groupBy&&(e=st.groupDataSource(e,l.properties));for(var h=[],c=0;c<e.length;c++){var d=e[c],p=d.isHeader,f=this.createElement("li",{className:p?se_group:se_li,id:"option-add-"+c}),m=d instanceof Object?_(l.text,d):d;if(p&&(f.innerText=m),this.itemTemplate&&!p){var g=this.templateCompiler(this.itemTemplate),C=tt("function"!=typeof this.itemTemplate&&g?P(this.itemTemplate,document).innerHTML.trim():this.itemTemplate)(d,this,"itemTemplate",this.itemTemplateId,this.isStringTemplate,null,f);C&&ce(C,f)}else p||f.appendChild(document.createTextNode(m));f.setAttribute("data-value",d instanceof Object?_(l.value,d):d),f.setAttribute("role","option"),this.notify("addItem",{module:"CheckBoxSelection",item:f}),h.push(f),this.listData.push(d),"None"===this.sortOrder&&u(i)&&0===o&&(o=null),this.updateActionCompleteData(f,d,o),this.trigger("beforeItemRender",{element:f,item:d})}if(0===s&&u(this.list.querySelector("ul")))u(this.list)||(this.list.innerHTML="",this.list.classList.remove("e-nodata"),this.isAddNewItemTemplate=!0,u(this.ulElement)||this.list.appendChild(this.ulElement)),this.liCollections=h,!u(h)&&!u(this.ulElement)&&ce(h,this.ulElement),this.updateAddItemList(this.list,s);else{"listbox"===this.getModuleName()&&0===s&&(this.ulElement.innerHTML="");var E=[];for(c=0;c<e.length;c++){for(var S=this.ulElement.querySelectorAll(".e-list-group-item"),w=0;w<S.length;w++)E[w]=S[w].innerText;if(E.indexOf(h[c].innerText)>-1&&l.groupBy){for(w=0;w<S.length;w++)if(E[w]===h[c].innerText){this.ulElement.insertBefore(h[c+1],"None"===this.sortOrder?S[w+1]:this.ulElement.childNodes[i]),c+=1;break}}else this.liCollections[o]?this.liCollections[o].parentNode.insertBefore(h[c],this.liCollections[o]):this.ulElement.appendChild(h[c]);var A=[].slice.call(this.liCollections);A.splice(o,0,h[c]),this.liCollections=A,o+=1,"multiselect"===this.getModuleName()&&this.updateDataList()}}"listbox"===this.getModuleName()&&this.isReact&&this.renderReactTemplates(),(a||0===i)&&this.updateSelection(),this.addedNewItem=!0},t.prototype.validationAttribute=function(e,i){var n=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");i.setAttribute("name",n),e.removeAttribute("name");for(var s=["required","aria-required","form"],a=0;a<s.length;a++)if(e.getAttribute(s[a])){var o=e.getAttribute(s[a]);i.setAttribute(s[a],o),e.removeAttribute(s[a])}},t.prototype.setZIndex=function(){},t.prototype.updateActionCompleteData=function(e,i,n){},t.prototype.updateAddItemList=function(e,i){},t.prototype.updateDataList=function(){},t.prototype.getDataByValue=function(e){if(!u(this.listData)){var i=this.typeOfData(this.listData).typeof;if("string"===i||"number"===i||"boolean"===i){for(var n=0,s=this.listData;n<s.length;n++)if(!u(a=s[n])&&a===e)return a}else for(var o=0,l=this.listData;o<l.length;o++){var a;if(!u(a=l[o])&&_(this.fields.value?this.fields.value:"value",a)===e)return a}}return null},t.prototype.destroy=function(){document.body.contains(this.list)&&(b.remove(this.list,"scroll",this.setFloatingHeader),u(this.rippleFun)||this.rippleFun(),Q(this.list)),this.liCollections=null,this.ulElement=null,this.list=null,this.enableRtlElements=null,this.rippleFun=null,r.prototype.destroy.call(this)},dn([at({text:null,value:null,iconCss:null,groupBy:null},ND)],t.prototype,"fields",void 0),dn([v(null)],t.prototype,"itemTemplate",void 0),dn([v(null)],t.prototype,"groupTemplate",void 0),dn([v("No records found")],t.prototype,"noRecordsTemplate",void 0),dn([v("Request failed")],t.prototype,"actionFailureTemplate",void 0),dn([v("None")],t.prototype,"sortOrder",void 0),dn([v([])],t.prototype,"dataSource",void 0),dn([v(null)],t.prototype,"query",void 0),dn([v("StartsWith")],t.prototype,"filterType",void 0),dn([v(!0)],t.prototype,"ignoreCase",void 0),dn([v(1e3)],t.prototype,"zIndex",void 0),dn([v(!1)],t.prototype,"ignoreAccent",void 0),dn([v()],t.prototype,"locale",void 0),dn([x()],t.prototype,"actionBegin",void 0),dn([x()],t.prototype,"actionComplete",void 0),dn([x()],t.prototype,"actionFailure",void 0),dn([x()],t.prototype,"select",void 0),dn([x()],t.prototype,"dataBound",void 0),dn([x()],t.prototype,"created",void 0),dn([x()],t.prototype,"destroyed",void 0),dn([et],t)}(Yt),qve=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Yi=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},ze={root:"e-dropdownlist",hover:"e-hover",selected:"e-active",rtl:"e-rtl",li:se_li,disable:"e-disabled",base:se_root,focus:se_focus,content:"e-content",input:"e-input-group",inputFocus:"e-input-focus",icon:"e-input-group-icon e-ddl-icon",iconAnimation:"e-icon-anim",value:"e-input-value",device:"e-ddl-device",backIcon:"e-input-group-icon e-back-icon e-icons",filterBarClearIcon:"e-input-group-icon e-clear-icon e-icons",filterInput:"e-input-filter",filterParent:"e-filter-parent",mobileFilter:"e-ddl-device-filter",footer:"e-ddl-footer",header:"e-ddl-header",clearIcon:"e-clear-icon",clearIconHide:"e-clear-icon-hide",popupFullScreen:"e-popup-full-page",disableIcon:"e-ddl-disable-icon",hiddenElement:"e-ddl-hidden",virtualList:"e-list-item e-virtual-list"},Yve={container:null,buttons:[]},ld=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.skeletonCount=32,n.isListSearched=!1,n.preventChange=!1,n.isAngular=!1,n.itemCount=10,n.virtualListHeight=0,n.isVirtualScrolling=!1,n.isPreventScrollAction=!1,n.scrollPreStartIndex=0,n.isScrollActionTriggered=!1,n.previousStartIndex=0,n.isMouseScrollAction=!1,n.isKeyBoardAction=!1,n.isUpwardScrolling=!1,n.startIndex=0,n.currentPageNumber=0,n.pageCount=0,n.isPreventKeyAction=!1,n.generatedDataObject={},n.isTouched=!1,n.virtualListInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:0},n.viewPortInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:0},n.selectedValueInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:0},n.IsScrollerAtEnd=function(){return this.list&&this.list.scrollTop+this.list.clientHeight>=this.list.scrollHeight},n}return qve(t,r),t.prototype.preRender=function(){this.valueTempElement=null,this.element.style.opacity="0",this.initializeData(),r.prototype.preRender.call(this),this.activeIndex=this.index,this.queryString=""},t.prototype.initializeData=function(){this.isPopupOpen=!1,this.isDocumentClick=!1,this.isInteracted=!1,this.isFilterFocus=!1,this.beforePopupOpen=!1,this.initial=!0,this.initRemoteRender=!1,this.isNotSearchList=!1,this.isTyped=!1,this.isSelected=!1,this.preventFocus=!1,this.preventAutoFill=!1,this.isValidKey=!1,this.typedString="",this.isEscapeKey=!1,this.isPreventBlur=!1,this.isTabKey=!1,this.actionCompleteData={isUpdated:!1},this.actionData={isUpdated:!1},this.prevSelectPoints={},this.isSelectCustom=!1,this.isDropDownClick=!1,this.preventAltUp=!1,this.isCustomFilter=!1,this.isSecondClick=!1,this.previousValue=null,this.keyConfigure={tab:"tab",enter:"13",escape:"27",end:"35",home:"36",down:"40",up:"38",pageUp:"33",pageDown:"34",open:"alt+40",close:"shift+tab",hide:"alt+38",space:"32"},this.viewPortInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:this.itemCount}},t.prototype.setZIndex=function(){this.popupObj&&this.popupObj.setProperties({zIndex:this.zIndex})},t.prototype.requiredModules=function(){var e=[];return this.enableVirtualization&&e.push({args:[this],member:"VirtualScroll"}),e},t.prototype.renderList=function(e,i){r.prototype.render.call(this,e,i),this.totalItemCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.unWireListEvents(),this.wireListEvents()},t.prototype.floatLabelChange=function(){if("dropdownlist"===this.getModuleName()&&"Auto"===this.floatLabelType){var e=this.inputWrapper.container.querySelector(".e-float-text");""!==this.inputElement.value||this.isInteracted?$i(e,["e-label-top"],["e-label-bottom"]):$i(e,["e-label-bottom"],["e-label-top"])}},t.prototype.resetHandler=function(e){e.preventDefault(),this.clearAll(e),this.enableVirtualization&&(this.list.scrollTop=0,this.virtualListInfo=null,this.previousStartIndex=0,this.previousEndIndex=0)},t.prototype.resetFocusElement=function(){if(this.removeHover(),this.removeSelection(),this.removeFocus(),this.list.scrollTop=0,"autocomplete"!==this.getModuleName()&&!u(this.ulElement)){var e=this.ulElement.querySelector("."+ze.li);this.enableVirtualization&&(e=this.liCollections[this.skeletonCount]),e&&e.classList.add(ze.focus)}},t.prototype.clearAll=function(e,i){this.previousItemData=u(this.itemData)?null:this.itemData,(u(i)||!u(i)&&(u(i.dataSource)||!(i.dataSource instanceof ye)&&0===i.dataSource.length))&&(this.isActive=!0,this.resetSelection(i));var n=this.getItemData();this.previousValue!==n.value&&(this.onChangeEvent(e),this.checkAndResetCache(),this.enableVirtualization&&this.updateInitialData())},t.prototype.resetSelection=function(e){this.list&&(u(e)||!u(e.dataSource)&&(e.dataSource instanceof ye||0!==e.dataSource.length)?(this.allowFiltering&&"autocomplete"!==this.getModuleName()&&!u(this.actionCompleteData.ulElement)&&!u(this.actionCompleteData.list)&&this.actionCompleteData.list.length>0&&this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(!0),this.actionCompleteData.list),this.resetFocusElement()):(this.selectedLI=null,this.actionCompleteData.isUpdated=!1,this.actionCompleteData.ulElement=null,this.actionCompleteData.list=null,this.resetList(e.dataSource))),u(this.hiddenElement)||(this.hiddenElement.innerHTML=""),u(this.inputElement)||(this.inputElement.value=""),this.value=null,this.itemData=null,this.text=null,this.index=null,this.activeIndex=null,this.item=null,this.queryString="",this.valueTempElement&&(Q(this.valueTempElement),this.inputElement.style.display="block",this.valueTempElement=null),this.setSelection(null,null),this.isSelectCustom=!1,this.updateIconState(),this.cloneElements()},t.prototype.setHTMLAttributes=function(){if(Object.keys(this.htmlAttributes).length)for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];if("class"===n){var s=this.htmlAttributes[""+n].replace(/\s+/g," ").trim();""!==s&&D([this.inputWrapper.container],s.split(" "))}else if("disabled"===n&&"disabled"===this.htmlAttributes[""+n])this.enabled=!1,this.setEnable();else if("readonly"!==n||u(this.htmlAttributes[""+n]))if("style"===n)this.inputWrapper.container.setAttribute("style",this.htmlAttributes[""+n]);else if("aria-label"===n)"autocomplete"!==this.getModuleName()&&"combobox"!==this.getModuleName()||this.readonly?"dropdownlist"===this.getModuleName()&&this.inputWrapper.container.setAttribute("aria-label",this.htmlAttributes[""+n]):this.inputElement.setAttribute("aria-label",this.htmlAttributes[""+n]);else{var a=["title","id","placeholder","role","autocomplete","autocapitalize","spellcheck","minlength","maxlength"];("autocomplete"===this.getModuleName()||"combobox"===this.getModuleName())&&a.push("tabindex"),["name","required"].indexOf(n)>-1||0===n.indexOf("data")?this.hiddenElement.setAttribute(n,this.htmlAttributes[""+n]):a.indexOf(n)>-1?"placeholder"===n?X.setPlaceholder(this.htmlAttributes[""+n],this.inputElement):this.inputElement.setAttribute(n,this.htmlAttributes[""+n]):this.inputWrapper.container.setAttribute(n,this.htmlAttributes[""+n])}else this.readonly=!0,this.dataBind()}("autocomplete"===this.getModuleName()||"combobox"===this.getModuleName())&&this.inputWrapper.container.removeAttribute("tabindex")},t.prototype.getAriaAttributes=function(){return{"aria-disabled":"false",role:"combobox","aria-expanded":"false","aria-live":"polite","aria-labelledby":this.hiddenElement.id}},t.prototype.setEnableRtl=function(){X.setEnableRtl(this.enableRtl,[this.inputElement.parentElement]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())},t.prototype.setEnable=function(){X.setEnabled(this.enabled,this.inputElement),this.enabled?(M([this.inputWrapper.container],ze.disable),this.inputElement.setAttribute("aria-disabled","false"),this.targetElement().setAttribute("tabindex",this.tabIndex)):(this.hidePopup(),D([this.inputWrapper.container],ze.disable),this.inputElement.setAttribute("aria-disabled","true"),this.targetElement().tabIndex=-1)},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.getLocaleName=function(){return"drop-down-list"},t.prototype.preventTabIndex=function(e){"dropdownlist"===this.getModuleName()&&(e.tabIndex=-1)},t.prototype.targetElement=function(){return u(this.inputWrapper)?null:this.inputWrapper.container},t.prototype.getNgDirective=function(){return"EJS-DROPDOWNLIST"},t.prototype.getElementByText=function(e){return this.getElementByValue(this.getValueByText(e))},t.prototype.getElementByValue=function(e){for(var i,s=0,a=this.getItems();s<a.length;s++){var o=a[s];if(this.getFormattedValue(o.getAttribute("data-value"))===e){i=o;break}}return i},t.prototype.initValue=function(){this.viewPortInfo.startIndex=this.virtualItemStartIndex=0,this.viewPortInfo.endIndex=this.virtualItemEndIndex=this.itemCount,this.renderList(),this.dataSource instanceof ye?this.initRemoteRender=!0:this.updateValues()},t.prototype.updateValues=function(){if(this.selectedValueInfo=this.viewPortInfo,u(this.value))if(this.text&&u(this.value)){var e=this.getElementByText(this.text);if(u(e))return void this.setProperties({text:null});this.setSelection(e,null)}else this.setSelection(this.liCollections[this.activeIndex],null);else this.setSelection(this.getElementByValue(this.value),null);this.setHiddenValue(),X.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.onBlurHandler=function(e){if(this.enabled){var i=e.relatedTarget,n=e.target,s=this.isPreventBlur;if(this.isPreventBlur=!1,s&&!this.isDocumentClick&&this.isPopupOpen&&(!u(n)||!this.isFilterLayout()&&u(i)))return void("dropdownlist"===this.getModuleName()&&this.allowFiltering&&this.isPopupOpen?this.filterInput.focus():this.targetElement().focus());if(this.isDocumentClick||!u(this.popupObj)&&document.body.contains(this.popupObj.element)&&this.popupObj.element.classList.contains(ze.mobileFilter))return void(this.beforePopupOpen||(this.isDocumentClick=!1));("dropdownlist"===this.getModuleName()&&!this.isFilterFocus&&i!==this.inputElement&&(document.activeElement!==i||document.activeElement===i&&n.classList.contains(ze.inputFocus))||u(i)&&"dropdownlist"===this.getModuleName()&&this.allowFiltering&&n!==this.inputWrapper.container||"dropdownlist"!==this.getModuleName()&&!this.inputWrapper.container.contains(i)||this.isTabKey)&&(this.isDocumentClick=!!this.isPopupOpen,this.focusOutAction(e),this.isTabKey=!1),this.isRequested&&!this.isPopupOpen&&!this.isPreventBlur&&(this.isActive=!1,this.beforePopupOpen=!1)}},t.prototype.focusOutAction=function(e){this.isInteracted=!1,this.focusOut(e),this.onFocusOut()},t.prototype.onFocusOut=function(){!this.enabled||(this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(null)),this.floatLabelChange(),this.dispatchEvent(this.hiddenElement,"change"),"dropdownlist"===this.getModuleName()&&"INPUT"!==this.element.tagName&&this.dispatchEvent(this.inputElement,"blur"),this.inputWrapper.clearButton&&D([this.inputWrapper.clearButton],ze.clearIconHide),this.trigger("blur"))},t.prototype.onFocus=function(e){this.isInteracted||(this.isInteracted=!0,this.trigger("focus",{isInteracted:!!e,event:e})),this.updateIconState()},t.prototype.resetValueHandler=function(e){var i=I(this.inputElement,"form");if(i&&e.target===i){var n=this.element.tagName===this.getNgDirective()?null:this.inputElement.getAttribute("value");this.text=n}},t.prototype.wireEvent=function(){b.add(this.inputWrapper.container,"mousedown",this.dropDownClick,this),b.add(this.inputWrapper.container,"focus",this.focusIn,this),b.add(this.inputWrapper.container,"keypress",this.onSearch,this),b.add(window,"resize",this.windowResize,this),this.bindCommonEvent()},t.prototype.bindCommonEvent=function(){b.add(this.targetElement(),"blur",this.onBlurHandler,this);var e=I(this.inputElement,"form");e&&b.add(e,"reset",this.resetValueHandler,this),this.keyboardModule=new Lt(this.targetElement(),O.isDevice?{keyAction:this.mobileKeyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}:{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.bindClearEvent()},t.prototype.windowResize=function(){this.isPopupOpen&&this.popupObj.refreshPosition(this.inputWrapper.container)},t.prototype.bindClearEvent=function(){this.showClearButton&&b.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this)},t.prototype.unBindCommonEvent=function(){!u(this.inputWrapper)&&this.targetElement()&&b.remove(this.targetElement(),"blur",this.onBlurHandler);var e=this.inputElement&&I(this.inputElement,"form");e&&b.remove(e,"reset",this.resetValueHandler),O.isDevice||this.keyboardModule.destroy(),this.showClearButton&&b.remove(this.inputWrapper.clearButton,"mousedown",this.resetHandler)},t.prototype.updateIconState=function(){this.showClearButton&&(""===this.inputElement.value||this.readonly?D([this.inputWrapper.clearButton],ze.clearIconHide):M([this.inputWrapper.clearButton],ze.clearIconHide))},t.prototype.wireListEvents=function(){u(this.list)||(b.add(this.list,"click",this.onMouseClick,this),b.add(this.list,"mouseover",this.onMouseOver,this),b.add(this.list,"mouseout",this.onMouseLeave,this))},t.prototype.onSearch=function(e){32!==e.charCode&&13!==e.charCode&&(void 0===this.list&&this.renderList(),this.searchKeyEvent=e,this.onServerIncrementalSearch(e))},t.prototype.onServerIncrementalSearch=function(e){!this.isRequested&&!u(this.list)&&!u(this.list.querySelector("li"))&&this.enabled&&!this.readonly&&this.incrementalSearch(e)},t.prototype.onMouseClick=function(e){var i=e.target;this.keyboardEvent=null;var n=I(i,"."+se_li);this.isValidLI(n)&&(this.setSelection(n,e),O.isDevice&&this.isFilterLayout()?history.back():this.closePopup(100,e))},t.prototype.onMouseOver=function(e){var i=I(e.target,"."+se_li);this.setHover(i)},t.prototype.setHover=function(e){this.enabled&&this.isValidLI(e)&&!e.classList.contains("e-hover")&&(this.removeHover(),D([e],"e-hover"))},t.prototype.onMouseLeave=function(){this.removeHover()},t.prototype.removeHover=function(){if(this.list){var e=this.list.querySelectorAll(".e-hover");e&&e.length&&M(e,"e-hover")}},t.prototype.isValidLI=function(e){return e&&e.hasAttribute("role")&&"option"===e.getAttribute("role")},t.prototype.incrementalSearch=function(e){if(this.liCollections.length>0){var i=function(r,t,e,i,n){var s;if(Tl+=String.fromCharCode(r),setTimeout(function(){Tl=""},1e3),Tl=Tl.toLowerCase(),kD===n&&fN===Tl){for(var a=0;a<Oh.length;a++)if(Oh[a].classList.contains("e-active")){s=a;break}return Oh[s+=1]?Oh[s]:Oh[0]}var o=t,l=Tl.length;a=e=e?e+1:0,Oh=[];do{a===o.length&&(a=-1),o[s=-1===a?0:a].innerText.toLowerCase().substr(0,l)===Tl&&Oh.push(o[s]),a++}while(a!==e);return fN=Tl,kD=n,Oh[0]}(e.charCode,this.liCollections,this.activeIndex,0,this.element.id);u(i)||(this.setSelection(i,e),this.setScrollPosition())}},t.prototype.hideSpinner=function(){u(this.spinnerElement)||(pr(this.spinnerElement),M([this.spinnerElement],ze.disableIcon),this.spinnerElement.innerHTML="",this.spinnerElement=null)},t.prototype.showSpinner=function(){u(this.spinnerElement)&&(this.spinnerElement=O.isDevice&&!u(this.filterInputObj)&&this.filterInputObj.buttons[1]||!u(this.filterInputObj)&&this.filterInputObj.buttons[0]||this.inputWrapper.buttons[0],D([this.spinnerElement],ze.disableIcon),Qa({target:this.spinnerElement,width:O.isDevice?"16px":"14px"},this.createElement),$r(this.spinnerElement))},t.prototype.keyActionHandler=function(e){if(this.enabled){this.keyboardEvent=e,this.isPreventKeyAction&&this.enableVirtualization&&e.preventDefault();var i="pageUp"===e.action||"pageDown"===e.action,n="dropdownlist"!==this.getModuleName()&&("home"===e.action||"end"===e.action);this.isEscapeKey="escape"===e.action,this.isTabKey=!this.isPopupOpen&&"tab"===e.action;var s="down"===e.action||"up"===e.action||"pageUp"===e.action||"pageDown"===e.action||"home"===e.action||"end"===e.action;if((!(this.isEditTextBox()||i||n)||this.isPopupOpen)&&!this.readonly){var a="tab"===e.action||"close"===e.action;if(u(this.list)&&!this.isRequested&&!a&&"escape"!==e.action&&(this.searchKeyEvent=e,this.renderList(e)),u(this.list)||!u(this.liCollections)&&s&&0===this.liCollections.length||this.isRequested)return;switch((a&&"autocomplete"!==this.getModuleName()&&this.isPopupOpen||"escape"===e.action)&&e.preventDefault(),this.isSelected="escape"!==e.action&&this.isSelected,this.isTyped=!s&&"escape"!==e.action&&this.isTyped,e.action){case"down":case"up":this.updateUpDownAction(e);break;case"pageUp":this.pageUpSelection(this.activeIndex-this.getPageCount(),e),e.preventDefault();break;case"pageDown":this.pageDownSelection(this.activeIndex+this.getPageCount(),e),e.preventDefault();break;case"home":case"end":this.isMouseScrollAction=!0,this.updateHomeEndAction(e);break;case"space":"dropdownlist"===this.getModuleName()&&(this.beforePopupOpen||this.showPopup());break;case"open":this.showPopup(e);break;case"hide":this.preventAltUp=this.isPopupOpen,this.hidePopup(e),this.focusDropDown(e);break;case"enter":this.selectCurrentItem(e);break;case"tab":this.selectCurrentValueOnTab(e);break;case"escape":case"close":this.isPopupOpen&&(this.hidePopup(e),this.focusDropDown(e))}}}},t.prototype.updateUpDownAction=function(e,i){if(this.allowFiltering&&!this.enableVirtualization&&"autocomplete"!==this.getModuleName()){var n=this.getItemData().value;u(n)&&(n="null"),u(s=this.getIndexByValue(n))||(this.activeIndex=s)}var a=this.list.querySelector("."+ze.focus);if(this.isSelectFocusItem(a)&&!i)this.setSelection(a,e),this.enableVirtualization&&(this.list.scrollTop=(this.virtualListInfo&&this.virtualListInfo.startIndex?this.selectedLI.offsetTop+this.virtualListInfo.startIndex*this.selectedLI.offsetHeight:this.selectedLI.offsetTop)-this.list.querySelectorAll(".e-virtual-list").length*this.selectedLI.offsetHeight);else if(!u(this.liCollections)){var h="down"===e.action?this.activeIndex+1:this.activeIndex-1;h=i?this.activeIndex:h;var c=0;"autocomplete"===this.getModuleName()&&(c="down"===e.action&&u(this.activeIndex)?0:this.liCollections.length-1,h=h<0?this.liCollections.length-1:h===this.liCollections.length?0:h);var d=void 0;("autocomplete"!==this.getModuleName()||"autocomplete"===this.getModuleName()&&this.isPopupOpen)&&(this.enableVirtualization?i?d="autocomplete"===this.getModuleName()?this.getElementByValue(this.selectedLI.dataset.value):this.getElementByValue(this.getItemData().value):(d=u(this.activeIndex)?this.liCollections[this.skeletonCount]:this.liCollections[h],d=u(d)||d.classList.contains("e-virtual-list")?null:d):d=u(this.activeIndex)?this.liCollections[c]:this.liCollections[h]),u(d)||this.setSelection(d,e)}if(this.allowFiltering&&!this.enableVirtualization&&"autocomplete"!==this.getModuleName()){var s,f=this.getItemData().value;u(s=this.getIndexByValueFilter(f))||(this.activeIndex=s)}e.preventDefault()},t.prototype.updateHomeEndAction=function(e,i){if("dropdownlist"===this.getModuleName()){var n=0;if("home"===e.action?(n=0,this.enableVirtualization&&(n=this.skeletonCount)):n=this.getItems().length-1,e.preventDefault(),this.activeIndex===n)return void(i&&this.setSelection(this.liCollections[n],e));this.setSelection(this.liCollections[n],e)}},t.prototype.selectCurrentValueOnTab=function(e){"autocomplete"===this.getModuleName()?this.selectCurrentItem(e):this.isPopupOpen&&(this.hidePopup(e),this.focusDropDown(e))},t.prototype.mobileKeyActionHandler=function(e){if(this.enabled&&(!this.isEditTextBox()||this.isPopupOpen)&&!this.readonly){if(void 0===this.list&&!this.isRequested&&(this.searchKeyEvent=e,this.renderList()),u(this.list)||!u(this.liCollections)&&0===this.liCollections.length||this.isRequested)return;"enter"===e.action&&this.selectCurrentItem(e)}},t.prototype.handleVirtualKeyboardActions=function(e,i){switch(e.action){case"down":case"up":(null!=this.itemData||"autocomplete"===this.getModuleName())&&this.updateUpDownAction(e,!0);break;case"pageUp":this.activeIndex=Math.round(2*i-4),this.pageUpSelection(this.activeIndex-this.getPageCount(),e,!0),e.preventDefault();break;case"pageDown":this.activeIndex=1,this.pageDownSelection(this.activeIndex+this.getPageCount(),e,!0),e.preventDefault();break;case"home":case"end":this.isMouseScrollAction=!0,this.updateHomeEndAction(e,!0)}this.keyboardEvent=null},t.prototype.selectCurrentItem=function(e){if(this.isPopupOpen){var i=this.list.querySelector("."+ze.focus);i&&(this.setSelection(i,e),this.isTyped=!1),this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(e)),this.hidePopup(e),this.focusDropDown(e)}else this.showPopup()},t.prototype.isSelectFocusItem=function(e){return!u(e)},t.prototype.getPageCount=function(e){var i=this.list.classList.contains("e-nodata")?null:getComputedStyle(this.getItems()[0],null).getPropertyValue("height"),n=Math.round(this.list.getBoundingClientRect().height/parseInt(i,10));return e?n:Math.round(n)},t.prototype.pageUpSelection=function(e,i,n){var s=e>=0?this.liCollections[e+1]:this.liCollections[0];(this.enableVirtualization&&null==this.activeIndex||n)&&(s=e>=0?this.liCollections[e+this.skeletonCount+1]:this.liCollections[0]),!u(s)&&s.classList.contains("e-virtual-list")&&(s=this.liCollections[this.skeletonCount]),this.PageUpDownSelection(s,i)},t.prototype.PageUpDownSelection=function(e,i){this.enableVirtualization?!u(e)&&("autocomplete"!==this.getModuleName()&&!e.classList.contains("e-active")||"autocomplete"===this.getModuleName()&&!e.classList.contains("e-item-focus"))&&this.setSelection(e,i):this.setSelection(e,i)},t.prototype.pageDownSelection=function(e,i,n){var s=this.getItems(),a=e<=s.length?this.liCollections[e-1]:this.liCollections[s.length-1];(this.enableVirtualization&&null==this.activeIndex||n)&&(a=e<=s.length?this.liCollections[e+this.skeletonCount-1]:this.liCollections[s.length-1]),this.PageUpDownSelection(a,i)},t.prototype.unWireEvent=function(){u(this.inputWrapper)||(b.remove(this.inputWrapper.container,"mousedown",this.dropDownClick),b.remove(this.inputWrapper.container,"keypress",this.onSearch),b.remove(this.inputWrapper.container,"focus",this.focusIn),b.remove(window,"resize",this.windowResize)),this.unBindCommonEvent()},t.prototype.unWireListEvents=function(){this.list&&(b.remove(this.list,"click",this.onMouseClick),b.remove(this.list,"mouseover",this.onMouseOver),b.remove(this.list,"mouseout",this.onMouseLeave))},t.prototype.checkSelector=function(e){return'[id="'+e.replace(/(:|\.|\[|\]|,|=|@|\\|\/|#)/g,"\\$1")+'"]'},t.prototype.onDocumentClick=function(e){var i=e.target;if(!u(this.popupObj)&&I(i,this.checkSelector(this.popupObj.element.id))||u(this.inputWrapper)||this.inputWrapper.container.contains(e.target))i!==this.inputElement&&(!this.allowFiltering||i!==this.filterInput)&&("combobox"!==this.getModuleName()||this.allowFiltering||!O.isDevice||i!==this.inputWrapper.buttons[0])&&(this.isPreventBlur=(O.isIE||"edge"===O.info.name)&&(document.activeElement===this.targetElement()||document.activeElement===this.filterInput),e.preventDefault());else if(this.inputWrapper.container.classList.contains(ze.inputFocus)||this.isPopupOpen){this.isDocumentClick=!0;var n=this.isRequested;this.hidePopup(e),this.isInteracted=!1,n||(this.onFocusOut(),this.inputWrapper.container.classList.remove(ze.inputFocus))}},t.prototype.activeStateChange=function(){this.isDocumentClick&&(this.hidePopup(),this.onFocusOut(),this.inputWrapper.container.classList.remove(ze.inputFocus))},t.prototype.focusDropDown=function(e){!this.initial&&this.isFilterLayout()&&this.focusIn(e)},t.prototype.dropDownClick=function(e){if(3!==e.which&&2!==e.button&&(this.keyboardEvent=null,!this.targetElement().classList.contains(ze.disable)&&this.inputWrapper.clearButton!==e.target)){var i=e.target;if(i!==this.inputElement&&!(this.allowFiltering&&i===this.filterInput)&&"combobox"!==this.getModuleName()&&e.preventDefault(),this.readonly)this.focusIn(e);else{this.isPopupOpen?(this.hidePopup(e),this.isFilterLayout()&&this.focusDropDown(e)):(this.focusIn(e),this.floatLabelChange(),this.queryString=""===this.inputElement.value.trim()?null:this.inputElement.value,this.isDropDownClick=!0,this.showPopup(e));var n=this,s=this.element.tagName===this.getNgDirective()&&this.itemTemplate?500:100;this.isSecondClick||setTimeout(function(){n.cloneElements(),n.isSecondClick=!0},s)}}},t.prototype.cloneElements=function(){if(this.list){var e=this.list.querySelector("ul");e&&(e=e.cloneNode?e.cloneNode(!0):e,this.actionCompleteData.ulElement=e)}},t.prototype.updateSelectedItem=function(e,i,n,s){var a=this;this.removeSelection(),e.classList.add("e-active"),this.removeHover();var o="null"!==e.getAttribute("data-value")?this.getFormattedValue(e.getAttribute("data-value")):null,l=this.getDataByValue(o);if(this.initial||n||u(i))this.selectEventCallback(e,i,n,l,o),s&&this.setSelectOptions(e,i);else{var h=this.detachChanges(l);this.isSelected=!0,this.trigger("select",{e:i,item:e,itemData:h,isInteracted:!!i,cancel:!1},function(d){d.cancel?e.classList.remove("e-active"):(a.selectEventCallback(e,i,n,l,o),s&&a.setSelectOptions(e,i))})}},t.prototype.selectEventCallback=function(e,i,n,s,a){this.previousItemData=u(this.itemData)?null:this.itemData,this.itemData!=s&&(this.previousValue=u(this.itemData)?null:"object"==typeof this.itemData?this.checkFieldValue(this.itemData,this.fields.value.split(".")):this.itemData),this.item=e,this.itemData=s;var o=this.list.querySelector("."+se_focus);if(o&&M([o],se_focus),e.setAttribute("aria-selected","true"),u(a)&&(a="null"),this.allowFiltering&&!this.enableVirtualization&&"autocomplete"!==this.getModuleName()){var l=this.getIndexByValueFilter(a);this.activeIndex=u(l)?this.getIndexByValue(a):l}else this.activeIndex=this.getIndexByValue(a)},t.prototype.activeItem=function(e){this.isValidLI(e)&&!e.classList.contains("e-active")&&(this.removeSelection(),e.classList.add("e-active"),this.removeHover(),e.setAttribute("aria-selected","true"))},t.prototype.setValue=function(e){var i=this.getItemData();X.setValue(null===i.value?null:i.text,this.inputElement,this.floatLabelType,this.showClearButton),this.valueTemplate&&null!==this.itemData?this.setValueTemplate():!u(this.valueTempElement)&&this.inputElement.previousSibling===this.valueTempElement&&(Q(this.valueTempElement),this.inputElement.style.display="block"),!u(i.value)&&!this.enableVirtualization&&this.allowFiltering&&(this.activeIndex=this.getIndexByValueFilter(i.value));var n=ze.clearIcon,a=this.isFiltering()&&this.filterInput&&"combobox"===this.getModuleName()&&this.filterInput.parentElement.querySelector("."+n);return this.isFiltering()&&a&&a.style.removeProperty("visibility"),this.previousValue===i.value?(this.isSelected=!1,!0):(this.isSelected=!this.initial,this.isSelectCustom=!1,"dropdownlist"===this.getModuleName()&&this.updateIconState(),!1)},t.prototype.setSelection=function(e,i){var n=this;if(this.isValidLI(e)&&(!e.classList.contains("e-active")||this.isPopupOpen&&this.isSelected&&e.classList.contains("e-active")))this.updateSelectedItem(e,i,!1,!0);else if(this.setSelectOptions(e,i),this.enableVirtualization){var s=this.fields.value?this.fields.value:"";if(this.dataSource instanceof ye)this.dataSource.executeQuery((new Xe).where(new ti(s,"equal",this.value))).then(function(o){o.result.length>0&&(n.itemData=o.result[0],n.setProperties({text:o.result[0].text,value:o.result[0].value},!0))});else{var a=new ye(this.dataSource).executeLocal((new Xe).where(new ti(s,"equal",this.value)));a&&a.length>0&&(this.itemData=a[0],this.setProperties({text:a[0].text,value:a[0].value},!0))}}},t.prototype.setSelectOptions=function(e,i){this.list&&this.removeHover(),this.previousSelectedLI=u(this.selectedLI)?null:this.selectedLI,this.selectedLI=e,!this.setValue(i)&&((!this.isPopupOpen&&!u(e)||this.isPopupOpen&&!u(i)&&("keydown"!==i.type||"keydown"===i.type&&"enter"===i.action))&&(this.isSelectCustom=!1,this.onChangeEvent(i)),this.isPopupOpen&&!u(this.selectedLI)&&null!==this.itemData&&(!i||"click"!==i.type)&&this.setScrollPosition(i),"mozilla"!==O.info.name&&this.targetElement()&&(re(this.targetElement(),{"aria-describedby":""!==this.inputElement.id?this.inputElement.id:this.element.id}),this.targetElement().removeAttribute("aria-live")),!this.isPopupOpen||u(this.ulElement)||u(this.ulElement.getElementsByClassName("e-item-focus")[0])?this.isPopupOpen&&!u(this.ulElement)&&!u(this.ulElement.getElementsByClassName("e-active")[0])&&re(this.targetElement(),{"aria-activedescendant":this.ulElement.getElementsByClassName("e-active")[0].id}):re(this.targetElement(),{"aria-activedescendant":this.ulElement.getElementsByClassName("e-item-focus")[0].id}))},t.prototype.dropdownCompiler=function(e){var i=!1;if("function"!=typeof e&&e)try{i=!!document.querySelectorAll(e).length}catch(n){i=!1}return i},t.prototype.setValueTemplate=function(){this.isReact&&(this.clearTemplate(["valueTemplate"]),this.valueTempElement&&(Q(this.valueTempElement),this.inputElement.style.display="block",this.valueTempElement=null)),this.valueTempElement||(this.valueTempElement=this.createElement("span",{className:ze.value}),this.inputElement.parentElement.insertBefore(this.valueTempElement,this.inputElement),this.inputElement.style.display="none"),this.isReact||(this.valueTempElement.innerHTML="");var i=this.dropdownCompiler(this.valueTemplate),n=tt("function"!=typeof this.valueTemplate&&i?document.querySelector(this.valueTemplate).innerHTML.trim():this.valueTemplate)(this.itemData,this,"valueTemplate",this.valueTemplateId,this.isStringTemplate,null,this.valueTempElement);n&&n.length>0&&ce(n,this.valueTempElement),this.renderReactTemplates()},t.prototype.removeSelection=function(){if(this.list){var e=this.list.querySelectorAll(".e-active");e.length&&(M(e,"e-active"),e[0].removeAttribute("aria-selected"))}},t.prototype.getItemData=function(){var i,n,s,e=this.fields;return u(i=this.itemData)||(n=_(e.value,i),s=_(e.text,i)),{value:u(i)||Le(n)?i:n,text:u(i)||Le(n)?i:s}},t.prototype.onChangeEvent=function(e){var i=this.getItemData();this.setProperties({index:this.isSelectCustom?null:this.activeIndex,text:i.text,value:i.value},!0),this.detachChangeEvent(e)},t.prototype.detachChanges=function(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e?Object.defineProperties({},{value:{value:e,enumerable:!0},text:{value:e,enumerable:!0}}):e},t.prototype.detachChangeEvent=function(e){if(this.isSelected=!1,this.previousValue=this.value,this.activeIndex=this.index,this.typedString=u(this.text)?"":this.text,!this.initial){var n,i=this.detachChanges(this.itemData);n="string"==typeof this.previousItemData||"boolean"==typeof this.previousItemData||"number"==typeof this.previousItemData?Object.defineProperties({},{value:{value:this.previousItemData,enumerable:!0},text:{value:this.previousItemData,enumerable:!0}}):this.previousItemData,this.setHiddenValue();var s={e,item:this.item,itemData:i,previousItem:this.previousSelectedLI,previousItemData:n,isInteracted:!!e,value:this.value,element:this.element,event:e};this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",s)}(u(this.value)||""===this.value)&&"Always"!==this.floatLabelType&&M([this.inputWrapper.container],"e-valid-input")},t.prototype.setHiddenValue=function(){if(u(this.value))this.hiddenElement.innerHTML="";else if(this.hiddenElement.querySelector("option"))(e=this.hiddenElement.querySelector("option")).textContent=this.text,e.setAttribute("value",this.value.toString());else if(!u(this.hiddenElement)){var e;this.hiddenElement.innerHTML="<option selected>"+this.text+"</option>",(e=this.hiddenElement.querySelector("option")).setAttribute("value",this.value.toString())}},t.prototype.onFilterUp=function(e){if(e.ctrlKey&&86===e.keyCode||!this.isValidKey&&40!==e.keyCode&&38!==e.keyCode)this.isValidKey=!1;else switch(this.isValidKey=!1,e.keyCode){case 38:case 40:"autocomplete"!==this.getModuleName()||this.isPopupOpen||this.preventAltUp||this.isRequested?this.preventAutoFill=!1:(this.preventAutoFill=!0,this.searchLists(e)),this.preventAltUp=!1,"autocomplete"===this.getModuleName()&&!u(this.ulElement)&&!u(this.ulElement.getElementsByClassName("e-item-focus")[0])&&re(this.targetElement(),{"aria-activedescendant":this.ulElement.getElementsByClassName("e-item-focus")[0].id}),e.preventDefault();break;case 46:case 8:this.typedString=this.filterInput.value,!this.isPopupOpen&&""!==this.typedString||this.isPopupOpen&&this.queryString.length>0||""===this.typedString&&""===this.queryString&&"autocomplete"!==this.getModuleName()?(this.preventAutoFill=!0,this.searchLists(e)):""===this.typedString&&(this.list&&this.resetFocusElement(),this.activeIndex=null,"dropdownlist"!==this.getModuleName()&&(this.preventAutoFill=!0,this.searchLists(e),"autocomplete"===this.getModuleName()&&this.hidePopup())),e.preventDefault();break;default:this.typedString=this.filterInput.value,this.preventAutoFill=!1,this.searchLists(e),this.enableVirtualization&&this.getFilteringSkeletonCount()}},t.prototype.getFilteringSkeletonCount=function(){var e=this.dataCount-this.viewPortInfo.endIndex,i=this.skeletonCount;this.getSkeletonCount(!0),this.skeletonCount=this.dataCount>2*this.itemCount||e>this.skeletonCount?this.skeletonCount:e>0?e:0,this.list.classList.contains("e-nodata")||(i!==this.skeletonCount?this.UpdateSkeleton(!0,Math.abs(i-this.skeletonCount)):this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll(".e-list-item"),this.list.getElementsByClassName("e-virtual-ddl")[0].style=this.GetVirtualTrackHeight(),this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues())},t.prototype.getSkeletonCount=function(e){this.virtualListHeight=null!=this.listHeight?parseInt(this.listHeight,10):this.virtualListHeight;var i=this.virtualListHeight>0?Math.floor(this.virtualListHeight/this.listItemHeight):0;this.skeletonCount=2*i<this.itemCount?this.itemCount:2*i,this.itemCount=e?this.itemCount:this.skeletonCount,this.skeletonCount=Math.floor(this.skeletonCount/2)+2},t.prototype.onFilterDown=function(e){switch(e.keyCode){case 13:break;case 40:case 38:this.queryString=this.filterInput.value,e.preventDefault();break;case 9:this.isPopupOpen&&"autocomplete"!==this.getModuleName()&&e.preventDefault();break;default:this.prevSelectPoints=this.getSelectionPoints(),this.queryString=this.filterInput.value}},t.prototype.removeFillSelection=function(){if(this.isInteracted){var e=this.getSelectionPoints();this.inputElement.setSelectionRange(e.end,e.end)}},t.prototype.getQuery=function(e){var i;if(!this.isCustomFilter&&this.allowFiltering&&this.filterInput){i=e?e.clone():this.query?this.query.clone():new Xe;var n=""===this.typedString?"contains":this.filterType,s=this.typeOfData(this.dataSource).typeof;i.where((this.dataSource instanceof ye||"string"!==s)&&"number"!==s&&this.fields.text?this.fields.text:"",n,this.typedString,this.ignoreCase,this.ignoreAccent)}else i=e?e.clone():this.query?this.query.clone():new Xe;if(this.enableVirtualization&&0!=this.viewPortInfo.endIndex){var o=this.getTakeValue();this.allowFiltering&&i.skip(this.virtualItemStartIndex),i.take(o),i.requiresCount()}return i},t.prototype.getSelectionPoints=function(){var e=this.inputElement;return{start:Math.abs(e.selectionStart),end:Math.abs(e.selectionEnd)}},t.prototype.searchLists=function(e){var i=this;if(this.isTyped=!0,this.activeIndex=null,this.isListSearched=!0,this.filterInput.parentElement.querySelector("."+ze.clearIcon)&&(this.filterInput.parentElement.querySelector("."+ze.clearIcon).style.visibility=""===this.filterInput.value?"hidden":"visible"),this.isDataFetched=!1,this.isFiltering()){this.checkAndResetCache();var s={preventDefaultAction:!1,text:this.filterInput.value,updateData:function(a,o,l){s.cancel||(i.isCustomFilter=!0,i.filteringAction(a,o,l))},baseEventArgs:e,cancel:!1};this.trigger("filtering",s,function(a){!a.cancel&&!i.isCustomFilter&&!a.preventDefaultAction&&i.filteringAction(i.dataSource,null,i.fields)})}},t.prototype.filter=function(e,i,n){this.isCustomFilter=!0,this.filteringAction(e,i,n)},t.prototype.filteringAction=function(e,i,n){if(!u(this.filterInput)){this.beforePopupOpen=!(!this.isPopupOpen&&"combobox"===this.getModuleName()&&""===this.filterInput.value);var s=this.list.classList.contains("e-nodata");if(""!==this.filterInput.value.trim()||this.itemTemplate)this.isNotSearchList=!1,i=""===this.filterInput.value.trim()?null:i,this.enableVirtualization&&this.isFiltering()&&this.isTyped&&(this.isPreventScrollAction=!0,this.list.scrollTop=0,this.previousStartIndex=0,this.virtualListInfo=null),this.resetList(e,n,i),this.enableVirtualization&&s&&!this.list.classList.contains("e-nodata")&&(this.list.querySelector(".e-virtual-ddl-content")||this.list.appendChild(this.createElement("div",{className:"e-virtual-ddl-content",styles:this.getTransformValues()})).appendChild(this.list.querySelector(".e-list-parent")),!this.list.querySelector(".e-virtual-ddl"))&&(a=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl",styles:this.GetVirtualTrackHeight()}),document.getElementsByClassName("e-popup")[0].querySelector(".e-dropdownbase").appendChild(a));else{if(this.actionCompleteData.isUpdated=!1,this.isTyped=!1,!u(this.actionCompleteData.ulElement)&&!u(this.actionCompleteData.list)){if(this.enableVirtualization&&(this.totalItemCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.resetList(e,n,i),s&&!this.list.classList.contains("e-nodata")&&(this.list.querySelector(".e-virtual-ddl-content")||this.list.appendChild(this.createElement("div",{className:"e-virtual-ddl-content",styles:this.getTransformValues()})).appendChild(this.list.querySelector(".e-list-parent")),!this.list.querySelector(".e-virtual-ddl")))){var a=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl",styles:this.GetVirtualTrackHeight()});document.getElementsByClassName("e-popup")[0].querySelector(".e-dropdownbase").appendChild(a)}this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list)}this.isTyped=!0,!u(this.itemData)&&"dropdownlist"===this.getModuleName()&&(this.focusIndexItem(),this.setScrollPosition()),this.isNotSearchList=!0}this.enableVirtualization&&this.getFilteringSkeletonCount(),this.renderReactTemplates()}},t.prototype.setSearchBox=function(e){if(this.isFiltering()){var i=e.querySelector("."+ze.filterParent)?e.querySelector("."+ze.filterParent):this.createElement("span",{className:ze.filterParent});this.filterInput=this.createElement("input",{attrs:{type:"text"},className:ze.filterInput}),this.element.parentNode.insertBefore(this.filterInput,this.element);var n=!1;return O.isDevice&&(n=!0),this.filterInputObj=X.createInput({element:this.filterInput,buttons:n?[ze.backIcon,ze.filterBarClearIcon]:[ze.filterBarClearIcon],properties:{placeholder:this.filterBarPlaceholder}},this.createElement),u(this.cssClass)||(-1!==this.cssClass.split(" ").indexOf("e-outline")?D([this.filterInputObj.container],"e-outline"):-1!==this.cssClass.split(" ").indexOf("e-filled")&&D([this.filterInputObj.container],"e-filled")),ce([this.filterInputObj.container],i),Tt([i],e),re(this.filterInput,{"aria-disabled":"false",role:"combobox",autocomplete:"off",autocapitalize:"off",spellcheck:"false"}),this.clearIconElement=this.filterInput.parentElement.querySelector("."+ze.clearIcon),!O.isDevice&&this.clearIconElement&&(b.add(this.clearIconElement,"click",this.clearText,this),this.clearIconElement.style.visibility="hidden"),this.searchKeyModule=new Lt(this.filterInput,O.isDevice?{keyAction:this.mobileKeyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}:{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),b.add(this.filterInput,"input",this.onInput,this),b.add(this.filterInput,"keyup",this.onFilterUp,this),b.add(this.filterInput,"keydown",this.onFilterDown,this),b.add(this.filterInput,"blur",this.onBlurHandler,this),b.add(this.filterInput,"paste",this.pasteHandler,this),this.filterInputObj}return Yve},t.prototype.onInput=function(e){this.isValidKey=!0,"combobox"===this.getModuleName()&&this.updateIconState(),O.isDevice&&"mozilla"===O.info.name&&(this.typedString=this.filterInput.value,this.preventAutoFill=!0,this.searchLists(e))},t.prototype.pasteHandler=function(e){var i=this;setTimeout(function(){i.typedString=i.filterInput.value,i.searchLists(e)})},t.prototype.onActionFailure=function(e){r.prototype.onActionFailure.call(this,e),this.beforePopupOpen&&this.renderPopup()},t.prototype.UpdateSkeleton=function(e,i){var n=this.list.querySelector(".e-virtual-ddl-content"),s=this.list.querySelector(".e-virtual-list");if(n&&(!s||e)&&this.enableVirtualization)for(var a=e?i:this.skeletonCount,o=0;o<a;o++){var l=this.createElement("li",{className:ze.virtualList,styles:"overflow: inherit"});this.enableVirtualization&&this.itemTemplate&&(l.style.height=this.listItemHeight+"px");var h=new Ave({shape:"Text",height:"10px",width:"95%",cssClass:"e-skeleton-text"});h.appendTo(this.createElement("div")),l.appendChild(h.element),n.firstChild.insertBefore(l,n.firstChild.children[0])}},t.prototype.getTakeValue=function(){return this.allowFiltering&&"dropdownlist"===this.getModuleName()&&O.isDevice?Math.round(window.outerHeight/this.listItemHeight):this.itemCount},t.prototype.onActionComplete=function(e,i,n,s){var a=this;if(this.dataSource instanceof ye&&!u(n)&&(this.totalItemCount=n.count),!this.isNotSearchList||this.enableVirtualization){var o=this.itemCount;if(this.isActive||!u(e)){var l=this.selectedLI?this.selectedLI.cloneNode(!0):null;if(r.prototype.onActionComplete.call(this,e,i,n),this.skeletonCount=0!=this.totalItemCount&&this.totalItemCount<2*this.itemCount?0:this.skeletonCount,this.updateSelectElementData(this.allowFiltering),this.isRequested&&!u(this.searchKeyEvent)&&"keydown"===this.searchKeyEvent.type&&(this.isRequested=!1,this.keyActionHandler(this.searchKeyEvent),this.searchKeyEvent=null),this.isRequested&&!u(this.searchKeyEvent)&&(this.incrementalSearch(this.searchKeyEvent),this.searchKeyEvent=null),this.enableVirtualization||(this.list.scrollTop=0),u(e)||re(e,{id:this.element.id+"_options",role:"listbox","aria-hidden":"false"}),this.initRemoteRender){if(this.initial=!0,this.activeIndex=this.index,this.initRemoteRender=!1,this.value&&this.dataSource instanceof ye){var h=u(this.fields.value)?this.fields.text:this.fields.value,c=this.fields.value.split(".");i.some(function(m){return u(m[h])&&c.length>1?a.checkFieldValue(m,c)===a.value:m[h]===a.value})?this.updateValues():this.dataSource.executeQuery(this.getQuery(this.query).where(new ti(h,"equal",this.value))).then(function(m){m.result.length>0&&a.addItem(m.result,i.length),a.updateValues()})}else this.updateValues();this.initial=!1}else"autocomplete"===this.getModuleName()&&this.value&&this.setInputValue();if("autocomplete"!==this.getModuleName()&&this.isFiltering()&&!this.isTyped)(!this.actionCompleteData.isUpdated||!this.isCustomFilter&&!this.isFilterFocus||u(this.itemData)&&this.allowFiltering&&(this.dataSource instanceof ye||!u(this.dataSource)&&!u(this.dataSource.length)&&0!==this.dataSource.length))&&(this.itemTemplate&&"EJS-COMBOBOX"===this.element.tagName&&this.allowFiltering?setTimeout(function(){a.updateActionCompleteDataValues(e,i)},0):this.updateActionCompleteDataValues(e,i)),((this.allowCustom||this.allowFiltering&&!this.isValueInList(i,this.value)&&this.dataSource instanceof ye)&&!this.enableVirtualization||(this.allowCustom||this.allowFiltering&&this.isValueInList(i,this.value))&&!this.enableVirtualization)&&this.addNewItem(i,l),(!u(this.itemData)||u(this.itemData)&&this.enableVirtualization)&&this.focusIndexItem(),this.enableVirtualization&&this.updateActionCompleteDataValues(e,i);else if(this.enableVirtualization&&"autocomplete"!==this.getModuleName()&&!this.isFiltering()){var p=this.getItemData().value;this.activeIndex=this.getIndexByValue(p);var f=this.findListElement(this.list,"li","data-value",p);this.selectedLI=f}else this.enableVirtualization&&"autocomplete"===this.getModuleName()&&(this.activeIndex=this.skeletonCount);this.beforePopupOpen&&(this.renderPopup(n),this.enableVirtualization&&(this.list.querySelector(".e-virtual-list")||(this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll(".e-list-item"))),this.enableVirtualization&&o!=this.itemCount&&this.resetList(this.dataSource,this.fields))}}else this.isNotSearchList=!1},t.prototype.isValueInList=function(e,i){if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(e[n]===i)return!0}else if("object"==typeof e&&null!==e)for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&e[s]===i)return!0;return!1},t.prototype.checkFieldValue=function(e,i){var n=e;return i.forEach(function(s){n=n[s]}),n},t.prototype.updateActionCompleteDataValues=function(e,i){this.actionCompleteData={ulElement:e.cloneNode(!0),list:i,isUpdated:!0},this.actionData.list!==this.actionCompleteData.list&&this.actionCompleteData.ulElement&&this.actionCompleteData.list&&(this.actionData=this.actionCompleteData)},t.prototype.addNewItem=function(e,i){var n=this;if(!u(this.itemData)&&!u(i)){var s=this.getItemData().value;e.some(function(o){return("string"==typeof o||"number"==typeof o)&&o===s||_(n.fields.value,o)===s})||this.addItem(this.itemData)}},t.prototype.updateActionCompleteData=function(e,i,n){var s=this;"autocomplete"!==this.getModuleName()&&this.actionCompleteData.ulElement&&(this.itemTemplate&&"EJS-COMBOBOX"===this.element.tagName&&this.allowFiltering?setTimeout(function(){s.actionCompleteDataUpdate(e,i,n)},0):this.actionCompleteDataUpdate(e,i,n))},t.prototype.actionCompleteDataUpdate=function(e,i,n){null!==n?this.actionCompleteData.ulElement.insertBefore(e.cloneNode(!0),this.actionCompleteData.ulElement.childNodes[n]):this.actionCompleteData.ulElement.appendChild(e.cloneNode(!0)),this.isFiltering()&&this.actionCompleteData.list.indexOf(i)<0&&this.actionCompleteData.list.push(i)},t.prototype.focusIndexItem=function(){var e=this.getItemData().value;this.activeIndex=this.getIndexByValue(e);var i=this.findListElement(this.list,"li","data-value",e);this.selectedLI=i,this.activeItem(i),this.enableVirtualization&&u(i)||this.removeFocus()},t.prototype.updateSelection=function(){var e=this.list.querySelector(".e-active");e?(this.setProperties({index:this.getIndexByValue(e.getAttribute("data-value"))}),this.activeIndex=this.index):(this.removeFocus(),this.list.querySelector("."+se_li).classList.add(ze.focus))},t.prototype.updateSelectionList=function(){if(!(this.list&&this.list.querySelector(".e-active")||u(this.value))){var i=this.findListElement(this.list,"li","data-value",this.value);i&&i.classList.add("e-active")}},t.prototype.checkAndResetCache=function(){this.enableVirtualization&&(this.generatedDataObject={},this.virtualItemStartIndex=this.virtualItemEndIndex=0,this.viewPortInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:this.itemCount},this.selectedValueInfo=null)},t.prototype.removeFocus=function(){var e=this.list.querySelectorAll("."+ze.focus);e&&e.length&&M(e,ze.focus)},t.prototype.getTransformValues=function(){var e=this.viewPortInfo.startIndex*this.listItemHeight;return e-=this.skeletonCount*this.listItemHeight,"transform: translate(0px, "+(e=0===this.viewPortInfo.startIndex&&this.listData&&0===this.listData.length?0:e)+"px);"},t.prototype.GetVirtualTrackHeight=function(){return"height: "+((this.totalItemCount===this.viewPortInfo.endIndex?this.totalItemCount*this.listItemHeight-this.itemCount*this.listItemHeight:this.totalItemCount*this.listItemHeight)-this.itemCount*this.listItemHeight)+"px;"},t.prototype.renderPopup=function(e){var i=this;this.popupObj&&document.body.contains(this.popupObj.element)?this.refreshPopup():this.trigger("beforeOpen",{cancel:!1},function(s){if(s.cancel)i.beforePopupOpen=!1;else{var a=i.createElement("div",{id:i.element.id+"_popup",className:"e-ddl e-popup "+(null!==i.cssClass?i.cssClass:"")}),o=i.setSearchBox(a);if(i.listHeight=$(i.popupHeight),i.headerTemplate&&i.setHeaderTemplate(a),ce([i.list],a),i.footerTemplate&&i.setFooterTemplate(a),document.body.appendChild(a),i.enableVirtualization&&i.itemTemplate){var l=a.querySelectorAll("li.e-list-item:not(.e-virtual-list)");i.listItemHeight=l.length>0?Math.ceil(l[0].getBoundingClientRect().height):0}if(i.enableVirtualization&&!i.list.classList.contains("e-nodata"))if(i.list.querySelector(".e-virtual-ddl-content")?i.list.getElementsByClassName("e-virtual-ddl-content")[0].style=i.getTransformValues():i.list.appendChild(i.createElement("div",{className:"e-virtual-ddl-content",styles:i.getTransformValues()})).appendChild(i.list.querySelector(".e-list-parent")),i.UpdateSkeleton(),i.liCollections=i.list.querySelectorAll("."+se_li),i.virtualItemCount=i.itemCount,i.list.querySelector(".e-virtual-ddl"))i.list.getElementsByClassName("e-virtual-ddl")[0].style=i.GetVirtualTrackHeight();else{var h=i.createElement("div",{id:i.element.id+"_popup",className:"e-virtual-ddl",styles:i.GetVirtualTrackHeight()});a.querySelector(".e-dropdownbase").appendChild(h)}if(a.style.visibility="hidden","auto"!==i.popupHeight){if(i.searchBoxHeight=0,!u(o.container)&&"combobox"!==i.getModuleName()&&"autocomplete"!==i.getModuleName()&&(i.searchBoxHeight=o.container.parentElement.getBoundingClientRect().height,i.listHeight=(parseInt(i.listHeight,10)-i.searchBoxHeight).toString()+"px"),i.headerTemplate){i.header=i.header?i.header:a.querySelector(".e-ddl-header");var c=Math.round(i.header.getBoundingClientRect().height);i.listHeight=(parseInt(i.listHeight,10)-(c+i.searchBoxHeight)).toString()+"px"}i.footerTemplate&&(i.footer=i.footer?i.footer:a.querySelector(".e-ddl-footer"),c=Math.round(i.footer.getBoundingClientRect().height),i.listHeight=(parseInt(i.listHeight,10)-(c+i.searchBoxHeight)).toString()+"px"),i.list.style.maxHeight=(parseInt(i.listHeight,10)-2).toString()+"px",a.style.maxHeight=$(i.popupHeight)}else a.style.height="auto";var d=0,p=void 0;if(i.isPreventScrollAction=!0,!u(i.selectedLI)&&!u(i.activeIndex)&&i.activeIndex>=0||i.enableVirtualization?i.setScrollPosition():i.list.scrollTop=0,O.isDevice&&!i.allowFiltering&&("dropdownlist"===i.getModuleName()||i.isDropDownClick&&"combobox"===i.getModuleName())){d=i.getOffsetValue(a);var f=i.isEmptyList()?i.list:i.liCollections[0];u(i.inputElement)||(p=-(parseInt(getComputedStyle(f).textIndent,10)-parseInt(getComputedStyle(i.inputElement).paddingLeft,10)+parseInt(getComputedStyle(i.inputElement.parentElement).borderLeftWidth,10)))}i.getFocusElement(),i.createPopup(a,d,p),i.popupContentElement=i.popupObj.element.querySelector(".e-content"),i.checkCollision(a),O.isDevice&&(i.popupObj.element.classList.add(ze.device),("dropdownlist"===i.getModuleName()||"combobox"===i.getModuleName()&&!i.allowFiltering&&i.isDropDownClick)&&(i.popupObj.collision={X:"fit",Y:"fit"}),i.isFilterLayout()&&(i.popupObj.element.classList.add(ze.mobileFilter),i.popupObj.position={X:0,Y:0},i.popupObj.dataBind(),re(i.popupObj.element,{style:"left:0px;right:0px;top:0px;bottom:0px;"}),D([document.body,i.popupObj.element],ze.popupFullScreen),i.setSearchBoxPosition(),i.backIconElement=o.container.querySelector(".e-back-icon"),i.clearIconElement=o.container.querySelector("."+ze.clearIcon),b.add(i.backIconElement,"click",i.clickOnBackIcon,i),b.add(i.clearIconElement,"click",i.clearText,i))),a.style.visibility="visible",D([a],"e-popup-close");for(var g=0,y=i.popupObj.getScrollableParent(i.inputWrapper.container);g<y.length;g++)b.add(y[g],"scroll",i.scrollHandler,i);u(i.list)||(i.unWireListEvents(),i.wireListEvents()),i.selectedElementID=i.selectedLI?i.selectedLI.id:null,i.enableVirtualization&&(i.notify("bindScrollEvent",{module:"VirtualScroll",component:i.getModuleName(),enable:i.enableVirtualization}),setTimeout(function(){i.value&&(i.updateSelectionList(),i.selectedValueInfo&&i.viewPortInfo&&i.viewPortInfo.offsets.top?i.list.scrollTop=i.viewPortInfo.offsets.top:i.scrollBottom(!0,!0))},5)),re(i.targetElement(),{"aria-expanded":"true","aria-owns":i.element.id+"_options"}),i.inputElement.setAttribute("aria-expanded","true"),D([i.isFiltering()?i.filterInput.parentElement:i.inputWrapper.container],[ze.inputFocus]),i.beforePopupOpen=!0,i.trigger("open",{popup:i.popupObj,event:e,cancel:!1,animation:{name:"FadeIn",duration:100}},function(T){T.cancel?(i.beforePopupOpen=!1,i.destroyPopup()):(u(i.inputWrapper)||D([i.inputWrapper.container],[ze.iconAnimation]),i.renderReactTemplates(),u(i.popupObj)||i.popupObj.show(new vi(T.animation),1e3===i.zIndex?i.element:null))})}})},t.prototype.checkCollision=function(e){(!O.isDevice||O.isDevice&&"dropdownlist"!==this.getModuleName()&&!this.isDropDownClick)&&(_r(e).length>0&&(e.style.marginTop=-parseInt(getComputedStyle(e).marginTop,10)+"px"),this.popupObj.resolveCollision())},t.prototype.getOffsetValue=function(e){var i=getComputedStyle(e),n=parseInt(i.borderTopWidth,10),s=parseInt(i.borderBottomWidth,10);return this.setPopupPosition(n+s)},t.prototype.createPopup=function(e,i,n){var s=this;this.popupObj=new us(e,{width:this.setWidth(),targetType:"relative",relateTo:this.inputWrapper.container,collision:this.enableRtl?{X:"fit",Y:"flip"}:{X:"flip",Y:"flip"},offsetY:i,enableRtl:this.enableRtl,offsetX:n,position:this.enableRtl?{X:"right",Y:"bottom"}:{X:"left",Y:"bottom"},zIndex:this.zIndex,close:function(){s.isDocumentClick||s.focusDropDown(),s.isReact&&s.clearTemplate(["headerTemplate","footerTemplate"]),s.isNotSearchList=!1,s.isDocumentClick=!1,s.destroyPopup(),s.isFiltering()&&s.actionCompleteData.list&&s.actionCompleteData.list[0]&&(s.isActive=!0,s.onActionComplete(s.actionCompleteData.ulElement,s.actionCompleteData.list,null,!0))},open:function(){b.add(document,"mousedown",s.onDocumentClick,s),s.isPopupOpen=!0;var a=s.actionCompleteData&&s.actionCompleteData.ulElement&&s.actionCompleteData.ulElement.querySelector("li"),o=s.list.querySelector("ul li");u(s.ulElement)||u(s.ulElement.getElementsByClassName("e-item-focus")[0])?!u(s.ulElement)&&!u(s.ulElement.getElementsByClassName("e-active")[0])&&re(s.targetElement(),{"aria-activedescendant":s.ulElement.getElementsByClassName("e-active")[0].id}):re(s.targetElement(),{"aria-activedescendant":s.ulElement.getElementsByClassName("e-item-focus")[0].id}),s.isFiltering()&&s.itemTemplate&&s.element.tagName===s.getNgDirective()&&a&&o&&a.textContent!==o.textContent&&"EJS-COMBOBOX"!==s.element.tagName&&s.cloneElements(),s.isFilterLayout()&&(M([s.inputWrapper.container],[ze.inputFocus]),s.isFilterFocus=!0,s.filterInput.focus(),s.inputWrapper.clearButton&&D([s.inputWrapper.clearButton],ze.clearIconHide)),s.activeStateChange()},targetExitViewport:function(){O.isDevice||s.hidePopup()}})},t.prototype.isEmptyList=function(){return!u(this.liCollections)&&0===this.liCollections.length},t.prototype.getFocusElement=function(){},t.prototype.isFilterLayout=function(){return"dropdownlist"===this.getModuleName()&&this.allowFiltering},t.prototype.scrollHandler=function(){O.isDevice&&("dropdownlist"===this.getModuleName()&&!this.isFilterLayout()||"combobox"===this.getModuleName()&&!this.allowFiltering&&this.isDropDownClick)&&this.hidePopup()},t.prototype.setSearchBoxPosition=function(){var e=this.filterInput.parentElement.getBoundingClientRect().height;this.popupObj.element.style.maxHeight="100%",this.popupObj.element.style.width="100%",this.list.style.maxHeight=window.innerHeight-e+"px",this.list.style.height=window.innerHeight-e+"px";var i=this.filterInput.parentElement.querySelector("."+ze.clearIcon);Q(this.filterInput),i.parentElement.insertBefore(this.filterInput,i)},t.prototype.setPopupPosition=function(e){var i,n=e,s=this.list.querySelector("."+ze.focus)||this.selectedLI,a=this.isEmptyList()?this.list:this.liCollections[0],o=this.isEmptyList()?this.list:this.liCollections[this.getItems().length-1],l=a.getBoundingClientRect().height;this.listItemHeight=l;var h=this.list.offsetHeight/2,c=u(s)?a.offsetTop:s.offsetTop;if(o.offsetTop-h<c&&!u(this.liCollections)&&this.liCollections.length>0&&!u(s)){var p=this.list.offsetHeight/l,f=parseInt(getComputedStyle(this.list).paddingBottom,10);i=(p-(this.liCollections.length-this.activeIndex))*l-n+f,this.list.scrollTop=s.offsetTop}else c>h&&!this.enableVirtualization?(i=h-l/2,this.list.scrollTop=c-h+l/2):i=c;return-(i=i+l+n-(l-this.inputWrapper.container.offsetHeight)/2)},t.prototype.setWidth=function(){var e=$(this.popupWidth);if(e.indexOf("%")>-1&&(e=(this.inputWrapper.container.offsetWidth*parseFloat(e)/100).toString()+"px"),O.isDevice&&!this.allowFiltering&&("dropdownlist"===this.getModuleName()||this.isDropDownClick&&"combobox"===this.getModuleName())){var n=this.isEmptyList()?this.list:this.liCollections[0];e=parseInt(e,10)+2*(parseInt(getComputedStyle(n).textIndent,10)-parseInt(getComputedStyle(this.inputElement).paddingLeft,10)+parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth,10))+"px"}return e},t.prototype.scrollBottom=function(e,i,n){if(void 0===i&&(i=!1),void 0===n&&(n=null),u(this.selectedLI)&&this.enableVirtualization&&(this.selectedLI=this.list.querySelector("."+se_li),!u(this.selectedLI)&&this.selectedLI.classList.contains("e-virtual-list")&&(this.selectedLI=this.liCollections[this.skeletonCount])),!u(this.selectedLI)){this.isUpwardScrolling=!1;var s=this.list.querySelectorAll(".e-virtual-list").length,a=this.list.querySelector("li:last-of-type")?this.list.querySelector("li:last-of-type").getAttribute("data-value"):null,o=this.virtualListInfo&&this.virtualListInfo.startIndex?this.selectedLI.offsetTop+this.virtualListInfo.startIndex*this.selectedLI.offsetHeight:this.selectedLI.offsetTop,l=this.list.offsetHeight,h=o-s*this.selectedLI.offsetHeight+this.selectedLI.offsetHeight-this.list.scrollTop,c=this.list.scrollTop+h-l,d=!1;c=e?c+2*parseInt(getComputedStyle(this.list).paddingTop,10):c+parseInt(getComputedStyle(this.list).paddingTop,10);var p=o-s*this.selectedLI.offsetHeight+this.selectedLI.offsetHeight-this.list.scrollTop;if(p=this.fields.groupBy&&!u(this.fixedHeaderElement)?p-this.fixedHeaderElement.offsetHeight:p,0!==this.activeIndex||this.enableVirtualization){if(h>l||!(p>0&&this.list.offsetHeight>p)){var f=this.selectedLI?this.selectedLI.getAttribute("data-value"):null,m="pageDown"==n?this.getPageCount()-2:1;!this.enableVirtualization||this.isKeyBoardAction||i?this.isKeyBoardAction&&this.enableVirtualization&&a&&f===a&&"end"!=n&&!this.isVirtualScrolling?(this.isPreventKeyAction=!0,this.list.scrollTop+=this.enableVirtualization&&this.itemTemplate?c:this.selectedLI.offsetHeight*m,this.isPreventKeyAction=!this.IsScrollerAtEnd()&&this.isPreventKeyAction,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1):this.enableVirtualization&&"end"==n?(this.isPreventKeyAction=!1,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1,this.list.scrollTop=this.list.scrollHeight):("pageDown"==n&&this.enableVirtualization&&!this.isVirtualScrolling&&(this.isPreventKeyAction=!1,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1,c+=this.selectedLI.offsetHeight*m),this.list.scrollTop=c):this.list.scrollTop=this.virtualListInfo&&this.virtualListInfo.startIndex?this.virtualListInfo.startIndex*this.listItemHeight:0,d=this.isKeyBoardAction}}else this.list.scrollTop=0,d=this.isKeyBoardAction;this.isKeyBoardAction=d}},t.prototype.scrollTop=function(e){if(void 0===e&&(e=null),!u(this.selectedLI)){var i=this.list.querySelectorAll(".e-virtual-list").length,n=this.virtualListInfo&&this.virtualListInfo.startIndex?this.selectedLI.offsetTop+this.virtualListInfo.startIndex*this.selectedLI.offsetHeight:this.selectedLI.offsetTop,s=n-i*this.selectedLI.offsetHeight-this.list.scrollTop,a=this.list.querySelector("li.e-list-item:not(.e-virtual-list)")?this.list.querySelector("li.e-list-item:not(.e-virtual-list)").getAttribute("data-value"):null;s=this.fields.groupBy&&!u(this.fixedHeaderElement)?s-this.fixedHeaderElement.offsetHeight:s;var o=n-i*this.selectedLI.offsetHeight+this.selectedLI.offsetHeight-this.list.scrollTop,l=this.enableVirtualization&&"autocomplete"===this.getModuleName()&&s<=0;if(0!==this.activeIndex||this.enableVirtualization)if(s<0||l){var h=this.selectedLI?this.selectedLI.getAttribute("data-value"):null,c="pageUp"==e?this.getPageCount()-2:1;this.enableVirtualization&&this.isKeyBoardAction&&a&&h===a&&"home"!=e&&!this.isVirtualScrolling?(this.isUpwardScrolling=!0,this.isPreventKeyAction=!0,this.list.scrollTop-=this.selectedLI.offsetHeight*c,this.isPreventKeyAction=0!=this.list.scrollTop&&this.isPreventKeyAction,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1):this.enableVirtualization&&"home"==e?(this.isPreventScrollAction=!1,this.isPreventKeyAction=!0,this.isKeyBoardAction=!1,this.list.scrollTo(0,0)):("pageUp"==e&&this.enableVirtualization&&!this.isVirtualScrolling&&(this.isPreventKeyAction=!1,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1,s-=this.selectedLI.offsetHeight*c),this.list.scrollTop=this.list.scrollTop+s)}else o>0&&this.list.offsetHeight>o||(this.list.scrollTop=this.selectedLI.offsetTop-(this.fields.groupBy&&!u(this.fixedHeaderElement)?this.fixedHeaderElement.offsetHeight:0));else this.list.scrollTop=0}},t.prototype.isEditTextBox=function(){return!1},t.prototype.isFiltering=function(){return this.allowFiltering},t.prototype.isPopupButton=function(){return!0},t.prototype.setScrollPosition=function(e){if(this.isPreventScrollAction=!0,u(e))this.scrollBottom(!0);else switch(e.action){case"pageDown":case"down":case"end":this.isKeyBoardAction=!0,this.scrollBottom(!1,!1,e.action);break;default:this.isKeyBoardAction="up"==e.action||"pageUp"==e.action||"open"==e.action,this.scrollTop(e.action)}this.isKeyBoardAction=!1},t.prototype.clearText=function(){this.filterInput.value=this.typedString="",this.searchLists(null),this.enableVirtualization&&(this.list.scrollTop=0,this.totalItemCount=this.dataCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.list.getElementsByClassName("e-virtual-ddl")[0]&&(this.list.getElementsByClassName("e-virtual-ddl")[0].style=this.GetVirtualTrackHeight()),this.getSkeletonCount(),this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll(".e-list-item"),this.list.getElementsByClassName("e-virtual-ddl-content")[0]&&(this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues()))},t.prototype.setEleWidth=function(e){u(e)||("number"==typeof e?this.inputWrapper.container.style.width=$(e):"string"==typeof e&&(this.inputWrapper.container.style.width=e.match(/px|%|em/)?e:$(e)))},t.prototype.closePopup=function(e,i){var n=this,s=!u(this.filterInput)&&!u(this.filterInput.value)&&""!==this.filterInput.value;if(this.getModuleName(),this.isTyped=!1,this.popupObj&&document.body.contains(this.popupObj.element)&&this.beforePopupOpen){this.keyboardEvent=null,b.remove(document,"mousedown",this.onDocumentClick),this.isActive=!1,this.filterInputObj=null,this.isDropDownClick=!1,this.preventAutoFill=!1;for(var l=0,h=this.popupObj.getScrollableParent(this.inputWrapper.container);l<h.length;l++)b.remove(h[l],"scroll",this.scrollHandler);O.isDevice&&this.isFilterLayout()&&M([document.body,this.popupObj.element],ze.popupFullScreen),this.isFilterLayout()&&(O.isDevice||(this.searchKeyModule.destroy(),this.clearIconElement&&b.remove(this.clearIconElement,"click",this.clearText)),this.backIconElement&&(b.remove(this.backIconElement,"click",this.clickOnBackIcon),b.remove(this.clearIconElement,"click",this.clearText)),u(this.filterInput)||(b.remove(this.filterInput,"input",this.onInput),b.remove(this.filterInput,"keyup",this.onFilterUp),b.remove(this.filterInput,"keydown",this.onFilterDown),b.remove(this.filterInput,"blur",this.onBlurHandler),b.remove(this.filterInput,"paste",this.pasteHandler)),this.filterInput=null),re(this.targetElement(),{"aria-expanded":"false"}),this.inputElement.setAttribute("aria-expanded","false"),this.targetElement().removeAttribute("aria-owns"),this.targetElement().removeAttribute("aria-activedescendant"),this.inputWrapper.container.classList.remove(ze.iconAnimation),this.isFiltering()&&(this.actionCompleteData.isUpdated=!1),this.enableVirtualization&&(null==this.value||this.isTyped?(this.viewPortInfo.endIndex=this.viewPortInfo&&this.viewPortInfo.endIndex>0?this.viewPortInfo.endIndex:this.itemCount,("autocomplete"===this.getModuleName()||"dropdownlist"===this.getModuleName()&&!u(this.typedString)&&""!=this.typedString||"combobox"===this.getModuleName()&&this.allowFiltering&&!u(this.typedString)&&""!=this.typedString)&&this.checkAndResetCache()):"autocomplete"===this.getModuleName()&&this.checkAndResetCache(),("dropdownlist"===this.getModuleName()||"combobox"===this.getModuleName())&&0!=this.skeletonCount&&this.getSkeletonCount(!0)),this.beforePopupOpen=!1,this.trigger("close",{popup:this.popupObj,cancel:!1,animation:{name:"FadeOut",duration:100,delay:e||0},event:i||null},function(g){if(!u(n.popupObj)&&!u(n.popupObj.element.querySelector(".e-fixed-head"))){var y=n.popupObj.element.querySelector(".e-fixed-head");y.parentNode.removeChild(y),n.fixedHeaderElement=null}g.cancel||("autocomplete"===n.getModuleName()&&n.rippleFun(),n.isPopupOpen?n.popupObj.hide(new vi(g.animation)):n.destroyPopup())}),this.isReact&&this.isFiltering()&&null!=this.itemTemplate&&(this.actionCompleteData.ulElement=this.ulElement.cloneNode(!0));var m=this.dataSource&&this.dataSource.length?this.dataSource.length:0;this.enableVirtualization&&this.isFiltering()&&null!=this.value&&s&&this.totalItemCount!==m&&(this.updateInitialData(),this.checkAndResetCache())}},t.prototype.updateInitialData=function(){var e=this.selectData,i=this.renderItems(e,this.fields);this.list.scrollTop=0,this.virtualListInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:0},"combobox"===this.getModuleName()&&(this.typedString=""),this.previousStartIndex=0,this.previousEndIndex=0,this.totalItemCount=this.dataCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.list.getElementsByClassName("e-virtual-ddl")[0]&&(this.list.getElementsByClassName("e-virtual-ddl")[0].style=this.GetVirtualTrackHeight()),"autocomplete"!==this.getModuleName()&&0!=this.totalItemCount&&this.totalItemCount>2*this.itemCount&&this.getSkeletonCount(),this.UpdateSkeleton(),this.listData=e,this.updateActionCompleteDataValues(i,e),this.liCollections=this.list.querySelectorAll(".e-list-item"),this.list.getElementsByClassName("e-virtual-ddl-content")[0]&&(this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues())},t.prototype.destroyPopup=function(){this.isPopupOpen=!1,this.isFilterFocus=!1,this.popupObj&&(this.popupObj.destroy(),Q(this.popupObj.element))},t.prototype.clickOnBackIcon=function(){this.hidePopup(),this.focusIn()},t.prototype.render=function(){this.preselectedIndex=u(this.index)?null:this.index,"INPUT"===this.element.tagName?(this.inputElement=this.element,u(this.inputElement.getAttribute("role"))&&this.inputElement.setAttribute("role","combobox"),u(this.inputElement.getAttribute("type"))&&this.inputElement.setAttribute("type","text"),this.inputElement.setAttribute("aria-expanded","false")):(this.inputElement=this.createElement("input",{attrs:{role:"combobox",type:"text"}}),this.element.tagName!==this.getNgDirective()&&(this.element.style.display="none"),this.element.parentElement.insertBefore(this.inputElement,this.element),this.preventTabIndex(this.inputElement));var e=this.cssClass;!u(this.cssClass)&&""!==this.cssClass&&(e=this.cssClass.replace(/\s+/g," ").trim()),!u(I(this.element,"fieldset"))&&I(this.element,"fieldset").disabled&&(this.enabled=!1),this.inputWrapper=X.createInput({element:this.inputElement,buttons:this.isPopupButton()?[ze.icon]:null,floatLabelType:this.floatLabelType,properties:{readonly:"dropdownlist"===this.getModuleName()||this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton}},this.createElement),this.element.tagName===this.getNgDirective()?this.element.appendChild(this.inputWrapper.container):this.inputElement.parentElement.insertBefore(this.element,this.inputElement),this.hiddenElement=this.createElement("select",{attrs:{"aria-hidden":"true","aria-label":this.getModuleName(),tabindex:"-1",class:ze.hiddenElement}}),Tt([this.hiddenElement],this.inputWrapper.container),this.validationAttribute(this.element,this.hiddenElement),this.setReadOnly(),this.setFields(),this.inputWrapper.container.style.width=$(this.width),this.inputWrapper.container.classList.add("e-ddl"),"Auto"===this.floatLabelType&&X.calculateWidth(this.inputElement,this.inputWrapper.container),!u(this.inputWrapper.buttons[0])&&this.inputWrapper.container.getElementsByClassName("e-float-text-content")[0]&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-content")[0].classList.add("e-icon"),this.wireEvent(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex");var i=this.element.getAttribute("id")?this.element.getAttribute("id"):vt("ej2_dropdownlist");if(this.element.id=i,this.hiddenElement.id=i+"_hidden",this.targetElement().setAttribute("tabindex",this.tabIndex),"autocomplete"!==this.getModuleName()&&"combobox"!==this.getModuleName()||this.readonly?"dropdownlist"===this.getModuleName()&&re(this.targetElement(),{"aria-label":this.getModuleName()}):this.inputElement.setAttribute("aria-label",this.getModuleName()),re(this.targetElement(),this.getAriaAttributes()),this.updateDataAttribute(this.htmlAttributes),this.setHTMLAttributes(),this.targetElement()===this.inputElement&&this.inputElement.removeAttribute("aria-labelledby"),null!==this.value||null!==this.activeIndex||null!==this.text)this.enableVirtualization&&(this.listItemHeight=this.getListHeight(),this.getSkeletonCount(),this.updateVirtualizationProperties(this.itemCount,this.allowFiltering)),this.initValue(),this.selectedValueInfo=this.viewPortInfo,this.enableVirtualization&&(this.activeIndex=this.activeIndex+this.skeletonCount);else if("SELECT"===this.element.tagName&&this.element.options[0]){var n=this.element;this.value=n.options[n.selectedIndex].value,this.text=u(this.value)?null:n.options[n.selectedIndex].textContent,this.initValue()}this.setEnabled(),this.preventTabIndex(this.element),this.enabled||(this.targetElement().tabIndex=-1),this.initial=!1,this.element.style.opacity="",this.inputElement.onselect=function(a){a.stopImmediatePropagation()},this.inputElement.onchange=function(a){a.stopImmediatePropagation()},this.element.hasAttribute("autofocus")&&this.focusIn(),u(this.text)||this.inputElement.setAttribute("value",this.text),this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false");var s=this.inputWrapper.container.getElementsByClassName("e-float-text")[0];!u(this.element.id)&&""!==this.element.id&&!u(s)&&(s.id="label_"+this.element.id.replace(/ /g,"_"),re(this.inputElement,{"aria-labelledby":s.id})),this.renderComplete(),this.listItemHeight=this.getListHeight(),this.getSkeletonCount(),this.enableVirtualization&&this.updateVirtualizationProperties(this.itemCount,this.allowFiltering),this.viewPortInfo.startIndex=this.virtualItemStartIndex=0,this.viewPortInfo.endIndex=this.virtualItemEndIndex=this.viewPortInfo.startIndex>0?this.viewPortInfo.endIndex:this.itemCount},t.prototype.getListHeight=function(){var e=this.createElement("div",{className:"e-dropdownbase"}),i=this.createElement("li",{className:"e-list-item"}),n=$(this.popupHeight);e.style.height=parseInt(n,10).toString()+"px",e.appendChild(i),document.body.appendChild(e),this.virtualListHeight=e.getBoundingClientRect().height;var s=Math.ceil(i.getBoundingClientRect().height);return e.remove(),s},t.prototype.setFooterTemplate=function(e){this.footer?this.isReact&&"function"==typeof this.footerTemplate?this.clearTemplate(["footerTemplate"]):this.footer.innerHTML="":(this.footer=this.createElement("div"),D([this.footer],ze.footer));var n=this.dropdownCompiler(this.footerTemplate),s=tt("function"!=typeof this.footerTemplate&&n?P(this.footerTemplate,document).innerHTML.trim():this.footerTemplate)({},this,"footerTemplate",this.footerTemplateId,this.isStringTemplate,null,this.footer);s&&s.length>0&&ce(s,this.footer),ce([this.footer],e)},t.prototype.setHeaderTemplate=function(e){this.header?this.header.innerHTML="":(this.header=this.createElement("div"),D([this.header],ze.header));var n=this.dropdownCompiler(this.headerTemplate),s=tt("function"!=typeof this.headerTemplate&&n?P(this.headerTemplate,document).innerHTML.trim():this.headerTemplate)({},this,"headerTemplate",this.headerTemplateId,this.isStringTemplate,null,this.header);s&&s.length&&ce(s,this.header);var a=e.querySelector("div.e-content");e.insertBefore(this.header,a)},t.prototype.setEnabled=function(){this.element.setAttribute("aria-disabled",this.enabled?"false":"true")},t.prototype.setOldText=function(e){this.text=e},t.prototype.setOldValue=function(e){this.value=e},t.prototype.refreshPopup=function(){!u(this.popupObj)&&document.body.contains(this.popupObj.element)&&(this.allowFiltering&&(!O.isDevice||!this.isFilterLayout())||"autocomplete"===this.getModuleName())&&(M([this.popupObj.element],"e-popup-close"),this.popupObj.refreshPosition(this.inputWrapper.container),this.popupObj.resolveCollision())},t.prototype.checkData=function(e){e.dataSource&&!u(Object.keys(e.dataSource))&&this.itemTemplate&&this.allowFiltering&&!(this.isListSearched&&e.dataSource instanceof ye)&&(this.list=null,this.actionCompleteData={ulElement:null,list:null,isUpdated:!1}),this.isListSearched=!1;var i=-1!==Object.keys(e).indexOf("value")&&u(e.value),n=-1!==Object.keys(e).indexOf("text")&&u(e.text);"autocomplete"!==this.getModuleName()&&this.allowFiltering&&(i||n)&&(this.itemData=null),this.allowFiltering&&e.dataSource&&!u(Object.keys(e.dataSource))?(this.actionCompleteData={ulElement:null,list:null,isUpdated:!1},this.actionData=this.actionCompleteData):this.allowFiltering&&e.query&&!u(Object.keys(e.query))&&(this.actionCompleteData="combobox"===this.getModuleName()?{ulElement:null,list:null,isUpdated:!1}:this.actionCompleteData,this.actionData=this.actionCompleteData)},t.prototype.updateDataSource=function(e){(""!==this.inputElement.value||!u(e)&&(u(e.dataSource)||!(e.dataSource instanceof ye)&&0===e.dataSource.length))&&this.clearAll(null,e),this.fields.groupBy&&e.fields&&!this.isGroupChecking&&this.list&&(b.remove(this.list,"scroll",this.setFloatingHeader),b.add(this.list,"scroll",this.setFloatingHeader,this)),(!(!u(e)&&(u(e.dataSource)||!(e.dataSource instanceof ye)&&0===e.dataSource.length))||!(Array.isArray(e.dataSource)&&0===e.dataSource.length))&&(this.typedString="",this.resetList(this.dataSource)),!this.isCustomFilter&&!this.isFilterFocus&&document.activeElement!==this.filterInput&&this.checkCustomValue()},t.prototype.checkCustomValue=function(){this.itemData=this.getDataByValue(this.value);var e=this.getItemData();this.setProperties({text:e.text,value:e.value})},t.prototype.updateInputFields=function(){"dropdownlist"===this.getModuleName()&&X.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.onPropertyChanged=function(e,i){var n=this;!u(e.dataSource)&&!this.isTouched&&u(e.value)&&u(e.index)&&!u(this.preselectedIndex)&&(e.index=this.preselectedIndex),(!u(e.value)||!u(e.index))&&(this.isTouched=!0),"dropdownlist"===this.getModuleName()&&(this.checkData(e),this.setUpdateInitial(["fields","query","dataSource"],e));for(var s=function(c){switch(c){case"query":case"dataSource":a.getSkeletonCount(),a.checkAndResetCache();break;case"htmlAttributes":a.setHTMLAttributes();break;case"width":a.setEleWidth(e.width),X.calculateWidth(a.inputElement,a.inputWrapper.container);break;case"placeholder":X.setPlaceholder(e.placeholder,a.inputElement);break;case"filterBarPlaceholder":a.filterInput&&X.setPlaceholder(e.filterBarPlaceholder,a.filterInput);break;case"readonly":"dropdownlist"!==a.getModuleName()&&X.setReadonly(e.readonly,a.inputElement),a.setReadOnly();break;case"cssClass":a.setCssClass(e.cssClass,i.cssClass),X.calculateWidth(a.inputElement,a.inputWrapper.container);break;case"enableRtl":a.setEnableRtl();break;case"enabled":a.setEnable();break;case"text":if(null===e.text){a.clearAll();break}if(a.list||(a.dataSource instanceof ye&&(a.initRemoteRender=!0),a.renderList()),!a.initRemoteRender){var d=a.getElementByText(e.text);if(!a.checkValidLi(d))if(a.liCollections&&100===a.liCollections.length&&"autocomplete"===a.getModuleName()&&a.listData.length>100)a.setSelectionData(e.text,i.text,"text");else if(e.text&&a.dataSource instanceof ye){var p=a.getItems().length,f=u(a.fields.text)?a.fields.value:a.fields.text;a.typedString="",a.dataSource.executeQuery(a.getQuery(a.query).where(new ti(f,"equal",e.text))).then(function(E){E.result.length>0?(n.addItem(E.result,p),n.updateValues()):n.setOldText(i.text)})}else"autocomplete"===a.getModuleName()?a.setInputValue(e,i):a.setOldText(i.text);a.updateInputFields()}break;case"value":if(null===e.value){a.clearAll();break}if(a.notify("beforeValueChange",{newProp:e}),a.list||(a.dataSource instanceof ye&&(a.initRemoteRender=!0),a.renderList()),!a.initRemoteRender){var m=a.getElementByValue(e.value);if(!a.checkValidLi(m))if(a.liCollections&&100===a.liCollections.length&&"autocomplete"===a.getModuleName()&&a.listData.length>100)a.setSelectionData(e.value,i.value,"value");else if(e.value&&a.dataSource instanceof ye){var g=a.getItems().length;f=u(a.fields.value)?a.fields.text:a.fields.value,a.typedString="",a.dataSource.executeQuery(a.getQuery(a.query).where(new ti(f,"equal",e.value))).then(function(S){S.result.length>0?(n.addItem(S.result,g),n.updateValues()):n.setOldValue(i.value)})}else"autocomplete"===a.getModuleName()?a.setInputValue(e,i):a.setOldValue(i.value);a.updateInputFields(),a.preventChange=a.isAngular&&a.preventChange?!a.preventChange:a.preventChange}break;case"index":if(null===e.index){a.clearAll();break}a.list||(a.dataSource instanceof ye&&(a.initRemoteRender=!0),a.renderList()),!a.initRemoteRender&&a.liCollections&&(a.checkValidLi(a.liCollections[e.index])||(a.liCollections&&100===a.liCollections.length&&"autocomplete"===a.getModuleName()&&a.listData.length>100?a.setSelectionData(e.index,i.index,"index"):a.index=i.index),a.updateInputFields());break;case"footerTemplate":a.popupObj&&a.setFooterTemplate(a.popupObj.element);break;case"headerTemplate":a.popupObj&&a.setHeaderTemplate(a.popupObj.element);break;case"valueTemplate":!u(a.itemData)&&null!==a.valueTemplate&&a.setValueTemplate();break;case"allowFiltering":a.allowFiltering&&(a.actionCompleteData={ulElement:a.ulElement,list:a.listData,isUpdated:!0},a.actionData=a.actionCompleteData,a.updateSelectElementData(a.allowFiltering));break;case"floatLabelType":X.removeFloating(a.inputWrapper),X.addFloating(a.inputElement,e.floatLabelType,a.placeholder,a.createElement),!u(a.inputWrapper.buttons[0])&&a.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0]&&"Never"!==a.floatLabelType&&a.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"showClearButton":a.inputWrapper.clearButton||(X.setClearButton(e.showClearButton,a.inputElement,a.inputWrapper,null,a.createElement),a.bindClearEvent());break;default:var C=a.getPropObject(c,e,i);r.prototype.onPropertyChanged.call(a,C.newProperty,C.oldProperty)}},a=this,o=0,l=Object.keys(e);o<l.length;o++)s(l[o])},t.prototype.checkValidLi=function(e){return!!this.isValidLI(e)&&(this.setSelection(e,null),!0)},t.prototype.setSelectionData=function(e,i,n){var a,s=this;this.updateListValues=function(){"text"===n?(a=s.getElementByText(e),s.checkValidLi(a)||s.setOldText(i)):"value"===n?(a=s.getElementByValue(e),s.checkValidLi(a)||s.setOldValue(i)):"index"===n&&(s.checkValidLi(a=s.liCollections[e])||(s.index=i))}},t.prototype.setReadOnly=function(){this.readonly?D([this.inputWrapper.container],["e-readonly"]):M([this.inputWrapper.container],["e-readonly"])},t.prototype.setInputValue=function(e,i){},t.prototype.setCssClass=function(e,i){u(i)||(i=i.replace(/\s+/g," ").trim()),u(e)||(e=e.replace(/\s+/g," ").trim()),X.setCssClass(e,[this.inputWrapper.container],i),this.popupObj&&X.setCssClass(e,[this.popupObj.element],i)},t.prototype.getModuleName=function(){return"dropdownlist"},t.prototype.showPopup=function(e){if(this.enabled){if(this.isReact&&"combobox"===this.getModuleName()&&this.itemTemplate&&this.isCustomFilter&&this.isAddNewItemTemplate&&(this.renderList(),this.isAddNewItemTemplate=!1),this.isFiltering()&&this.dataSource instanceof ye&&this.actionData.list!==this.actionCompleteData.list&&this.actionData.list&&this.actionData.ulElement&&(this.actionCompleteData=this.actionData,this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list,null,!0)),this.beforePopupOpen)return void this.refreshPopup();this.beforePopupOpen=!0,this.isFiltering()&&!this.isActive&&this.actionCompleteData.list&&this.actionCompleteData.list[0]?(this.isActive=!0,this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list,null,!0)):(u(this.list)||!Le(this.list)&&(this.list.classList.contains("e-nodata")||this.list.querySelectorAll("."+se_li).length<=0))&&this.renderList(e),this.enableVirtualization&&this.listData&&this.listData.length&&(!u(this.value)&&("dropdownlist"===this.getModuleName()||"combobox"===this.getModuleName())&&this.removeHover(),this.beforePopupOpen||this.notify("setCurrentViewDataAsync",{module:"VirtualScroll"})),this.beforePopupOpen&&this.invokeRenderPopup(e),this.enableVirtualization&&!this.allowFiltering&&null!=this.selectedValueInfo&&this.selectedValueInfo.startIndex>0&&null!=this.value&&this.notify("dataProcessAsync",{module:"VirtualScroll",isOpen:!0})}},t.prototype.invokeRenderPopup=function(e){if(O.isDevice&&this.isFilterLayout()){var i=this;window.onpopstate=function(){i.hidePopup()},history.pushState({},"")}!u(this.list)&&(!u(this.list.children[0])||this.list.classList.contains("e-nodata"))&&this.renderPopup(e)},t.prototype.renderHightSearch=function(){},t.prototype.hidePopup=function(e){if(this.isEscapeKey&&"dropdownlist"===this.getModuleName())if(u(this.inputElement)||X.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.isEscapeKey=!1,u(this.index))this.resetSelection();else{var i=this.findListElement(this.ulElement,"li","data-value",this.value);this.selectedLI=this.liCollections[this.index]||i,this.selectedLI&&(this.updateSelectedItem(this.selectedLI,null,!0),this.valueTemplate&&null!==this.itemData&&this.setValueTemplate())}this.closePopup(0,e);var n=this.getItemData(),s=!u(this.selectedLI);this.inputElement&&""===this.inputElement.value.trim()&&!this.isInteracted&&(this.isSelectCustom||s&&this.inputElement.value!==n.text)&&(this.isSelectCustom=!1,this.clearAll(e))},t.prototype.focusIn=function(e){if(this.enabled&&!this.targetElement().classList.contains(ze.disable)){var i=!1;this.preventFocus&&O.isDevice&&(this.inputWrapper.container.tabIndex=1,this.inputWrapper.container.focus(),this.preventFocus=!1,i=!0),i||this.targetElement().focus(),D([this.inputWrapper.container],[ze.inputFocus]),this.onFocus(e),"Auto"===this.floatLabelType&&X.calculateWidth(this.inputElement,this.inputWrapper.container)}},t.prototype.focusOut=function(e){!this.enabled||(!this.enableVirtualization&&"combobox"===this.getModuleName()&&(this.isTyped=!0),this.hidePopup(e),this.targetElement()&&this.targetElement().blur(),M([this.inputWrapper.container],[ze.inputFocus]),"Auto"===this.floatLabelType&&""===this.inputElement.value&&X.calculateWidth(this.inputElement,this.inputWrapper.container))},t.prototype.destroy=function(){if(this.isActive=!1,function(r){kD===r&&(kD="",fN="",Tl="",Oh=[])}(this.element.id),this.isReact&&this.clearTemplate(),this.hidePopup(),this.unWireEvent(),this.list&&this.unWireListEvents(),!this.element||this.element.classList.contains("e-"+this.getModuleName())){if(this.inputElement){for(var e=["readonly","aria-disabled","placeholder","aria-labelledby","aria-expanded","autocomplete","aria-readonly","autocapitalize","spellcheck","aria-autocomplete","aria-live","aria-describedby","aria-label"],i=0;i<e.length;i++)this.inputElement.removeAttribute(e[i]);this.inputElement.setAttribute("tabindex",this.tabIndex),this.inputElement.classList.remove("e-input"),X.setValue("",this.inputElement,this.floatLabelType,this.showClearButton)}this.element.style.display="block",this.inputWrapper.container.parentElement.tagName===this.getNgDirective()||this.inputWrapper.container.parentElement.insertBefore(this.element,this.inputWrapper.container),Q(this.inputWrapper.container),this.hiddenElement=null,this.inputWrapper=null,this.keyboardModule=null,this.ulElement=null,this.list=null,this.popupObj=null,this.popupContentElement=null,this.rippleFun=null,this.selectedLI=null,this.liCollections=null,this.item=null,this.inputWrapper=null,this.footer=null,this.header=null,this.previousSelectedLI=null,this.valueTempElement=null,this.actionData.ulElement=null,this.inputElement&&!u(this.inputElement.onchange)&&(this.inputElement.onchange=null),this.isAngular&&(this.inputElement=null),r.prototype.destroy.call(this)}},t.prototype.getItems=function(){return this.list||(this.dataSource instanceof ye&&(this.initRemoteRender=!0),this.renderList()),this.ulElement?r.prototype.getItems.call(this):[]},t.prototype.getDataByValue=function(e){return r.prototype.getDataByValue.call(this,e)},t.prototype.clear=function(){this.value=null},Yi([v(null)],t.prototype,"cssClass",void 0),Yi([v("100%")],t.prototype,"width",void 0),Yi([v(!0)],t.prototype,"enabled",void 0),Yi([v(!1)],t.prototype,"enablePersistence",void 0),Yi([v("300px")],t.prototype,"popupHeight",void 0),Yi([v("100%")],t.prototype,"popupWidth",void 0),Yi([v(null)],t.prototype,"placeholder",void 0),Yi([v(null)],t.prototype,"filterBarPlaceholder",void 0),Yi([v({})],t.prototype,"htmlAttributes",void 0),Yi([v(null)],t.prototype,"query",void 0),Yi([v(null)],t.prototype,"valueTemplate",void 0),Yi([v(null)],t.prototype,"headerTemplate",void 0),Yi([v(null)],t.prototype,"footerTemplate",void 0),Yi([v(!1)],t.prototype,"allowFiltering",void 0),Yi([v(!1)],t.prototype,"readonly",void 0),Yi([v(!1)],t.prototype,"enableVirtualization",void 0),Yi([v(null)],t.prototype,"text",void 0),Yi([v(null)],t.prototype,"value",void 0),Yi([v(null)],t.prototype,"index",void 0),Yi([v("Never")],t.prototype,"floatLabelType",void 0),Yi([v(!1)],t.prototype,"showClearButton",void 0),Yi([x()],t.prototype,"filtering",void 0),Yi([x()],t.prototype,"change",void 0),Yi([x()],t.prototype,"beforeOpen",void 0),Yi([x()],t.prototype,"open",void 0),Yi([x()],t.prototype,"close",void 0),Yi([x()],t.prototype,"blur",void 0),Yi([x()],t.prototype,"focus",void 0),Yi([et],t)}(_D);ze.root="e-combobox",ze.root="e-autocomplete",ze.icon="e-input-group-icon e-ddl-icon e-search-icon";var wN="e-float-line",ey="e-float-text",Vf="e-label-top",ud="e-label-bottom";function fY(r,t,e,i,n,s,a){var o=N("span",{className:wN}),l=N("label",{className:ey}),h=e.getAttribute("id")?e.getAttribute("id"):vt("ej2_multiselect");e.id=h,!u(e.id)&&""!==e.id&&(l.id="label_"+e.id.replace(/ /g,"_"),re(i,{"aria-labelledby":l.id})),!u(i.placeholder)&&""!==i.placeholder&&(l.innerText=MN(i.placeholder),i.removeAttribute("placeholder")),l.innerText=MN(a),t.appendChild(o),t.appendChild(l),r.classList.add("e-float-input"),function(r,t){r&&r.length>0?(D([t],Vf),M([t],ud)):(M([t],Vf),D([t],ud))}(n,l),"Always"===s&&(l.classList.contains(ud)&&M([l],ud),D([l],Vf))}function mY(r,t,e){t.placeholder=r&&r.length?"":e}function MN(r){var t="";if(!u(r)&&""!==r){var e=document.createElement("span");e.innerHTML='<input  placeholder="'+r+'"/>',t=e.children[0].placeholder}return t}var yye=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),it=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},dd="e-input-focus",gY="e-disabled",nn="e-hide-listitem",jf="e-chips",FD="e-chips-close",pd="e-chip-selected",vY="e-delimiter",VD="e-zero-size",yY="e-chips-close e-close-hooker",bY="e-delim-values",TN="e-close-icon-hide",EY="e-ddl-disable-icon",DY="e-ms-spinner-icon",SY="e-input-group-icon e-ddl-icon",wY="e-icon-anim",jD="e-delim-total",MY="e-search-custom-width",IN="e-input-filter",Pye=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.clearIconWidth=0,n.previousFilterText="",n.isValidKey=!1,n.selectAllEventData=[],n.selectAllEventEle=[],n.resetMainList=null,n.resetFilteredData=!1,n.scrollFocusStatus=!1,n.keyDownStatus=!1,n}return yye(t,r),t.prototype.enableRTL=function(e){e?this.overAllWrapper.classList.add("e-rtl"):this.overAllWrapper.classList.remove("e-rtl"),this.popupObj&&(this.popupObj.enableRtl=e,this.popupObj.dataBind())},t.prototype.requiredModules=function(){var e=[];if("CheckBox"===this.mode){if(this.isGroupChecking=this.enableGroupCheckBox,this.enableGroupCheckBox){var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.enableSelectionOrder=!1,this.isProtectedOnChange=i}this.allowCustomValue=!1,this.hideSelectedItem=!1,this.closePopupOnSelect=!1,e.push({member:"CheckBoxSelection",args:[this]})}return e},t.prototype.updateHTMLAttribute=function(){if(Object.keys(this.htmlAttributes).length)for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];switch(n){case"class":var s=this.htmlAttributes[""+n].replace(/\s+/g," ").trim();""!==s&&(D([this.overAllWrapper],s.split(" ")),D([this.popupWrapper],s.split(" ")));break;case"disabled":this.enable(!1);break;case"placeholder":this.placeholder||(this.inputElement.setAttribute(n,this.htmlAttributes[""+n]),this.setProperties({placeholder:this.inputElement.placeholder},!0),this.refreshPlaceHolder());break;default:["id"].indexOf(n)>-1?this.element.setAttribute(n,this.htmlAttributes[""+n]):0===n.indexOf("data")||["name","required","aria-required","form"].indexOf(n)>-1?this.hiddenElement.setAttribute(n,this.htmlAttributes[""+n]):["title","role","style","class"].indexOf(n)>-1?this.overAllWrapper.setAttribute(n,this.htmlAttributes[""+n]):"size"!==n&&!u(this.inputElement)&&this.inputElement.setAttribute(n,this.htmlAttributes[""+n])}}},t.prototype.updateReadonly=function(e){u(this.inputElement)||(e||"CheckBox"===this.mode?this.inputElement.setAttribute("readonly","true"):this.inputElement.removeAttribute("readonly"))},t.prototype.updateClearButton=function(e){e?(this.overAllClear.parentNode?this.overAllClear.style.display="":this.componentWrapper.appendChild(this.overAllClear),this.componentWrapper.classList.remove(TN)):(this.overAllClear.style.display="none",this.componentWrapper.classList.add(TN))},t.prototype.updateCssClass=function(){if(!u(this.cssClass)&&""!==this.cssClass){var e=this.cssClass;""!==(e=this.cssClass.replace(/\s+/g," ").trim())&&(D([this.overAllWrapper],e.split(" ")),D([this.popupWrapper],e.split(" ")))}},t.prototype.updateOldPropCssClass=function(e){!u(e)&&""!==e&&""!==(e=e.replace(/\s+/g," ").trim())&&(M([this.overAllWrapper],e.split(" ")),M([this.popupWrapper],e.split(" ")))},t.prototype.onPopupShown=function(e){var i=this;if(O.isDevice&&"CheckBox"===this.mode&&this.allowFiltering){var n=this;window.onpopstate=function(){n.hidePopup(),n.inputElement.focus()},history.pushState({},"")}this.trigger("open",{popup:this.popupObj,event:e,cancel:!1,animation:{name:"FadeIn",duration:100}},function(o){o.cancel||(i.focusAtFirstListItem(),i.popupObj&&document.body.appendChild(i.popupObj.element),"CheckBox"===i.mode&&i.enableGroupCheckBox&&!u(i.fields.groupBy)&&i.updateListItems(i.list.querySelectorAll("li.e-list-item"),i.mainList.querySelectorAll("li.e-list-item")),("CheckBox"===i.mode||i.showDropDownIcon)&&D([i.overAllWrapper],[wY]),i.refreshPopup(),i.renderReactTemplates(),i.popupObj&&i.popupObj.show(o.animation,1e3===i.zIndex?i.element:null),re(i.inputElement,{"aria-expanded":"true","aria-owns":i.inputElement.id+"_options"}),i.updateAriaActiveDescendant(),i.isFirstClick&&i.loadTemplate(),"CheckBox"===i.mode&&i.showSelectAll&&b.add(i.popupObj.element,"click",i.clickHandler,i))})},t.prototype.updateListItems=function(e,i){for(var n=0;n<e.length;n++)this.findGroupStart(e[n]),this.findGroupStart(i[n]);this.deselectHeader()},t.prototype.loadTemplate=function(){this.refreshListItems(null),"CheckBox"===this.mode&&this.removeFocus(),this.notify("reOrder",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,e:this})},t.prototype.setScrollPosition=function(){if((!this.hideSelectedItem&&"CheckBox"!==this.mode||"CheckBox"===this.mode&&!this.enableSelectionOrder)&&!u(this.value)&&this.value.length>0){var e=this.findListElement(this.hideSelectedItem?this.ulElement:this.list,"li","data-value",this.value[this.value.length-1]);u(e)||this.scrollBottom(e)}},t.prototype.focusAtFirstListItem=function(){if(this.ulElement&&this.ulElement.querySelector("li."+se_li)){var e;if("CheckBox"===this.mode)return void this.removeFocus();null!==(e=this.ulElement.querySelector("li."+se_li+":not(."+nn+")"))&&(this.removeFocus(),this.addListFocus(e))}},t.prototype.focusAtLastListItem=function(e){var i;e?i=od(e,this.liCollections,"StartsWith",this.ignoreCase):this.value&&this.value.length?od(this.value[this.value.length-1],this.liCollections,"StartsWith",this.ignoreCase):i=null,i&&null!==i.item&&(this.addListFocus(i.item),this.scrollBottom(i.item,i.index))},t.prototype.getAriaAttributes=function(){return{"aria-disabled":"false",role:"combobox","aria-expanded":"false"}},t.prototype.updateListARIA=function(){u(this.ulElement)||re(this.ulElement,{id:this.element.id+"_options",role:"listbox","aria-hidden":"false"});var e=!(u(this.inputElement)||!this.inputElement.disabled);!this.isPopupOpen()&&!u(this.inputElement)&&re(this.inputElement,this.getAriaAttributes()),e&&re(this.inputElement,{"aria-disabled":"true"}),this.ensureAriaDisabled(e?"true":"false")},t.prototype.ensureAriaDisabled=function(e){if(this.htmlAttributes&&this.htmlAttributes["aria-disabled"]){var i=this.htmlAttributes;z(i,{"aria-disabled":e},i),this.setProperties({htmlAttributes:i},!0)}},t.prototype.removelastSelection=function(e){var i=this.chipCollectionWrapper.querySelectorAll("span."+jf),n=i[i.length-1].getAttribute("data-value");u(this.value)||(this.tempValues=this.value.slice());var s=this.getFormattedValue(n);this.allowCustomValue&&("false"!==n&&!1===s||!u(s)&&"NaN"===s.toString())&&(s=n),this.removeValue(s,e),this.removeChipSelection(),this.updateDelimeter(this.delimiterChar,e),this.makeTextBoxEmpty(),this.mainList&&this.listData&&this.refreshSelection(),this.checkPlaceholderSize()},t.prototype.onActionFailure=function(e){r.prototype.onActionFailure.call(this,e),this.renderPopup(),this.onPopupShown()},t.prototype.targetElement=function(){return this.targetInputElement=this.inputElement,"CheckBox"===this.mode&&this.allowFiltering&&this.notify("targetElement",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),this.targetInputElement.value},t.prototype.getForQuery=function(e){for(var i,n=u(this.fields.value)?this.fields.text:this.fields.value,s=0;s<e.length;s++)i=0===s?new ti(n,"equal",e[s]):i.or(n,"equal",e[s]);return this.dataSource instanceof ye&&this.dataSource.adaptor instanceof rE?(new Xe).where(i):this.getQuery(this.query).clone().where(i)},t.prototype.onActionComplete=function(e,i,n,s){if(r.prototype.onActionComplete.call(this,e,i,n),this.updateSelectElementData(this.allowFiltering),!u(this.value)&&!this.allowCustomValue)for(var o=0;o<this.value.length;o++)!this.findListElement(this.allowFiltering&&!u(this.mainList)?this.mainList:e,"li","data-value",this.value[o])&&!(this.dataSource instanceof ye)&&(this.value.splice(o,1),o-=1);var h=[];u(this.value)||(h=this.presentItemValue(this.ulElement)),h.length>0&&this.dataSource instanceof ye&&!u(this.value)&&null!=this.listData?this.addNonPresentItems(h,this.ulElement,this.listData):this.updateActionList(e,i,n),this.dataSource instanceof ye&&"CheckBox"===this.mode&&this.allowFiltering&&this.removeFocus()},t.prototype.updateActionList=function(e,i,n,s){"CheckBox"===this.mode&&this.showSelectAll&&this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),this.mainList||this.mainData?(u(this.mainData)||0===this.mainData.length)&&(this.mainData=i):(this.mainList=e.cloneNode?e.cloneNode(!0):e,this.mainData=i,this.mainListCollection=this.liCollections),(this.remoteCustomValue||i.length<=0)&&this.allowCustomValue&&this.inputFocus&&this.allowFiltering&&this.inputElement.value&&""!==this.inputElement.value?this.checkForCustomValue(this.tempQuery,this.fields):(this.value&&this.value.length&&("CheckBox"!==this.mode&&!u(this.inputElement)&&""!==this.inputElement.value.trim()||"CheckBox"===this.mode||(8===this.keyCode||46===this.keyCode)&&this.allowFiltering&&this.allowCustomValue&&this.dataSource instanceof ye&&""===this.inputElement.value)&&this.refreshSelection(),this.updateListARIA(),this.unwireListEvents(),this.wireListEvents(),u(this.setInitialValue)||this.setInitialValue(),u(this.selectAllAction)||this.selectAllAction(),this.setDynValue&&(!u(this.text)&&(u(this.value)||0===this.value.length)&&this.initialTextUpdate(),this.initialValueUpdate(),this.initialUpdate(),this.refreshPlaceHolder(),"CheckBox"!==this.mode&&this.changeOnBlur&&this.updateValueState(null,this.value,null)),this.renderPopup(),this.beforePopupOpen&&(this.beforePopupOpen=!1,this.onPopupShown(n)))},t.prototype.refreshSelection=function(){var e,i,n=this.hideSelectedItem?nn:"e-active";if(!u(this.value))for(var s=0;!u(this.value[s]);s++)if(i=this.findListElement(this.list,"li","data-value",e=this.value[s])){if(D([i],n),this.hideSelectedItem&&i.previousSibling&&i.previousElementSibling.classList.contains(se_group)&&(!i.nextElementSibling||i.nextElementSibling.classList.contains(se_group))&&D([i.previousElementSibling],n),this.hideSelectedItem&&this.fields.groupBy&&!i.previousElementSibling.classList.contains(nn)&&this.hideGroupItem(e),this.hideSelectedItem&&i.classList.contains(se_focus)){M([i],se_focus);var a=i.parentElement.querySelectorAll("."+se_li+":not(."+nn+")");a.length>0?(D([a[0]],se_focus),this.updateAriaActiveDescendant()):this.list&&this.list.querySelectorAll("."+se_li).length>0||(this.l10nUpdate(),D([this.list],"e-nodata"))}i.setAttribute("aria-selected","true"),"CheckBox"===this.mode&&i.classList.contains("e-active")&&0===i.getElementsByClassName("e-check").length&&this.notify("updatelist",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:i,e:null})}this.checkSelectAll(),this.checkMaxSelection()},t.prototype.hideGroupItem=function(e){var i,n,s=this.hideSelectedItem?nn:"e-active";n=i=this.findListElement(this.ulElement,"li","data-value",e);var a=0,o=0,l=!0,h=!0;do{i&&i.previousElementSibling&&!i.previousElementSibling.classList.contains(nn)&&i.previousElementSibling.classList.contains(se_li)&&(l=!1),!l||!i||i.previousElementSibling&&i.previousElementSibling.classList.contains(se_group)?a=10:i=i.previousElementSibling,n&&n.nextElementSibling&&!n.nextElementSibling.classList.contains(nn)&&n.nextElementSibling.classList.contains(se_li)&&(h=!1),!h||!n||n.nextElementSibling&&n.nextElementSibling.classList.contains(se_group)?o=10:n=n.nextElementSibling}while(a<10||o<10);l&&h&&!i.previousElementSibling.classList.contains(nn)?D([i.previousElementSibling],s):l&&h&&i.previousElementSibling.classList.contains(nn)&&M([i.previousElementSibling],s)},t.prototype.getValidLi=function(){var e=this.ulElement.querySelector("li."+se_li+":not(."+nn+")");return u(e)?this.liCollections[0]:e},t.prototype.checkSelectAll=function(){var e=this.list.querySelectorAll("li.e-list-group-item.e-active").length,i=this.list.querySelectorAll("li.e-list-item"),n=this.list.querySelectorAll("li."+se_li).length,s=this.list.querySelectorAll("li.e-active").length;if(this.enableGroupCheckBox&&!u(this.fields.groupBy)&&(s-=e),n!==s&&s!==this.maximumSelectionLength||"CheckBox"!==this.mode||!this.showSelectAll?n!==s&&"CheckBox"===this.mode&&this.showSelectAll&&this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"uncheck"}):this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"check"}),this.enableGroupCheckBox&&this.fields.groupBy&&!this.enableSelectionOrder){for(var a=0;a<i.length;a++)this.findGroupStart(i[a]);this.deselectHeader()}},t.prototype.openClick=function(e){this.openOnClick||"CheckBox"===this.mode?!this.openOnClick&&"CheckBox"===this.mode&&!this.isPopupOpen()&&this.showPopup():""!==this.targetElement()?this.showPopup():this.hidePopup(e)},t.prototype.keyUp=function(e){"CheckBox"!==this.mode||this.openOnClick||u(String.fromCharCode(e.keyCode).match(/\w/))||(this.isValidKey=!0),this.isValidKey=this.isPopupOpen()&&8===e.keyCode||this.isValidKey,this.isValidKey=(!e.ctrlKey||86!==e.keyCode)&&this.isValidKey,this.isValidKey&&(this.isValidKey=!1,this.expandTextbox(),this.showOverAllClear(),this.search(e))},t.prototype.filter=function(e,i,n){this.isFiltered=!0,this.remoteFilterAction=!0,this.dataUpdater(e,i,n)},t.prototype.getQuery=function(e){var i=e?e.clone():this.query?this.query.clone():new Xe;if(this.isFiltered)return i;if(this.filterAction){if(null!==this.targetElement()){var n=this.typeOfData(this.dataSource).typeof;if((this.dataSource instanceof ye||"string"!==n)&&"number"!==n){var s=this.fields;i.where(u(s.text)?"":s.text,this.filterType,this.targetElement(),this.ignoreCase,this.ignoreAccent)}else i.where("",this.filterType,this.targetElement(),this.ignoreCase,this.ignoreAccent)}return i}return e||(this.query?this.query:new Xe)},t.prototype.dataUpdater=function(e,i,n){if(this.isDataFetched=!1,""===this.targetElement().trim()){var s=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.backCommand&&(this.remoteCustomValue=!1,this.allowCustomValue&&0==s.querySelectorAll("li").length&&this.mainData.length>0&&(this.mainData=[]),this.onActionComplete(s,this.mainData),this.value&&this.value.length&&this.refreshSelection(),8!==this.keyCode&&this.focusAtFirstListItem(),this.notify("reOrder",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,e:this}))}else this.resetList(e,n,i),this.allowCustomValue&&(e instanceof ye?(this.remoteCustomValue=!0,this.tempQuery=i):this.checkForCustomValue(i,n));this.refreshPopup(),"CheckBox"===this.mode&&this.removeFocus()},t.prototype.checkForCustomValue=function(e,i){var n=!this.getValueByText(this.inputElement.value,this.ignoreCase);if(this.allowCustomValue&&n){var s=this.inputElement.value,a=i||this.fields,o=!u(this.mainData)&&this.mainData.length>0?this.mainData[0]:this.mainData;if("string"!=typeof o&&"number"!=typeof o&&"boolean"!=typeof o){var l={};We(a.text,s,l),"number"==typeof _(this.fields.value?this.fields.value:"value",o)?We(a.value,Math.random(),l):We(a.value,s,l),(h=JSON.parse(JSON.stringify(this.listData))).splice(0,0,l),this.resetList(h,a,e)}else{var h;(h=JSON.parse(JSON.stringify(this.listData))).splice(0,0,this.inputElement.value),h[0]="number"!=typeof o||isNaN(parseFloat(h[0]))?h[0]:parseFloat(h[0]),h[0]="boolean"==typeof o?"true"===h[0]||"false"!==h[0]&&h[0]:h[0],this.resetList(h,a)}}this.value&&this.value.length&&this.refreshSelection()},t.prototype.getNgDirective=function(){return"EJS-MULTISELECT"},t.prototype.wrapperClick=function(e){if(this.setDynValue=!1,this.enabled){if(e.target===this.overAllClear)return void e.preventDefault();if(this.inputFocus||this.inputElement.focus(),!this.readonly){if(e.target&&-1!==e.target.classList.toString().indexOf(FD))return void(this.isPopupOpen()&&this.refreshPopup());!this.isPopupOpen()&&(this.openOnClick||this.showDropDownIcon&&e.target&&e.target.className===SY)?this.showPopup(e):(this.hidePopup(e),"CheckBox"===this.mode&&(this.showOverAllClear(),this.inputFocus=!0,this.overAllWrapper.classList.contains(dd)||this.overAllWrapper.classList.add(dd)))}this.targetElement()&&""!==this.targetElement()||e.preventDefault()}},t.prototype.enable=function(e){e?(this.overAllWrapper.classList.remove(gY),this.inputElement.removeAttribute("disabled"),re(this.inputElement,{"aria-disabled":"false"}),this.ensureAriaDisabled("false")):(this.overAllWrapper.classList.add(gY),this.inputElement.setAttribute("disabled","true"),re(this.inputElement,{"aria-disabled":"true"}),this.ensureAriaDisabled("true")),this.enabled!==e&&(this.enabled=e),this.hidePopup()},t.prototype.onBlurHandler=function(e,i){var n;if(u(e)||(n=e.relatedTarget),this.popupObj&&document.body.contains(this.popupObj.element)&&this.popupObj.element.contains(n))"CheckBox"!==this.mode?this.inputElement.focus():"Auto"===this.floatLabelType&&(this.overAllWrapper.classList.contains("e-outline")||this.overAllWrapper.classList.contains("e-filled"))&&D([this.overAllWrapper],"e-valid-input");else{if("Auto"===this.floatLabelType&&this.overAllWrapper.classList.contains("e-outline")&&"CheckBox"===this.mode&&(u(this.value)||0===this.value.length)&&M([this.overAllWrapper],"e-valid-input"),"CheckBox"===this.mode&&O.isIE&&!u(e)&&!i)return this.inputFocus=!1,void this.overAllWrapper.classList.remove(dd);if(this.scrollFocusStatus)return u(e)||e.preventDefault(),this.inputElement.focus(),void(this.scrollFocusStatus=!1);if(this.inputFocus=!1,this.overAllWrapper.classList.remove(dd),this.addTagOnBlur){var s=this.getValueByText(this.inputElement.value,this.ignoreCase,this.ignoreAccent),a=this.findListElement(this.list,"li","data-value",s);a&&!a.classList.contains(this.hideSelectedItem?nn:"e-active")&&(this.updateListSelection(a,e),"Delimiter"===this.mode&&this.updateDelimeter(this.delimiterChar))}this.updateDataList(),this.resetMainList&&(this.mainList=this.resetMainList,this.resetMainList=null),this.refreshListItems(null),"Box"!==this.mode&&"CheckBox"!==this.mode&&this.updateDelimView(),this.changeOnBlur&&(this.updateValueState(e,this.value,this.tempValues),this.dispatchEvent(this.hiddenElement,"change")),this.overAllClear.style.display="none",this.isPopupOpen()&&this.hidePopup(e),this.makeTextBoxEmpty(),this.trigger("blur"),this.focused=!0,O.isDevice&&"Delimiter"!==this.mode&&"CheckBox"!==this.mode&&this.removeChipFocus(),this.removeChipSelection(),this.refreshInputHight(),function(r,t,e,i,n){r.classList.remove("e-input-focus");var s=t.querySelector("."+ey);e&&e.length<=0&&"Auto"===i&&!u(s)&&(s.classList.contains(Vf)&&M([s],Vf),D([s],ud))}(this.overAllWrapper,this.componentWrapper,this.value,this.floatLabelType),this.refreshPlaceHolder(),(this.allowFiltering||!0===this.enableSelectionOrder&&"CheckBox"===this.mode)&&!u(this.mainList)&&(this.ulElement=this.mainList),this.checkPlaceholderSize(),X.createSpanElement(this.overAllWrapper,this.createElement),this.calculateWidth(),!u(this.overAllWrapper)&&!u(this.overAllWrapper.getElementsByClassName("e-ddl-icon")[0]&&this.overAllWrapper.getElementsByClassName("e-float-text-content")[0]&&"Never"!==this.floatLabelType)&&this.overAllWrapper.getElementsByClassName("e-float-text-content")[0].classList.add("e-icon")}},t.prototype.calculateWidth=function(){var e;if(this.overAllWrapper){if(!this.showDropDownIcon||this.overAllWrapper.querySelector(".e-label-top"))e=this.overAllWrapper.clientWidth-2*parseInt(getComputedStyle(this.inputElement).paddingRight);else{var i=this.dropIcon.offsetWidth+parseInt(getComputedStyle(this.dropIcon).marginRight);e=this.overAllWrapper.clientWidth-(i+2*parseInt(getComputedStyle(this.inputElement).paddingRight))}"Auto"===this.floatLabelType&&X.calculateWidth(e,this.overAllWrapper,this.getModuleName())}},t.prototype.checkPlaceholderSize=function(){if(this.showDropDownIcon){var e=this.dropIcon.offsetWidth+parseInt(window.getComputedStyle(this.dropIcon).marginRight,10);this.setPlaceholderSize(e)}else u(this.dropIcon)||this.setPlaceholderSize(this.showDropDownIcon?this.dropIcon.offsetWidth:0)},t.prototype.setPlaceholderSize=function(e){u(this.value)||0===this.value.length?0!==this.dropIcon.offsetWidth?this.searchWrapper.style.width="calc(100% - "+(e+10)+"px":D([this.searchWrapper],MY):u(this.value)||(this.searchWrapper.removeAttribute("style"),M([this.searchWrapper],MY))},t.prototype.refreshInputHight=function(){u(this.searchWrapper)||(this.value&&this.value.length||!u(this.text)&&""!==this.text?this.searchWrapper.classList.add(VD):this.searchWrapper.classList.remove(VD))},t.prototype.validateValues=function(e,i){return JSON.stringify(e.slice().sort())!==JSON.stringify(i.slice().sort())},t.prototype.updateValueState=function(e,i,n){if(this.initStatus&&this.validateValues(i||[],n||[])){var o={e,oldValue:n,value:i,isInteracted:!!e,element:this.element,event:e};this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",o),this.updateTempValue(),this.changeOnBlur||this.dispatchEvent(this.hiddenElement,"change")}},t.prototype.updateTempValue=function(){this.tempValues=this.value?this.value.slice():this.value},t.prototype.updateAriaActiveDescendant=function(){!u(this.ulElement)&&!u(this.ulElement.getElementsByClassName("e-item-focus")[0])&&re(this.inputElement,{"aria-activedescendant":this.ulElement.getElementsByClassName("e-item-focus")[0].id})},t.prototype.getPagingCount=function(){var e=this.list.classList.contains("e-nodata")?null:getComputedStyle(this.getItems()[0],null).getPropertyValue("height");return Math.round(this.list.offsetHeight/parseInt(e,10))},t.prototype.pageUpSelection=function(e){var i=this.list.querySelectorAll("li."+se_li+":not(."+nn+"):not(.e-reorder-hide)"),n=e>=0?i[e+1]:i[0];this.addListFocus(n),this.scrollBottom(n,this.getIndexByValue(n.getAttribute("data-value")))},t.prototype.pageDownSelection=function(e){this.getItems();var n=this.list.querySelectorAll("li."+se_li+":not(."+nn+"):not(.e-reorder-hide)"),s=e<=n.length?n[e-1]:n[n.length-1];this.addListFocus(s),this.scrollBottom(s,this.getIndexByValue(s.getAttribute("data-value")))},t.prototype.getItems=function(){return this.list||r.prototype.render.call(this),this.ulElement&&this.ulElement.querySelectorAll("."+se_li).length>0?this.ulElement.querySelectorAll("."+se_li+":not(."+nn+")"):[]},t.prototype.focusInHandler=function(e){var i=this;return!!this.enabled&&(this.showOverAllClear(),this.inputFocus=!0,this.value&&this.value.length&&("Delimiter"!==this.mode&&"CheckBox"!==this.mode?this.chipCollectionWrapper.style.display="":this.showDelimWrapper(),"CheckBox"!==this.mode&&(this.viewWrapper.style.display="none")),"CheckBox"!==this.mode&&this.searchWrapper.classList.remove(VD),this.checkPlaceholderSize(),this.focused&&(this.trigger("focus",{isInteracted:!!e,event:e}),this.focused=!1),this.overAllWrapper.classList.contains(dd)||this.overAllWrapper.classList.add(dd),function(r,t){r.classList.add("e-input-focus");var e=t.querySelector("."+ey);u(e)||(D([e],Vf),e.classList.contains(ud)&&M([e],ud))}(this.overAllWrapper,this.componentWrapper),this.isPopupOpen()&&this.refreshPopup(),setTimeout(function(){i.calculateWidth()},150),!0)},t.prototype.showDelimWrapper=function(){"CheckBox"===this.mode?this.viewWrapper.style.display="":this.delimiterWrapper.style.display="",this.componentWrapper.classList.add(vY)},t.prototype.hideDelimWrapper=function(){this.delimiterWrapper.style.display="none",this.componentWrapper.classList.remove(vY)},t.prototype.expandTextbox=function(){var e=5;this.placeholder&&(e=e>this.inputElement.placeholder.length?e:this.inputElement.placeholder.length),this.inputElement.size=this.inputElement.value.length>e?this.inputElement.value.length:e},t.prototype.isPopupOpen=function(){return null!==this.popupWrapper&&null!==this.popupWrapper.parentElement},t.prototype.refreshPopup=function(){this.popupObj&&this.mobFilter&&(this.popupObj.setProperties({width:this.calcPopupWidth()}),this.popupObj.refreshPosition(this.overAllWrapper),this.popupObj.resolveCollision())},t.prototype.checkTextLength=function(){return this.targetElement().length<1},t.prototype.popupKeyActions=function(e){switch(e.keyCode){case 38:this.hidePopup(e),"CheckBox"===this.mode&&this.inputElement.focus(),e.preventDefault();break;case 40:this.isPopupOpen()||(this.showPopup(e),e.preventDefault())}},t.prototype.updateAriaAttribute=function(){var e=this.list.querySelector("."+se_focus);if(!u(e))if(this.inputElement.setAttribute("aria-activedescendant",e.id),this.allowFiltering){var i=this.popupWrapper.querySelector("."+IN);i&&i.setAttribute("aria-activedescendant",e.id)}else"CheckBox"==this.mode&&this.overAllWrapper.setAttribute("aria-activedescendant",e.id)},t.prototype.homeNavigation=function(e){this.removeFocus();var i=this.ulElement.querySelectorAll("li."+se_li+":not(."+nn+"):not(.e-reorder-hide)");if(i.length>0){var n=i[e?0:i.length-1];n.classList.add(se_focus),this.scrollBottom(n),this.updateAriaActiveDescendant()}},t.prototype.onKeyDown=function(e){if(!this.readonly&&(this.enabled||"CheckBox"===this.mode)&&(this.keyCode=e.keyCode,this.keyDownStatus=!0,!(e.keyCode>111&&e.keyCode<124))){if(e.altKey)return void this.popupKeyActions(e);if(this.isPopupOpen()){var i=this.list.querySelector("."+se_focus),n=void 0;switch(e.keyCode){case 36:case 35:this.homeNavigation(36===e.keyCode);break;case 33:return e.preventDefault(),void(i&&(this.getIndexByValue(i.getAttribute("data-value")),this.pageUpSelection(n-this.getPagingCount()),this.updateAriaAttribute()));case 34:return e.preventDefault(),void(i&&(this.getIndexByValue(i.getAttribute("data-value")),this.pageDownSelection(n+this.getPagingCount()),this.updateAriaAttribute()));case 38:this.arrowUp(e);break;case 40:this.arrowDown(e);break;case 27:return e.preventDefault(),this.hidePopup(e),void("CheckBox"===this.mode&&this.inputElement.focus());case 13:return e.preventDefault(),"CheckBox"!==this.mode&&this.selectByKey(e),void this.checkPlaceholderSize();case 32:return void this.spaceKeySelection(e);case 9:e.preventDefault(),this.hidePopup(e),this.inputElement.focus(),this.overAllWrapper.classList.add(dd)}}else switch(e.keyCode){case 13:case 9:case 16:case 17:case 20:return;case 40:this.openOnClick&&this.showPopup();break;case 27:return e.preventDefault(),void this.escapeAction()}this.checkTextLength()&&this.keyNavigation(e),"CheckBox"===this.mode&&this.enableSelectionOrder&&(this.allowFiltering&&(this.previousFilterText=this.targetElement()),this.checkBackCommand(e)),this.expandTextbox(),"CheckBox"===this.mode&&this.showSelectAll||this.refreshPopup()}},t.prototype.arrowDown=function(e){e.preventDefault(),this.moveByList(1),this.keyAction=!0,(document.activeElement.classList.contains(IN)||"CheckBox"===this.mode&&!this.allowFiltering&&document.activeElement!==this.list)&&b.add(this.list,"keydown",this.onKeyDown,this),this.updateAriaAttribute()},t.prototype.arrowUp=function(e){e.preventDefault(),this.keyAction=!0;var i=this.list.querySelectorAll("li."+se_li+":not(."+nn+"):not(.e-reorder-hide)");this.enableGroupCheckBox&&"CheckBox"===this.mode&&!u(this.fields.groupBy)&&(i=this.list.querySelectorAll("li."+se_li+",li."+se_group+":not(."+nn+"):not(.e-reorder-hide)"));var n=this.list.querySelector("li."+se_focus);this.focusFirstListItem=!u(this.liCollections[0])&&this.liCollections[0].classList.contains("e-item-focus"),Array.prototype.slice.call(i).indexOf(n)<=0&&"CheckBox"===this.mode&&this.allowFiltering&&(this.keyAction=!1,this.notify("inputFocus",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"focus"})),this.moveByList(-1),this.updateAriaAttribute()},t.prototype.spaceKeySelection=function(e){if("CheckBox"===this.mode){var i=this.list.querySelector("li."+se_focus),n=document.getElementsByClassName("e-selectall-parent")[0];if((!u(i)||n&&n.classList.contains("e-item-focus"))&&(e.preventDefault(),this.keyAction=!0),this.selectByKey(e),this.keyAction){var s=this.list.querySelector("li."+se_focus);!u(s)&&n&&n.classList.contains("e-item-focus")&&s.classList.remove("e-item-focus")}}this.checkPlaceholderSize()},t.prototype.checkBackCommand=function(e){this.backCommand=8===e.keyCode&&this.allowFiltering?this.targetElement()===this.previousFilterText:""!==this.targetElement()},t.prototype.keyNavigation=function(e){if("Delimiter"!==this.mode&&"CheckBox"!==this.mode&&this.value&&this.value.length)switch(e.keyCode){case 37:e.preventDefault(),this.moveBy(-1,e);break;case 39:e.preventDefault(),this.moveBy(1,e);break;case 8:this.removelastSelection(e);break;case 46:this.removeSelectedChip(e)}else if(8===e.keyCode&&"Delimiter"===this.mode&&this.value&&this.value.length){e.preventDefault();var i=this.value[this.value.length-1];this.removeValue(i,e),this.updateDelimeter(this.delimiterChar,e),this.focusAtLastListItem(i)}},t.prototype.selectByKey=function(e){this.removeChipSelection(),this.selectListByKey(e),this.hideSelectedItem&&this.focusAtFirstListItem()},t.prototype.escapeAction=function(){var e=this.tempValues?this.tempValues.slice():[];this.value&&this.validateValues(this.value,e)&&("CheckBox"!==this.mode&&(this.value=e,this.initialValueUpdate()),"Delimiter"!==this.mode&&"CheckBox"!==this.mode?this.chipCollectionWrapper.style.display="":this.showDelimWrapper(),this.refreshPlaceHolder(),this.value.length?this.showOverAllClear():this.hideOverAllClear()),this.makeTextBoxEmpty()},t.prototype.scrollBottom=function(e,i){var n=this.list.offsetHeight,s=e.offsetTop+e.offsetHeight-this.list.scrollTop,a=this.list.scrollTop+s-n,o=e.offsetTop+e.offsetHeight-this.list.scrollTop;o=this.fields.groupBy&&!u(this.fixedHeaderElement)?o-this.fixedHeaderElement.offsetHeight:o,0===i?this.list.scrollTop=0:s>n?this.list.scrollTop=a:o>0&&this.list.offsetHeight>o||(this.list.scrollTop=a)},t.prototype.scrollTop=function(e,i){var n=e.offsetTop-this.list.scrollTop;n=this.fields.groupBy&&!Le(this.fixedHeaderElement)?n-this.fixedHeaderElement.offsetHeight:n;var s=e.offsetTop+e.offsetHeight-this.list.scrollTop;0===i?this.list.scrollTop=0:n<0?this.list.scrollTop=this.list.scrollTop+n:s>0&&this.list.offsetHeight>s||(this.list.scrollTop=e.offsetTop-(this.fields.groupBy&&!Le(this.fixedHeaderElement)?this.fixedHeaderElement.offsetHeight:0))},t.prototype.selectListByKey=function(e){var i=this.list.querySelector("li."+se_focus),n=this.value&&this.value.length?this.value.length:0;null!==i&&(e.preventDefault(),i.classList.contains("e-active")&&(n-=1),this.isValidLI(i)&&n<this.maximumSelectionLength?(this.updateListSelection(i,e),this.addListFocus(i),"CheckBox"===this.mode?(this.updateDelimView(),this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight(),this.checkPlaceholderSize(),this.enableGroupCheckBox&&!u(this.fields.groupBy)&&(this.findGroupStart(i.firstElementChild.lastElementChild),this.deselectHeader())):this.updateDelimeter(this.delimiterChar,e),this.makeTextBoxEmpty(),"CheckBox"!==this.mode&&this.refreshListItems(i.textContent),this.changeOnBlur||this.updateValueState(e,this.value,this.tempValues),this.refreshPopup()):!this.isValidLI(i)&&n<this.maximumSelectionLength&&(i.firstElementChild.lastElementChild.classList.contains("e-check")?this.selectAllItem(!1,e,i):this.selectAllItem(!0,e,i)),this.refreshSelection(),this.closePopupOnSelect&&this.hidePopup(e));var a=document.getElementsByClassName("e-selectall-parent")[0];if(a&&a.classList.contains("e-item-focus")){var o=a.childNodes[0];o.classList.contains("e-check")?(o.classList.remove("e-check"),this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"check",name:"checkSelectAll"}),this.selectAllItem(!1,e,i)):(o.classList.add("e-check"),this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"check",name:"checkSelectAll"}),this.selectAllItem(!0,e,i))}this.refreshPlaceHolder()},t.prototype.refreshListItems=function(e){if((this.allowFiltering||"CheckBox"===this.mode&&!0===this.enableSelectionOrder||this.allowCustomValue)&&this.mainList&&this.listData){var i=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(i,this.mainData),this.focusAtLastListItem(e),this.value&&this.value.length&&this.refreshSelection()}else!u(this.fields.groupBy)&&this.value&&this.value.length&&this.refreshSelection()},t.prototype.removeSelectedChip=function(e){var n,i=this.chipCollectionWrapper.querySelector("span."+pd);null!==i&&(u(this.value)||(this.tempValues=this.value.slice()),null!==(n=i.nextElementSibling)&&(this.removeChipSelection(),this.addChipSelection(n,e)),this.removeValue(i.getAttribute("data-value"),e),this.makeTextBoxEmpty()),this.closePopupOnSelect&&this.hidePopup(e),this.checkPlaceholderSize()},t.prototype.moveByTop=function(e){var n,i=this.list.querySelectorAll("li."+se_li);i.length>1&&(this.removeFocus(),this.addListFocus(i[n=e?0:i.length-1]),this.scrollBottom(i[n],n)),this.updateAriaAttribute()},t.prototype.clickHandler=function(e){var n=e.target.className,s=document.getElementsByClassName("e-selectall-parent")[0];("e-input-filter e-input"===n||"e-input-group e-control-wrapper e-input-focus"===n)&&s.classList.contains("e-item-focus")&&s.classList.remove("e-item-focus")},t.prototype.moveByList=function(e){if(this.list){var i=this.list.querySelectorAll("li."+se_li+":not(."+nn+"):not(.e-reorder-hide)");"CheckBox"===this.mode&&this.enableGroupCheckBox&&!u(this.fields.groupBy)&&(i=this.list.querySelectorAll("li."+se_li+",li."+se_group+":not(."+nn+"):not(.e-reorder-hide)"));var n=this.list.querySelector("li."+se_focus),s=-1,a=document.getElementsByClassName("e-selectall-parent")[0];if("CheckBox"===this.mode&&this.showSelectAll&&1==e&&!u(a)&&!a.classList.contains("e-item-focus")&&0==this.list.getElementsByClassName("e-item-focus").length&&this.liCollections.length>1)!this.focusFirstListItem&&a.classList.contains("e-item-focus")?a.classList.remove("e-item-focus"):a.classList.contains("e-item-focus")||a.classList.add("e-item-focus");else if(i.length){"CheckBox"===this.mode&&this.showSelectAll&&!u(a&&-1==e)&&(!this.focusFirstListItem&&a.classList.contains("e-item-focus")?a.classList.remove("e-item-focus"):this.focusFirstListItem&&!a.classList.contains("e-item-focus")&&a.classList.add("e-item-focus"));for(var o=0;o<i.length;o++)if(i[o]===n){s=o;break}e>0?s<i.length-1&&(this.removeFocus(),this.addListFocus(i[++s]),this.updateCheck(i[s]),this.scrollBottom(i[s],s)):s>0&&(this.removeFocus(),this.addListFocus(i[--s]),this.updateCheck(i[s]),this.scrollTop(i[s],s))}}},t.prototype.updateCheck=function(e){"CheckBox"===this.mode&&this.enableGroupCheckBox&&!u(this.fields.groupBy)&&(e.firstElementChild.lastElementChild.classList.contains("e-check")?e.classList.add("e-active"):e.classList.remove("e-active"))},t.prototype.moveBy=function(e,i){var n,s=this.chipCollectionWrapper.querySelectorAll("span."+jf),a=this.chipCollectionWrapper.querySelector("span."+pd);null===a?e<0&&this.addChipSelection(s[s.length-1],i):e<0?null!==(n=a.previousElementSibling)&&(this.removeChipSelection(),this.addChipSelection(n,i)):(n=a.nextElementSibling,this.removeChipSelection(),null!==n&&this.addChipSelection(n,i))},t.prototype.chipClick=function(e){if(this.enabled){var i=I(e.target,"."+jf);this.removeChipSelection(),this.addChipSelection(i,e)}},t.prototype.removeChipSelection=function(){this.chipCollectionWrapper&&this.removeChipFocus()},t.prototype.addChipSelection=function(e,i){D([e],pd),this.trigger("chipSelection",i)},t.prototype.onChipRemove=function(e){if(3!==e.which&&2!==e.button&&this.enabled&&!this.readonly){var n=e.target.parentElement.getAttribute("data-value"),s=this.getFormattedValue(n);if(this.allowCustomValue&&("false"!==n&&!1===s||!u(s)&&"NaN"===s.toString())&&(s=n),this.isPopupOpen()&&"CheckBox"!==this.mode&&this.hidePopup(e),this.inputFocus||this.inputElement.focus(),this.removeValue(s,e),u(this.findListElement(this.list,"li","data-value",s))&&this.mainList&&this.listData){var a=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(a,this.mainData)}this.updateDelimeter(this.delimiterChar,e),this.placeholder&&"Never"===this.floatLabelType?(this.makeTextBoxEmpty(),this.checkPlaceholderSize()):this.inputElement.value="",e.preventDefault()}},t.prototype.makeTextBoxEmpty=function(){this.inputElement.value="",this.refreshPlaceHolder()},t.prototype.refreshPlaceHolder=function(){this.placeholder&&"Never"===this.floatLabelType?this.inputElement.placeholder=this.value&&this.value.length||!u(this.text)&&""!==this.text?"":MN(this.placeholder):this.setFloatLabelType(),this.expandTextbox()},t.prototype.removeAllItems=function(e,i,n,s,a){var o=this.value.indexOf(e),l=this.value.slice(0);l.splice(o,1),this.setProperties({value:[].concat([],l)},!0),s.setAttribute("aria-selected","false"),M([s],this.hideSelectedItem?nn:"e-active"),this.notify("activeList",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:s,e:this,index:o}),this.invokeCheckboxSelection(s,i,n),this.updateMainList(!0,e,a),this.updateChipStatus()},t.prototype.invokeCheckboxSelection=function(e,i,n){this.notify("updatelist",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:e,e:i}),this.updateAriaActiveDescendant(),this.value&&this.value.length!==this.mainData.length&&"CheckBox"===this.mode&&this.showSelectAll&&!this.isSelectAll&&!n&&this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"uncheck"})},t.prototype.removeValue=function(e,i,n,s){var a=this,o=this.value.indexOf(this.getFormattedValue(e));-1===o&&this.allowCustomValue&&!u(e)&&(o=this.value.indexOf(e.toString()));var l=i&&i.target;s=!!(s||l&&l.classList.contains("e-close-hooker"))||null;var h=this.hideSelectedItem?nn:"e-active";if(-1!==o){var c=this.findListElement(this.list,"li","data-value",e),d=this.getDataByValue(e);this.trigger("removing",{e:i,item:c,itemData:d,isInteracted:!!i,cancel:!1},function(f){if(f.cancel)a.removeIndex++;else{var m=a.value.slice(0);if(m.splice(o,1),a.setProperties({value:[].concat([],m)},!0),null!==c){var g=a.findListElement(a.mainList,"li","data-value",e);c.setAttribute("aria-selected","false"),M([c],h),g&&(g.setAttribute("aria-selected","false"),M([c,g],h)),a.notify("activeList",{module:"CheckBoxSelection",enable:"CheckBox"===a.mode,li:c,e:a,index:o}),a.invokeCheckboxSelection(c,i,s)}a.hideSelectedItem&&a.fields.groupBy&&c&&a.hideGroupItem(e),a.hideSelectedItem&&a.fixedHeaderElement&&a.fields.groupBy&&"CheckBox"!==a.mode&&a.isPopupOpen()&&r.prototype.scrollStop.call(a),a.updateMainList(!0,e),a.removeChip(e),a.updateChipStatus(),(a.value&&a.value.length?a.value.length:0)<a.maximumSelectionLength&&M(a.list.querySelectorAll("li."+se_li+":not(.e-active)"),"e-disable"),a.trigger("removed",f);var E=i&&i.currentTarget,S=!(!E||!E.classList.contains("e-selectall-parent"))||null;!a.changeOnBlur&&!s&&i&&n&&!S&&a.updateValueState(i,a.value,a.tempValues),n&&(a.selectAllEventData.push(d),a.selectAllEventEle.push(c)),1===n&&(a.changeOnBlur||a.updateValueState(i,a.value,a.tempValues),a.trigger("selectedAll",{event:i,items:a.selectAllEventEle,itemData:a.selectAllEventData,isInteracted:!!i,isChecked:!1}),a.selectAllEventData=[],a.selectAllEventEle=[]),s&&(1===n||null===n)&&a.clearAllCallback(i,s)}})}},t.prototype.updateMainList=function(e,i,n){if(this.allowFiltering||"CheckBox"===this.mode){var s=n||this.findListElement(this.mainList,"li","data-value",i);s&&(e?(s.setAttribute("aria-selected","false"),M([s],this.hideSelectedItem?nn:"e-active"),"CheckBox"===this.mode&&M([s.firstElementChild.lastElementChild],"e-check")):(s.setAttribute("aria-selected","true"),D([s],this.hideSelectedItem?nn:"e-active"),"CheckBox"===this.mode&&D([s.firstElementChild.lastElementChild],"e-check")))}},t.prototype.removeChip=function(e){if(this.chipCollectionWrapper){var i=this.findListElement(this.chipCollectionWrapper,"span","data-value",e);i&&me(i)}},t.prototype.setWidth=function(e){u(e)||("number"==typeof e?this.overAllWrapper.style.width=$(e):"string"==typeof e&&(this.overAllWrapper.style.width=e.match(/px|%|em/)?e:$(e)))},t.prototype.updateChipStatus=function(){this.value&&this.value.length?(u(this.chipCollectionWrapper)||(this.chipCollectionWrapper.style.display=""),("Delimiter"===this.mode||"CheckBox"===this.mode)&&this.showDelimWrapper(),this.showOverAllClear()):(u(this.chipCollectionWrapper)||(this.chipCollectionWrapper.style.display="none"),u(this.delimiterWrapper)||(this.delimiterWrapper.style.display="none"),this.hideOverAllClear())},t.prototype.addValue=function(e,i,n){this.value||(this.value=[]),this.value.indexOf(e)<0&&this.setProperties({value:[].concat([],this.value,[e])},!0);var s=this.findListElement(this.list,"li","data-value",e);this.removeFocus(),s&&(this.addListFocus(s),this.addListSelection(s)),"Delimiter"!==this.mode&&"CheckBox"!==this.mode&&this.addChip(i,e,n),this.hideSelectedItem&&this.fields.groupBy&&this.hideGroupItem(e),this.updateChipStatus(),this.checkMaxSelection()},t.prototype.checkMaxSelection=function(){(this.value&&this.value.length?this.value.length:0)===this.maximumSelectionLength&&D(this.list.querySelectorAll("li."+se_li+":not(.e-active)"),"e-disable")},t.prototype.dispatchSelect=function(e,i,n,s,a){var o=this,l=this.listData;if(this.initStatus&&!s){var h=this.getDataByValue(e);this.trigger("select",{e:i,item:n,itemData:h,isInteracted:!!i,cancel:!1},function(d){d.cancel||(a&&(o.selectAllEventData.push(h),o.selectAllEventEle.push(n)),1===a&&(o.trigger("selectedAll",{event:i,items:o.selectAllEventEle,itemData:o.selectAllEventData,isInteracted:!!i,isChecked:!0}),o.selectAllEventData=[]),o.allowCustomValue&&o.isServerRendered&&o.listData!==l&&(o.listData=l),o.updateListSelectEventCallback(e,n,i),o.hideSelectedItem&&o.fixedHeaderElement&&o.fields.groupBy&&"CheckBox"!==o.mode&&r.prototype.scrollStop.call(o))})}},t.prototype.addChip=function(e,i,n){this.chipCollectionWrapper&&this.getChip(e,i,n)},t.prototype.removeChipFocus=function(){if(M(this.chipCollectionWrapper.querySelectorAll("span."+jf+"."+pd),pd),O.isDevice)for(var i=this.chipCollectionWrapper.querySelectorAll("span."+FD.split(" ")[0]),n=0;n<i.length;n++)i[n].style.display="none"},t.prototype.onMobileChipInteraction=function(e){var i=I(e.target,"."+jf),n=i.querySelector("span."+FD.split(" ")[0]);this.enabled&&!this.readonly&&(i.classList.contains(pd)||(this.removeChipFocus(),n.style.display="",i.classList.add(pd)),this.refreshPopup(),e.preventDefault())},t.prototype.multiCompiler=function(e){var i=!1;if("function"!=typeof e&&e)try{i=!!pe(e,document).length}catch(n){i=!1}return i},t.prototype.encodeHtmlEntities=function(e){return e.replace(/[\u00A0-\u9999<>&]/g,function(i){return"&#"+i.charCodeAt(0)+";"})},t.prototype.getChip=function(e,i,n){var s=this,a={text:i,value:i},o=this.createElement("span",{className:jf,attrs:{"data-value":i,title:e}}),h=this.createElement("span",{className:"e-chipcontent"}),c=this.createElement("span",{className:FD});if(this.mainData&&(a=this.getDataByValue(i)),this.valueTemplate&&!u(a)){var d=this.multiCompiler(this.valueTemplate),p=tt("function"!=typeof this.valueTemplate&&d?P(this.valueTemplate,document).innerHTML.trim():this.valueTemplate)(a,this,"valueTemplate",this.valueTemplateId,this.isStringTemplate,null,h);p&&p.length>0&&ce(p,h),this.renderReactTemplates()}else this.enableHtmlSanitizer?h.innerText=e:h.innerHTML=this.encodeHtmlEntities(e);o.appendChild(h);var f={isInteracted:!!n,itemData:a,e:n,setClass:function(m){D([o],m)},cancel:!1};this.isPreventChange=this.isAngular&&this.preventChange,this.trigger("tagging",f,function(m){m.cancel||(O.isDevice?(o.classList.add("e-mob-chip"),ce([c],o),c.style.display="none",b.add(o,"click",s.onMobileChipInteraction,s)):(b.add(o,"mousedown",s.chipClick,s),s.showClearButton&&o.appendChild(c)),b.add(c,"mousedown",s.onChipRemove,s),s.chipCollectionWrapper.appendChild(o),!s.changeOnBlur&&n&&s.updateValueState(n,s.value,s.tempValues))})},t.prototype.calcPopupWidth=function(){var e=$(this.popupWidth);return e.indexOf("%")>-1&&(e=(this.componentWrapper.offsetWidth*parseFloat(e)/100).toString()+"px"),e},t.prototype.mouseIn=function(){this.enabled&&!this.readonly&&this.showOverAllClear()},t.prototype.mouseOut=function(){this.inputFocus||(this.overAllClear.style.display="none")},t.prototype.listOption=function(e,i){var n=!u(i.iconCss),s=u(i.properties)?i:i.properties;return this.listCurrentOptions=null!==i.text||null!==i.value?{fields:s,showIcon:n,ariaAttributes:{groupItemRole:"presentation"}}:{fields:{value:"text"}},z(this.listCurrentOptions,this.listCurrentOptions,i,!0),"CheckBox"===this.mode&&this.notify("listoption",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,dataSource:e,fieldProperty:s}),this.listCurrentOptions},t.prototype.renderPopup=function(){var e=this;if(this.list||r.prototype.render.call(this),!this.popupObj&&!u(this.popupWrapper)){document.body.appendChild(this.popupWrapper);var i=this.popupWrapper.querySelector(".e-filter-parent");"CheckBox"===this.mode&&!this.allowFiltering&&i&&this.filterParent&&(i.remove(),this.filterParent=null);var n=parseInt(this.popupHeight,10);this.popupWrapper.style.visibility="hidden",this.headerTemplate&&(this.setHeaderTemplate(),n-=this.header.offsetHeight),ce([this.list],this.popupWrapper),this.footerTemplate&&(this.setFooterTemplate(),n-=this.footer.offsetHeight),"CheckBox"===this.mode&&this.showSelectAll?(this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),n-=this.selectAllHeight):"CheckBox"!==this.mode||this.showSelectAll||this.headerTemplate||this.footerTemplate?"CheckBox"===this.mode&&!this.showSelectAll&&(this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),n=parseInt(this.popupHeight,10),this.headerTemplate&&this.header&&(n-=this.header.offsetHeight),this.footerTemplate&&this.footer&&(n-=this.footer.offsetHeight)):(this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),n=parseInt(this.popupHeight,10)),"CheckBox"===this.mode&&(this.allowFiltering&&(this.notify("searchBox",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,popupElement:this.popupWrapper}),n-=this.searchBoxHeight),D([this.popupWrapper],"e-checkbox")),"auto"!==this.popupHeight?(this.list.style.maxHeight=$(n),this.popupWrapper.style.maxHeight=$(this.popupHeight)):this.list.style.maxHeight=$(this.popupHeight),this.popupObj=new us(this.popupWrapper,{width:this.calcPopupWidth(),targetType:"relative",position:this.enableRtl?{X:"right",Y:"bottom"}:{X:"left",Y:"bottom"},relateTo:this.overAllWrapper,collision:this.enableRtl?{X:"fit",Y:"flip"}:{X:"flip",Y:"flip"},offsetY:1,enableRtl:this.enableRtl,zIndex:this.zIndex,close:function(){if(e.popupObj.element.parentElement){e.popupObj.unwireScrollEvents();var a=e.popupWrapper.querySelector("."+IN);"CheckBox"===e.mode&&a&&document.activeElement===a&&a.blur(),Q(e.popupObj.element)}},open:function(){if(e.popupObj.resolveCollision(),!e.isFirstClick){var a=e.list.querySelector("ul");a&&("CheckBox"!==e.mode&&(e.allowFiltering||e.allowCustomValue)&&""!==e.targetElement().trim()||(e.mainList=a.cloneNode?a.cloneNode(!0):a)),e.isFirstClick=!0}e.popupObj.wireScrollEvents(),"CheckBox"!==e.mode&&(e.allowFiltering||e.allowCustomValue)&&""!==e.targetElement().trim()||e.loadTemplate(),e.setScrollPosition(),e.allowFiltering&&e.notify("inputFocus",{module:"CheckBoxSelection",enable:"CheckBox"===e.mode,value:"focus"})},targetExitViewport:function(){O.isDevice||e.hidePopup()}}),"CheckBox"===this.mode&&O.isDevice&&this.allowFiltering&&this.notify("deviceSearchBox",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),this.popupObj.close(),this.popupWrapper.style.visibility=""}},t.prototype.setHeaderTemplate=function(){this.header&&this.header.remove(),this.header=this.createElement("div"),D([this.header],"e-ddl-header");var i=this.multiCompiler(this.headerTemplate),n=tt("function"!=typeof this.headerTemplate&&i?P(this.headerTemplate,document).innerHTML.trim():this.headerTemplate)({},this,"headerTemplate",this.headerTemplateId,this.isStringTemplate,null,this.header);n&&n.length>0&&ce(n,this.header),"CheckBox"===this.mode&&this.showSelectAll?Tt([this.header],this.popupWrapper):ce([this.header],this.popupWrapper),b.add(this.header,"mousedown",this.onListMouseDown,this)},t.prototype.setFooterTemplate=function(){this.footer&&this.footer.remove(),this.footer=this.createElement("div"),D([this.footer],"e-ddl-footer");var i=this.multiCompiler(this.footerTemplate),n=tt("function"!=typeof this.footerTemplate&&i?P(this.footerTemplate,document).innerHTML.trim():this.footerTemplate)({},this,"footerTemplate",this.footerTemplateId,this.isStringTemplate,null,this.footer);n&&n.length>0&&ce(n,this.footer),ce([this.footer],this.popupWrapper),b.add(this.footer,"mousedown",this.onListMouseDown,this)},t.prototype.clearAll=function(e){if(this.enabled&&!this.readonly){var i=void 0;if(this.value&&this.value.length>0){var n=this.list&&this.list.querySelectorAll("li.e-list-item");if(n&&n.length>0)this.selectAllItems(!1,e);else for(this.removeIndex=0,i=this.value[this.removeIndex];this.removeIndex<this.value.length;i=this.value[this.removeIndex])this.removeValue(i,e,null,!0);this.selectedElementID=null,this.inputElement.removeAttribute("aria-activedescendant")}else this.clearAllCallback(e)}},t.prototype.clearAllCallback=function(e,i){var n=this.value?this.value.slice():[];if(this.mainList&&this.listData&&(this.allowFiltering&&"CheckBox"!==this.mode||this.allowCustomValue)){var s=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(s,this.mainData)}this.focusAtFirstListItem(),this.updateDelimeter(this.delimiterChar,e),"Box"!==this.mode&&(!this.inputFocus||"CheckBox"===this.mode)&&this.updateDelimView(),""!==this.inputElement.value&&(this.makeTextBoxEmpty(),this.search(null)),this.checkPlaceholderSize(),this.isPopupOpen()&&this.refreshPopup(),this.inputFocus||(this.changeOnBlur&&this.updateValueState(e,this.value,n),"CheckBox"!==this.mode&&this.inputElement.focus()),"CheckBox"===this.mode&&(this.refreshPlaceHolder(),this.refreshInputHight(),this.changeOnBlur&&i&&(u(this.value)||0===this.value.length)&&this.updateValueState(e,this.value,this.tempValues)),!this.changeOnBlur&&i&&(u(this.value)||0===this.value.length)&&this.updateValueState(e,this.value,this.tempValues),"CheckBox"===this.mode&&this.enableGroupCheckBox&&!u(this.fields.groupBy)&&this.updateListItems(this.list.querySelectorAll("li.e-list-item"),this.mainList.querySelectorAll("li.e-list-item")),e.preventDefault()},t.prototype.windowResize=function(){this.refreshPopup(),(!this.inputFocus||"CheckBox"===this.mode)&&this.viewWrapper&&this.viewWrapper.parentElement&&this.updateDelimView()},t.prototype.resetValueHandler=function(e){var i=I(this.inputElement,"form");if(i&&e.target===i){var n=this.element.tagName===this.getNgDirective()?null:this.element.getAttribute("data-initial-value");this.text=n}},t.prototype.wireEvent=function(){b.add(this.componentWrapper,"mousedown",this.wrapperClick,this),b.add(window,"resize",this.windowResize,this),b.add(this.inputElement,"focus",this.focusInHandler,this),b.add(this.inputElement,"keydown",this.onKeyDown,this),b.add(this.inputElement,"keyup",this.keyUp,this),"CheckBox"!==this.mode&&b.add(this.inputElement,"input",this.onInput,this),b.add(this.inputElement,"blur",this.onBlurHandler,this),b.add(this.componentWrapper,"mouseover",this.mouseIn,this);var e=I(this.inputElement,"form");e&&b.add(e,"reset",this.resetValueHandler,this),b.add(this.componentWrapper,"mouseout",this.mouseOut,this),b.add(this.overAllClear,"mouseup",this.clearAll,this),b.add(this.inputElement,"paste",this.pasteHandler,this)},t.prototype.onInput=function(e){this.isValidKey=!!this.keyDownStatus,this.keyDownStatus=!1,O.isDevice&&"mozilla"===O.info.name&&this.search(e)},t.prototype.pasteHandler=function(e){var i=this;setTimeout(function(){i.expandTextbox(),i.search(e)})},t.prototype.search=function(e){var i=this;if(this.resetFilteredData=!0,u(e)||(this.keyCode=e.keyCode),!this.isPopupOpen()&&this.openOnClick&&this.showPopup(e),this.openClick(e),!this.checkTextLength()||this.allowFiltering||u(e)||8===e.keyCode){var n=this.targetElement();if(this.allowFiltering){var s={preventDefaultAction:!1,text:this.targetElement(),updateData:function(h,c,d){s.cancel||(i.isFiltered=!0,i.remoteFilterAction=!0,i.dataUpdater(h,c,d))},event:e,cancel:!1};this.trigger("filtering",s,function(h){h.cancel||!i.isFiltered&&!h.preventDefaultAction&&(i.filterAction=!0,i.dataUpdater(i.dataSource,null,i.fields))})}else if(this.allowCustomValue){var a=new Xe;a=""!==n?a.where(this.fields.text,"startswith",n,this.ignoreCase,this.ignoreAccent):a,this.dataUpdater(this.mainData,a,this.fields)}else{var o=this.list.querySelectorAll("li."+se_li+":not(.e-hide-listitem)"),l=od(this.targetElement(),o,"StartsWith",this.ignoreCase);l&&null!==l.item?(this.addListFocus(l.item),this.list.scrollTop=l.item.offsetHeight*l.index):""!==this.targetElement()?this.removeFocus():this.focusAtFirstListItem()}}else this.focusAtFirstListItem()},t.prototype.preRender=function(){null===this.allowFiltering&&(this.allowFiltering="CheckBox"===this.mode),this.initializeData(),this.updateDataAttribute(this.htmlAttributes),r.prototype.preRender.call(this)},t.prototype.getLocaleName=function(){return"multi-select"},t.prototype.initializeData=function(){this.mainListCollection=[],this.beforePopupOpen=!1,this.filterAction=!1,this.remoteFilterAction=!1,this.isFirstClick=!1,this.mobFilter=!0,this.isFiltered=!1,this.focused=!0,this.initial=!0,this.backCommand=!0},t.prototype.updateData=function(e,i){var o,n="",s="Delimiter"===this.mode||"CheckBox"===this.mode,a=[],l=this.listData;if(this.listData=this.mainData,u(this.hiddenElement)||(this.hiddenElement.innerHTML=""),!u(this.value)){for(var h=this.value.length,c="",d=0;d<h;d++){var p=this.value[d],f=this.findListElement(u(this.mainList)?this.ulElement:this.mainList,"li","data-value",p);u(f)&&!this.allowCustomValue?(this.value.splice(d,1),d-=1,h-=1):(n+=(o=this.listData?this.getTextByValue(p):p)+e+" ",a.push(o)),c+='<option selected value="'+p+'">'+d+"</option>"}u(this.hiddenElement)||(this.hiddenElement.innerHTML=c)}this.setProperties({text:a.toString()},!0),s&&(this.updateWrapperText(this.delimiterWrapper,n),this.delimiterWrapper.setAttribute("id",vt("delim_val")),this.inputElement.setAttribute("aria-labelledby",this.delimiterWrapper.id));var m=i&&i.target,g=!(!m||!m.classList.contains("e-close-hooker"))||null;(!this.changeOnBlur&&i&&!g||this.isSelectAll)&&(this.isSelectAll=!1,this.updateValueState(i,this.value,this.tempValues)),this.listData=l,this.addValidInputClass()},t.prototype.initialTextUpdate=function(){if(u(this.text))this.setProperties({value:null},!0);else{for(var e=this.text.split(this.delimiterChar),i=[],n=0;e.length>n;n++){var s=this.getValueByText(e[n]);u(s)?this.allowCustomValue&&i.push(e[n]):i.push(s)}i&&i.length&&this.setProperties({value:i},!0)}},t.prototype.renderList=function(e){!e&&this.allowCustomValue&&this.list&&(this.list.textContent===this.noRecordsTemplate||this.list.querySelector(".e-ul")&&0===this.list.querySelector(".e-ul").childElementCount)&&(e=!0),r.prototype.render.call(this,null,e),this.unwireListEvents(),this.wireListEvents()},t.prototype.initialValueUpdate=function(){if(this.list){var e=void 0,i=void 0,n=void 0;if(this.chipCollectionWrapper&&(this.chipCollectionWrapper.innerHTML=""),this.removeListSelection(),!u(this.value))for(var s=0;!u(this.value[s]);s++)if(i=this.findListElement(this.hideSelectedItem?this.ulElement:this.list,"li","data-value",n=this.value[s]),e=this.getTextByValue(n),i&&"true"!==i.getAttribute("aria-selected")||i&&"true"===i.getAttribute("aria-selected")&&this.hideSelectedItem&&("Box"===this.mode||"Default"===this.mode))this.addChip(e,n),this.addListSelection(i);else if(n&&this.allowCustomValue){var a=this.listData.length,o={};We(this.fields.text,n,o),We(this.fields.value,n,o);var l=this.popupWrapper.querySelector(".e-nodata");this.addItem(o,a),i=i||this.findListElement(this.hideSelectedItem?this.ulElement:this.list,"li","data-value",n),this.popupWrapper.contains(l)&&(this.list.setAttribute("style",l.getAttribute("style")),this.popupWrapper.replaceChild(this.list,l),this.wireListEvents()),this.addChip(e,n),this.addListSelection(i)}"CheckBox"===this.mode?(this.updateDelimView(),this.changeOnBlur&&this.updateValueState(null,this.value,this.tempValues),this.updateDelimeter(this.delimiterChar),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar),"CheckBox"===this.mode&&this.showSelectAll&&(u(this.value)||!this.value.length)&&this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"uncheck"}),"Box"===this.mode||"Default"===this.mode&&this.inputFocus?this.chipCollectionWrapper.style.display="":("Delimiter"===this.mode||"CheckBox"===this.mode)&&this.showDelimWrapper()}},t.prototype.updateActionCompleteData=function(e,i){this.value&&this.value.indexOf(e.getAttribute("data-value"))>-1&&(this.mainList=this.ulElement,this.hideSelectedItem&&D([e],nn))},t.prototype.updateAddItemList=function(e,i){this.popupObj&&this.popupObj.element&&this.popupObj.element.querySelector(".e-nodata")&&e?(this.list=e,this.mainList=this.ulElement=e.querySelector("ul"),me(this.popupWrapper.querySelector(".e-content")),this.popupObj=null,this.renderPopup()):this.allowCustomValue&&(this.list=e,this.mainList=this.ulElement=e.querySelector("ul"))},t.prototype.updateDataList=function(){this.mainList&&this.ulElement&&!(this.isFiltered||this.filterAction||this.targetElement().trim())&&(this.mainList.childElementCount<this.ulElement.childElementCount||this.ulElement.childElementCount>0&&this.ulElement.children[0].childElementCount>0&&this.mainList.children[0]&&this.mainList.children[0].childElementCount<this.ulElement.children[0].childElementCount||this.itemTemplate&&this.ulElement.childElementCount>0&&!(this.ulElement.childElementCount<this.mainList.childElementCount)&&(this.ulElement.children[0].childElementCount>0||this.fields.groupBy&&this.ulElement.children[1]&&this.ulElement.children[1].childElementCount>0))&&(this.mainList=this.ulElement)},t.prototype.isValidLI=function(e){return e&&!e.classList.contains("e-disabled")&&!e.classList.contains(se_group)&&e.classList.contains(se_li)},t.prototype.updateListSelection=function(e,i,n){var s=e.getAttribute("data-value"),a=this.getFormattedValue(s);this.allowCustomValue&&("false"!==s&&!1===a||!u(a)&&"NaN"===a.toString())&&(a=s),this.removeHover(),this.value&&-1!==this.value.indexOf(a)?this.removeValue(a,i,n):this.dispatchSelect(a,i,e,"true"===e.getAttribute("aria-selected"),n)},t.prototype.updateListSelectEventCallback=function(e,i,n){var s=this,a=this.getTextByValue(e);if(!this.allowCustomValue&&!this.allowFiltering||this.findListElement(this.mainList,"li","data-value",e))this.remoteCustomValue=!1,this.addValue(e,a,n);else{var o=i.cloneNode(!0);this.allowCustomValue&&this.mainData.length&&"number"==typeof _(this.fields.value?this.fields.value:"value",this.mainData[0])&&(e=isNaN(parseFloat(e.toString()))?e:parseFloat(e.toString()));var h=this.getDataByValue(e);this.trigger("customValueSelection",{newData:h,cancel:!1},function(d){d.cancel||(ce([o],s.mainList),s.mainData.push(h),s.remoteCustomValue=!1,s.addValue(e,a,n))})}},t.prototype.removeListSelection=function(){var e=this.hideSelectedItem?nn:"e-active",i=this.list.querySelectorAll("."+e),n=i.length;if(i&&i.length)for(M(i,e);n>0;)i[n-1].setAttribute("aria-selected","false"),n--;if(!u(this.mainList)){var s=this.mainList.querySelectorAll("."+e),a=s.length;if(s&&s.length)for(M(s,e);a>0;)s[a-1].setAttribute("aria-selected","false"),"CheckBox"===this.mode&&(i&&i.length>a-1&&M([i[a-1].firstElementChild.lastElementChild],"e-check"),M([s[a-1].firstElementChild.lastElementChild],"e-check")),a--}},t.prototype.removeHover=function(){var e=this.list.querySelectorAll(".e-hover");e&&e.length&&M(e,"e-hover")},t.prototype.removeFocus=function(){if(this.list&&this.mainList){var e=this.list.querySelectorAll("."+se_focus),i=this.mainList.querySelectorAll("."+se_focus);e&&e.length&&(M(e,se_focus),M(i,se_focus))}},t.prototype.addListHover=function(e){(this.enabled&&this.isValidLI(e)||null!==e&&e.classList.contains("e-list-group-item")&&this.enableGroupCheckBox&&"CheckBox"===this.mode&&!u(this.fields.groupBy))&&(this.removeHover(),D([e],"e-hover"))},t.prototype.addListFocus=function(e){this.enabled&&this.isValidLI(e)?(this.removeFocus(),D([e],se_focus),this.updateAriaActiveDescendant()):this.enableGroupCheckBox&&"CheckBox"===this.mode&&!u(this.fields.groupBy)&&(D([e],se_focus),this.updateAriaActiveDescendant())},t.prototype.addListSelection=function(e,i){var n=this.hideSelectedItem?nn:"e-active";this.isValidLI(e)&&!e.classList.contains("e-hover")&&(D([e],n),this.updateMainList(!1,e.getAttribute("data-value"),i),e.setAttribute("aria-selected","true"),"CheckBox"===this.mode&&e.classList.contains("e-active")&&0===e.getElementsByClassName("e-check").length&&this.notify("updatelist",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:e,e:this}),this.notify("activeList",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:e,e:this}),this.chipCollectionWrapper&&this.removeChipSelection(),this.selectedElementID=e.id)},t.prototype.updateDelimeter=function(e,i){this.updateData(e,i)},t.prototype.onMouseClick=function(e){var i=this;this.keyCode=null,this.scrollFocusStatus=!1;var n=e.target,s=I(n,"."+se_li);if(I(n,"."+se_group)&&this.enableGroupCheckBox&&"CheckBox"===this.mode&&this.fields.groupBy)(n=n.classList.contains("e-list-group-item")?n.firstElementChild.lastElementChild:e.target).classList.contains("e-check")?(this.selectAllItem(!1,e),n.classList.remove("e-check"),n.classList.remove("e-stop"),I(n,".e-list-group-item").classList.remove("e-active"),n.setAttribute("aria-selected","false")):(this.selectAllItem(!0,e),n.classList.remove("e-stop"),n.classList.add("e-check"),I(n,".e-list-group-item").classList.add("e-active"),n.setAttribute("aria-selected","true")),this.refreshSelection(),this.checkSelectAll();else{if(this.isValidLI(s)){var o=this.value&&this.value.length?this.value.length:0;s.classList.contains("e-active")&&(o-=1),o<this.maximumSelectionLength&&(this.updateListSelection(s,e),this.checkPlaceholderSize(),this.addListFocus(s),(this.allowCustomValue||this.allowFiltering)&&this.mainList&&this.listData?"CheckBox"!==this.mode&&(this.focusAtLastListItem(s.getAttribute("data-value")),this.refreshSelection()):this.makeTextBoxEmpty()),"CheckBox"===this.mode?(this.updateDelimView(),this.value&&this.value.length>50?setTimeout(function(){i.updateDelimeter(i.delimiterChar,e)},0):this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar,e),this.checkSelectAll(),this.refreshPopup(),this.hideSelectedItem&&this.focusAtFirstListItem(),this.closePopupOnSelect?this.hidePopup(e):e.preventDefault(),this.makeTextBoxEmpty(),this.findGroupStart(n),"CheckBox"!==this.mode&&this.refreshListItems(u(s)?null:s.textContent)}else e.preventDefault();this.refreshPlaceHolder(),this.deselectHeader()}},t.prototype.findGroupStart=function(e){if(this.enableGroupCheckBox&&"CheckBox"===this.mode&&!u(this.fields.groupBy)){var a=void 0;if(this.itemTemplate&&!e.getElementsByClassName("e-frame").length)for(;!e.getElementsByClassName("e-frame").length;)e=e.parentElement;for(e.classList.contains("e-frame")&&(e=e.parentElement.parentElement),a=this.findGroupAttrtibutes(e,0,0,0,0),a=this.findGroupAttrtibutes(e,a[0],a[1],a[2],1);!e.classList.contains("e-list-group-item")&&(e.classList.contains("e-list-icon")&&(e=e.parentElement),null!=(e=e.previousElementSibling)););this.updateCheckBox(e,a[0],a[1],a[2])}},t.prototype.findGroupAttrtibutes=function(e,i,n,s,a){for(;!e.classList.contains("e-list-group-item")&&(e.classList.contains("e-list-icon")&&(e=e.parentElement),e.getElementsByClassName("e-frame")[0].classList.contains("e-check")&&e.classList.contains("e-list-item")?i++:e.classList.contains("e-list-item")&&n++,s++,null!=(e=a?e.nextElementSibling:e.previousElementSibling)););return[i,n,s]},t.prototype.updateCheckBox=function(e,i,n,s){if(null!==e){var a=e.getElementsByClassName("e-frame")[0];s===i?(a.classList.remove("e-stop"),a.classList.add("e-check"),I(a,".e-list-group-item").classList.add("e-active"),e.setAttribute("aria-selected","true")):s===n?(a.classList.remove("e-check"),a.classList.remove("e-stop"),I(a,".e-list-group-item").classList.remove("e-active"),e.setAttribute("aria-selected","false")):this.maximumSelectionLength===i-1?(a.classList.remove("e-stop"),e.setAttribute("aria-selected","true"),I(a,".e-list-group-item").classList.add("e-active"),a.classList.add("e-check")):(a.classList.remove("e-check"),a.classList.add("e-stop"),I(a,".e-list-group-item").classList.add("e-active"),e.setAttribute("aria-selected","false"))}},t.prototype.deselectHeader=function(){var e=this.value&&this.value.length?this.value.length:0,i=this.list.querySelectorAll("li.e-list-group-item:not(.e-active)");e<this.maximumSelectionLength&&M(i,"e-disable"),e===this.maximumSelectionLength&&D(i,"e-disable")},t.prototype.onMouseOver=function(e){var i=I(e.target,"."+se_li);null===i&&"CheckBox"===this.mode&&!u(this.fields.groupBy)&&this.enableGroupCheckBox&&(i=I(e.target,"."+se_group)),this.addListHover(i)},t.prototype.onMouseLeave=function(){this.removeHover()},t.prototype.onListMouseDown=function(e){e.preventDefault(),this.scrollFocusStatus=!0},t.prototype.onDocumentClick=function(e){if("CheckBox"!==this.mode){var i=e.target;this.scrollFocusStatus=!!(!u(this.popupObj)&&I(i,'[id="'+this.popupObj.element.id+'"]')||this.overAllWrapper.contains(e.target))&&(O.isIE||"edge"===O.info.name)&&document.activeElement===this.inputElement}},t.prototype.wireListEvents=function(){u(this.list)||(b.add(document,"mousedown",this.onDocumentClick,this),b.add(this.list,"mousedown",this.onListMouseDown,this),b.add(this.list,"mouseup",this.onMouseClick,this),b.add(this.list,"mouseover",this.onMouseOver,this),b.add(this.list,"mouseout",this.onMouseLeave,this))},t.prototype.unwireListEvents=function(){b.remove(document,"mousedown",this.onDocumentClick),this.list&&(b.remove(this.list,"mousedown",this.onListMouseDown),b.remove(this.list,"mouseup",this.onMouseClick),b.remove(this.list,"mouseover",this.onMouseOver),b.remove(this.list,"mouseout",this.onMouseLeave))},t.prototype.hideOverAllClear=function(){(!this.value||!this.value.length||""===this.inputElement.value)&&(this.overAllClear.style.display="none")},t.prototype.showOverAllClear=function(){this.overAllClear.style.display=(this.value&&this.value.length||""!==this.inputElement.value)&&this.showClearButton&&!0!==this.readonly?"":"none"},t.prototype.focusIn=function(){document.activeElement!==this.inputElement&&this.enabled&&this.inputElement.focus()},t.prototype.focusOut=function(){document.activeElement===this.inputElement&&this.enabled&&this.inputElement.blur()},t.prototype.showSpinner=function(){if(u(this.spinnerElement)){var e=this.filterParent&&this.filterParent.querySelector(".e-clear-icon.e-icons");"none"!==this.overAllClear.style.display||e?this.spinnerElement=e||this.overAllClear:(this.spinnerElement=this.createElement("span",{className:yY+" "+DY}),this.componentWrapper.appendChild(this.spinnerElement)),Qa({target:this.spinnerElement,width:O.isDevice?"16px":"14px"},this.createElement),D([this.spinnerElement],EY),$r(this.spinnerElement)}},t.prototype.hideSpinner=function(){u(this.spinnerElement)||(pr(this.spinnerElement),M([this.spinnerElement],EY),this.spinnerElement.classList.contains(DY)?Q(this.spinnerElement):this.spinnerElement.innerHTML="",this.spinnerElement=null)},t.prototype.updateWrapperText=function(e,i){this.valueTemplate||!this.enableHtmlSanitizer?e.innerHTML=this.encodeHtmlEntities(i):e.innerText=i},t.prototype.updateDelimView=function(){if(this.delimiterWrapper&&this.hideDelimWrapper(),this.chipCollectionWrapper&&(this.chipCollectionWrapper.style.display="none"),u(this.viewWrapper)||(this.viewWrapper.style.display="",this.viewWrapper.style.width="",this.viewWrapper.classList.remove(jD)),this.value&&this.value.length){var e="",i=void 0,n=void 0,s=1,a=void 0,o=void 0,l=0,h=void 0;this.updateWrapperText(this.viewWrapper,e);var c={noRecordsTemplate:"No records found",actionFailureTemplate:"Request failed",overflowCountTemplate:"+${count} more..",totalCountTemplate:"${count} selected"},d=new fi(this.getLocaleName(),c,this.locale);""===d.getConstant("actionFailureTemplate")&&(d=new fi("dropdowns",c,this.locale)),""===d.getConstant("noRecordsTemplate")&&(d=new fi("dropdowns",c,this.locale));var p=d.getConstant("overflowCountTemplate"),f=d.getConstant("totalCountTemplate"),m=this.createElement("span",{className:"e-remain"}),g=p.replace("${count}",this.value.length.toString());m.innerText=g,this.viewWrapper.appendChild(m),this.renderReactTemplates();var y=m.offsetWidth;if(me(m),this.showDropDownIcon&&(l=this.dropIcon.offsetWidth+parseInt(window.getComputedStyle(this.dropIcon).marginRight,10)),this.checkClearIconWidth(),!u(this.value))for(var C=0;!u(this.value[C]);C++){if(e+=0===C?"":this.delimiterChar+" ",e+=i=this.getOverflowVal(C),i=this.viewWrapper.innerHTML,this.updateWrapperText(this.viewWrapper,e),a=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10),h=this.componentWrapper.offsetWidth-parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft,10)-parseInt(window.getComputedStyle(this.componentWrapper).paddingRight,10),a+l+this.clearIconWidth>h){for(void 0!==n&&""!==n&&(i=n,C=s+1),this.updateWrapperText(this.viewWrapper,i),o=this.value.length-C,a=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10);a+y+l+this.clearIconWidth>h&&0!==a&&""!==this.viewWrapper.innerHTML;)this.viewWrapper.innerHTML=[].join(this.delimiterChar),o=this.value.length,a=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10);break}a+y+l+this.clearIconWidth<=h?(n=e,s=C):0===C&&(n="",s=-1)}if(o>0){var S=h-l-this.clearIconWidth;this.viewWrapper.appendChild(this.updateRemainTemplate(m,this.viewWrapper,o,p,f,S)),this.updateRemainWidth(this.viewWrapper,S),this.updateRemainingText(m,l,o,p,f)}}else u(this.viewWrapper)||(this.viewWrapper.innerHTML="",this.viewWrapper.style.display="none")},t.prototype.checkClearIconWidth=function(){this.showClearButton&&(this.clearIconWidth=this.overAllClear.offsetWidth)},t.prototype.updateRemainWidth=function(e,i){e.classList.contains(jD)&&i<e.offsetWidth+parseInt(window.getComputedStyle(e).paddingLeft,10)+parseInt(window.getComputedStyle(e).paddingLeft,10)&&(e.style.width=i+"px")},t.prototype.updateRemainTemplate=function(e,i,n,s,a,o){i.firstChild&&3===i.firstChild.nodeType&&""===i.firstChild.nodeValue&&i.removeChild(i.firstChild),e.innerHTML="";var l=s.replace("${count}",n.toString()),h=a.replace("${count}",n.toString());return e.innerText=i.firstChild&&3===i.firstChild.nodeType?l:h,i.firstChild&&3===i.firstChild.nodeType?i.classList.remove(jD):(i.classList.add(jD),this.updateRemainWidth(i,o)),e},t.prototype.updateRemainingText=function(e,i,n,s,a){var o=this.componentWrapper.offsetWidth-parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft,10)-parseInt(window.getComputedStyle(this.componentWrapper).paddingRight,10),l=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10);if(l+i>=o&&0!==l&&this.viewWrapper.firstChild&&3===this.viewWrapper.firstChild.nodeType){for(;l+i>o&&0!==l&&this.viewWrapper.firstChild&&3===this.viewWrapper.firstChild.nodeType;){var h=this.viewWrapper.firstChild.nodeValue.split(this.delimiterChar);h.pop(),this.viewWrapper.firstChild.nodeValue=h.join(this.delimiterChar),""===this.viewWrapper.firstChild.nodeValue&&this.viewWrapper.removeChild(this.viewWrapper.firstChild),n++,l=this.viewWrapper.offsetWidth}this.updateRemainTemplate(e,this.viewWrapper,n,s,a,o-i)}},t.prototype.getOverflowVal=function(e){var i;if(this.mainData&&this.mainData.length)if("CheckBox"===this.mode){var n=this.listData;this.listData=this.mainData,i=this.getTextByValue(this.value[e]),this.listData=n}else i=this.getTextByValue(this.value[e]);else i=this.value[e];return i},t.prototype.unWireEvent=function(){if(u(this.componentWrapper)||b.remove(this.componentWrapper,"mousedown",this.wrapperClick),b.remove(window,"resize",this.windowResize),!u(this.inputElement)){b.remove(this.inputElement,"focus",this.focusInHandler),b.remove(this.inputElement,"keydown",this.onKeyDown),"CheckBox"!==this.mode&&b.remove(this.inputElement,"input",this.onInput),b.remove(this.inputElement,"keyup",this.keyUp);var e=I(this.inputElement,"form");e&&b.remove(e,"reset",this.resetValueHandler),b.remove(this.inputElement,"blur",this.onBlurHandler)}u(this.componentWrapper)||(b.remove(this.componentWrapper,"mouseover",this.mouseIn),b.remove(this.componentWrapper,"mouseout",this.mouseOut)),u(this.overAllClear)||b.remove(this.overAllClear,"mousedown",this.clearAll),u(this.inputElement)||b.remove(this.inputElement,"paste",this.pasteHandler)},t.prototype.selectAllItem=function(e,i,n){var s;if(u(this.list)||(s=this.list.querySelectorAll(e?'li.e-list-item:not([aria-selected="true"]):not(.e-reorder-hide)':'li.e-list-item[aria-selected="true"]:not(.e-reorder-hide)')),this.value&&this.value.length&&i&&i.target&&I(i.target,".e-close-hooker")&&this.allowFiltering&&(s=this.mainList.querySelectorAll(e?'li.e-list-item:not([aria-selected="true"]):not(.e-reorder-hide)':'li.e-list-item[aria-selected="true"]:not(.e-reorder-hide)')),this.enableGroupCheckBox&&"CheckBox"===this.mode&&!u(this.fields.groupBy)){var a=i?this.groupTemplate?I(i.target,".e-list-group-item"):i.target:null;if((a=(a=i&&32===i.keyCode?n:a)&&a.classList.contains("e-frame")?a.parentElement.parentElement:a)&&a.classList.contains("e-list-group-item")){var o=a.nextElementSibling;if(u(o))return;for(;o.classList.contains("e-list-item");){if(e){if(!o.firstElementChild.lastElementChild.classList.contains("e-check")){var l=this.value&&this.value.length?this.value.length:0;o.classList.contains("e-active")&&(l-=1),l<this.maximumSelectionLength&&this.updateListSelection(o,i)}}else o.firstElementChild.lastElementChild.classList.contains("e-check")&&this.updateListSelection(o,i);if(null==(o=o.nextElementSibling))break}if(a.classList.contains("e-list-group-item")){var h=this.list.getElementsByClassName("e-item-focus")[0];h&&h.classList.remove("e-item-focus"),e?a.classList.add("e-active"):a.classList.remove("e-active"),a.classList.add("e-item-focus"),this.updateAriaActiveDescendant()}this.textboxValueUpdate(),this.checkPlaceholderSize(),!this.changeOnBlur&&i&&this.updateValueState(i,this.value,this.tempValues)}else this.updateValue(i,s,e)}else this.updateValue(i,s,e);this.addValidInputClass()},t.prototype.updateValue=function(e,i,n){var s=this,a=i.length,o={event:e,items:n?i:[],itemData:n?this.listData:[],isInteracted:!!e,isChecked:n,preventSelectEvent:!1};if(this.trigger("beforeSelectAll",o),i&&i.length){var h,l=0;if(h=this.enableGroupCheckBox?n?this.maximumSelectionLength-(this.value?this.value.length:0):i.length:n?this.maximumSelectionLength-(this.value?this.value.length:0):this.maximumSelectionLength,o.preventSelectEvent){for(var c=0;c<i.length&&c<h;c++){this.removeHover();var d=i[c].getAttribute("data-value"),p=this.getFormattedValue(d),f=this.mainList?this.mainList.querySelectorAll(n?'li.e-list-item:not([aria-selected="true"]):not(.e-reorder-hide)':'li.e-list-item[aria-selected="true"]:not(.e-reorder-hide)')[c]:null;n?(this.value=this.value?this.value:[],this.value.indexOf(p)<0&&this.setProperties({value:[].concat([],this.value,[p])},!0),this.removeFocus(),this.addListSelection(i[c],f),this.updateChipStatus(),this.checkMaxSelection()):this.removeAllItems(p,e,!1,i[c],f),this.enableGroupCheckBox&&this.findGroupStart(i[c])}n||(this.value&&this.value.length?this.value.length:0)<this.maximumSelectionLength&&M(this.list.querySelectorAll("li."+se_li+":not(.e-active)"),"e-disable"),this.trigger("selectedAll",{event:e,items:n?i:[],itemData:n?this.listData:[],isInteracted:!!e,isChecked:n})}else{for(;l<a&&l<=50&&l<h;)this.updateListSelection(i[l],e,a-l),this.enableGroupCheckBox&&this.findGroupStart(i[l]),l++;a>50&&setTimeout(function(){for(;l<a&&l<h;)s.updateListSelection(i[l],e,a-l),s.enableGroupCheckBox&&s.findGroupStart(i[l]),l++;s.updatedataValueItems(e),s.changeOnBlur||(s.updateValueState(e,s.value,s.tempValues),s.isSelectAll=s.isSelectAll?!s.isSelectAll:s.isSelectAll),s.updateHiddenElement()},0)}}this.updatedataValueItems(e),this.checkPlaceholderSize(),a<=50&&!o.preventSelectEvent&&(this.changeOnBlur||(this.updateValueState(e,this.value,this.tempValues),this.isSelectAll=this.isSelectAll?!this.isSelectAll:this.isSelectAll),this.updateHiddenElement())},t.prototype.updateHiddenElement=function(){var e=this,i="",n="",s="",a=[];"CheckBox"===this.mode&&(this.value.map(function(o,l){i+='<option selected value ="'+o+'">'+l+"</option>",s=e.listData?e.getTextByValue(o):o,n+=s+e.delimiterChar+" ",a.push(s)}),this.hiddenElement.innerHTML=i,this.updateWrapperText(this.delimiterWrapper,n),this.delimiterWrapper.setAttribute("id",vt("delim_val")),this.inputElement.setAttribute("aria-labelledby",this.delimiterWrapper.id),this.setProperties({text:a.toString()},!0),this.refreshInputHight(),this.refreshPlaceHolder())},t.prototype.updatedataValueItems=function(e){this.deselectHeader(),this.textboxValueUpdate(e)},t.prototype.textboxValueUpdate=function(e){var i=e&&e.target&&(I(e.target,".e-selectall-parent")||I(e.target,".e-close-hooker"));"Box"===this.mode||this.isPopupOpen()||"CheckBox"===this.mode&&(this.isSelectAll||i)?this.searchWrapper.classList.remove(VD):this.updateDelimView(),"CheckBox"===this.mode?(this.updateDelimView(),i||this.isSelectAll||this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar,e),this.refreshPlaceHolder()},t.prototype.setZIndex=function(){this.popupObj&&this.popupObj.setProperties({zIndex:this.zIndex})},t.prototype.updateDataSource=function(e){u(this.list)?this.renderPopup():this.resetList(this.dataSource),this.value&&this.value.length&&(this.setProperties({value:this.value}),this.refreshSelection())},t.prototype.onLoadSelect=function(){this.setDynValue=!0,this.renderPopup()},t.prototype.selectAllItems=function(e,i){var n=this;u(this.list)?(this.selectAllAction=function(){"CheckBox"===n.mode&&n.showSelectAll&&n.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===n.mode,value:e?"check":"uncheck"}),n.selectAllItem(e,i),n.selectAllAction=null},r.prototype.render.call(this)):(this.selectAllAction=null,"CheckBox"===this.mode&&this.showSelectAll&&this.notify("checkSelectAll",{value:e?"check":"uncheck",enable:"CheckBox"===this.mode,module:"CheckBoxSelection"}),this.selectAllItem(e,i))},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.onPropertyChanged=function(e,i){(e.dataSource&&!u(Object.keys(e.dataSource))||e.query&&!u(Object.keys(e.query)))&&(this.resetFilteredData&&(this.resetMainList=this.resetMainList?this.resetMainList:this.mainList,this.resetFilteredData=!1),this.mainList=null,this.mainData=null,this.isFirstClick=!1,this.isDynamicDataChange=!0),"multiselect"===this.getModuleName()&&(this.filterAction=!1,this.setUpdateInitial(["fields","query","dataSource"],e));for(var n=0,s=Object.keys(e);n<s.length;n++){var a=s[n];switch(a){case"query":case"dataSource":"CheckBox"===this.mode&&this.showSelectAll&&(u(this.popupObj)||(this.popupObj.destroy(),this.popupObj=null),this.renderPopup());break;case"htmlAttributes":this.updateHTMLAttribute();break;case"showClearButton":this.updateClearButton(e.showClearButton);break;case"text":this.updateVal(this.value,this.value,"text");break;case"value":this.updateVal(this.value,i.value,"value"),this.addValidInputClass(),!this.closePopupOnSelect&&this.isPopupOpen()&&this.refreshPopup(),this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange;break;case"width":this.setWidth(e.width),this.popupObj.setProperties({width:this.calcPopupWidth()});break;case"placeholder":this.refreshPlaceHolder();break;case"filterBarPlaceholder":this.allowFiltering&&this.notify("filterBarPlaceholder",{filterBarPlaceholder:e.filterBarPlaceholder});break;case"delimiterChar":"Box"!==this.mode&&this.updateDelimView(),this.updateData(e.delimiterChar);break;case"cssClass":this.updateOldPropCssClass(i.cssClass),this.updateCssClass(),this.calculateWidth();break;case"enableRtl":this.enableRTL(e.enableRtl),r.prototype.onPropertyChanged.call(this,e,i);break;case"readonly":this.updateReadonly(e.readonly),this.hidePopup();break;case"enabled":this.hidePopup(),this.enable(e.enabled);break;case"showSelectAll":this.popupObj&&(this.popupObj.destroy(),this.popupObj=null),this.renderPopup();break;case"showDropDownIcon":this.dropDownIcon();break;case"floatLabelType":this.setFloatLabelType(),this.addValidInputClass(),X.createSpanElement(this.overAllWrapper,this.createElement),this.calculateWidth(),!u(this.overAllWrapper)&&!u(this.overAllWrapper.getElementsByClassName("e-ddl-icon")[0]&&this.overAllWrapper.getElementsByClassName("e-float-text-content")[0]&&"Never"!==this.floatLabelType)&&this.overAllWrapper.getElementsByClassName("e-float-text-content")[0].classList.add("e-icon");break;case"enableSelectionOrder":break;case"selectAllText":this.notify("selectAllText",!1);break;case"popupHeight":if(this.popupObj){var o=parseInt(this.popupHeight,10);"auto"!==this.popupHeight?(this.list.style.maxHeight=$(o),this.popupWrapper.style.maxHeight=$(this.popupHeight)):this.list.style.maxHeight=$(this.popupHeight)}break;case"headerTemplate":case"footerTemplate":this.reInitializePoup();break;case"allowFiltering":"CheckBox"===this.mode&&this.popupObj&&this.reInitializePoup(),this.updateSelectElementData(this.allowFiltering);break;case"fields":u(this.fields.groupBy)&&this.removeScrollEvent();break;default:var l=this.getPropObject(a,e,i);r.prototype.onPropertyChanged.call(this,l.newProperty,l.oldProperty)}}},t.prototype.reInitializePoup=function(){this.popupObj&&(this.popupObj.destroy(),this.popupObj=null),this.renderPopup()},t.prototype.presentItemValue=function(e){for(var i=[],n=0;n<this.value.length;n++)this.findListElement(this.allowFiltering&&!u(this.mainList)?this.mainList:e,"li","data-value",this.value[n])||i.push(this.value[n]);return i},t.prototype.addNonPresentItems=function(e,i,n,s){var a=this;this.dataSource.executeQuery(this.getForQuery(e)).then(function(o){o.result.length>0&&a.addItem(o.result,n.length),a.updateActionList(i,n,s)})},t.prototype.updateVal=function(e,i,n){if(this.list)if(!(this.dataSource instanceof ye)||this.listData&&this.mainList&&this.mainData){var s=[];if(!u(this.value)&&!this.allowCustomValue&&(s=this.presentItemValue(this.ulElement)),"value"==n&&s.length>0&&this.dataSource instanceof ye&&!u(this.value)&&null!=this.listData)this.mainData=null,this.setDynValue=!0,this.addNonPresentItems(s,this.ulElement,this.listData);else{if("text"===n&&(this.initialTextUpdate(),e=this.value),(u(this.value)||0===this.value.length)&&(this.tempValues=i),this.allowCustomValue&&("Default"===this.mode||"Box"===this.mode)&&this.isReact&&this.inputFocus&&this.isPopupOpen()&&this.mainData!==this.listData){var a=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(a,this.mainData)}this.initialValueUpdate(),"Box"!==this.mode&&!this.inputFocus&&this.updateDelimView(),this.inputFocus||this.refreshInputHight(),this.refreshPlaceHolder(),"CheckBox"!==this.mode&&this.changeOnBlur&&this.updateValueState(null,e,i),this.checkPlaceholderSize()}}else this.onLoadSelect();else this.onLoadSelect();this.changeOnBlur||this.updateValueState(null,e,i)},t.prototype.addItem=function(e,i){r.prototype.addItem.call(this,e,i)},t.prototype.hidePopup=function(e){var i=this;this.isPopupOpen()&&this.trigger("close",{popup:this.popupObj,cancel:!1,animation:{name:"FadeOut",duration:100,delay:100},event:e||null},function(o){o.cancel||(i.fields.groupBy&&"CheckBox"!==i.mode&&i.fixedHeaderElement&&(me(i.fixedHeaderElement),i.fixedHeaderElement=null),i.beforePopupOpen=!1,i.overAllWrapper.classList.remove(wY),i.popupObj.hide(new vi(o.animation)),re(i.inputElement,{"aria-expanded":"false"}),i.inputElement.removeAttribute("aria-owns"),i.inputElement.removeAttribute("aria-activedescendant"),i.allowFiltering&&i.notify("inputFocus",{module:"CheckBoxSelection",enable:"CheckBox"===i.mode,value:"clear"}),i.popupObj.hide(),M([document.body,i.popupObj.element],"e-popup-full-page"),b.remove(i.list,"keydown",i.onKeyDown),"CheckBox"===i.mode&&i.showSelectAll&&b.remove(i.popupObj.element,"click",i.clickHandler))})},t.prototype.showPopup=function(e){var i=this;this.enabled&&this.trigger("beforeOpen",{cancel:!1},function(s){if(!s.cancel){if(!i.ulElement)return i.beforePopupOpen=!0,r.prototype.render.call(i,e),void("CheckBox"===i.mode&&O.isDevice&&i.allowFiltering&&i.notify("popupFullScreen",{module:"CheckBoxSelection",enable:"CheckBox"===i.mode}));"CheckBox"===i.mode&&O.isDevice&&i.allowFiltering&&i.notify("popupFullScreen",{module:"CheckBoxSelection",enable:"CheckBox"===i.mode});var a=i.ulElement.querySelectorAll("li.e-list-item").length,o=i.ulElement.querySelectorAll("li."+se_li+"."+nn).length;if(a>0&&a===o&&o===i.mainData.length&&(""===i.targetElement()||!i.allowCustomValue))return void(i.beforePopupOpen=!1);i.onPopupShown(e)}})},t.prototype.selectAll=function(e){this.isSelectAll=!0,this.selectAllItems(e)},t.prototype.getModuleName=function(){return"multiselect"},t.prototype.clear=function(){var e=this;this.selectAll(!1),this.value&&this.value.length?setTimeout(function(){e.setProperties({value:null},!0)},0):this.setProperties({value:null},!0)},t.prototype.render=function(){u(this.value)||(this.value=this.value.slice()),this.setDynValue=this.initStatus=!1,this.isSelectAll=!1,this.selectAllEventEle=[],this.searchWrapper=this.createElement("span",{className:"e-searcher "+("Box"===this.mode?"e-multiselect-box":"")}),this.viewWrapper=this.createElement("span",{className:"e-delim-view "+bY,styles:"display:none;"}),this.overAllClear=this.createElement("span",{className:yY,styles:"display:none;"}),this.componentWrapper=this.createElement("div",{className:"e-multi-select-wrapper"}),this.overAllWrapper=this.createElement("div",{className:"e-multiselect e-input-group e-control-wrapper"}),"CheckBox"===this.mode&&D([this.overAllWrapper],"e-checkbox"),O.isDevice&&this.componentWrapper.classList.add("e-mob-wrapper"),this.setWidth(this.width),this.overAllWrapper.appendChild(this.componentWrapper),this.popupWrapper=this.createElement("div",{id:this.element.id+"_popup",className:"e-ddl e-popup e-multi-select-list-wrapper"}),"Delimiter"===this.mode||"CheckBox"===this.mode?(this.delimiterWrapper=this.createElement("span",{className:bY,styles:"display:none"}),this.componentWrapper.appendChild(this.delimiterWrapper)):(this.chipCollectionWrapper=this.createElement("span",{className:"e-chips-collection",styles:"display:none"}),"Default"===this.mode?this.chipCollectionWrapper.setAttribute("id",vt("chip_default")):"Box"===this.mode&&this.chipCollectionWrapper.setAttribute("id",vt("chip_box")),this.componentWrapper.appendChild(this.chipCollectionWrapper)),"Box"!==this.mode&&this.componentWrapper.appendChild(this.viewWrapper),this.componentWrapper.appendChild(this.searchWrapper),this.showClearButton&&!O.isDevice?this.componentWrapper.appendChild(this.overAllClear):this.componentWrapper.classList.add(TN),this.dropDownIcon(),this.inputElement=this.createElement("input",{className:"e-dropdownbase",attrs:{spellcheck:"false",type:"text",autocomplete:"off",tabindex:"0",role:"combobox"}}),("Default"===this.mode||"Box"===this.mode)&&this.inputElement.setAttribute("aria-labelledby",this.chipCollectionWrapper.id),this.element.tagName!==this.getNgDirective()&&(this.element.style.display="none"),this.element.tagName===this.getNgDirective()?(this.element.appendChild(this.overAllWrapper),this.searchWrapper.appendChild(this.inputElement)):(this.element.parentElement.insertBefore(this.overAllWrapper,this.element),this.searchWrapper.appendChild(this.inputElement),this.searchWrapper.appendChild(this.element),this.element.removeAttribute("tabindex")),"Never"!==this.floatLabelType?fY(this.overAllWrapper,this.searchWrapper,this.element,this.inputElement,this.value,this.floatLabelType,this.placeholder):"Never"===this.floatLabelType&&this.refreshPlaceHolder(),this.addValidInputClass(),this.element.style.opacity="";var e=this.element.getAttribute("id")?this.element.getAttribute("id"):vt("ej2_dropdownlist");this.element.id=e,this.hiddenElement=this.createElement("select",{attrs:{"aria-hidden":"true",class:"e-multi-hidden",tabindex:"-1",multiple:""}}),this.componentWrapper.appendChild(this.hiddenElement),this.validationAttribute(this.element,this.hiddenElement),"CheckBox"!==this.mode&&this.hideOverAllClear(),!u(I(this.element,"fieldset"))&&I(this.element,"fieldset").disabled&&(this.enabled=!1),this.wireEvent(),this.enable(this.enabled),this.enableRTL(this.enableRtl),this.checkInitialValue(),this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),X.createSpanElement(this.overAllWrapper,this.createElement),this.calculateWidth(),!u(this.overAllWrapper)&&!u(this.overAllWrapper.getElementsByClassName("e-ddl-icon")[0]&&this.overAllWrapper.getElementsByClassName("e-float-text-content")[0]&&"Never"!==this.floatLabelType)&&this.overAllWrapper.getElementsByClassName("e-float-text-content")[0].classList.add("e-icon"),this.renderComplete()},t.prototype.checkInitialValue=function(){var e=this,i=this.dataSource instanceof Array?this.dataSource.length>0:!u(this.dataSource);if((!this.value||!this.value.length)&&u(this.text)&&!i&&"SELECT"===this.element.tagName&&this.element.options.length>0){for(var n=this.element.options,s=[],a="",o=0,l=n.length;o<l;o++){var h=n[o];u(h.getAttribute("selected"))||(h.getAttribute("value")?s.push(h.getAttribute("value")):a+=h.text+this.delimiterChar)}s.length>0?this.setProperties({value:s},!0):""!==a&&this.setProperties({text:a},!0),(s.length>0||""!==a)&&(this.refreshInputHight(),this.refreshPlaceHolder())}(this.value&&this.value.length||!u(this.text))&&(this.list||r.prototype.render.call(this)),!u(this.text)&&(u(this.value)||0===this.value.length)&&this.initialTextUpdate(),this.value&&this.value.length?(this.dataSource instanceof ye?this.setInitialValue=function(){e.initStatus=!1,e.initialValueUpdate(),e.initialUpdate(),e.setInitialValue=null,e.initStatus=!0}:(this.initialValueUpdate(),this.initialUpdate()),this.updateTempValue()):this.initialUpdate(),this.initStatus=!0,this.checkAutoFocus(),u(this.text)||this.element.setAttribute("data-initial-value",this.text)},t.prototype.checkAutoFocus=function(){this.element.hasAttribute("autofocus")&&this.inputElement.focus()},t.prototype.setFloatLabelType=function(){(function(r,t,e,i,n,s,a){var h,o=t.querySelector("."+ey),l=t.querySelector("."+wN);u(o)?mY(n,i,h=null!==a?a:""):(h=o.innerText,Q(e.querySelector("."+ey)),mY(n,i,h),u(l)||Q(e.querySelector("."+wN))),r.classList.remove("e-float-input")})(this.overAllWrapper,this.componentWrapper,this.searchWrapper,this.inputElement,this.value,0,this.placeholder),"Never"!==this.floatLabelType&&fY(this.overAllWrapper,this.searchWrapper,this.element,this.inputElement,this.value,this.floatLabelType,this.placeholder)},t.prototype.addValidInputClass=function(){u(this.overAllWrapper)||(!u(this.value)&&this.value.length||"Always"===this.floatLabelType?D([this.overAllWrapper],"e-valid-input"):M([this.overAllWrapper],"e-valid-input"))},t.prototype.dropDownIcon=function(){this.showDropDownIcon?(this.dropIcon=this.createElement("span",{className:SY}),this.componentWrapper.appendChild(this.dropIcon),D([this.componentWrapper],["e-down-icon"])):u(this.dropIcon)||(this.dropIcon.parentElement.removeChild(this.dropIcon),M([this.componentWrapper],["e-down-icon"]))},t.prototype.initialUpdate=function(){"Box"!==this.mode&&!(this.setDynValue&&"Default"===this.mode&&this.inputFocus)&&this.updateDelimView(),this.updateCssClass(),this.updateHTMLAttribute(),this.updateReadonly(this.readonly),this.refreshInputHight(),this.checkPlaceholderSize()},t.prototype.destroy=function(){this.isReact&&this.clearTemplate(),this.popupObj&&this.popupObj.hide(),this.notify("destroy",{}),this.unwireListEvents(),this.unWireEvent(),this.list=null,this.popupObj=null,this.mainList=null,this.mainData=null,this.filterParent=null,this.ulElement=null,this.mainListCollection=null,r.prototype.destroy.call(this);var e=["readonly","aria-disabled","placeholder"],i=e.length;if(!u(this.inputElement))for(;i>0;)this.inputElement.removeAttribute(e[i-1]),i--;u(this.element)||(this.element.removeAttribute("data-initial-value"),this.element.style.display="block"),this.overAllWrapper&&this.overAllWrapper.parentElement&&(this.overAllWrapper.parentElement.tagName===this.getNgDirective()||this.overAllWrapper.parentElement.insertBefore(this.element,this.overAllWrapper),me(this.overAllWrapper)),this.componentWrapper=null,this.overAllClear=null,this.overAllWrapper=null,this.hiddenElement=null,this.searchWrapper=null,this.viewWrapper=null,this.chipCollectionWrapper=null,this.targetInputElement=null,this.popupWrapper=null,this.inputElement=null,this.delimiterWrapper=null,this.popupObj=null,this.popupWrapper=null,this.liCollections=null,this.header=null,this.mainList=null,this.mainListCollection=null,this.footer=null,this.selectAllEventEle=null},it([at({text:null,value:null,iconCss:null,groupBy:null},ND)],t.prototype,"fields",void 0),it([v(!1)],t.prototype,"enablePersistence",void 0),it([v(null)],t.prototype,"groupTemplate",void 0),it([v("No records found")],t.prototype,"noRecordsTemplate",void 0),it([v("Request failed")],t.prototype,"actionFailureTemplate",void 0),it([v("None")],t.prototype,"sortOrder",void 0),it([v(!0)],t.prototype,"enabled",void 0),it([v(!1)],t.prototype,"enableHtmlSanitizer",void 0),it([v([])],t.prototype,"dataSource",void 0),it([v(null)],t.prototype,"query",void 0),it([v("StartsWith")],t.prototype,"filterType",void 0),it([v(1e3)],t.prototype,"zIndex",void 0),it([v(!1)],t.prototype,"ignoreAccent",void 0),it([v()],t.prototype,"locale",void 0),it([v(!1)],t.prototype,"enableGroupCheckBox",void 0),it([v(null)],t.prototype,"cssClass",void 0),it([v("100%")],t.prototype,"width",void 0),it([v("300px")],t.prototype,"popupHeight",void 0),it([v("100%")],t.prototype,"popupWidth",void 0),it([v(null)],t.prototype,"placeholder",void 0),it([v(null)],t.prototype,"filterBarPlaceholder",void 0),it([v({})],t.prototype,"htmlAttributes",void 0),it([v(null)],t.prototype,"valueTemplate",void 0),it([v(null)],t.prototype,"headerTemplate",void 0),it([v(null)],t.prototype,"footerTemplate",void 0),it([v(null)],t.prototype,"itemTemplate",void 0),it([v(null)],t.prototype,"allowFiltering",void 0),it([v(!0)],t.prototype,"changeOnBlur",void 0),it([v(!1)],t.prototype,"allowCustomValue",void 0),it([v(!0)],t.prototype,"showClearButton",void 0),it([v(1e3)],t.prototype,"maximumSelectionLength",void 0),it([v(!1)],t.prototype,"readonly",void 0),it([v(null)],t.prototype,"text",void 0),it([v(null)],t.prototype,"value",void 0),it([v(!0)],t.prototype,"hideSelectedItem",void 0),it([v(!0)],t.prototype,"closePopupOnSelect",void 0),it([v("Default")],t.prototype,"mode",void 0),it([v(",")],t.prototype,"delimiterChar",void 0),it([v(!0)],t.prototype,"ignoreCase",void 0),it([v(!1)],t.prototype,"showDropDownIcon",void 0),it([v("Never")],t.prototype,"floatLabelType",void 0),it([v(!1)],t.prototype,"showSelectAll",void 0),it([v("Select All")],t.prototype,"selectAllText",void 0),it([v("Unselect All")],t.prototype,"unSelectAllText",void 0),it([v(!0)],t.prototype,"enableSelectionOrder",void 0),it([v(!0)],t.prototype,"openOnClick",void 0),it([v(!1)],t.prototype,"addTagOnBlur",void 0),it([x()],t.prototype,"change",void 0),it([x()],t.prototype,"removing",void 0),it([x()],t.prototype,"removed",void 0),it([x()],t.prototype,"beforeSelectAll",void 0),it([x()],t.prototype,"selectedAll",void 0),it([x()],t.prototype,"beforeOpen",void 0),it([x()],t.prototype,"open",void 0),it([x()],t.prototype,"close",void 0),it([x()],t.prototype,"blur",void 0),it([x()],t.prototype,"focus",void 0),it([x()],t.prototype,"chipSelection",void 0),it([x()],t.prototype,"filtering",void 0),it([x()],t.prototype,"tagging",void 0),it([x()],t.prototype,"customValueSelection",void 0),it([et],t)}(_D);new Int16Array(286),new Uint8Array(286),new Int16Array(30),new Uint8Array(30);var Al="cellClick",ry="select",Fr="actionBegin",Nh="actionComplete",zY="actionFailure",NN="navigating",br="renderCell",Yf="eventClick",Qf="eventRendered",qD="popupOpen",_N="popupClose",Gf="inlineClick",UY="cellSelect",LN="virtualScrollStart",WY="virtualScrollStop",wa="data-ready",Wc="events-loaded",Vr="content-ready",ay="virtual-scroll",Ma="scroll-ui-update",PN="ui-update",_h="document-click",FN="cell-mouse-down",Hi=864e5,Os=6e4;function qc(r,t){var e,i=N("div",{className:t}).cloneNode();return i.style.visibility="hidden",i.style.position="absolute",r.appendChild(i),e=i.getBoundingClientRect().height,me(i),e}function GY(r){var t=getComputedStyle(r);return window.WebKitCSSMatrix?new WebKitCSSMatrix(t.webkitTransform).m41:0}function jr(r,t){var e=new Date(r.getTime());return t=(t-e.getDay()-7)%7,new Date(e.setDate(e.getDate()+t))}function YD(r,t){var e=jr(r,t),i=new Date(e.getFullYear(),e.getMonth(),e.getDate()+6);return new Date(i.getTime())}function $f(r){return new Date(r.getFullYear(),r.getMonth(),1)}function md(r){return new Date(r.getFullYear(),r.getMonth()+1,0)}function VN(r){var t=new Date(r.getFullYear(),0,1).valueOf(),e=new Date(r.getFullYear(),r.getMonth(),r.getDate()).valueOf();return Math.ceil((e-t+Hi)/Hi/7)}function QD(r,t){var e=r.getTimezoneOffset(),i=new Date(r.getTime()+t),n=i.getTimezoneOffset()-e;return r.setTime(i.getTime()+n*Os),r}function ie(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate())}function Lh(r){var t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0).getTimezoneOffset(),i=r.getTimezoneOffset()-t;return r.getTime()-new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0).getTime()-60*i*1e3}function Ee(r,t){return r=new Date(""+r),new Date(r.setDate(r.getDate()+t))}function Qo(r,t){var e=(r=new Date(""+r)).getDate();return r.setDate(1),r.setMonth(r.getMonth()+t),r.setDate(Math.min(e,function(r){return md(r).getDate()}(r))),r}function ra(r,t,e){var i=new Date(r.getTime());i.setHours(t.getHours()),i.setMinutes(t.getMinutes()),i.setSeconds(t.getSeconds());var n=new Date(r.getTime());return 0===e.getHours()?n=Ee(n,1):(n.setHours(e.getHours()),n.setMinutes(e.getMinutes()),n.setSeconds(e.getSeconds())),{startHour:i,endHour:n}}function jN(r,t){var e=ie(new Date(r)),i=ie(new Date(t));return Math.round((i.getTime()-e.getTime())/Hi)}function KY(r){return-1!==r.indexOf("Date")?new Date(parseInt(r.match(/\d+/g).toString(),10)):-1!==r.indexOf("T")?new Date(r):new Date(r.replace(/-/g,"/"))}var GD=null,oy=null;function $D(){if(null!==GD)return GD;null===oy&&(oy=window.devicePixelRatio||window.screen.availWidth/document.documentElement.clientWidth);var t,r=N("div");r.style.cssText="width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;",document.body.appendChild(r);var e=devicePixelRatio?"1.10"===devicePixelRatio.toFixed(2)||devicePixelRatio<=1?Math.ceil(devicePixelRatio%1):Math.floor(devicePixelRatio%1):0;return t=r.offsetWidth-r.clientWidth-e|0,document.body.removeChild(r),GD=t}function ly(r,t,e,i,n){for(var s=0,a=r.length;s<a;s++)if(r[parseInt(s.toString(),10)][""+t]===e){if(!i)return s;var o=n.slice(-2)[0].field;if((i[""+o]instanceof Array?i[""+o]:[i[""+o]]).join(",").includes(r[parseInt(s.toString(),10)][n.slice(-1)[0].groupIDField]))return s}return-1}function BN(r){var t=getComputedStyle(r);return r.offsetHeight+(parseInt(t.marginTop,10)||0)+(parseInt(t.marginBottom,10)||0)}function Go(r){for(var e=0,i=[].slice.call(r.children);e<i.length;e++)r.removeChild(i[e])}function jbe(r){var t=new Date(r.getFullYear(),0,1),e=new Date(r.getFullYear(),6,1);return r.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())}function pn(r){var t=r.getFullYear(),e=r.getMonth(),i=r.getDate(),n=r.getHours(),s=r.getMinutes(),a=r.getSeconds(),o=r.getMilliseconds();return Date.UTC(t,e,i,n,s,a,o)}function Di(r,t){if("multiple"===t)r=r.split(" ").map(function(i){return i.charAt(0).toLocaleUpperCase()+i.substring(1)}).join(" ");else if("single"===t){if(r[0]>="0"&&r[0]<="9"){var e=r.match(/[a-zA-Z]/);r=u(e)?r:r.slice(0,e.index)+r[e.index].toLocaleUpperCase()+r.slice(e.index+1)}r=r[0].toLocaleUpperCase()+r.slice(1)}return r}var KD="e-schedule",HN="e-rtl",Kf="e-device",zN="e-multi-drag",sn="e-icons",Yc="e-enable",gi="e-disable",so="e-table-container",Si="e-all-day-cells",xl="e-all-day-row",_i="e-content-table",Te="e-work-cells",Xf="e-work-hours",Qn="e-popup-open",Er="e-date-header-wrap",hy="e-date-header-container",Vn="e-header-cells",wi="e-other-month",XD="e-current-day",UN="e-current-date",WN="e-current-panel",qN="e-previous-panel",ZY="e-next-panel",uy="e-translate",Qc="e-event-table",Gc="e-resource-group-cells",QN="e-resource-text",Ta="e-resource-column-wrap",ZD="e-resource-column-table",e6="e-child-node",$o="e-parent-node",Zf="e-resource-expand",Rh="e-resource-collapse",Jf="e-resource-tree-icon",Ia="e-resource-cells",GN="e-time-cells-wrap",t6="e-time-cells",em="e-time-slots",i6="e-alternate-cells",$N="e-current-time",tm="e-current-timeline",KN="e-hide-childs",XN="e-scroll-container",s6="e-timeline-wrapper",Fi="e-appointment-wrapper",dy="e-schedule-resource-toolbar-container",r6="e-schedule-toolbar",JN="e-schedule-resource-toolbar",im="e-selected-cell",e1="e-week-number-wrapper",JD="e-week-number",eS="e-appointment-wrap",py="e-wrapper-container",Aa="e-appointment-container",Ze="e-appointment",nm="e-block-appointment",tS="e-block-indicator",sm="e-appointment-border",iS="e-appointment-details",nS="e-subject-wrap",a6="e-resource-name",Ol="e-time",sS="e-table-wrap",rS="e-outer-table",ut="e-content-wrap",fy="e-virtual-track",kl="e-agenda-cells",o6="e-current-day",aS="e-active-appointment-agenda",l6="e-day-date-header",h6="e-date-column",gd="e-navigate",rm="e-date-header",c6="e-day-border",t1="e-date-time",n1="e-no-event",s1="e-appointment-indicator",oS="e-indicator",u6="e-left-icon",d6="e-right-icon",Nl="e-event-action",lS="e-new-event",cS="e-left-handler",uS="e-right-handler",gy="e-recurrence-icon",vy="e-recurrence-edit-icon",h1="e-header-row",ro="e-all-day-appointment-wrapper",ir="e-all-day-appointment",f6="e-appointment-hide",yy="e-row-count-wrapper",by="e-all-day-appointment-section",dS="e-appointment-expand",m6="e-appointment-collapse",Dr="e-more-indicator",c1="e-cell-popup",u1="e-event-popup",d1="e-popup-header",g6="e-header-icon-wrapper",p1="e-popup-footer",v6="e-date-time-details",pS="e-event-details",fS="e-event-create",am="e-event-edit",Ph="e-event-delete",nr="e-text-ellipsis",Fh="e-more-popup-wrapper",vd="e-more-event-popup",f1="e-more-event-date-header",y6="e-header-day",om="e-header-date",m1="e-more-event-close",mS="e-more-event-content",g1="e-more-appointment-wrapper",v1="e-quick-dialog-occurrence-event",y1="e-quick-dialog-series-event",b6="e-quick-dialog-following-events",C6="e-following-events-dialog",b1="e-quick-dialog-delete",Cy="e-quick-dialog-cancel",Kc="e-quick-alertok",_l="e-quick-alertcancel",E6="e-quick-alertfollowing",D6="e-quick-dialog-alert-btn",Vh="e-schedule-dialog",Xc="e-schedule-form",Ey="e-all-day",Zc="e-time-zone",Dy="e-repeat",Cn="e-subject",Jc="e-location",S6="e-location-details",jh="e-start",eu="e-end",yd="e-description",w6="e-description-details",Sy="e-time-zone-row",wy="e-start-time-zone",My="e-end-time-zone",M6="e-save-icon",T6="e-event-cancel",gS="e-event-save",I6="e-title-text",A6="e-icon-disable",bd="e-edit",vS="e-edit-icon",Ty="e-delete",x6="e-delete-icon",Cd="e-close",yS="e-close-icon",O6="e-schedule-error",C1="e-animate",sr="e-hidden",Bh="e-disable-dates",Hh="e-quick-popup-wrapper",k6="e-resource-menu",N6="e-icon-menu",_6="e-resource-level-title",L6="e-resource-tree-popup-overlay",Iy="e-resource-tree-popup",R6="e-resource",P6="e-resource-icon",E1="e-resource-details",F6="e-date-time-icon",D1="e-virtual-scroll",V6="e-icon-disable",S1="e-auto-height",j6="e-ignore-whitespace",Ay="e-read-only",Br="e-inline-subject",Oy="e-inline-appointment",B6="e-scroll-hidden",ky="e-all-day-scroll",bS="e-all-day-auto",w1=function(){function r(t){this.parent=t,this.l10n=this.parent.localeObj,this.renderHeader(),this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.on(_h,this.closeHeaderPopup,this)},r.prototype.removeEventListener=function(){this.parent.off(_h,this.closeHeaderPopup)},r.prototype.closeHeaderPopup=function(t){var e=I(t.event.target,".e-date-range,.e-header-popup,.e-day,.e-selected"),i=I(t.event.target,".e-hor-nav,.e-toolbar-pop"),n=this.parent.element.querySelector("."+ut);if(this.parent.isAdaptive)if(u(i)||!i.classList.contains("e-toolbar-pop")&&!i.classList.contains("e-hor-nav")||i.classList.contains("e-hor-nav")&&this.element.querySelector(".e-toolbar-pop").classList.contains(Qn)){M([n],B6);var s=this.element.querySelector(".e-toolbar-pop");if(!u(s)){var a=s.ej2_instances[0];a&&(u(i)||!i.classList.contains("e-hor-nav")||!s.classList.contains(Qn))&&a.hide()}}else D([n],B6);!u(e)||this.hideHeaderPopup()},r.prototype.hideHeaderPopup=function(){this.headerPopup&&this.headerPopup.hide()},r.prototype.renderHeader=function(){this.element=N("div",{className:"e-schedule-toolbar-container"});var t=N("div",{className:r6});this.element.appendChild(t),this.parent.element.insertBefore(this.element,this.parent.element.firstElementChild),this.renderToolbar()},r.prototype.renderToolbar=function(){var t=this,e=this.getItems();this.parent.trigger(Fr,{requestType:"toolbarItemRendering",items:e},function(i){t.toolbarObj=new ZW({items:i.items,overflowMode:"Popup",clicked:t.toolbarClickHandler.bind(t),enableRtl:t.parent.enableRtl,enableHtmlSanitizer:t.parent.enableHtmlSanitizer,locale:t.parent.locale}),t.toolbarObj.appendTo(t.parent.element.querySelector("."+r6));var n=t.toolbarObj.element.querySelector(".e-prev");n&&n.firstElementChild.setAttribute("title",t.l10n.getConstant("previous"));var s=t.toolbarObj.element.querySelector(".e-next");s&&s.firstElementChild.setAttribute("title",t.l10n.getConstant("next")),t.updateAddIcon(),t.updateActiveView(),t.parent.trigger(Nh,{requestType:"toolBarItemRendered",items:t.toolbarObj.items})})},r.prototype.updateItems=function(){var t=this;if(this.toolbarObj){var e=this.getItems();this.parent.trigger(Fr,{requestType:"toolbarItemRendering",items:e},function(i){t.toolbarObj.items=i.items,t.toolbarObj.dataBind(),t.parent.trigger(Nh,{requestType:"toolBarItemRendered",items:t.toolbarObj.items})})}},r.prototype.getPopUpRelativeElement=function(){return this.parent.isAdaptive?this.toolbarObj.element:this.element.querySelector(".e-date-range")},r.prototype.setDayOfWeek=function(t){this.headerCalendar&&(this.headerCalendar.firstDayOfWeek=t,this.headerCalendar.dataBind())},r.prototype.setCalendarDate=function(t){this.headerCalendar&&(this.headerCalendar.value=t,this.headerCalendar.dataBind())},r.prototype.setCalendarMinMaxDate=function(){this.headerCalendar&&(this.headerCalendar.min=this.parent.minDate,this.headerCalendar.max=this.parent.maxDate,this.headerCalendar.dataBind())},r.prototype.getCalendarView=function(){return["Month","MonthAgenda","TimelineMonth"].indexOf(this.parent.currentView)>-1?"Year":["Year","TimelineYear"].indexOf(this.parent.currentView)>-1?"Decade":"Month"},r.prototype.setCalendarView=function(){if(this.headerCalendar){var t=this.getCalendarView();this.headerCalendar.depth=t,this.headerCalendar.start=t,this.headerCalendar.refresh()}},r.prototype.updateActiveView=function(){var t=[].slice.call(this.toolbarObj.element.querySelectorAll(".e-views"));M(t,["e-active-view"]),t.length>0&&t[this.parent.viewIndex]&&D([t[this.parent.viewIndex]],["e-active-view"])},r.prototype.updateDateRange=function(t){var e=this.toolbarObj.element.querySelector(".e-date-range");if(e){var i=e.querySelector(".e-tbar-btn-text");if(this.parent.activeViewOptions.dateRangeTemplate){i.textContent="";var n={startDate:this.parent.activeView.getStartDate(),endDate:this.parent.activeView.getEndDate(),currentView:this.parent.currentView},a=this.parent.element.id+"_"+this.parent.activeViewOptions.dateRangeTemplateName+"dateRangeTemplate";ce([].slice.call(this.parent.getDateRangeTemplate()(n,this.parent,"dateRangeTemplate",a,!1)),i)}else{var l=this.parent.activeView.getDateRangeText(t);e.firstElementChild.setAttribute("aria-label",l),i.textContent=l}this.refresh()}},r.prototype.refresh=function(){this.toolbarObj&&this.toolbarObj.refreshOverflow()},r.prototype.updateAddIcon=function(){var t=this.toolbarObj.element.querySelector(".e-add");t&&(this.parent.eventSettings.allowAdding?M([t],sr):D([t],sr))},r.prototype.getDateRangeText=function(){return Di(this.parent.globalize.formatDate(this.parent.selectedDate,{format:"MMMM y",calendar:this.parent.getCalendarMode()}),"single")},r.prototype.getItems=function(){var t=[];if(t.push({align:"Left",prefixIcon:"e-icon-prev",tooltipText:"Previous",overflow:"Show",cssClass:"e-prev",htmlAttributes:{role:"navigation"}}),t.push({align:"Left",prefixIcon:"e-icon-next",tooltipText:"Next",overflow:"Show",cssClass:"e-next",htmlAttributes:{role:"navigation"}}),t.push({align:"Left",text:this.getDateRangeText(),suffixIcon:"e-icon-down-arrow",cssClass:"e-date-range",overflow:"Show",htmlAttributes:{"aria-atomic":"true","aria-live":"assertive",role:"navigation"}}),this.parent.isAdaptive||this.parent.enableAdaptiveUI?(t.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-add",text:this.l10n.getConstant("newEvent"),cssClass:"e-add",overflow:"Show"}),t.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-today",text:this.l10n.getConstant("today"),cssClass:"e-today",overflow:"Show"})):(t.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-day",text:this.l10n.getConstant("today"),cssClass:"e-today",overflow:"Show"}),this.parent.views.length>1&&t.push({align:"Right",type:"Separator",cssClass:"e-schedule-seperator"})),this.parent.views.length>1)for(var e=0,i=this.parent.views;e<i.length;e++)t.push(this.getItemObject(i[e]));return t},r.prototype.getItemObject=function(t){var e,i;"string"==typeof t?(e=t.toLowerCase(),i=null):(e=t.option.toLowerCase(),i=t.displayName);var n,a=this.parent.isAdaptive||this.parent.enableAdaptiveUI;switch(e){case"day":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-day",text:i||this.l10n.getConstant("day"),cssClass:"e-views e-day"};break;case"week":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-week",text:i||this.l10n.getConstant("week"),cssClass:"e-views e-week"};break;case"workweek":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-workweek",text:i||this.l10n.getConstant("workWeek"),cssClass:"e-views e-work-week"};break;case"month":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-month",text:i||this.l10n.getConstant("month"),cssClass:"e-views e-month"};break;case"year":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-year",text:i||this.l10n.getConstant("year"),cssClass:"e-views e-year"};break;case"agenda":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-agenda",text:i||this.l10n.getConstant("agenda"),cssClass:"e-views e-agenda"};break;case"monthagenda":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-month-agenda",text:i||this.l10n.getConstant("monthAgenda"),cssClass:"e-views e-month-agenda"};break;case"timelineday":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-day",text:i||this.l10n.getConstant("timelineDay"),cssClass:"e-views e-timeline-day"};break;case"timelineweek":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-week",text:i||this.l10n.getConstant("timelineWeek"),cssClass:"e-views e-timeline-week"};break;case"timelineworkweek":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-workweek",text:i||this.l10n.getConstant("timelineWorkWeek"),cssClass:"e-views e-timeline-work-week"};break;case"timelinemonth":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-month",text:i||this.l10n.getConstant("timelineMonth"),cssClass:"e-views e-timeline-month"};break;case"timelineyear":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-year-"+("Vertical"===t.orientation?"vertical":"horizontal"),text:i||this.l10n.getConstant("timelineYear"),cssClass:"e-views e-timeline-year"}}return n},r.prototype.renderHeaderPopup=function(){var t=N("div",{className:"e-header-popup"}),e=N("div",{className:"e-header-calendar"});t.appendChild(e),this.element.appendChild(t),this.headerPopup=new us(t,{actionOnScroll:"hide",targetType:"relative",relateTo:this.getPopUpRelativeElement(),position:{X:"left",Y:"bottom"},enableRtl:this.parent.enableRtl});var i=this.getCalendarView(),n="Month"===this.parent.currentView&&!u(this.parent.activeViewOptions.displayDate)&&!this.hasSelectedDate();this.headerCalendar=new nq({value:n?this.parent.activeViewOptions.displayDate:this.parent.selectedDate,min:this.parent.minDate,max:this.parent.maxDate,firstDayOfWeek:this.parent.activeViewOptions.firstDayOfWeek,enableRtl:this.parent.enableRtl,locale:this.parent.locale,depth:i,start:i,calendarMode:this.parent.calendarMode,change:this.calendarChange.bind(this)}),this.setCalendarTimezone(),this.headerCalendar.appendTo(e),this.headerPopup.hide()},r.prototype.calendarChange=function(t){if(t.value.getTime()!==this.parent.selectedDate.getTime()){var e=ie(new Date(t.value));this.parent.changeDate(e)}this.headerPopup.hide()},r.prototype.setCalendarTimezone=function(){this.headerCalendar&&(this.headerCalendar.timezone=this.parent.timezone||this.parent.tzModule.getLocalTimezoneName())},r.prototype.calculateViewIndex=function(t){var e=I(t.originalEvent.target,".e-views");return[].slice.call(this.element.querySelectorAll(".e-views")).indexOf(e)},r.prototype.toolbarClickHandler=function(t){if(t.item){var i,n,s;switch(t.item.cssClass.replace("e-views ","")){case"e-date-range":this.headerPopup||this.renderHeaderPopup(),this.headerPopup.element.classList.contains(Qn)?this.headerPopup.hide():this.headerPopup.show();break;case"e-day":this.parent.changeView("Day",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-week":this.parent.changeView("Week",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-work-week":this.parent.changeView("WorkWeek",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-month":this.parent.changeView("Month",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-year":this.parent.changeView("Year",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-agenda":this.parent.changeView("Agenda",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-month-agenda":this.parent.changeView("MonthAgenda",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-timeline-day":this.parent.changeView("TimelineDay",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-timeline-week":this.parent.changeView("TimelineWeek",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-timeline-work-week":this.parent.changeView("TimelineWorkWeek",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-timeline-month":this.parent.changeView("TimelineMonth",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-timeline-year":this.parent.changeView("TimelineYear",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-today":s=ie(this.parent.getCurrentTime()),("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView||!this.parent.isSelectedDate(s)||"Month"===this.parent.currentView&&this.parent.activeViewOptions.displayDate&&!this.hasSelectedDate()&&ie(this.parent.activeViewOptions.displayDate)!==s||"Month"===this.parent.currentView&&this.parent.activeViewOptions.numberOfWeeks>0&&!this.hasSelectedDate()&&ie($f(this.parent.selectedDate))!==s)&&this.parent.changeDate(s,t.originalEvent);break;case"e-prev":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),t.originalEvent);break;case"e-next":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),t.originalEvent);break;case"e-add":if(n=this.parent.activeCellsData.startTime.getTime()===this.parent.activeCellsData.endTime.getTime(),this.parent.activeCellsData&&!n)i=this.parent.activeCellsData;else{var l=this.parent.activeViewOptions.timeScale.interval*Os/this.parent.activeViewOptions.timeScale.slotCount,h=new Date(this.parent.selectedDate.getTime()),c=this.parent.getCurrentTime();h.setHours(c.getHours(),Math.round(h.getMinutes()/l)*l,0);var d=new Date(new Date(h.getTime()).setMilliseconds(h.getMilliseconds()+l));i={startTime:h,endTime:d,isAllDay:!1}}this.parent.eventWindow.openEditor(z(i,{cancel:!1,event:t.originalEvent}),"Add")}if(!u(this.toolbarObj)){var p=this.toolbarObj.element.querySelector(".e-toolbar-pop");p&&"Input"!==t.item.type&&p.ej2_instances[0].hide({name:"SlideUp",duration:100})}}},r.prototype.hasSelectedDate=function(){var t=ie(this.parent.selectedDate).getTime();return t>=this.parent.activeView.getStartDate().getTime()&&t<=this.parent.activeView.getEndDate().getTime()},r.prototype.getHeaderElement=function(){return this.toolbarObj.element},r.prototype.updateHeaderItems=function(t){var e=this.toolbarObj.element.querySelector(".e-prev"),i=this.toolbarObj.element.querySelector(".e-next"),n=this.toolbarObj.element.querySelector(".e-date-range");e&&("add"===t?D([e],sr):M([e],sr)),i&&("add"===t?D([i],sr):M([i],sr)),n&&("add"===t?D([n],nr):M([n],nr))},r.prototype.previousNextIconHandler=function(){var t="Agenda"===this.parent.currentView?[this.parent.getCurrentViewDates()[0]]:this.parent.getCurrentViewDates(),e=this.toolbarObj.element.querySelector(".e-prev"),i=this.toolbarObj.element.querySelector(".e-next"),n=new Date(t[0].getTime()),s=new Date(t[t.length-1].getTime());if("WorkWeek"===this.parent.currentView||"TimelineWorkWeek"===this.parent.currentView)s=Ee(n=jr(ie(this.parent.selectedDate),this.parent.firstDayOfWeek),7*this.parent.activeViewOptions.interval);else if("Month"===this.parent.currentView){var a=!u(this.parent.activeViewOptions.displayDate)||this.parent.activeViewOptions.numberOfWeeks>0;n=a?this.parent.activeView.getStartDate():$f(this.parent.selectedDate),s=a?this.parent.activeView.getEndDate():md(Qo(n,this.parent.activeViewOptions.interval-1))}u(e)||this.toolbarObj.enableItems(e,n>ie(this.parent.minDate)),u(i)||this.toolbarObj.enableItems(i,s<ie(this.parent.maxDate)),this.setCalendarMinMaxDate()},r.prototype.getModuleName=function(){return"headerbar"},r.prototype.destroy=function(){this.headerPopup&&!this.headerPopup.isDestroyed&&(this.headerPopup.destroy(),this.headerPopup=null),this.headerCalendar&&!this.headerCalendar.isDestroyed&&(this.headerCalendar.destroy(),this.headerCalendar=null),this.toolbarObj&&!this.toolbarObj.isDestroyed&&(this.toolbarObj.destroy(),this.removeEventListener(),me(this.element),this.toolbarObj=null),this.element=null,this.parent=null,this.l10n=null},r}(),x0e=function(){function r(t){this.parent=t,this.addEventListener()}return r.prototype.getModuleName=function(){return"scroll"},r.prototype.setWidth=function(){this.parent.element.style.width=$(this.parent.width)},r.prototype.setHeight=function(){this.parent.element.style.height=$(this.parent.height)},r.prototype.addEventListener=function(){this.parent.on(Vr,this.setDimensions,this),this.parent.on(PN,this.onPropertyChanged,this)},r.prototype.removeEventListener=function(){this.parent.off(Vr,this.setDimensions),this.parent.off(PN,this.onPropertyChanged)},r.prototype.setDimensions=function(){this.setWidth(),this.setHeight();var t={cssProperties:this.parent.getCssProperties(),module:this.getModuleName()};this.parent.notify(Ma,t)},r.prototype.onPropertyChanged=function(){this.setDimensions()},r.prototype.destroy=function(){this.removeEventListener()},r}(),O0e=function(){function r(t){this.parent=t,this.element=this.parent.element.querySelector("."+so),this.touchObj=new Zn(this.element,{scroll:this.scrollHandler.bind(this),swipe:this.swipeHandler.bind(this),tapHold:this.tapHoldHandler.bind(this),swipeSettings:{swipeThresholdDistance:1}}),b.add(this.element,"transitionend",this.onTransitionEnd,this),this.touchLeftDirection=this.parent.enableRtl?"Right":"Left",this.touchRightDirection=this.parent.enableRtl?"Left":"Right"}return r.prototype.scrollHandler=function(t){if(!("Agenda"===this.parent.currentView||this.parent.uiStateValues.action||!this.parent.allowSwiping||t.originalEvent&&t.originalEvent.target&&(t.originalEvent.target.classList.contains(Ze)||I(t.originalEvent.target,"."+Ze))&&!this.parent.isAdaptive)){if(this.timeStampStart||(this.timeStampStart=Date.now()),this.element.classList.contains(uy)&&this.onTransitionEnd(),"Left"===t.scrollDirection||"Right"===t.scrollDirection){var e={requestType:"dateNavigate",cancel:!1,event:t.originalEvent};if(this.parent.trigger(Fr,e),e.cancel)return;var i=this.element.querySelector("."+ut);if(i&&i.scrollWidth>i.clientWidth)return;this.isScrollTriggered=!0,t.originalEvent.preventDefault(),t.originalEvent.stopPropagation()}if(t.scrollDirection===this.touchLeftDirection){this.nextPanel||(this.renderPanel(ZY,"next"),this.nextPanel={element:this.parent.activeView.getPanel(),selectedDate:new Date(this.parent.selectedDate.getTime()),renderDates:this.parent.activeView.renderDates,colLevels:this.parent.activeView.colLevels},this.setDimensions(this.nextPanel.element));var n=this.parent.enableRtl?t.distanceX:-t.distanceX;this.element.style.transform="translatex("+(this.getTranslateX(this.element)+n)+"px)"}else if(t.scrollDirection===this.touchRightDirection){var s=0;this.previousPanel||(this.renderPanel(qN,"previous"),this.previousPanel={element:this.parent.activeView.getPanel(),selectedDate:new Date(this.parent.selectedDate.getTime()),renderDates:this.parent.activeView.renderDates,colLevels:this.parent.activeView.colLevels},this.setDimensions(this.previousPanel.element),s=this.previousPanel.element.offsetWidth),n=this.parent.enableRtl?s-t.distanceX:-s+t.distanceX,this.element.style.transform="translatex("+(this.getTranslateX(this.element)+n)+"px)"}}},r.prototype.swipeHandler=function(t){if(this.isScrollTriggered&&!this.parent.uiStateValues.action&&this.parent.allowSwiping){this.isScrollTriggered=!1;var e="Left"===t.swipeDirection?this.parent.activeView.renderDates[0]:this.parent.activeView.renderDates.slice(-1)[0];if("Left"===t.swipeDirection&&e<this.parent.maxDate||"Right"===t.swipeDirection&&e>=this.parent.minDate){var i=Date.now()-this.timeStampStart,n=t.distanceX*(O.isDevice?6:1.66);n>i||t.distanceX>this.parent.element.offsetWidth/2?(this.swapPanels(t.swipeDirection),n>i&&t.distanceX>this.parent.element.offsetWidth/2&&(this.element.style.transitionDuration=(O.isDevice?t.distanceX:n)/i/10+"s"),this.confirmSwipe(t.swipeDirection)):this.cancelSwipe(),this.parent.trigger(Nh,{requestType:"dateNavigate",cancel:!1,event:t.originalEvent})}else this.cancelSwipe();this.timeStampStart=null}},r.prototype.tapHoldHandler=function(t){u(I(t.originalEvent.target,"."+Ze))||!this.parent.isAdaptive||this.parent.quickPopup.tapHoldEventPopup(t.originalEvent)},r.prototype.renderPanel=function(t,e){this.currentPanel?this.parent.setProperties({selectedDate:this.currentPanel.selectedDate},!0):(this.currentPanel={element:this.parent.activeView.getPanel(),selectedDate:new Date(this.parent.selectedDate.getTime()),renderDates:this.parent.activeView.renderDates,colLevels:this.parent.activeView.colLevels},this.setDimensions(this.currentPanel.element)),this.parent.setProperties({selectedDate:this.parent.activeView.getNextPreviousDate(e)},!0),this.parent.headerModule&&this.parent.headerModule.setCalendarDate(this.parent.selectedDate),this.parent.activeView.getRenderDates(),this.parent.activeView.renderLayout(t)},r.prototype.swapPanels=function(t){if(t===this.touchLeftDirection){var e=this.nextPanel;this.nextPanel=this.currentPanel,this.currentPanel=e}else e=this.previousPanel,this.previousPanel=this.currentPanel,this.currentPanel=e},r.prototype.confirmSwipe=function(t){var e=this;this.parent.trigger(NN,{action:"date",cancel:!1,previousDate:t===this.touchLeftDirection?this.nextPanel.selectedDate:this.previousPanel.selectedDate,currentDate:this.currentPanel.selectedDate},function(s){if(s.cancel)e.swapPanels(t),e.cancelSwipe();else{e.parent.activeView.setPanel(e.currentPanel.element),e.parent.setProperties({selectedDate:e.currentPanel.selectedDate},!0);var a;a=e.parent.enableRtl?t===e.touchLeftDirection?e.previousPanel?e.previousPanel.element.offsetLeft:e.currentPanel.element.offsetWidth:0:t===e.touchLeftDirection?-e.currentPanel.element.offsetLeft:0,e.parent.activeView.renderDates=e.currentPanel.renderDates,e.parent.activeView.colLevels=e.currentPanel.colLevels,D([e.element],uy),e.element.style.transform="translatex("+a+"px)",e.parent.headerModule&&e.parent.headerModule.updateDateRange(),e.parent.renderTemplates(),e.parent.crudModule.refreshDataManager()}})},r.prototype.cancelSwipe=function(){this.parent.activeView.setPanel(this.currentPanel.element),this.parent.setProperties({selectedDate:this.currentPanel.selectedDate},!0),this.parent.activeView.renderDates=this.currentPanel.renderDates,this.parent.activeView.colLevels=this.currentPanel.colLevels,D([this.element],uy),this.element.style.transform="translatex("+(this.parent.enableRtl?this.previousPanel?this.previousPanel.element.offsetWidth:0:-this.currentPanel.element.offsetLeft)+"px)"},r.prototype.onTransitionEnd=function(){M([this.element],uy),this.element.style.transitionDuration="",this.element.style.transform="",this.previousPanel&&(me(this.previousPanel.element),this.previousPanel=null,M([this.currentPanel.element],qN),D([this.currentPanel.element],WN)),this.nextPanel&&(me(this.nextPanel.element),this.nextPanel=null,M([this.currentPanel.element],ZY),D([this.currentPanel.element],WN)),this.currentPanel=null,this.parent.activeView.getPanel().style.width=""},r.prototype.getTranslateX=function(t){var e=window.getComputedStyle(t);return new WebKitCSSMatrix(e.webkitTransform).m41},r.prototype.setDimensions=function(t){t.style.width=this.parent.element.clientWidth+"px"},r.prototype.resetValues=function(){this.currentPanel=null,this.previousPanel=null,this.nextPanel=null,this.timeStampStart=null,this.element.style.transform="",this.element.style.transitionDuration="",Go(this.element),M([this.element],uy)},r.prototype.destroy=function(){this.touchObj&&(this.touchObj.destroy(),this.touchObj=null),b.remove(this.element,"transitionend",this.onTransitionEnd),this.resetValues()},r}(),H6=function(){function r(t){this.selectedCells=[],this.keyConfigs={downArrow:"downarrow",upArrow:"uparrow",rightArrow:"rightarrow",leftArrow:"leftarrow",shiftDownArrow:"shift+downarrow",shiftUpArrow:"shift+uparrow",shiftRightArrow:"shift+rightarrow",shiftLeftArrow:"shift+leftarrow",ctrlLeftArrow:"ctrl+leftarrow",ctrlRightArrow:"ctrl+rightarrow",altOne:"alt+1",altTwo:"alt+2",altThree:"alt+3",altFour:"alt+4",altFive:"alt+5",altSix:"alt+6",altSeven:"alt+7",altEight:"alt+8",altNine:"alt+9",enter:"enter",escape:"escape",delete:"delete",backspace:"backspace",home:"home",pageUp:"pageup",pageDown:"pagedown",tab:"tab",shiftTab:"shift+tab",ctrlShiftUpArrow:"ctrl+shift+uparrow",ctrlShiftDownArrow:"ctrl+shift+downarrow",ctrlShiftLeftArrow:"ctrl+shift+leftarrow",ctrlShiftRightArrow:"ctrl+shift+rightarrow"},this.parent=t,this.parent.element.tabIndex=-1===this.parent.element.tabIndex?0:this.parent.element.tabIndex,this.keyboardModule=new Lt(this.parent.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),this.addEventListener()}return r.prototype.keyActionHandler=function(t){switch(t.action){case"downArrow":case"shiftDownArrow":this.processDown(t,t.shiftKey);break;case"upArrow":case"shiftUpArrow":this.processUp(t,t.shiftKey);break;case"leftArrow":case"shiftLeftArrow":this.processLeft(t,t.shiftKey);break;case"rightArrow":case"shiftRightArrow":this.processRight(t,t.shiftKey);break;case"ctrlLeftArrow":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),t),this.parent.headerModule&&this.parent.headerModule.element.querySelector(".e-prev button").focus();break;case"ctrlRightArrow":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),t),this.parent.headerModule&&this.parent.headerModule.element.querySelector(".e-next button").focus();break;case"altOne":case"altTwo":case"altThree":case"altFour":case"altFive":case"altSix":case"altSeven":case"altEight":case"altNine":this.processViewNavigation(t);break;case"enter":this.processEnter(t);break;case"home":this.focusFirstCell();break;case"tab":case"shiftTab":this.processTab(t,t.shiftKey);break;case"delete":case"backspace":this.processDelete(t);break;case"ctrlShiftUpArrow":case"ctrlShiftDownArrow":case"ctrlShiftLeftArrow":case"ctrlShiftRightArrow":this.processCtrlShiftNavigationArrows(t);break;case"escape":this.processEscape(t);break;case"fTwelve":this.parent.allowInline&&this.parent.inlineModule&&(t.preventDefault(),this.processFTwelve(t))}},r.prototype.processFTwelve=function(t){var e=t.target;if(e.classList.contains(Te)||e.classList.contains(Si)){this.parent.activeCellsData=this.getSelectedElements(e);var i=z(this.parent.activeCellsData,{cancel:!1,event:t});this.parent.notify(Gf,{element:i.element,groupIndex:i.groupIndex,type:"Cell"})}e.classList.contains(Ze)&&e.click()},r.prototype.addEventListener=function(){this.parent.on(FN,this.onCellMouseDown,this)},r.prototype.removeEventListener=function(){this.parent.off(FN,this.onCellMouseDown)},r.prototype.onCellMouseDown=function(t){if(!t.event.shiftKey&&(this.initialTarget=this.getClosestCell(t.event),!this.parent.activeViewOptions.readonly&&"MonthAgenda"!==this.parent.currentView&&this.initialTarget&&(t.event.target.classList.contains(Te)&&3!==t.event.which&&(this.parent.removeSelectedClass(),b.add(this.parent.getContentTable(),"mousemove",this.onMouseSelection,this),b.add(this.parent.getContentTable(),"mouseup",this.onMoveUp,this)),t.event.target.classList.contains(Si)&&3!==t.event.which))){this.parent.removeSelectedClass();var e=this.parent.getAllDayRow();b.add(e,"mousemove",this.onMouseSelection,this),b.add(e,"mouseup",this.onMoveUp,this)}},r.prototype.onMouseSelection=function(t){D([].slice.call(this.parent.element.querySelectorAll("."+Ze)),"e-allow-select");var i=this.parent.boundaryValidation(t.pageY,t.pageX);if(i.bottom||i.top||i.left||i.right){var n=this.parent.element.querySelector("."+ut),a=n.offsetWidth<=n.scrollWidth&&n.scrollLeft>=0&&n.scrollLeft+n.offsetWidth<=n.scrollWidth;n.offsetHeight<=n.scrollHeight&&n.scrollTop>=0&&n.scrollTop+n.offsetHeight<=n.scrollHeight&&(i.top||i.bottom)&&(n.scrollTop+=i.top?-t.target.offsetHeight:t.target.offsetHeight),a&&(i.left||i.right)&&(n.scrollLeft+=i.left?-t.target.offsetWidth:t.target.offsetWidth)}var o=this.getClosestCell(t);o&&this.selectCells(!0,o)},r.prototype.getClosestCell=function(t){return I(t.target,"."+Te+",."+Si)},r.prototype.onMoveUp=function(t){var e=this;if(M([].slice.call(this.parent.element.querySelectorAll("."+Ze)),"e-allow-select"),t.target.classList.contains(Te)&&(b.remove(this.parent.getContentTable(),"mousemove",this.onMouseSelection),b.remove(this.parent.getContentTable(),"mouseup",this.onMoveUp)),t.target.classList.contains(Si)){var n=this.parent.getAllDayRow();b.remove(n,"mousemove",this.onMouseSelection),b.remove(n,"mouseup",this.onMoveUp)}if(!this.isPreventAction(t)){var a=I(t.target,".e-work-cells,.e-all-day-cells,.e-header-cells"),o=this.parent.getSelectedCells();if(o.length>0&&-1===o.indexOf(a)&&(a=o[o.length-1]),"TimelineYear"!==this.parent.currentView||!a.classList.contains(wi)){this.parent.activeCellsData=this.getSelectedElements(a);var l={};this.parent.eventWindow&&this.parent.eventWindow.convertToEventData(this.parent.activeCellsData,l),this.parent.trigger(ry,{data:l,element:this.parent.activeCellsData.element,event:t,requestType:UY,showQuickPopup:!1},function(c){if((c.showQuickPopup||e.parent.quickInfoOnSelectionEnd)&&o.length>1){var p=z(e.parent.activeCellsData,{cancel:!1,event:t,name:"cellClick"});e.parent.notify(Al,p)}})}}},r.prototype.processEnter=function(t){if(!(this.parent.activeViewOptions.readonly&&!t.target.classList.contains(Ze)||this.isPreventAction(t)||"TimelineYear"===this.parent.currentView&&t.target.classList.contains(wi))){var e=t.target;if(I(e,"."+Hh))return void(e.classList.contains(pS)||e.classList.contains(fS)||e.classList.contains(am)||e.classList.contains(Ph)||e.classList.contains(Cd)?(e.click(),t.preventDefault()):e.classList.contains(Cn)&&(this.parent.element.querySelector("."+fS).click(),t.preventDefault()));if(e.classList.contains(Ia)&&e.classList.contains($o)){var i=e.querySelector("."+Jf);return void(i&&i.click())}if(e.classList.contains(Te)||e.classList.contains(Si)){this.parent.activeCellsData=this.getSelectedElements(e);var n=z(this.parent.activeCellsData,{cancel:!1,event:t});return void(this.parent.allowInline?this.parent.notify(Gf,{element:n.element,groupIndex:n.groupIndex,type:"Cell"}):"Year"===this.parent.currentView?e.click():this.parent.notify(Al,n))}if(e.classList.contains(Br)&&this.parent.inlineModule)return void this.parent.inlineModule.inlineCrudActions(e);if(e.classList.contains(Ze)||e.classList.contains(m1)||e.classList.contains(by)||e.classList.contains(Dr))return void e.click();if(e.classList.contains(om))return this.parent.setProperties({selectedDate:this.parent.getDateFromElement(e)},!0),this.parent.changeView(this.parent.getNavigateView(),t),void this.processEscape(t)}},r.prototype.getSelectedElements=function(t){var e;if(this.selectedCells.length>1&&t.classList.contains(im)){var i=this.parent.getCellDetails(this.selectedCells[0]),n=this.parent.getCellDetails(this.selectedCells.slice(-1)[0]);i.endTime=n.endTime,i.element=t,e=i}else e=this.parent.getCellDetails(t);return e},r.prototype.getCells=function(t,e,i){var n=this.parent.getContentTable(),s="TimelineYear"===this.parent.currentView,o=[].slice.call(n.querySelectorAll(s&&!t?"."+Te+":not(."+wi+")":"td")),l=n.rows.length,h=n.rows[0].cells.length;if(e&&e.classList.contains(Si)){var c=this.parent.getAllDayRow();o=[].slice.call(c.cells),l=1,h=c.cells.length}var d=o.indexOf(e),p=o.indexOf(i),f=[];if(t){for(var m=0;m<h;m++)for(var g=0;g<l;g++){var y=o[h*g+m];s&&y.classList.contains(wi)||f.push(y)}d=f.indexOf(e),p=f.indexOf(i)}if(d>p){var C=d;d=p,p=C}return(t?f:o).slice(d,p+1)},r.prototype.focusFirstCell=function(){if("Agenda"===this.parent.currentView){var t=this.parent.getContentTable().querySelector("."+kl);return t.setAttribute("tabindex","0"),void t.focus()}if(this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.activeView.isTimelineView()&&"TimelineYear"!==this.parent.currentView){var e=this.parent.element.querySelector("."+_i+" tr:not(."+sr+") ."+Te+":not(."+Gc+")");this.selectCells(!1,e)}else if(this.parent.currentView.indexOf("Year")>-1){var i="."+Te+":not(."+wi+"):not(."+Gc+")";i+="TimelineYear"===this.parent.currentView&&"Vertical"===this.parent.activeViewOptions.orientation?'[data-date="'+this.parent.activeView.startDate().getTime()+'"]':"",this.selectCells(!1,this.parent.element.querySelector(i))}else this.selectCells(!1,this.parent.getWorkCellElements()[0])},r.prototype.isInverseTableSelect=function(){return this.parent.activeView.isInverseTableSelect},r.prototype.selectCells=function(t,e){var i=this;this.parent.removeSelectedClass();var n=e instanceof Array?e.slice(-1)[0]:e;if(t){var s,a=["Day","Week","WorkWeek","TimelineDay","TimelineWeek","TimelineWorkWeek","TimelineMonth","TimelineYear"],o={element:e,requestType:"mousemove",allowMultipleRow:!0};this.parent.inlineModule.removeInlineAppointmentElement(),this.parent.trigger(ry,o,function(l){if(!l.allowMultipleRow||!i.parent.allowMultiRowSelection){var c="TimelineYear"===i.parent.currentView;c&&"Horizontal"===i.parent.activeViewOptions.orientation||"Month"===i.parent.currentView?n=c&&i.parent.activeViewOptions.group.resources.length>0?i.initialTarget:i.initialTarget.parentElement.children[n.cellIndex]:a.indexOf(i.parent.currentView)>-1&&(n=n.parentElement.children[i.initialTarget.cellIndex])}var p=i.getCells(i.isInverseTableSelect(),i.initialTarget,n);if(i.parent.activeViewOptions.group.resources.length>0){s=i.initialTarget.getAttribute("data-group-index");for(var f=[],m=0,g=p;m<g.length;m++)(y=g[m]).getAttribute("data-group-index")===s&&f.push(y);p=f}if(i.parent.allowMultiCellSelection||(p=[i.initialTarget]),i.selectedCells=p,p.length>2&&!n.classList.contains(Si)){var C=i.getAllDayCells(p);if(i.parent.activeViewOptions.group.resources.length>0){for(var E=[],S=0,w=C;S<w.length;S++){var y;(y=w[S]).getAttribute("data-group-index")===s&&E.push(y)}C=E}p=p.concat(C)}n.getAttribute("data-group-index")!==s&&i.parent.activeViewOptions.group.resources.length>0&&(n=i.selectedCells[i.selectedCells.length-1]),i.parent.addSelectedClass(p,n)})}else this.parent.trigger(ry,o={element:n,requestType:UY},function(){i.initialTarget=n,i.selectedCells=[n],i.parent.addSelectedClass([n],n)})},r.prototype.selectAppointment=function(t,e){var i=this.getAppointmentElements();if(!(i.length<0)){var n;if(this.parent.eventBase.removeSelectedAppointmentClass(),e.classList.contains(Ze)){var s=i.indexOf(e);n=i[t?s-1:s+1]}else n=t?i[i.length-1]:i[0];n&&(this.parent.eventBase.addSelectedAppointments([n],!0),n.focus(),D([n],aS))}},r.prototype.selectAppointmentElementFromWorkCell=function(t,e){var i=this;if(this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.removeSelectedClass(),e.classList.contains(Te)||e.classList.contains(Si)){var n=this.getUniqueAppointmentElements(),s=[],a=this.parent.getDateFromElement(e).getTime();if(this.parent.eventsProcessed.filter(function(c){return t?c[i.parent.eventFields.startTime].getTime()<=a:c[i.parent.eventFields.startTime].getTime()>=a}).filter(function(c){n.filter(function(d){JSON.stringify(c.Guid)===JSON.stringify(d.getAttribute("data-guid"))&&s.push(d)})}),s.length>0){var h=this.getAppointmentElementsByGuid((t?s[s.length-1]:s[0]).getAttribute("data-guid"));this.parent.eventBase.addSelectedAppointments(h,!0),h[h.length-1].focus()}}},r.prototype.getAllDayCells=function(t){var e=this.parent.getAllDayRow();if(!e)return[];var i=t[0],n=t[t.length-1],s=this.parent.getCellDetails(i);return this.parent.getCellDetails(n).endTime.getTime()-s.startTime.getTime()>=Hi?[].slice.call(e.cells).slice(i.cellIndex,n.cellIndex+1):[]},r.prototype.getAppointmentElements=function(){return[].slice.call(this.parent.element.querySelectorAll("."+Ze))},r.prototype.getAppointmentElementsByGuid=function(t){return[].slice.call(this.parent.element.querySelectorAll('div[data-guid="'+t+'"]'))},r.prototype.getUniqueAppointmentElements=function(){var t=this.getAppointmentElements(),e=[];return t.map(function(i){return i.getAttribute("data-guid")}).filter(function(i,n,s){s.indexOf(i)===n&&e.push(t[parseInt(n.toString(),10)])}),e},r.prototype.getWorkCellFromAppointmentElement=function(t){var e=this.parent.eventBase.getEventByGuid(t.getAttribute("data-guid"));return this.parent.eventBase.selectWorkCellByTime([e])},r.prototype.processViewNavigation=function(t){var e=parseInt(t.key,10)-1;if(e<this.parent.views.length){var i=this.parent.viewCollections[parseInt(e.toString(),10)].option;this.parent.changeView(i,t,void 0,e),this.parent.headerModule&&this.parent.headerModule.element.querySelector(".e-active-view button").focus()}},r.prototype.cancelUpDownAction=function(t){return!!(t&&"Vertical"===this.parent.activeViewOptions.orientation&&this.parent.activeViewOptions.group.resources.length>0||t&&this.initialTarget.classList.contains(wi)||this.parent.activeView.isTimelineView()&&!t||"MonthAgenda"===this.parent.currentView)},r.prototype.processUp=function(t,e){var i="TimelineYear"===this.parent.currentView;if(!e||!this.cancelUpDownAction(i)){var n=t.target,s=this.parent.getSelectedCells(),a=this.parent.eventBase.getSelectedAppointments(),o=this.parent.element.querySelector("."+Fh),l=this.getQuickPopupElement();if(s.length>0&&!t.target.classList.contains(Te)&&(n=s[s.length-1]),a.length>0&&!o.classList.contains(Qn)&&!l.classList.contains(Qn)&&-1!==["Day","Week","WorkWeek","Month"].indexOf(this.parent.currentView)&&(n=this.getWorkCellFromAppointmentElement(a[a.length-1]),this.parent.eventBase.removeSelectedAppointmentClass()),n)if(n.classList.contains(Te)&&!this.parent.element.querySelector("."+Qn)){var h=this.parent.getTableRows(),c=h.indexOf(n.parentElement),d=void 0;if(i&&e&&0===this.parent.activeViewOptions.group.resources.length&&(d=this.isInverseTableSelect()?this.getVerticalUpDownCell(h,n,c,!0):this.getHorizontalUpDownCell(h,n,c,!0)),(c>0||d)&&c<h.length){if(d=d||h[c-1].cells[n.cellIndex],"Year"===this.parent.currentView&&d.classList.contains(wi)){if(!(this.parent.activeView.getStartDate().getTime()<+d.getAttribute("data-date")))return;d=this.getYearUpDownCell(h,c-1,n.cellIndex,!0)}t.preventDefault(),this.selectCells(e,d)}}else("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView)&&this.selectAppointment(!0,n)}},r.prototype.processDown=function(t,e){var i="TimelineYear"===this.parent.currentView;if(!e||!this.cancelUpDownAction(i)){var n=t.target,s=this.parent.getSelectedCells(),a=this.parent.eventBase.getSelectedAppointments(),o=this.parent.element.querySelector("."+Fh),l=this.getQuickPopupElement();s.length>0&&!t.target.classList.contains(Te)&&(n=s[s.length-1]),a.length>0&&!o.classList.contains(Qn)&&!l.classList.contains(Qn)&&-1!==["Day","Week","WorkWeek","Month"].indexOf(this.parent.currentView)&&(n=this.getWorkCellFromAppointmentElement(a[a.length-1]),this.parent.eventBase.removeSelectedAppointmentClass());var h=this.parent.getTableRows();if(n)if(n.classList.contains(Te)&&!this.parent.element.querySelector("."+Qn)){var c=h.indexOf(n.parentElement),d=void 0;if(i&&e&&0===this.parent.activeViewOptions.group.resources.length&&(d=this.isInverseTableSelect()?this.getVerticalUpDownCell(h,n,c,!1):this.getHorizontalUpDownCell(h,n,c,!1)),c>=0&&(c<h.length-1||d)){if(d=d||h[c+1].cells[n.cellIndex],"Year"===this.parent.currentView&&d.classList.contains(wi)){if(!(this.parent.activeView.getEndDate().getTime()>+d.getAttribute("data-date")))return;d=this.getYearUpDownCell(h,c+1,n.cellIndex,!1)}t.preventDefault(),this.selectCells(e,d)}}else("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView)&&this.selectAppointment(!1,n)}},r.prototype.getYearUpDownCell=function(t,e,i,n){for(;t[parseInt(e.toString(),10)]&&t[parseInt(e.toString(),10)].cells[parseInt(i.toString(),10)].classList.contains(wi);)e+=n?-1:1;return t[parseInt(e.toString(),10)].cells[parseInt(i.toString(),10)]},r.prototype.getHorizontalUpDownCell=function(t,e,i,n){var s=t[i+(n?-1:1)],a=s?s.cells[e.cellIndex]:e;if(a.classList.contains(wi)){var o=s.querySelector("."+Te+":not(."+wi+")"),l=new Date(+o.getAttribute("data-date")),h='[data-date="'+new Date(l.getFullYear(),l.getMonth()+1,0).getTime()+'"]';a=a.cellIndex<o.cellIndex?o:s.querySelector(h)}return a},r.prototype.getVerticalUpDownCell=function(t,e,i,n){var a=n&&i>0||!n&&i<t.length-1?t[i+(n?-1:1)].cells[e.cellIndex]:void 0;if(!a||a.classList.contains(wi)){if(t[parseInt(i.toString(),10)].cells[e.cellIndex-(n?1:-1)]){var l=+e.getAttribute("data-date")-(n?Hi:-Hi);return this.parent.getContentTable().querySelector("."+Te+'[data-date="'+l+'"]')}a=e}return a},r.prototype.processLeftRight=function(t){var e="Year"===this.parent.currentView?t.closest("tbody"):this.parent.getContentTable(),i=t.parentNode.sectionRowIndex;return{element:e,rowIndex:i,columnIndex:t.cellIndex,maxIndex:e.rows[parseInt(i.toString(),10)].cells.length}},r.prototype.getQuickPopupElement=function(){return(this.parent.isAdaptive?document.body:this.parent.element).querySelector("."+Hh)},r.prototype.isCancelLeftRightAction=function(t,e,i){var n="MonthAgenda"===this.parent.currentView||i&&this.initialTarget.classList.contains(wi);if("Agenda"===this.parent.currentView||e&&n||this.isPreventAction(t)&&e)return!0;var s=this.parent.element.querySelector("."+Fh),a=this.getQuickPopupElement();return!(!s.classList.contains(Qn)&&!a.classList.contains(Qn))},r.prototype.processRight=function(t,e){var i="TimelineYear"===this.parent.currentView;if(!this.isCancelLeftRightAction(t,e,i)){var s,n=this.parent.getSelectedCells(),a=this.parent.eventBase.getSelectedAppointments(),o=t.target;if(n.length>0&&!o.classList.contains(Te)&&!o.classList.contains(Si)&&(o=n[n.length-1]),!(a.length>0)||(o=this.getWorkCellFromAppointmentElement(a[a.length-1]),this.parent.eventBase.removeSelectedAppointmentClass(),o))if(o.classList.contains(Te)&&t.target.classList.contains(Te)){var l=this.processLeftRight(o),h=new Date(+o.getAttribute("data-date")),c="Year"===this.parent.currentView&&h.getTime()===md(h).getTime();if(l.columnIndex>=0&&l.columnIndex<l.maxIndex-1&&!c)s=this.calculateNextPrevDate(o,l.element.rows[l.rowIndex].cells[o.cellIndex+1],"right"),i&&e&&s.classList.contains(wi)&&(s=this.getTimelineYearTargetCell(l,o,!0)),u(s)||this.selectCells(e,s);else if(l.columnIndex===l.maxIndex-1||c)if(!this.isInverseTableSelect()&&l.rowIndex<l.element.rows.length-1&&!c){s=this.calculateNextPrevDate(o,l.element.rows[l.rowIndex+1].cells[0],"right");var d=i&&e&&s.classList.contains(wi);u(s=d?this.getHorizontalLeftRightCell(l,o,!0):s)||this.selectCells(e,s)}else if(!e){if(c&&h.getTime()!==this.parent.activeView.getEndDate().getTime())return void this.selectCells(e,this.parent.element.querySelector(":not(."+wi+')[data-date="'+(h.getTime()+Hi)+'"]'));var p=this.isInverseTableSelect()?l.rowIndex:0;this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),t);var f=this.parent.getContentTable(),m=c?f.rows[parseInt(p.toString(),10)].querySelector("."+Te+":not(."+wi+")"):f.rows[parseInt(p.toString(),10)].cells[0];this.selectCells(!1,m)}}else if(o.classList.contains(Si)){var g=o.cellIndex,y=this.parent.getAllDayRow(),C=y.cells.length;if(g>=0&&g<C-1)this.selectCells(e,y.cells[g+1]);else if(g===C-1&&!e){this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),t);var E=this.parent.getAllDayRow();this.selectCells(!1,E.cells[0])}}}},r.prototype.processLeft=function(t,e){var i="TimelineYear"===this.parent.currentView;if(!this.isCancelLeftRightAction(t,e,i)){var a,n=t.target,s=this.parent.getSelectedCells();s.length>0&&!n.classList.contains(Te)&&!n.classList.contains(Si)&&(n=s[s.length-1]);var o=this.parent.eventBase.getSelectedAppointments();if(!(o.length>0)||(n=this.getWorkCellFromAppointmentElement(o[o.length-1]),this.parent.eventBase.removeSelectedAppointmentClass(),n))if(t.target.classList.contains(Te)&&n.classList.contains(Te)){var l=this.processLeftRight(n),h=new Date(+n.getAttribute("data-date")),c="Year"===this.parent.currentView&&h.getTime()===$f(h).getTime();if(l.columnIndex>0&&l.columnIndex<l.maxIndex&&!c)a=this.calculateNextPrevDate(n,l.element.rows[l.rowIndex].cells[n.cellIndex-1],"left"),i&&e&&a.classList.contains(wi)&&(a=this.getTimelineYearTargetCell(l,n,!1)),u(a)||this.selectCells(e,a);else if(0===l.columnIndex||c)if(!this.isInverseTableSelect()&&l.rowIndex>0){a=this.calculateNextPrevDate(n,l.element.rows[l.rowIndex-1].cells[l.maxIndex-1],"left");var d=i&&e&&a.classList.contains(wi);u(a=d?this.getHorizontalLeftRightCell(l,n,!1):a)||this.selectCells(e,a)}else if(!e){if(c&&h.getTime()!==this.parent.activeView.getStartDate().getTime())return void this.selectCells(e,this.parent.element.querySelector('[data-date="'+(h.getTime()-Hi)+'"]'));this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),t);var p=this.parent.getContentTable(),f=this.isInverseTableSelect()?l.rowIndex:p.rows.length-1,m=p.rows[parseInt(f.toString(),10)].cells[l.maxIndex-1];if(c){var g=this.parent.element.querySelectorAll("."+_i+" tbody");m=g.item(g.length-1).querySelector(":not(."+wi+')[data-date="'+this.parent.activeView.getEndDate().getTime()+'"]')}this.selectCells(!1,m)}}else if(n.classList.contains(Si)){var y=n.cellIndex,C=this.parent.getAllDayRow(),E=C.cells.length;if(y>0&&y<E)this.selectCells(e,C.cells[y-1]);else if(0===y&&!e){this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),t);var S=this.parent.getAllDayRow();this.selectCells(!1,S.cells[E-1])}}}},r.prototype.getTimelineYearTargetCell=function(t,e,i){return this.isInverseTableSelect()?this.getVerticalLeftRightCell(e,i):this.getHorizontalLeftRightCell(t,e,i)},r.prototype.getHorizontalLeftRightCell=function(t,e,i){var n=t.element.rows[e.parentNode.sectionRowIndex+(i?1:-1)];if(n){var s=i?"."+Te+":not(."+wi+")":'[data-date="'+(+e.getAttribute("data-date")-Hi)+'"]';return n.querySelector(s)}return e},r.prototype.getVerticalLeftRightCell=function(t,e){var i=new Date(+t.getAttribute("data-date")),n=new Date(i.getFullYear(),i.getMonth()+(e?1:-1),1),s=this.parent.getContentTable(),a=s.querySelector('[data-date="'+n.getTime()+'"]');return a.parentNode.sectionRowIndex>t.parentNode.sectionRowIndex?a:s.querySelector('[data-date="'+new Date(n.getFullYear(),n.getMonth()+1,0).getTime()+'"]')},r.prototype.calculateNextPrevDate=function(t,e,i){var n=this.initialTarget.getAttribute("data-group-index");if(this.parent.activeViewOptions.group.resources.length>0&&"Month"===this.parent.currentView&&t&&e&&e.getAttribute("data-group-index")!==n){var s=this.parent.getDateFromElement(t),a="right"===i?new Date(s.setDate(s.getDate()+1)):new Date(s.setDate(s.getDate()-1));e=[].slice.call(this.parent.element.querySelectorAll('td[data-date="'+a.getTime().toString()+'"][data-group-index="'+n+'"]'))[0]}return e},r.prototype.getFocusableElements=function(t){return[].slice.call(t.querySelectorAll('a[href]:not([tabindex="-1"]),input:not([disabled]):not([tabindex="-1"]),textarea:not([disabled]):not([tabindex="-1"]),button:not([disabled]):not([tabindex="-1"]),select:not([disabled]):not([tabindex="-1"]),[tabindex]:not([tabindex="-1"]),[contentEditable=true]:not([tabindex="-1"])'))},r.prototype.processTabOnPopup=function(t,e){var i=this,n=this.getFocusableElements(e),s=(n=n.filter(function(o){var l=i.parent.element.querySelector("."+p1);return l&&l.offsetParent?!(o.classList.contains(bd)||o.classList.contains(Ty)):!(o.classList.contains(am)||o.classList.contains(Ph))}))[0],a=n[n.length-1];!u(a)&&document.activeElement===a&&!t.shiftKey&&(t.preventDefault(),s.focus()),!u(s)&&document.activeElement===s&&t.shiftKey&&(t.preventDefault(),a.focus())},r.prototype.processTab=function(t,e){var i=t.target;if(i.classList.contains(Br)&&this.parent.inlineModule&&(i=i.closest(".e-appointment"),this.parent.inlineModule.inlineCrudActions(t.target)),"TimelineYear"===this.parent.currentView&&i.classList.contains(wi))i.classList.contains(im)&&this.parent.removeSelectedClass();else{var n=I(i,"."+Hh+",."+Fh);if(n&&n.classList.contains(Qn))return n.classList.contains(Fh)&&this.parent.eventBase.removeSelectedAppointmentClass(),void this.processTabOnPopup(t,n);if(i.classList.contains(KD))this.parent.eventBase.removeSelectedAppointmentClass();else if(i.classList.contains(Ia)&&this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0){var s=parseInt(i.getAttribute("data-group-index"),10);if((o=[].slice.call(this.parent.element.querySelectorAll("."+Ze+'[data-group-index="'+(e?s-1:s)+'"]'))).length>0){this.parent.eventBase.removeSelectedAppointmentClass();var l=e?o.slice(-1)[0]:o[0];this.parent.eventBase.addSelectedAppointments([l],!0),l.focus(),t.preventDefault()}else if(s+1===this.parent.resourceBase.lastResourceLevel.length)this.parent.element.focus(),t.preventDefault();else if(this.parent.virtualScrollModule){var h=this.parent.element.querySelector("."+fy),c=Math.round(h.offsetHeight/this.parent.resourceBase.expandedResources.length);this.parent.element.querySelector(".e-content-wrap").scrollTop=(e?s-1:s+1)*c,this.parent.virtualScrollModule.virtualScrolling()}else this.setScrollPosition(s)}else if(i.classList.contains(Ze)){var o=[].slice.call(this.parent.element.querySelectorAll("."+Ze)),d="TimelineYear"===this.parent.currentView;if((this.parent.activeView.isTimelineView()&&!d||d&&"Vertical"===this.parent.activeViewOptions.orientation)&&this.parent.activeViewOptions.group.resources.length>0){s=parseInt(i.getAttribute("data-group-index"),10),o=[].slice.call(this.parent.element.querySelectorAll("."+Ze+'[data-group-index="'+s+'"]'));var m=this.parent.element.querySelector("."+Ia+'[data-group-index="'+(e?s:s+1)+'"]');if(m&&(e&&i.getAttribute("data-guid")===o[0].getAttribute("data-guid")||!e&&i.getAttribute("data-guid")===o.slice(-1)[0].getAttribute("data-guid")))return this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.virtualScrollModule?m.focus({preventScroll:!0}):m.focus(),this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&u(this.parent.virtualScrollModule)&&this.setScrollPosition(s),void t.preventDefault()}var g=this.parent.eventBase.getSelectedAppointments();if(g.length>0&&(i=g[g.length-1]),this.parent.eventBase.removeSelectedAppointmentClass(),!e&&i.getAttribute("data-guid")===o[o.length-1].getAttribute("data-guid")||e&&i.getAttribute("data-guid")===o[0].getAttribute("data-guid"))return;("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView)&&(this.selectAppointment(e,i),t.preventDefault())}else{var y=this.parent.getSelectedCells();if(y.length>0&&!i.classList.contains(Ze))return this.selectAppointmentElementFromWorkCell(e,i=y[y.length-1]),void t.preventDefault();i&&!i.classList.contains(Ia)&&this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&this.processTabOnResourceCells(i,e)}}},r.prototype.processDelete=function(t){var e=document.activeElement;if("MonthAgenda"===this.parent.currentView){var i=this.parent.eventBase.getSelectedEvents().element;e=i&&u(i.length)?i:i[0]}if(e&&e.classList.contains(Ze)){if(D([e],sm),this.parent.activeEventData=this.parent.eventBase.getSelectedEvents(),this.parent.activeViewOptions.readonly||e.classList.contains(Ay)||!this.parent.eventSettings.allowDeleting)return;this.parent.quickPopup.deleteClick(t)}},r.prototype.processCtrlShiftNavigationArrows=function(t){if(this.parent.activeViewOptions.group.resources.length>0&&document.activeElement.classList.contains(Ze)){var e=parseInt(document.activeElement.getAttribute("data-group-index"),10);i=(i="ctrlShiftLeftArrow"===t.action||"ctrlShiftUpArrow"===t.action?e-1:e+1)<0?0:i>this.parent.resourceBase.lastResourceLevel.length?this.parent.resourceBase.lastResourceLevel.length:i;for(var n=[];0===n.length&&i>=0&&i<=this.parent.resourceBase.lastResourceLevel.length;)n=[].slice.call(this.parent.element.querySelectorAll("."+Ze+'[data-group-index="'+i+'"]')),i="ctrlShiftLeftArrow"===t.action||"ctrlShiftUpArrow"===t.action?i-1:i+1;var s=n[0];s&&(this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.eventBase.addSelectedAppointments([s],!0),s.focus())}else if(this.parent.activeViewOptions.group.resources.length>0&&!document.activeElement.classList.contains(Ze)){var i,o=[].slice.call(this.parent.element.querySelectorAll("."+Ze+'[data-group-index="'+(i=this.parent.resourceBase.renderedResources[0].groupIndex)+'"]'));if(o.length>0){this.parent.eventBase.removeSelectedAppointmentClass();var l=o[0];this.parent.eventBase.addSelectedAppointments([l],!0),l.focus(),t.preventDefault()}}},r.prototype.processEscape=function(t){this.parent.quickPopup.onClosePopup(t),this.parent.quickPopup.morePopup.hide(),this.parent.headerModule&&this.parent.headerModule.hideHeaderPopup(),this.parent.inlineModule&&this.parent.inlineModule.removeInlineAppointmentElement()},r.prototype.isPreventAction=function(t){var e=I(t.target,"."+Gc);return!(!this.parent.activeView.isTimelineView()||u(e))},r.prototype.processTabOnResourceCells=function(t,e){var i=[].slice.call(this.parent.element.querySelectorAll('[tabIndex="0"]')),n=i.indexOf(t),s=e?i[n-1]:i[n+1];if(s&&s.classList.contains(Ia)){var a=parseInt(s.getAttribute("data-group-index"),10);if(this.parent.virtualScrollModule){var o=this.parent.element.querySelector("."+Ta);[].slice.call(this.parent.element.querySelectorAll("."+Ia)).forEach(function(h){h.getBoundingClientRect().top<o.getBoundingClientRect().top&&h.setAttribute("tabindex","-1")})}else this.setScrollPosition(a)}},r.prototype.setScrollPosition=function(t){var e=this.parent.element.querySelector("."+Te+'[data-group-index="'+t+'"]');e&&(this.parent.element.querySelector("."+ut).scrollTop=e.offsetTop)},r.prototype.getModuleName=function(){return"keyboard"},r.prototype.destroy=function(){this.removeEventListener(),this.selectedCells=[],this.keyboardModule.destroy()},r}(),z6=function(){function r(t,e,i){this.parent=t,this.initDataManager(e,i)}return r.prototype.initDataManager=function(t,e){this.dataManager=t instanceof ye?t:new ye(t),this.query=e instanceof Xe?e:new Xe},r.prototype.generateQuery=function(t,e){var i=this.query.clone();if(this.parent&&t&&e){if(this.parent.activeViewOptions&&this.parent.activeViewOptions.enableLazyLoading&&!u(this.parent.activeViewOptions.group.resources)&&this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase&&this.parent.resourceBase.resourceCollection.length>0&&this.parent.resourceBase.renderedResources.length>0){var n=[];this.parent.resourceBase.resourceCollection.forEach(function(){return n.push([])}),this.parent.resourceBase.renderedResources.forEach(function(o){n.forEach(function(l,h){var c=o.groupOrder[parseInt(h.toString(),10)];c&&l.indexOf(c)<0&&l.push(c)})}),this.parent.resourceBase.resourceCollection.forEach(function(o,l){i.addParams(o.field,n[parseInt(l.toString(),10)].toString())})}if(this.parent.timezone&&(t=this.parent.tzModule.remove(new Date(+t.getTime()),this.parent.timezone),e=this.parent.tzModule.remove(new Date(+e.getTime()),this.parent.timezone)),this.parent.eventSettings.includeFiltersInQuery){var s=this.getStartEndQuery(t,e),a=new ti(this.parent.eventFields.recurrenceRule,"notequal",null).and(new ti(this.parent.eventFields.recurrenceRule,"notequal",""));return i.where(s.or(a))}i.addParams("StartDate",t.toISOString()),i.addParams("EndDate",e.toISOString())}return i},r.prototype.getStartEndQuery=function(t,e){var i=this.parent.eventFields;return new ti(i.startTime,"greaterthanorequal",t).and(new ti(i.endTime,"greaterthanorequal",t)).and(new ti(i.startTime,"lessthan",e)).or(new ti(i.startTime,"lessthanorequal",t).and(new ti(i.endTime,"greaterthan",t)))},r.prototype.getData=function(t){return this.dataManager.executeQuery(t)},r.prototype.destroy=function(){this.dataManager=null,this.query=null},r}(),U6=function(){function r(){}return r.prototype.firstDateOfMonth=function(t){return new Date(t.getFullYear(),t.getMonth())},r.prototype.lastDateOfMonth=function(t){return new Date(t.getFullYear(),t.getMonth()+1,0)},r.prototype.isMonthStart=function(t){return 1===t.getDate()},r.prototype.getLeapYearDaysCount=function(){return 366},r.prototype.getYearDaysCount=function(t,e){return(t.getFullYear()+e)%4==0?366:365},r.prototype.getDate=function(t){return t.getDate()},r.prototype.getMonth=function(t){return t.getMonth()+1},r.prototype.getFullYear=function(t){return t.getFullYear()},r.prototype.getYearLastDate=function(t,e){return new Date(t.getFullYear()+e,0,0)},r.prototype.getMonthDaysCount=function(t){return this.lastDateOfMonth(t).getDate()},r.prototype.getMonthStartDate=function(t){return new Date(t.getFullYear(),t.getMonth(),1,t.getHours(),t.getMinutes())},r.prototype.getMonthEndDate=function(t){return t.setDate(1),new Date(t.setMonth(t.getMonth()+1))},r.prototype.getExpectedDays=function(t,e){return e},r.prototype.setDate=function(t,e){t.setDate(e)},r.prototype.setValidDate=function(t,e,i,n,s){u(s)?t.setMonth(t.getMonth()+e,i):t.setMonth((s?n:t.getMonth())+e)},r.prototype.setMonth=function(t,e,i){t.setDate(1),t.setFullYear(t.getFullYear()),t.setMonth(e-1);var n=new Date(t.getFullYear(),t.getMonth()+1,0).getDate();t.setDate(Math.min(i,n))},r.prototype.addYears=function(t,e){t.setFullYear(t.getFullYear()+e)},r.prototype.isSameMonth=function(t,e){return t.getMonth()===e.getMonth()},r.prototype.checkMonth=function(t,e){return-1===e.indexOf(t.getMonth()+1)},r.prototype.compareMonth=function(t,e){return t.getMonth()>e.getMonth()},r.prototype.isSameYear=function(t,e){return t.getFullYear()===e.getFullYear()},r.prototype.isLastMonth=function(t){return 11===t.getMonth()},r.prototype.isLeapYear=function(t,e){return(t+e)%4==0},r}(),W6=function(){function r(){}return r.prototype.firstDateOfMonth=function(t){var e=this.getHijriDate(t);return qn.toGregorian(e.year,e.month,1)},r.prototype.lastDateOfMonth=function(t){var e=this.getHijriDate(t),i=this.getDaysInMonth(e.month,e.year),n=qn.toGregorian(e.year,e.month,i),s=new Date(n.getTime());s=new Date(s.setDate(s.getDate()+1));var a=this.getHijriDate(s);return e.month===a.month?s:(a=this.getHijriDate(n),e.month===a.month?n:new Date(n.setDate(n.getDate()-1)))},r.prototype.isMonthStart=function(t){return 1===this.getHijriDate(t).date},r.prototype.getLeapYearDaysCount=function(){return 355},r.prototype.getYearDaysCount=function(t,e){var i=this.getHijriDate(t);return this.isLeapYear(i.year,e)?355:354},r.prototype.getDate=function(t){return this.getHijriDate(t).date},r.prototype.getMonth=function(t){return this.getHijriDate(t).month},r.prototype.getFullYear=function(t){return this.getHijriDate(t).year},r.prototype.getYearLastDate=function(t,e){var i=this.getHijriDate(t);return qn.toGregorian(i.year+e,1,0)},r.prototype.getMonthDaysCount=function(t){var e=this.lastDateOfMonth(t);return this.getHijriDate(e).date},r.prototype.getMonthStartDate=function(t){var e=this.firstDateOfMonth(t);return new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes())},r.prototype.getMonthEndDate=function(t){var e=this.lastDateOfMonth(t);return e.setDate(e.getDate()+1),new Date(e.setMonth(e.getMonth()))},r.prototype.getExpectedDays=function(t,e){for(var i=this.getHijriDate(t),n=[],s=0;s<e.length;s++){var a=qn.toGregorian(i.year,i.month,e[parseInt(s.toString(),10)]);n.push(a.getDate())}return n},r.prototype.setDate=function(t,e){var i=this.getHijriDate(t),n=qn.toGregorian(i.year,i.month,e);this.updateDateObj(t,n)},r.prototype.setValidDate=function(t,e,i,n,s){var a=u(s)?t:this.firstDateOfMonth(s),o=this.getHijriDate(a),l=qn.toGregorian(o.year,o.month+e,i);this.updateDateObj(t,l)},r.prototype.setMonth=function(t,e,i){var n=this.getHijriDate(t),s=qn.toGregorian(n.year,e,i);this.updateDateObj(t,s)},r.prototype.addYears=function(t,e,i){var n=this.getHijriDate(t),s=qn.toGregorian(n.year+e,i,1);this.updateDateObj(t,s)},r.prototype.isSameMonth=function(t,e){var i=this.getHijriDate(t),n=this.getHijriDate(e);return i.month===n.month},r.prototype.checkMonth=function(t,e){var i=this.getHijriDate(t);return-1===e.indexOf(i.month)},r.prototype.compareMonth=function(t,e){var i=this.getHijriDate(t),n=this.getHijriDate(e);return i.month>n.month},r.prototype.isSameYear=function(t,e){var i=this.getHijriDate(t),n=this.getHijriDate(e);return i.year===n.year},r.prototype.isLastMonth=function(t){return 12===this.getHijriDate(t).month},r.prototype.updateDateObj=function(t,e){t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate())},r.prototype.isLeapYear=function(t,e){return(14+11*(t+e))%30<11},r.prototype.getDaysInMonth=function(t,e){var i=0;return i=29+(t+1)%2,11===t&&this.isLeapYear(e,0)&&i++,i},r.prototype.getHijriDate=function(t){return qn.getHijriDate(t)},r}(),q6=function(){function r(){this.timezoneData=[],this.timezoneData=this.getTimezoneData()}return r.prototype.offset=function(t,e){var i=t.getTimezoneOffset();try{var n=new Date(t.toLocaleString("en-US",{timeZone:e}));return isNaN(n.getTime())?0:(t.getTime()-n.getTime())/6e4+i}catch(s){return 0}},r.prototype.convert=function(t,e,i){"string"==typeof e&&(e=this.offset(t,e)),"string"==typeof i&&(i=this.offset(t,i));var n=t.getTimezoneOffset(),s=(t=new Date(t.getTime()+6e4*(e-i))).getTimezoneOffset();return new Date(t.getTime()+6e4*(s-n))},r.prototype.add=function(t,e){return this.convert(t,t.getTimezoneOffset(),e)},r.prototype.remove=function(t,e){return this.convert(t,e,t.getTimezoneOffset())},r.prototype.removeLocalOffset=function(t){return new Date(t.getTime()-6e4*t.getTimezoneOffset())},r.prototype.getLocalTimezoneName=function(){return window.Intl&&Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC"},r.prototype.getTimezoneData=function(){return Y6},r}(),Y6=[{Value:"Pacific/Niue",Text:"(UTC-11:00) Niue"},{Value:"Pacific/Pago_Pago",Text:"(UTC-11:00) Pago Pago"},{Value:"Pacific/Honolulu",Text:"(UTC-10:00) Hawaii Time"},{Value:"Pacific/Rarotonga",Text:"(UTC-10:00) Rarotonga"},{Value:"Pacific/Tahiti",Text:"(UTC-10:00) Tahiti"},{Value:"Pacific/Marquesas",Text:"(UTC-09:30) Marquesas"},{Value:"America/Anchorage",Text:"(UTC-09:00) Alaska Time"},{Value:"Pacific/Gambier",Text:"(UTC-09:00) Gambier"},{Value:"America/Los_Angeles",Text:"(UTC-08:00) Pacific Time"},{Value:"America/Tijuana",Text:"(UTC-08:00) Pacific Time - Tijuana"},{Value:"America/Vancouver",Text:"(UTC-08:00) Pacific Time - Vancouver"},{Value:"America/Whitehorse",Text:"(UTC-08:00) Pacific Time - Whitehorse"},{Value:"Pacific/Pitcairn",Text:"(UTC-08:00) Pitcairn"},{Value:"America/Denver",Text:"(UTC-07:00) Mountain Time"},{Value:"America/Phoenix",Text:"(UTC-07:00) Mountain Time - Arizona"},{Value:"America/Mazatlan",Text:"(UTC-07:00) Mountain Time - Chihuahua, Mazatlan"},{Value:"America/Dawson_Creek",Text:"(UTC-07:00) Mountain Time - Dawson Creek"},{Value:"America/Edmonton",Text:"(UTC-07:00) Mountain Time - Edmonton"},{Value:"America/Hermosillo",Text:"(UTC-07:00) Mountain Time - Hermosillo"},{Value:"America/Yellowknife",Text:"(UTC-07:00) Mountain Time - Yellowknife"},{Value:"America/Belize",Text:"(UTC-06:00) Belize"},{Value:"America/Chicago",Text:"(UTC-06:00) Central Time"},{Value:"America/Mexico_City",Text:"(UTC-06:00) Central Time - Mexico City"},{Value:"America/Regina",Text:"(UTC-06:00) Central Time - Regina"},{Value:"America/Tegucigalpa",Text:"(UTC-06:00) Central Time - Tegucigalpa"},{Value:"America/Winnipeg",Text:"(UTC-06:00) Central Time - Winnipeg"},{Value:"America/Costa_Rica",Text:"(UTC-06:00) Costa Rica"},{Value:"America/El_Salvador",Text:"(UTC-06:00) El Salvador"},{Value:"Pacific/Galapagos",Text:"(UTC-06:00) Galapagos"},{Value:"America/Guatemala",Text:"(UTC-06:00) Guatemala"},{Value:"America/Managua",Text:"(UTC-06:00) Managua"},{Value:"America/Cancun",Text:"(UTC-05:00) America Cancun"},{Value:"America/Bogota",Text:"(UTC-05:00) Bogota"},{Value:"Pacific/Easter",Text:"(UTC-05:00) Easter Island"},{Value:"America/New_York",Text:"(UTC-05:00) Eastern Time"},{Value:"America/Iqaluit",Text:"(UTC-05:00) Eastern Time - Iqaluit"},{Value:"America/Toronto",Text:"(UTC-05:00) Eastern Time - Toronto"},{Value:"America/Guayaquil",Text:"(UTC-05:00) Guayaquil"},{Value:"America/Havana",Text:"(UTC-05:00) Havana"},{Value:"America/Jamaica",Text:"(UTC-05:00) Jamaica"},{Value:"America/Lima",Text:"(UTC-05:00) Lima"},{Value:"America/Nassau",Text:"(UTC-05:00) Nassau"},{Value:"America/Panama",Text:"(UTC-05:00) Panama"},{Value:"America/Port-au-Prince",Text:"(UTC-05:00) Port-au-Prince"},{Value:"America/Rio_Branco",Text:"(UTC-05:00) Rio Branco"},{Value:"America/Halifax",Text:"(UTC-04:00) Atlantic Time - Halifax"},{Value:"America/Barbados",Text:"(UTC-04:00) Barbados"},{Value:"Atlantic/Bermuda",Text:"(UTC-04:00) Bermuda"},{Value:"America/Boa_Vista",Text:"(UTC-04:00) Boa Vista"},{Value:"America/Caracas",Text:"(UTC-04:00) Caracas"},{Value:"America/Curacao",Text:"(UTC-04:00) Curacao"},{Value:"America/Grand_Turk",Text:"(UTC-04:00) Grand Turk"},{Value:"America/Guyana",Text:"(UTC-04:00) Guyana"},{Value:"America/La_Paz",Text:"(UTC-04:00) La Paz"},{Value:"America/Manaus",Text:"(UTC-04:00) Manaus"},{Value:"America/Martinique",Text:"(UTC-04:00) Martinique"},{Value:"America/Port_of_Spain",Text:"(UTC-04:00) Port of Spain"},{Value:"America/Porto_Velho",Text:"(UTC-04:00) Porto Velho"},{Value:"America/Puerto_Rico",Text:"(UTC-04:00) Puerto Rico"},{Value:"America/Santo_Domingo",Text:"(UTC-04:00) Santo Domingo"},{Value:"America/Thule",Text:"(UTC-04:00) Thule"},{Value:"America/St_Johns",Text:"(UTC-03:30) Newfoundland Time - St. Johns"},{Value:"America/Araguaina",Text:"(UTC-03:00) Araguaina"},{Value:"America/Asuncion",Text:"(UTC-03:00) Asuncion"},{Value:"America/Belem",Text:"(UTC-03:00) Belem"},{Value:"America/Argentina/Buenos_Aires",Text:"(UTC-03:00) Buenos Aires"},{Value:"America/Campo_Grande",Text:"(UTC-03:00) Campo Grande"},{Value:"America/Cayenne",Text:"(UTC-03:00) Cayenne"},{Value:"America/Cuiaba",Text:"(UTC-03:00) Cuiaba"},{Value:"America/Fortaleza",Text:"(UTC-03:00) Fortaleza"},{Value:"America/Godthab",Text:"(UTC-03:00) Godthab"},{Value:"America/Maceio",Text:"(UTC-03:00) Maceio"},{Value:"America/Miquelon",Text:"(UTC-03:00) Miquelon"},{Value:"America/Montevideo",Text:"(UTC-03:00) Montevideo"},{Value:"Antarctica/Palmer",Text:"(UTC-03:00) Palmer"},{Value:"America/Paramaribo",Text:"(UTC-03:00) Paramaribo"},{Value:"America/Punta_Arenas",Text:"(UTC-03:00) Punta Arenas"},{Value:"America/Recife",Text:"(UTC-03:00) Recife"},{Value:"Antarctica/Rothera",Text:"(UTC-03:00) Rothera"},{Value:"America/Bahia",Text:"(UTC-03:00) Salvador"},{Value:"America/Santiago",Text:"(UTC-03:00) Santiago"},{Value:"Atlantic/Stanley",Text:"(UTC-03:00) Stanley"},{Value:"America/Noronha",Text:"(UTC-02:00) Noronha"},{Value:"America/Sao_Paulo",Text:"(UTC-02:00) Sao Paulo"},{Value:"Atlantic/South_Georgia",Text:"(UTC-02:00) South Georgia"},{Value:"Atlantic/Azores",Text:"(UTC-01:00) Azores"},{Value:"Atlantic/Cape_Verde",Text:"(UTC-01:00) Cape Verde"},{Value:"America/Scoresbysund",Text:"(UTC-01:00) Scoresbysund"},{Value:"Africa/Abidjan",Text:"(UTC+00:00) Abidjan"},{Value:"Africa/Accra",Text:"(UTC+00:00) Accra"},{Value:"Africa/Bissau",Text:"(UTC+00:00) Bissau"},{Value:"Atlantic/Canary",Text:"(UTC+00:00) Canary Islands"},{Value:"Africa/Casablanca",Text:"(UTC+00:00) Casablanca"},{Value:"America/Danmarkshavn",Text:"(UTC+00:00) Danmarkshavn"},{Value:"Europe/Dublin",Text:"(UTC+00:00) Dublin"},{Value:"Africa/El_Aaiun",Text:"(UTC+00:00) El Aaiun"},{Value:"Atlantic/Faroe",Text:"(UTC+00:00) Faeroe"},{Value:"Etc/UTC",Text:"(UTC+00:00) UTC (no daylight saving)"},{Value:"Europe/Lisbon",Text:"(UTC+00:00) Lisbon"},{Value:"Europe/London",Text:"(UTC+00:00) London"},{Value:"Africa/Monrovia",Text:"(UTC+00:00) Monrovia"},{Value:"Atlantic/Reykjavik",Text:"(UTC+00:00) Reykjavik"},{Value:"UTC",Text:"UTC"},{Value:"Africa/Algiers",Text:"(UTC+01:00) Algiers"},{Value:"Europe/Amsterdam",Text:"(UTC+01:00) Amsterdam"},{Value:"Europe/Andorra",Text:"(UTC+01:00) Andorra"},{Value:"Europe/Berlin",Text:"(UTC+01:00) Berlin"},{Value:"Europe/Brussels",Text:"(UTC+01:00) Brussels"},{Value:"Europe/Budapest",Text:"(UTC+01:00) Budapest"},{Value:"Europe/Belgrade",Text:"(UTC+01:00) Central European Time - Belgrade"},{Value:"Europe/Prague",Text:"(UTC+01:00) Central European Time - Prague"},{Value:"Africa/Ceuta",Text:"(UTC+01:00) Ceuta"},{Value:"Europe/Copenhagen",Text:"(UTC+01:00) Copenhagen"},{Value:"Europe/Gibraltar",Text:"(UTC+01:00) Gibraltar"},{Value:"Africa/Lagos",Text:"(UTC+01:00) Lagos"},{Value:"Europe/Luxembourg",Text:"(UTC+01:00) Luxembourg"},{Value:"Europe/Madrid",Text:"(UTC+01:00) Madrid"},{Value:"Europe/Malta",Text:"(UTC+01:00) Malta"},{Value:"Europe/Monaco",Text:"(UTC+01:00) Monaco"},{Value:"Africa/Ndjamena",Text:"(UTC+01:00) Ndjamena"},{Value:"Europe/Oslo",Text:"(UTC+01:00) Oslo"},{Value:"Europe/Paris",Text:"(UTC+01:00) Paris"},{Value:"Europe/Rome",Text:"(UTC+01:00) Rome"},{Value:"Europe/Stockholm",Text:"(UTC+01:00) Stockholm"},{Value:"Europe/Tirane",Text:"(UTC+01:00) Tirane"},{Value:"Africa/Tunis",Text:"(UTC+01:00) Tunis"},{Value:"Europe/Vienna",Text:"(UTC+01:00) Vienna"},{Value:"Europe/Warsaw",Text:"(UTC+01:00) Warsaw"},{Value:"Europe/Zurich",Text:"(UTC+01:00) Zurich"},{Value:"Asia/Amman",Text:"(UTC+02:00) Amman"},{Value:"Europe/Athens",Text:"(UTC+02:00) Athens"},{Value:"Asia/Beirut",Text:"(UTC+02:00) Beirut"},{Value:"Europe/Bucharest",Text:"(UTC+02:00) Bucharest"},{Value:"Africa/Cairo",Text:"(UTC+02:00) Cairo"},{Value:"Europe/Chisinau",Text:"(UTC+02:00) Chisinau"},{Value:"Asia/Damascus",Text:"(UTC+02:00) Damascus"},{Value:"Asia/Gaza",Text:"(UTC+02:00) Gaza"},{Value:"Europe/Helsinki",Text:"(UTC+02:00) Helsinki"},{Value:"Asia/Jerusalem",Text:"(UTC+02:00) Jerusalem"},{Value:"Africa/Johannesburg",Text:"(UTC+02:00) Johannesburg"},{Value:"Africa/Khartoum",Text:"(UTC+02:00) Khartoum"},{Value:"Europe/Kiev",Text:"(UTC+02:00) Kiev"},{Value:"Africa/Maputo",Text:"(UTC+02:00) Maputo"},{Value:"Europe/Kaliningrad",Text:"(UTC+02:00) Moscow-01 - Kaliningrad"},{Value:"Asia/Nicosia",Text:"(UTC+02:00) Nicosia"},{Value:"Europe/Riga",Text:"(UTC+02:00) Riga"},{Value:"Europe/Sofia",Text:"(UTC+02:00) Sofia"},{Value:"Europe/Tallinn",Text:"(UTC+02:00) Tallinn"},{Value:"Africa/Tripoli",Text:"(UTC+02:00) Tripoli"},{Value:"Europe/Vilnius",Text:"(UTC+02:00) Vilnius"},{Value:"Africa/Windhoek",Text:"(UTC+02:00) Windhoek"},{Value:"Asia/Baghdad",Text:"(UTC+03:00) Baghdad"},{Value:"Europe/Istanbul",Text:"(UTC+03:00) Istanbul"},{Value:"Europe/Minsk",Text:"(UTC+03:00) Minsk"},{Value:"Europe/Moscow",Text:"(UTC+03:00) Moscow+00 - Moscow"},{Value:"Africa/Nairobi",Text:"(UTC+03:00) Nairobi"},{Value:"Asia/Qatar",Text:"(UTC+03:00) Qatar"},{Value:"Asia/Riyadh",Text:"(UTC+03:00) Riyadh"},{Value:"Antarctica/Syowa",Text:"(UTC+03:00) Syowa"},{Value:"Asia/Tehran",Text:"(UTC+03:30) Tehran"},{Value:"Asia/Baku",Text:"(UTC+04:00) Baku"},{Value:"Asia/Dubai",Text:"(UTC+04:00) Dubai"},{Value:"Indian/Mahe",Text:"(UTC+04:00) Mahe"},{Value:"Indian/Mauritius",Text:"(UTC+04:00) Mauritius"},{Value:"Europe/Samara",Text:"(UTC+04:00) Moscow+01 - Samara"},{Value:"Indian/Reunion",Text:"(UTC+04:00) Reunion"},{Value:"Asia/Tbilisi",Text:"(UTC+04:00) Tbilisi"},{Value:"Asia/Yerevan",Text:"(UTC+04:00) Yerevan"},{Value:"Asia/Kabul",Text:"(UTC+04:30) Kabul"},{Value:"Asia/Aqtau",Text:"(UTC+05:00) Aqtau"},{Value:"Asia/Aqtobe",Text:"(UTC+05:00) Aqtobe"},{Value:"Asia/Ashgabat",Text:"(UTC+05:00) Ashgabat"},{Value:"Asia/Dushanbe",Text:"(UTC+05:00) Dushanbe"},{Value:"Asia/Karachi",Text:"(UTC+05:00) Karachi"},{Value:"Indian/Kerguelen",Text:"(UTC+05:00) Kerguelen"},{Value:"Indian/Maldives",Text:"(UTC+05:00) Maldives"},{Value:"Antarctica/Mawson",Text:"(UTC+05:00) Mawson"},{Value:"Asia/Yekaterinburg",Text:"(UTC+05:00) Moscow+02 - Yekaterinburg"},{Value:"Asia/Tashkent",Text:"(UTC+05:00) Tashkent"},{Value:"Asia/Colombo",Text:"(UTC+05:30) Colombo"},{Value:"Asia/Kolkata",Text:"(UTC+05:30) India Standard Time"},{Value:"Asia/Katmandu",Text:"(UTC+05:45) Katmandu"},{Value:"Asia/Almaty",Text:"(UTC+06:00) Almaty"},{Value:"Asia/Bishkek",Text:"(UTC+06:00) Bishkek"},{Value:"Indian/Chagos",Text:"(UTC+06:00) Chagos"},{Value:"Asia/Dhaka",Text:"(UTC+06:00) Dhaka"},{Value:"Asia/Omsk",Text:"(UTC+06:00) Moscow+03 - Omsk"},{Value:"Asia/Thimphu",Text:"(UTC+06:00) Thimphu"},{Value:"Antarctica/Vostok",Text:"(UTC+06:00) Vostok"},{Value:"Indian/Cocos",Text:"(UTC+06:30) Cocos"},{Value:"Asia/Yangon",Text:"(UTC+06:30) Rangoon"},{Value:"Asia/Bangkok",Text:"(UTC+07:00) Bangkok"},{Value:"Indian/Christmas",Text:"(UTC+07:00) Christmas"},{Value:"Antarctica/Davis",Text:"(UTC+07:00) Davis"},{Value:"Asia/Saigon",Text:"(UTC+07:00) Hanoi"},{Value:"Asia/Hovd",Text:"(UTC+07:00) Hovd"},{Value:"Asia/Jakarta",Text:"(UTC+07:00) Jakarta"},{Value:"Asia/Krasnoyarsk",Text:"(UTC+07:00) Moscow+04 - Krasnoyarsk"},{Value:"Asia/Brunei",Text:"(UTC+08:00) Brunei"},{Value:"Asia/Shanghai",Text:"(UTC+08:00) China Time - Beijing"},{Value:"Asia/Choibalsan",Text:"(UTC+08:00) Choibalsan"},{Value:"Asia/Hong_Kong",Text:"(UTC+08:00) Hong Kong"},{Value:"Asia/Kuala_Lumpur",Text:"(UTC+08:00) Kuala Lumpur"},{Value:"Asia/Macau",Text:"(UTC+08:00) Macau"},{Value:"Asia/Makassar",Text:"(UTC+08:00) Makassar"},{Value:"Asia/Manila",Text:"(UTC+08:00) Manila"},{Value:"Asia/Irkutsk",Text:"(UTC+08:00) Moscow+05 - Irkutsk"},{Value:"Asia/Singapore",Text:"(UTC+08:00) Singapore"},{Value:"Asia/Taipei",Text:"(UTC+08:00) Taipei"},{Value:"Asia/Ulaanbaatar",Text:"(UTC+08:00) Ulaanbaatar"},{Value:"Australia/Perth",Text:"(UTC+08:00) Western Time - Perth"},{Value:"Asia/Pyongyang",Text:"(UTC+08:30) Pyongyang"},{Value:"Asia/Dili",Text:"(UTC+09:00) Dili"},{Value:"Asia/Jayapura",Text:"(UTC+09:00) Jayapura"},{Value:"Asia/Yakutsk",Text:"(UTC+09:00) Moscow+06 - Yakutsk"},{Value:"Pacific/Palau",Text:"(UTC+09:00) Palau"},{Value:"Asia/Seoul",Text:"(UTC+09:00) Seoul"},{Value:"Asia/Tokyo",Text:"(UTC+09:00) Tokyo"},{Value:"Australia/Darwin",Text:"(UTC+09:30) Central Time - Darwin"},{Value:"Antarctica/DumontDUrville",Text:'(UTC+10:00) Dumont D"Urville'},{Value:"Australia/Brisbane",Text:"(UTC+10:00) Eastern Time - Brisbane"},{Value:"Pacific/Guam",Text:"(UTC+10:00) Guam"},{Value:"Asia/Vladivostok",Text:"(UTC+10:00) Moscow+07 - Vladivostok"},{Value:"Pacific/Port_Moresby",Text:"(UTC+10:00) Port Moresby"},{Value:"Pacific / Chuuk",Text:"(UTC+10:00) Truk"},{Value:"Australia/Adelaide",Text:"(UTC+10:30) Central Time - Adelaide"},{Value:"Antarctica/Casey",Text:"(UTC+11:00) Casey"},{Value:"Australia/Hobart",Text:"(UTC+11:00) Eastern Time - Hobart"},{Value:"Australia/Sydney",Text:"(UTC+11:00) Eastern Time - Melbourne, Sydney"},{Value:"Pacific/Efate",Text:"(UTC+11:00) Efate"},{Value:"Pacific/Guadalcanal",Text:"(UTC+11:00) Guadalcanal"},{Value:"Pacific/Kosrae",Text:"(UTC+11:00) Kosrae"},{Value:"Asia/Magadan",Text:"(UTC+11:00) Moscow+08 - Magadan"},{Value:"Pacific / Norfolk",Text:"(UTC+11:00) Norfolk"},{Value:"Pacific/Noumea",Text:"(UTC+11:00) Noumea"},{Value:"Pacific/Pohnpei",Text:"(UTC+11:00) Ponape"},{Value:"Pacific/Funafuti",Text:"(UTC+12:00) Funafuti"},{Value:"Pacific/Kwajalein",Text:"(UTC+12:00) Kwajalein"},{Value:"Pacific/Majuro",Text:"(UTC+12:00) Majuro"},{Value:"Asia/Kamchatka",Text:"(UTC+12:00) Moscow+09 - Petropavlovsk - Kamchatskiy"},{Value:"Pacific / Nauru",Text:"(UTC+12:00) Nauru"},{Value:"Pacific/Tarawa",Text:"(UTC+12:00) Tarawa"},{Value:"Pacific/Wake",Text:"(UTC+12:00) Wake"},{Value:"Pacific/Wallis",Text:"(UTC+12:00) Wallis"},{Value:"Pacific/Auckland",Text:"(UTC+13:00) Auckland"},{Value:"Pacific/Enderbury",Text:"(UTC+13:00) Enderbury"},{Value:"Pacific/Fakaofo",Text:"(UTC+13:00) Fakaofo"},{Value:"Pacific/Fiji",Text:"(UTC+13:00) Fiji"},{Value:"Pacific/Tongatapu",Text:"(UTC+13:00) Tongatapu"},{Value:"Pacific/Apia",Text:"(UTC+14:00) Apia"},{Value:"Pacific/Kiritimati",Text:"(UTC+14:00) Kiritimati"}];function Q6(r,t,e){var i="";if(r.monthDay.length)i+=r.monthDay[0];else if(r.day){var n=r.setPosition-1;i+=e.getConstant(i8[n>-1?n:i8.length-1])+" "+Di(_(n8[r.day[0]],t),"single")}return i}function M1(r,t,e,i,n,s,a,o){void 0===n&&(n=J0e),void 0===s&&(s=null),void 0===a&&(a="Gregorian"),void 0===o&&(o=null);var h,l=k1(t);Qe=N1(a);var c=[],d=new Date(r.getTime());DS=[];var p=u(e)?[]:e.split(","),f=new q6;if(p.forEach(function(g){var y=CS(g);o&&(y=f.add(new Date(y.getTime()),o)),DS.push(new Date(y.getTime()).setHours(0,0,0,0))}),l.recExceptionCount=u(l.count)?0:DS.length,Dd=s&&s>r&&!l.count?new Date(new Date(s.getTime()).setHours(0,0,0)):null,!l.until&&Dd&&((h=new Date(Dd.getTime())).setDate(Dd.getDate()+n*l.interval),l.until=h),l.until&&r>l.until)return c;if(t8=n,function(r){for(;iu[0]!==r;)X0e(iu)}(ts[parseInt(i.toString(),10)]),l.until){var m=ie(l.until);l.until=new Date(m.getFullYear(),m.getMonth(),m.getDate(),23,59,59)}switch(l.freq){case"DAILY":!function(r,t,e,i){for(var n=new Date(r.getTime()),s=i.interval,a=Ll(r,i),l=i.day;ao(n,t)&&!(ES(n,i)&&(l.indexOf(ts[n.getDay()])>-1||0===l.length)&&(T1(e,n.getTime()),a&&e.length+i.recExceptionCount>=a));)n.setDate(n.getDate()+s),n.getHours()!==r.getHours()&&n.setHours(r.getHours())}(d,l.until,c,l);break;case"WEEKLY":!function(r,t,e,i){var n=new Date(r.getTime());i.day.length||i.day.push(ts[r.getDay()]);var h,s=i.interval,a=i.day,o=Ll(r,i),l=!0,c=[];if(a.length>1)for((u(i.wkst)||""===i.wkst)&&(i.wkst=iu[0]),h=ts.indexOf(i.wkst);ao(n,t);){var d=ts.indexOf(ts[n.getDay()])-h,p=Ee(n,-(d=-1===d?6:d)),f=Ee(p,6),m=new Date(n.getTime());for(f=ie(f),m=ie(m);f>=m&&(a.indexOf(ts[n.getDay()])>-1&&c.push([n.getTime()]),!(o&&e.length+i.recExceptionCount>=o));)n.setDate(n.getDate()+1),n.getHours()!==r.getHours()&&n.setHours(r.getHours()),m=ie(m=new Date(n.getTime()));if(n.setDate(n.getDate()-1),o&&e.length+i.recExceptionCount>=o)break;n.setDate(n.getDate()+1+7*(s-1)),I1(c,l,r,t,e,i),c=[]}else{for(n=vs(r,i.day);ao(n,t)&&((l=ES(n,i))&&a.indexOf(ts[n.getDay()])>-1&&T1(e,n.getTime()),!(o&&e.length+i.recExceptionCount>=o));)n.setDate(n.getDate()+7*s);I1(c,l,r,t,e,i),c=[]}}(d,l.until,c,l);break;case"MONTHLY":G6(d,l.until,c,l);break;case"YEARLY":!function(r,t,e,i){switch(function(r){return r.yearDay.length?"YEARDAY":r.weekNo.length?"WEEKNO":"MONTH"}(i)){case"MONTH":G6(r,t,e,i);break;case"WEEKNO":!function(r,t,e,i){for(var s,o,h,d,p,f,n=Qe.getYearLastDate(r,0),a=Ll(r,i),c=i.weekNo,m=[],g=i.day;ao(n,t);){h=6-iu.indexOf(ts[n.getDay()])+1;for(var y=0;y<c.length;y++)for(p=1===(d=(d=c[parseInt(y.toString(),10)])>0?d:53+d+1)?h:h+7*(d-1),f=1===d?h-7:h+7*(d-2);f<p;)s=new Date(n.getTime()+Hi*f),(0===g.length||g.indexOf(ts[s.getDay()])>-1)&&(u(i.setPosition)?Ny(o,r,t,e,i,s.getTime()):m.push([s.getTime()])),f++;if(u(i.setPosition)||tu(m,o,r,t,e,i),a&&e.length+i.recExceptionCount>=a)return;n=Qe.getYearLastDate(s,i.interval),m=[]}}(r,t,e,i);break;case"YEARDAY":!function(r,t,e,i){for(var s,o,h,n=Qe.getYearLastDate(r,0),a=Ll(r,i),l=[],c=i.day;ao(n,t);){for(var d=0;d<i.yearDay.length;d++)h=i.yearDay[parseInt(d.toString(),10)],s=new Date(n.getTime()),h!==Qe.getLeapYearDaysCount()&&h!==-Qe.getLeapYearDaysCount()||Qe.isLeapYear(Qe.getFullYear(s),1)?(s.setDate(s.getDate()+(h<0?Qe.getYearDaysCount(s,1)+1+h:h)),(0===c.length||c.indexOf(ts[s.getDay()])>-1)&&(null==i.setPosition?Ny(o,r,t,e,i,s.getTime()):l.push([s.getTime()]))):s.setDate(s.getDate()+1);if(u(i.setPosition)||tu(l,o,r,t,e,i),a&&e.length+i.recExceptionCount>=a)return;n=Qe.getYearLastDate(s,i.interval),l=[]}}(r,t,e,i)}}(d,l.until,c,l)}return c}function CS(r){return new Date(r.substr(0,4)+"-"+r.substr(4,2)+"-"+r.substr(6,5)+":"+r.substr(11,2)+":"+r.substr(13))}function T1(r,t){var e=new Date(t).setHours(0,0,0,0);-1===DS.indexOf(e)&&(!Dd||e>=Dd.getTime())&&r.push(t)}function Ll(r,t){var e=t8;return t.count?e=t.count:t.until&&("DAILY"===t.freq||"WEEKLY"===t.freq?e=Math.floor((t.until.getTime()-r.getTime())/Hi)+1:("MONTHLY"===t.freq||"YEARLY"===t.freq)&&(e=Math.floor((t.until.getMonth()+12*t.until.getFullYear()-(r.getMonth()+12*r.getFullYear()))/t.interval)+(t.day.length>1?Math.floor((t.until.getTime()-r.getTime())/Hi)+1:1),"YEARLY"===t.freq&&(e=t.month.length>1?e*t.month.length:e))),e}function G6(r,t,e,i){i.month.length||i.day.length||i.monthDay.length?i.month.length>0&&!i.day.length&&!i.monthDay.length&&i.monthDay.push(r.getDate()):(i.monthDay.push(r.getDate()),"YEARLY"===i.freq&&i.month.push(r.getMonth()+1));var n=function(r){return r.monthDay.length&&!r.day.length?"date":!r.monthDay.length&&r.day.length?"day":"both"}(i);switch(n){case"day":switch(i.freq){case"MONTHLY":Z6(r,t,e,i);break;case"YEARLY":!function(r,t,e,i){var n=i.day,s=n.map(function(p){return R1.test(p)});if(n.length>1&&s.indexOf(!0)>-1)!function(r,t,e,i){var c,d,f,m,n=i.day,s=Ll(r,i),a=new Date(r.getTime()),o=i.interval,l=[],h=[],p=0;a=Qe.getMonthStartDate(a);var y=[];for(i.month.length&&Qe.setMonth(a,i.month[0],1),a=vs(a,i.day);ao(a,t);){f=new Date(a.getTime());for(var C=0;C<=i.month.length;C++)for(var E=0;E<=n.length-1;E++){for(a=vs(a=Qe.getMonthStartDate(a),i.day),l=[];Qe.isSameYear(f,a)&&s&&e.length+i.recExceptionCount<=s;)for(;Qe.isSameYear(f,a);){if(f=new Date(a.getTime()),0===i.month.length||i.month.length>0&&i.month[parseInt(C.toString(),10)]===Qe.getMonth(f)){var S=n[parseInt(E.toString(),10)].match(SS),w=parseInt(S[0],10);for(m=new Date(a.getTime());Qe.isSameYear(m,a)&&Qe.isSameMonth(m,a);)S[S.length-1]===ts[m.getDay()]&&l.push([m.getTime()]),m.setDate(m.getDate()+1);m.setDate(m.getDate()-1),c=S[0].indexOf("-")>-1?l.length- -1*w:w-1,c=isNaN(c)?0:c}p=Ed(a,i,p,undefined,1),a=vs(a,i.day)}if(a=0===E&&m?new Date(m.getTime()):new Date(f.getTime()),l.length>0&&(u(i.setPosition)?tu(l,d,r,t,e,i,c):h=[x1(l,c,y)]),s&&e.length+i.recExceptionCount>=s)return}u(i.setPosition)||(O1(h,d,r,t,e,i),y=[]),Qe.isLastMonth(a)?(Qe.setValidDate(a,1,1),a.setFullYear(a.getFullYear()+o-1)):a.setFullYear(a.getFullYear()+o),a=vs(a,i.day),i.month.length&&Qe.setMonth(a,i.month[0],a.getDate())}}(r,t,e,i);else if(i.month.length&&1===n.length&&s.indexOf(!0)>-1)Z6(r,t,e,i);else{var o,a=new Date(r.getTime()),l=Ll(r,i),h=i.interval,c=[];for(i.month.length&&Qe.setMonth(a,i.month[0],a.getDate()),u(i.setPosition)&&0===i.month.length&&0===i.weekNo.length&&a.setFullYear(r.getFullYear(),0,1),a=vs(a=Qe.getMonthStartDate(a),i.day);ao(a,t);){for(o=new Date(a.getTime());Qe.isSameYear(o,a)&&l&&e.length+i.recExceptionCount<=l;)for(o=new Date(a.getTime());Qe.isSameYear(o,a);){if(!(0===i.month.length||i.month.length>0&&!Qe.checkMonth(a,i.month))){Qe.setValidDate(a,1,1),a=vs(a,i.day);break}if(n.length>1){if(Qe.compareMonth(o,a)){Qe.setValidDate(a,1,1),a=vs(a,i.day);break}n.indexOf(ts[o.getDay()])>-1&&c.push([o.getTime()]),o.setDate(o.getDate()+1)}else{if(o.getFullYear()>a.getFullYear()){Qe.setValidDate(a,1,1),a=vs(a,i.day);break}var d=e8(n[0]);ts[o.getDay()]===d&&new Date(o.getFullYear(),o.getMonth(),0)>new Date(r.getFullYear())&&c.push([o.getTime()]),o.setDate(o.getDate()+7)}}if(a.setFullYear(o.getFullYear(),o.getMonth(),o.getDate()),J6(c,r,t,e,i),Qe.isLastMonth(a)&&(Qe.setValidDate(a,1,1),a=vs(a,i.day)),a.setFullYear(a.getFullYear()+h-1),l&&e.length+i.recExceptionCount>=l)return;a=vs(a,i.day),c=[]}}}(r,t,e,i)}break;case"both":case"date":switch(i.freq){case"MONTHLY":K6(r,t,e,i);break;case"YEARLY":!function(r,t,e,i){if(i.month.length)K6(r,t,e,i);else{var s,n=$6(r,i);for(n.tempDate=n.mainDate=Qe.getMonthStartDate(n.tempDate);ao(n.tempDate,t);){for(s=new Date(n.tempDate.getTime());Qe.isSameYear(s,n.tempDate)&&n.expectedCount&&e.length+i.recExceptionCount<=n.expectedCount;){if(!(0===i.month.length||i.month.length>0&&!Qe.checkMonth(n.tempDate,i.month))){Qe.setValidDate(n.tempDate,1,1),n.tempDate=vs(n.tempDate,i.day);break}X6(i,n,t,!1),n.beginDate=new Date(n.tempDate.getTime()),n.monthInit=Ed(n.tempDate,i,n.monthInit,n.beginDate)}if(n.tempDate.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()),I1(n.dateCollection,n.state,r,t,e,i),Qe.isLastMonth(n.tempDate)&&(Qe.setValidDate(n.tempDate,1,1),n.tempDate=vs(n.tempDate,i.day)),n.expectedCount&&e.length+i.recExceptionCount>=n.expectedCount)return;n.tempDate.setFullYear(n.tempDate.getFullYear()+i.interval-1),n.tempDate=vs(n.tempDate,i.day),n.monthInit=Ed(n.tempDate,i,n.monthInit,n.beginDate),n.dateCollection=[]}}}(r,t,e,i)}}}function $6(r,t){var e={monthCollection:[],index:0,tempDate:new Date(r.getTime()),mainDate:new Date(r.getTime()),expectedCount:Ll(r,t),monthInit:0,dateCollection:[]};return t.month.length&&Qe.setMonth(e.tempDate,t.month[0],e.tempDate.getDate()),e}function K6(r,t,e,i){var n=$6(r,i);if(n.tempDate=n.mainDate=Qe.getMonthStartDate(n.tempDate),!(("MONTHLY"===i.freq&&12===i.interval||"YEARLY"===i.freq)&&Qe.getMonthDaysCount(r)<i.monthDay[0]))for(;ao(n.tempDate,t);){if(n.beginDate=new Date(n.tempDate.getTime()),X6(i,n,t,!0,r,e),u(i.setPosition)||tu(n.dateCollection,n.state,r,t,e,i),n.expectedCount&&e.length+i.recExceptionCount>=n.expectedCount)return;n.monthInit=Ed(n.tempDate,i,n.monthInit,n.beginDate),n.dateCollection=[]}}function X6(r,t,e,i,n,s){for(var a=0;a<r.monthDay.length;a++){t.date=r.monthDay[parseInt(a.toString(),10)],t.tempDate=Qe.getMonthStartDate(t.tempDate);var o=Qe.getMonthDaysCount(t.tempDate);if(t.date=t.date>0?t.date:o+t.date+1,q0e(t.tempDate,t.date,t.mainDate)&&t.date>0){if(Qe.setDate(t.tempDate,t.date),e&&t.tempDate>e)return;(0===r.day.length||r.day.indexOf(ts[t.tempDate.getDay()])>-1)&&(i&&u(r.setPosition)&&t.expectedCount&&s.length+r.recExceptionCount<t.expectedCount?Ny(t.state,n,e,s,r,t.tempDate.getTime()):t.dateCollection.push([t.tempDate.getTime()]))}}}function Ed(r,t,e,i,n){void 0===i&&(i=null);var s=i?i.getMonth():0,a=Qe.getMonthStartDate(r);return n=u(n)?t.interval:n,r.setFullYear(a.getFullYear()),r.setMonth(a.getMonth()),r.setDate(a.getDate()),t.month.length?(e++,e%=t.month.length,Qe.setMonth(r,t.month[parseInt(e.toString(),10)],1),0===e&&Qe.addYears(r,n,t.month[0])):(i&&i.getFullYear()<r.getFullYear()&&(s=r.getMonth()-1),Qe.setValidDate(r,n,1,s,i)),e}function Z6(r,t,e,i){if(i.day.length>1)!function(r,t,e,i){var n=i.day,s=new Date(r.getTime());s=Qe.getMonthStartDate(s);var h,c,f,a=[],o=[],l=[],d=Ll(r,i),p=0;for(i.month.length&&Qe.setMonth(s,i.month[0],1),s=vs(s,i.day);ao(s,t)&&d&&e.length+i.recExceptionCount<d;){var m=new Date(s.getTime());if(n.map(function(J){return R1.test(J)}).indexOf(!0)>-1){for(var y=0;y<=n.length-1;y++){var C=n[parseInt(y.toString(),10)].match(SS),E=parseInt(C[0],10);for(s=new Date(s.getTime()),s=vs(s=Qe.getMonthStartDate(s),n),m.setFullYear(s.getFullYear(),s.getMonth(),s.getDate());Qe.isSameYear(m,s)&&Qe.isSameMonth(m,s);)C[C.length-1]===ts[m.getDay()]&&a.push([m.getTime()]),m.setDate(m.getDate()+1);if(m.setDate(m.getDate()-1),h=C[0].indexOf("-")>-1?a.length- -1*E:E-1,h=isNaN(h)?0:h,a.length>0&&(u(i.setPosition)?tu(a,c,r,t,e,i,h):o=[x1(a,h,l)]),d&&e.length+i.recExceptionCount>=d)return;a=[]}u(i.setPosition)||(O1(o,c,r,t,e,i),l=[]),p=Ed(s,i,p,f),s=vs(s,i.day),a=[]}else{var S=[],w=Y0e(n);m.setFullYear(s.getFullYear(),s.getMonth(),s.getDate());var A=new Date(s.getTime());for(f=new Date(s.getTime());Qe.isSameMonth(A,s);)S.push(s.getTime()),n.indexOf(ts[s.getDay()])>-1&&(a.push(S),S=[]),s.setDate(s.getDate()+w[ts[s.getDay()]]);if(h=i.setPosition<1?a.length+i.setPosition:i.setPosition-1,u(i.setPosition)){h=0;for(var T=[],k=0;k<a.length;k++)for(var j=0;j<a[parseInt(k.toString(),10)].length;j++)T.push(a[parseInt(k.toString(),10)][parseInt(j.toString(),10)]);a=[T]}if(a.length>0&&tu(a,c,r,t,e,i,h),d&&e.length+i.recExceptionCount>=d)return;p=Ed(s,i,p,f),s=vs(s,i.day),a=[]}}}(r,t,e,i);else{var l,s=new Date(r.getTime()),a=Ll(r,i),o=[],h=0;for(s=Qe.getMonthStartDate(s),i.month.length&&Qe.setMonth(s,i.month[0],1),s=vs(s,i.day);ao(s,t)&&a&&e.length+i.recExceptionCount<a;){l=new Date(s.getTime());for(var c=new Date(s.getTime());Qe.isSameMonth(s,c);)o.push([c.getTime()]),c.setDate(c.getDate()+7);J6(o,r,t,e,i),h=Ed(s,i,h,l),s=vs(s,i.day),o=[]}}}function I1(r,t,e,i,n,s){var a=s.setPosition<1?r.length+s.setPosition:s.setPosition-1;u(s.setPosition)&&(a=0,r=A1(r)),r.length>0&&tu(r,t,e,i,n,s,a)}function A1(r){for(var t=[],e=0;e<r.length;e++)for(var i=0;i<r[parseInt(e.toString(),10)].length;i++)t.push(new Date(r[parseInt(e.toString(),10)][parseInt(i.toString(),10)]).getTime());return t.length>0?[t]:[]}function J6(r,t,e,i,n){var a,o=[],h=function(r,t){var e,i={monthCollection:[],index:0};if(1===t.length){var n=t[0].match(SS),s=void 0;n.length>1?e=(s=parseInt(n[0],10))<1?r.length+s:s-1:(e=0,r=A1(r))}else e=0,r=A1(r);return i.monthCollection=r,i.index=e,i}(r,n.day);r=h.monthCollection;var c=h.index;null!=n.setPosition?O1([x1(r,c,o)],a,t,e,i,n):r.length>0&&tu(r,a,t,e,i,n,c),o=[]}function x1(r,t,e){for(var i=0;i<r[parseInt(t.toString(),10)].length;i++)e.push(r[parseInt(t.toString(),10)][parseInt(i.toString(),10)]);return e}function Ny(r,t,e,i,n,s){var a=Ll(t,n),o=new Date(s);r=ES(o,n),o>=t&&ao(o,e)&&r&&a&&i.length+n.recExceptionCount<a&&T1(i,s)}function U0e(r,t,e,i,n){var s=t||0,a=new Date(r,n.month[0]-1,1),l=new Date(r,n.month[0],0).getDate(),h=(a.getDay()-s+7)%7,d=Math.ceil((h+l)/7)-1,p=e[parseInt(i.toString(),10)][parseInt(d.toString(),10)];return ES(new Date(p),n)?d:d-1}function O1(r,t,e,i,n,s){if(r.length>0)for(var a=0;a<r.length;a++){r[parseInt(a.toString(),10)].sort();var l=s.day.map(function(p){return R1.test(p)}),h="YEARLY"===s.freq&&s.validRules.indexOf("BYMONTH")>-1&&!(l.indexOf(!0)>-1)?U0e(new Date(r[0][0]).getFullYear(),0,r,a,s):r[parseInt(a.toString(),10)].length+s.setPosition,c=s.setPosition<1?h:s.setPosition-1;Ny(t,e,i,n,s,r[parseInt(a.toString(),10)][parseInt(c.toString(),10)])}}function tu(r,t,e,i,n,s,a){if(r.length>0){a=u(a)?s.setPosition<1?r.length+s.setPosition:s.setPosition-1:a,r[parseInt(a.toString(),10)].sort();for(var o=0;o<r[parseInt(a.toString(),10)].length;o++)Ny(t,e,i,n,s,r[parseInt(a.toString(),10)][parseInt(o.toString(),10)])}}function ao(r,t){return!t||r<=t}function e8(r){return r.replace(oCe,"")}function vs(r,t){var i,e=new Date(r.getTime());if(t.length>0){for(var n=[],s=0;s<=t.length-1;s++)i=e8(t[parseInt(s.toString(),10)]),n.push(i);if(-1===n.indexOf(ts[e.getDay()]))do{e.setDate(e.getDate()+1)}while(-1===n.indexOf(ts[e.getDay()]))}return e}function k1(r){var t={freq:null,interval:1,count:null,until:null,day:[],wkst:null,month:[],weekNo:[],monthDay:[],yearDay:[],setPosition:null,validRules:[]},e=r.split(";"),i=[];if(e.forEach(function(a){switch((i=a.split("="))[0]){case"UNTIL":t.until=CS(i[1]);break;case"BYDAY":t.day=i[1].split(","),t.validRules.push(i[0]);break;case"BYMONTHDAY":t.monthDay=i[1].split(",").map(Number),t.validRules.push(i[0]);break;case"BYMONTH":t.month=i[1].split(",").map(Number),t.validRules.push(i[0]);break;case"BYYEARDAY":t.yearDay=i[1].split(",").map(Number),t.validRules.push(i[0]);break;case"BYWEEKNO":t.weekNo=i[1].split(",").map(Number),t.validRules.push(i[0]);break;case"INTERVAL":t.interval=parseInt(i[1],10);break;case"COUNT":t.count=parseInt(i[1],10);break;case"BYSETPOS":t.setPosition=parseInt(i[1],10)>4?-1:parseInt(i[1],10);break;case"FREQ":t.freq=i[1];break;case"WKST":t.wkst=i[1]}}),"MONTHLY"===t.freq&&0===t.monthDay.length){var s=t.validRules.indexOf("BYDAY");t.validRules.splice(s,1)}return t}function q0e(r,t,e){return t<=Qe.getMonthDaysCount(r)&&r>=e}function Y0e(r){var t={};return r.forEach(function(e,i){if(i===r.length-1){for(var n=iu.indexOf(e),s=n;s%7!==iu.indexOf(r[0]);)s++;t[""+e]=s-n}else t[""+e]=iu.indexOf(r[i+1])-iu.indexOf(e)}),t}function X0e(r){var t=r.shift();r.push(t)}function ES(r,t){var e=!0,i=t.day,n=t.month,s=Qe.getExpectedDays(r,t.monthDay),a=t.yearDay;return t.validRules.forEach(function(o){switch(o){case"BYDAY":(function(r,t){var e=[];return t.forEach(function(i){var n=i.match(SS);e.push(2===n.length?n[1]:n[0])}),-1===e.indexOf(ts[parseInt(r.toString(),10)])})(r.getDay(),i)&&(e=!1);break;case"BYMONTH":Qe.checkMonth(r,n)&&(e=!1);break;case"BYMONTHDAY":(function(r,t){var i,e=t.slice(0),n=Qe.getMonthDaysCount(r);for(i=e.shift();i;){if(i<0&&(i=i+n+1),i===r.getDate())return!1;i=e.shift()}return!0})(r,s)&&(e=!1);break;case"BYYEARDAY":(function(r,t){var i,e=t.slice(0),n=function(r){_1[Qe.getFullYear(r)]||(_1[Qe.getFullYear(r)]=Qe.getYearLastDate(r,0));var t=_1[Qe.getFullYear(r)],e=r.getTime()-t.getTime();return Math.ceil(e/Hi)}(r);for(i=e.shift();i;){if(i<0&&(i=i+Qe.getYearDaysCount(r,0)+1),i===n)return!1;i=e.shift()}return!0})(r,a)&&(e=!1)}}),e}function N1(r){return"Islamic"===r?new W6:new U6}var DS,t8,Dd,Qe,_1={},iu=["SU","MO","TU","WE","TH","FR","SA"],ts=["SU","MO","TU","WE","TH","FR","SA"],J0e=43,i8=["first","second","third","fourth","last"],L1="summaryOn",n8={SU:"sun",MO:"mon",TU:"tue",WE:"wed",TH:"thu",FR:"fri",SA:"sat"},R1=/\d/,oCe=/[^A-Z]+/,SS=/[a-z]+|[^a-z]+/gi;function zh(r){return[r.getUTCFullYear(),_y(r.getUTCMonth()+1),_y(r.getUTCDate()),"T",_y(r.getUTCHours()),_y(r.getUTCMinutes()),_y(r.getUTCSeconds()),"Z"].join("")}function _y(r){return("0"+r).slice(-2)}var P1=function(){function r(t){this.slots=[],this.isDoubleTapped=!1,this.parent=t}return r.prototype.processData=function(t,e,i){var n=this,s=this.parent.activeView.startDate(),a=this.parent.activeView.endDate(),o=this.parent.eventFields,l=[],h=1,c=!1,d=this.parent.resourceBase?this.parent.resourceBase.resourceCollection:[];t.length>0&&u(t[0][o.id])&&(c=!0);for(var p=function(k){c&&(k[o.id]=h++),k=f.updateEventDateTime(k),e?f.processTimezoneChange(k,i):!f.parent.isPrinting&&!f.parent.uiStateValues.isPreventTimezone&&(k=f.processTimezone(k));for(var j=0;j<d.length;j++)(null===k[d[parseInt(j.toString(),10)].field]||0===k[d[parseInt(j.toString(),10)].field])&&(k[d[parseInt(j.toString(),10)].field]=void 0);if(!u(k[o.recurrenceRule])&&""===k[o.recurrenceRule]&&(k[o.recurrenceRule]=null),u(k[o.recurrenceRule])||!u(k[o.recurrenceID])||f.parent.crudModule&&f.parent.crudModule.crudObj.isCrudAction)if(f.parent.crudModule&&f.parent.crudModule.crudObj.isCrudAction)if(!u(k[o.recurrenceRule])&&u(k[o.recurrenceID]))for(var ne=function(B){var F=f.parent.eventsProcessed.filter(function(L){return L[o.startTime].getTime()-B[o.startTime].getTime()==0&&L[o.id]===B[o.id]});B.Guid=F.length>0?F[0].Guid:f.generateGuid(),l.push(B)},R=0,G=f.generateOccurrence(k,null,!0);R<G.length;R++)ne(G[R]);else{var V=f.parent.eventsProcessed.filter(function(B){return B[n.parent.eventFields.id]===k[n.parent.eventFields.id]});k.Guid=V.length>0?V[0].Guid:f.generateGuid(),l.push(k)}else k.Guid=f.generateGuid(),l.push(k);else l=l.concat(f.generateOccurrence(k,null,!0))},f=this,m=0,g=t;m<g.length;m++)p(g[m]);this.parent.eventsProcessed=[];var C=l.filter(function(k){return!k[n.parent.eventFields.isBlock]});this.parent.eventsProcessed=this.filterEvents(s,a,C);for(var E=l.filter(function(k){return k[n.parent.eventFields.isBlock]}),S=0,w=E;S<w.length;S++){var A=w[S];A[o.isAllDay]&&(ie(new Date(A[o.startTime].getTime()))<ie(new Date(A[o.endTime].getTime()))||(A[o.startTime]=ie(A[o.startTime]),A[o.endTime]=Ee(ie(A[o.endTime]),1)))}return this.parent.blockProcessed=E,C},r.prototype.updateEventDateTime=function(t){return"string"==typeof t[this.parent.eventFields.startTime]&&(t[this.parent.eventFields.startTime]=KY(t[this.parent.eventFields.startTime])),"string"==typeof t[this.parent.eventFields.endTime]&&(t[this.parent.eventFields.endTime]=KY(t[this.parent.eventFields.endTime])),t},r.prototype.getProcessedEvents=function(t){void 0===t&&(t=this.parent.eventsData);for(var e=[],i=0,n=t;i<n.length;i++){var s=n[i];!u(s[this.parent.eventFields.recurrenceRule])&&u(s[this.parent.eventFields.recurrenceID])?e=e.concat(this.generateOccurrence(s)):e.push(s)}return e},r.prototype.timezonePropertyChange=function(t){var e=this.parent.eventsData.concat(this.parent.blockData),i=this.processData(e,!0,t);this.parent.notify(wa,{processedData:i})},r.prototype.timezoneConvert=function(t){var e=this.parent.eventFields;if(t[e.startTimezone]=t[e.startTimezone]||t[e.endTimezone],t[e.endTimezone]=t[e.endTimezone]||t[e.startTimezone],this.parent.timezone){var n=t[e.endTimezone];t[e.startTime]=this.parent.tzModule.convert(t[e.startTime],this.parent.timezone,t[e.startTimezone]),t[e.endTime]=this.parent.tzModule.convert(t[e.endTime],this.parent.timezone,n)}},r.prototype.processTimezoneChange=function(t,e){var i=this.parent.eventFields;t[i.isAllDay]||(e&&this.parent.timezone?(t[i.startTime]=this.parent.tzModule.convert(t[i.startTime],e,this.parent.timezone),t[i.endTime]=this.parent.tzModule.convert(t[i.endTime],e,this.parent.timezone)):!e&&this.parent.timezone?(t[i.startTime]=this.parent.tzModule.add(t[i.startTime],this.parent.timezone),t[i.endTime]=this.parent.tzModule.add(t[i.endTime],this.parent.timezone)):e&&!this.parent.timezone&&(t[i.startTime]=this.parent.tzModule.remove(t[i.startTime],e),t[i.endTime]=this.parent.tzModule.remove(t[i.endTime],e)))},r.prototype.processTimezone=function(t,e){void 0===e&&(e=!1);var i=this.parent.eventFields;if(t[i.startTimezone]||t[i.endTimezone]){var n=t[i.startTimezone]||t[i.endTimezone],s=t[i.endTimezone]||t[i.startTimezone];e?this.parent.timezone?(t[i.startTime]=this.parent.tzModule.convert(t[i.startTime],n,this.parent.timezone),t[i.endTime]=this.parent.tzModule.convert(t[i.endTime],s,this.parent.timezone),t[i.startTime]=this.parent.tzModule.remove(t[i.startTime],this.parent.timezone),t[i.endTime]=this.parent.tzModule.remove(t[i.endTime],this.parent.timezone)):(t[i.startTime]=this.parent.tzModule.remove(t[i.startTime],n),t[i.endTime]=this.parent.tzModule.remove(t[i.endTime],s)):(t[i.startTime]=this.parent.tzModule.add(t[i.startTime],n),t[i.endTime]=this.parent.tzModule.add(t[i.endTime],s),this.parent.timezone&&(t[i.startTime]=this.parent.tzModule.convert(t[i.startTime],n,this.parent.timezone),t[i.endTime]=this.parent.tzModule.convert(t[i.endTime],s,this.parent.timezone)))}else this.parent.timezone&&(e?(t[i.startTime]=this.parent.tzModule.remove(t[i.startTime],this.parent.timezone),t[i.endTime]=this.parent.tzModule.remove(t[i.endTime],this.parent.timezone)):(t[i.startTime]=this.parent.tzModule.add(t[i.startTime],this.parent.timezone),t[i.endTime]=this.parent.tzModule.add(t[i.endTime],this.parent.timezone)));return t},r.prototype.filterBlockEvents=function(t){var s,e=this.parent.eventFields,i=t[e.startTime],n=t[e.endTime];if(this.parent.activeViewOptions.group.resources.length>0){var a=this.getGroupIndexFromEvent(t);s=this.parent.resourceBase.lastResourceLevel[parseInt(a.toString(),10)]}for(var o=z([],this.parent.blockProcessed,null,!0),l=0,h=o;l<h.length;l++){var c=h[l];c[e.isAllDay]&&c[e.endTime].getTime()>ie(new Date(c[e.endTime].getTime())).getTime()&&(c[e.startTime]=ie(c[e.startTime]),c[e.endTime]=Ee(ie(c[e.endTime]),1))}return this.filterEvents(i,n,o,s)},r.prototype.filterEvents=function(t,e,i,n){void 0===i&&(i=this.parent.eventsProcessed);var s=this.parent.dataModule.getStartEndQuery(t,e),a=new ye({json:i}).executeLocal((new Xe).where(s));return n&&(a=this.filterEventsByResource(n,a)),this.sortByTime(a)},r.prototype.filterEventsByRange=function(t,e,i){var s,n=this;return s=e&&i?this.filterEvents(e,i,t):e&&!i?t.filter(function(a){return a[n.parent.eventFields.startTime]>=e}):!e&&i?t.filter(function(a){return a[n.parent.eventFields.endTime]<=i}):t,this.sortByTime(s)},r.prototype.filterEventsByResource=function(t,e){void 0===e&&(e=this.parent.eventsProcessed);for(var i={},n=this.parent.resourceBase.resourceCollection,s=0;s<n.length;s++)i[n[parseInt(s.toString(),10)].field]=t.groupOrder[parseInt(s.toString(),10)];var a=Object.keys(i);return e.filter(function(l){return a.every(function(h){return l[""+h]instanceof Array?l[""+h].indexOf(i[""+h])>-1:l[""+h]===i[""+h]})})},r.prototype.sortByTime=function(t){if(!this.parent.eventSettings.sortComparer||"function"!=typeof this.parent.eventSettings.sortComparer&&"string"!=typeof this.parent.eventSettings.sortComparer){var e=this.parent.eventFields;t.sort(function(i,n){var a=n[e.startTime];return i[e.startTime].getTime()-a.getTime()})}else t=this.customSorting(t);return t},r.prototype.sortByDateTime=function(t){if(!this.parent.eventSettings.sortComparer||"function"!=typeof this.parent.eventSettings.sortComparer&&"string"!=typeof this.parent.eventSettings.sortComparer){var e=this.parent.eventFields;t.sort(function(i,n){var s=i[e.startTime],a=n[e.startTime],l=n[e.endTime],h=i[e.endTime].getTime()-s.getTime(),c=l.getTime()-a.getTime();return s.getTime()-a.getTime()||c-h})}else t=this.customSorting(t);return t},r.prototype.customSorting=function(t){if("function"==typeof this.parent.eventSettings.sortComparer)return this.parent.eventSettings.sortComparer.call(this.parent,t);if("string"==typeof this.parent.eventSettings.sortComparer){var e=this.parent.eventSettings.sortComparer.split("."),i=void 0;if(u(window)||(i=window[e[e.length-1]]),i)return i(t)}return t},r.prototype.getSmallestMissingNumber=function(t){for(var e=Math.max.apply(Math,t),i=0;i<e;i++)if(-1===t.indexOf(i))return i;return e+1},r.prototype.splitEventByDay=function(t){var e=this.parent.eventFields,i=[],n=t[e.startTime],s=t[e.endTime];if(ie(new Date(n.getTime()))<ie(new Date(s.getTime())))for(var o=new Date(n.getTime()),l=Ee(ie(new Date(n.getTime())),1),h=0===s.getHours()&&0===s.getMinutes()?s:Ee(s,1),c=1,d=jN(n.getTime(),h.getTime());l<=s&&o.getTime()!==l.getTime();){var p=z({},t);p[e.startTime]=o,p[e.endTime]=l,p.data={index:c,count:d},p.Guid=this.generateGuid(),p.isSpanned=!0,i.push(p),o=l,ie(new Date(o.getTime())).getTime()===ie(new Date(s.getTime())).getTime()&&l.getTime()!==s.getTime()?(l=new Date(o.getTime()),l=new Date(l.setHours(s.getHours(),s.getMinutes(),s.getSeconds()))):l=Ee(ie(new Date(o.getTime())),1),c++}else i.push(t);return i},r.prototype.splitEvent=function(t,e){var i=this.parent.eventFields,n=ie(t[i.startTime]).getTime(),s=ie(t[i.endTime]).getTime();Lh(t[i.endTime])<=0&&(s=n>(a=Ee(ie(t[i.endTime]),-1).getTime())?n:a);var o=n,l=s,h=[];if(n!==s){n<e[0].getTime()&&(n=e[0].getTime()),s>e[e.length-1].getTime()&&(s=e[e.length-1].getTime());for(var c=n,d=0;d<this.slots.length;d++){var p=this.slots[parseInt(d.toString(),10)];if("WorkWeek"===this.parent.currentView||"TimelineWorkWeek"===this.parent.currentView||this.parent.activeViewOptions.group.byDate||this.parent.activeViewOptions.showWeekend){for(var f=[],m=0,g=p;m<g.length;m++)f.push(new Date(g[m]));var C=this.getRenderedDates(f);if(!u(C)&&C.length>0){p=[];for(var E=0,S=C;E<S.length;E++)p.push(S[E].getTime())}}if("number"==typeof p){var a=p;(p=[]).push(a)}var A=p[0];if((c=c<=A&&s>=A?A:c)>s||A>s)break;if(!this.parent.activeViewOptions.group.byDate&&this.parent.activeViewOptions.showWeekend&&"WorkWeek"!==this.parent.currentView&&"TimelineWorkWeek"!==this.parent.currentView){var T=p.indexOf(c);if(-1!==T){var k=p.indexOf(s),j=-1!==k,J=(k=j?k:p.length-1)-T+1,ne=p[parseInt(T.toString(),10)]!==o,R=p[parseInt(k.toString(),10)]!==l;if(h.push(this.cloneEventObject(t,p[parseInt(T.toString(),10)],p[parseInt(k.toString(),10)],J,ne,R)),j)break}}else if(this.dateInRange(c,p[0],p[p.length-1])){for(var G=[],H=0;H<p.length;H++)this.dateInRange(p[parseInt(H.toString(),10)],o,l)&&G.push(p[parseInt(H.toString(),10)]);if(G.length>0)if(this.parent.activeViewOptions.group.byDate)for(var V=0,B=G;V<B.length;V++){var F=B[V];h.push(this.cloneEventObject(t,F,F,1,F!==o,F!==l))}else h.push(this.cloneEventObject(t,G[0],G[G.length-1],G.length,ne=G[0]!==o,R=G[G.length-1]!==l))}}}else h.push(this.cloneEventObject(t,n,s,1,!1,!1));return h},r.prototype.cloneEventObject=function(t,e,i,n,s,a){var o=this.parent.eventFields,l=z({},t,null,!0),h={count:n,isLeft:s,isRight:a};return h[o.startTime]=t[o.startTime],h[o.endTime]=t[o.endTime],l.data=h,l[o.startTime]=new Date(e),l[o.endTime]=new Date(i),l},r.prototype.dateInRange=function(t,e,i){return e<=t&&t<=i},r.prototype.getSelectedEventElements=function(t){if(this.removeSelectedAppointmentClass(),this.parent.selectedElements.length<=0)this.parent.selectedElements.push(t);else if(this.parent.selectedElements.filter(function(h){return h.getAttribute("data-guid")===t.getAttribute("data-guid")}).length<=0)for(var i='div[data-guid="'+t.getAttribute("data-guid")+'"]',s=0,a=[].slice.call(this.parent.element.querySelectorAll(i));s<a.length;s++)this.parent.selectedElements.push(a[s]);else{var l=this.parent.selectedElements.filter(function(h){return h.getAttribute("data-guid")!==t.getAttribute("data-guid")});this.parent.selectedElements=l}return t&&this.parent.selectedElements.length>0&&this.addSelectedAppointments(this.parent.selectedElements,!1),this.parent.selectedElements},r.prototype.getSelectedEvents=function(){var t=this,e=[],i=[];return[].slice.call(this.parent.element.querySelectorAll("."+sm)).filter(function(s){0===e.filter(function(o){return o.Guid===s.getAttribute("data-guid")}).length&&e.push(t.getEventByGuid(s.getAttribute("data-guid"))),i.push(s)}),{event:e.length>1?e:e[0],element:i.length>1?i:i[0]}},r.prototype.removeSelectedAppointmentClass=function(){var t=this.getSelectedAppointments();M(t,sm),("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView)&&M(t,aS)},r.prototype.addSelectedAppointments=function(t,e){"MonthAgenda"!==this.parent.currentView&&this.parent.removeSelectedClass(),D(t,sm),t.length>0&&!e&&t[t.length-1].focus()},r.prototype.getSelectedAppointments=function(){return[].slice.call(this.parent.element.querySelectorAll("."+sm+",."+Ze+":focus"))},r.prototype.focusElement=function(t){if(!this.parent.eventWindow.dialogObject||!this.parent.eventWindow.dialogObject.visible){var e=document.activeElement,i=this.parent.getSelectedCells();if(i.length>0&&(e&&(this.parent.element.contains(e)||-1!==i.indexOf(e))||t)){if(this.parent.keyboardInteractionModule){var n=!u(this.parent.activeCellsData)&&this.parent.activeCellsData.element||i[i.length-1];this.parent.keyboardInteractionModule.selectCells(n instanceof Array,n)}return}var s=this.getSelectedAppointments();if(s.length>0)return this.parent.activeEventData&&this.parent.activeEventData.element&&s.indexOf(this.parent.activeEventData.element)>-1?void this.parent.activeEventData.element.focus():void s[s.length-1].focus()}},r.prototype.selectWorkCellByTime=function(t){var e;if("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView)return e;if(t.length>0){var i=t[t.length-1],n=i[this.parent.eventFields.startTime],s=new Date(+n).setMinutes(0,0,0),a=this.isAllDayAppointment(i);("Month"===this.parent.currentView||a)&&(s=new Date(+n).setHours(0,0,0,0));var o=void 0;o=a&&-1!==["Day","Week","WorkWeek"].indexOf(this.parent.currentView)?this.parent.getAllDayRow():this.parent.getContentTable();var l='[data-date="'+new Date(s).getTime()+'"]';if(this.parent.activeViewOptions.group.resources.length>0&&(l+='[data-group-index="'+this.getGroupIndexFromEvent(i)+'"]'),e=o.querySelector(l))return this.parent.activeCellsData=this.parent.getCellDetails(e),this.parent.keyboardInteractionModule&&this.parent.keyboardInteractionModule.selectCells(!1,e),e}return e},r.prototype.getGroupIndexFromEvent=function(t){for(var e,i,n,s,a=this.parent.resourceBase.resourceCollection.length-1;a>=0;a--)if(!u(t[this.parent.resourceBase.resourceCollection[parseInt(a.toString(),10)].field])){i=this.parent.resourceBase.resourceCollection[parseInt(a.toString(),10)],e=a,n=i.name,s=i.field;break}u(n)&&u(e)&&(n=this.parent.resourceCollection.slice(-1)[0].name,e=this.parent.resourceCollection.length-1,s=this.parent.resourceCollection.slice(-1)[0].field,i=this.parent.resourceCollection.filter(function(c,d){return c.name===n?(e=d,c):null})[0]);var l=t[""+s]instanceof Array?t[""+s][0]:t[""+s];return e>0?this.parent.resourceBase.getIndexFromResourceId(l,n,i,t,this.parent.resourceCollection[e-1].field):this.parent.resourceBase.getIndexFromResourceId(l,n,i)},r.prototype.isAllDayAppointment=function(t){var e=this.parent.eventFields,i=t[e.isAllDay],n=(pn(t[e.endTime])-pn(t[e.startTime]))/Hi>=1;return!!(i||"TimeSlot"!==this.parent.eventSettings.spannedEventPlacement&&n)},r.prototype.addEventListener=function(){this.parent.on(_h,this.appointmentBorderRemove,this)},r.prototype.removeEventListener=function(){this.parent.off(_h,this.appointmentBorderRemove)},r.prototype.appointmentBorderRemove=function(t){var e=t.event.target;I(e,"."+Ze)?"MonthAgenda"!==this.parent.currentView&&this.parent.removeSelectedClass():I(e,"."+Qn)||(this.removeSelectedAppointmentClass(),this.parent.selectedElements=[])},r.prototype.wireAppointmentEvents=function(t,e,i){void 0===i&&(i=!1);var n=!u(e)&&e[this.parent.eventFields.isReadonly];b.add(t,"click",this.eventClick,this),!this.parent.isAdaptive&&!this.parent.activeViewOptions.readonly&&!n&&(b.add(t,"touchstart",this.eventTouchClick,this),b.add(t,"dblclick",this.eventDoubleClick,this)),!this.parent.activeViewOptions.readonly&&!n&&!i&&(this.parent.resizeModule&&this.parent.resizeModule.wireResizeEvent(t),this.parent.dragAndDropModule&&this.parent.dragAndDropModule.wireDragEvent(t))},r.prototype.eventTouchClick=function(t){var e=this;setTimeout(function(){return e.isDoubleTapped=!1},250),t.preventDefault(),this.isDoubleTapped?this.eventDoubleClick(t):this.isDoubleTapped||(this.isDoubleTapped=!0,this.eventClick(t))},r.prototype.renderResizeHandler=function(t,e,i){if(this.parent.resizeModule&&this.parent.allowResizing&&!this.parent.activeViewOptions.readonly&&!i)for(var n=0,s=Object.keys(e);n<s.length;n++){var a=s[n],o=N("div",{className:"e-event-resize"});switch(a){case"isLeft":e.isLeft||(o.appendChild(N("div",{className:"e-left-right-resize"})),D([o],this.parent.enableRtl?uS:cS),Tt([o],t));break;case"isRight":e.isRight||(o.appendChild(N("div",{className:"e-left-right-resize"})),D([o],this.parent.enableRtl?cS:uS),ce([o],t));break;case"isTop":e.isTop||(o.appendChild(N("div",{className:"e-top-bottom-resize"})),D([o],"e-top-handler"),Tt([o],t));break;case"isBottom":e.isBottom||(o.appendChild(N("div",{className:"e-top-bottom-resize"})),D([o],"e-bottom-handler"),ce([o],t))}}},r.prototype.eventClick=function(t){var e=this,i=t.target;if(!(i.classList.contains("e-drag-clone")||i.classList.contains("e-resize-clone")||i.classList.contains(Br)))if((t.ctrlKey||t.metaKey)&&1===t.which&&this.parent.keyboardInteractionModule){this.parent.quickPopup.quickPopup.hide(),this.parent.selectedElements=[].slice.call(this.parent.element.querySelectorAll("."+sm));var n=I(t.target,"."+Ze);this.getSelectedEventElements(n),this.activeEventData(t,!1),this.parent.trigger(ry,{data:this.parent.activeEventData.event,element:this.parent.activeEventData.element,event:t,requestType:"eventSelect"});var a=z(this.parent.activeEventData,{cancel:!1,originalEvent:t});this.parent.trigger(Yf,a)}else this.removeSelectedAppointmentClass(),this.activeEventData(t,!0),this.parent.trigger(ry,{data:this.parent.activeEventData.event,element:this.parent.activeEventData.element,event:t,requestType:"eventSelect"}),a=z(this.parent.activeEventData,{cancel:!1,originalEvent:t}),this.parent.trigger(Yf,a,function(h){h.cancel?(e.removeSelectedAppointmentClass(),e.parent.selectedElements=[],e.parent.quickPopup&&e.parent.quickPopup.quickPopupHide()):(("Agenda"===e.parent.currentView||"MonthAgenda"===e.parent.currentView)&&D([e.parent.activeEventData.element],aS),e.parent.allowInline?e.parent.notify(Gf,{data:h.event,element:h.element,type:"Event"}):e.parent.notify(Yf,h))})},r.prototype.eventDoubleClick=function(t){var e=this;if(this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(!0),"touchstart"===t.type&&this.activeEventData(t,!0),this.removeSelectedAppointmentClass(),this.parent.selectedElements=[],!this.parent.activeEventData.element.classList.contains(Oy)&&!this.parent.activeEventData.element.querySelector("."+Br)){var i=z(this.parent.activeEventData,{cancel:!1,originalEvent:t});this.parent.trigger("eventDoubleClick",i,function(n){n.cancel||(!u(e.parent.activeEventData.event)&&u(e.parent.activeEventData.event[e.parent.eventFields.recurrenceID])?e.parent.eventWindow.openEditor(e.parent.activeEventData.event,"Save"):(e.parent.currentAction="EditOccurrence",e.parent.quickPopup.openRecurrenceAlert()))})}},r.prototype.getEventByGuid=function(t){return this.parent.eventsProcessed.filter(function(e){return e.Guid===t})[0]},r.prototype.getEventById=function(t){var e=this;return this.parent.eventsData.filter(function(i){return i[e.parent.eventFields.id]===t})[0]},r.prototype.generateGuid=function(){return"xyxxxxyx-xxxy-yxxx-xyxx-xxyxxxxyyxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},r.prototype.getEventIDType=function(){return 0!==this.parent.eventsData.length?typeof this.parent.eventsData[0][this.parent.eventFields.id]:0!==this.parent.blockData.length?typeof this.parent.blockData[0][this.parent.eventFields.id]:"string"},r.prototype.getEventMaxID=function(t){var e=this;if(this.parent.eventsData.length<1&&this.parent.blockData.length<1)return 1;var i,n=this.getEventIDType();if("string"===n&&(i=this.generateGuid()),"number"===n){var o=this.parent.eventsData.concat(this.parent.blockData).map(function(l){return l[e.parent.eventFields.id]}).reduce(function(l,h){return Math.max(l,h)});i=(o=u(t)?o:o+t)+1}return i},r.prototype.activeEventData=function(t,e){var i=this,n=I(t.target,"."+Ze),s=n.getAttribute("data-guid");e&&(this.addSelectedAppointments([].slice.call(this.parent.element.querySelectorAll('div[data-guid="'+s+'"]')),!0),n.focus());var a=this.getEventByGuid(s);a&&a.isSpanned&&(a=this.parent.eventsData.filter(function(o){return o[i.parent.eventFields.id]===a[i.parent.eventFields.id]})[0]),this.parent.activeEventData={event:a,element:n}},r.prototype.generateOccurrence=function(t,e,i){var n=t[this.parent.eventFields.startTime],s=t[this.parent.eventFields.endTime],a=t[this.parent.eventFields.recurrenceRule],o=s.getTimezoneOffset()-n.getTimezoneOffset(),l=s.getTime()-n.getTime()-6e4*o;e=new Date((e||this.parent.activeView.startDate()).getTime()-l);var c,h=t[this.parent.eventFields.recurrenceException];"Agenda"!==this.parent.currentView&&i&&(c=function(r,t){return Math.ceil((t.getTime()-r.getTime())/Hi)}(e,this.parent.activeView.endDate())+1);var d=this.parent.timezone||this.parent.tzModule.getLocalTimezoneName(),m=M1(n,a,h,this.parent.activeViewOptions.firstDayOfWeek,c,e,this.parent.calendarMode,d);"Agenda"===this.parent.currentView&&-1===a.indexOf("COUNT")&&-1===a.indexOf("UNTIL")&&(u(t.generatedDates)?t.generatedDates={start:new Date(m[0]),end:new Date(m[m.length-1])}:(m[0]<t.generatedDates.start.getTime()&&(t.generatedDates.start=new Date(m[0])),m[m.length-1]>t.generatedDates.end.getTime()&&(t.generatedDates.end=new Date(m[m.length-1]))));for(var g=[],y=0,C=m;y<C.length;y++){var E=C[y],S=z({},t,null,!0);E=this.getDSTAdjustedTime(E,S),S[this.parent.eventFields.startTime]=new Date(E),S[this.parent.eventFields.endTime]=new Date(new Date(E).setMilliseconds(l)),S[this.parent.eventFields.recurrenceID]=S[this.parent.eventFields.id],delete S[this.parent.eventFields.recurrenceException],delete S[this.parent.eventFields.followingID],S.Guid=this.generateGuid(),g.push(S)}return g},r.prototype.getDSTAdjustedTime=function(t,e){var i=t;if(this.parent.timezone&&(e[this.parent.eventFields.startTimezone]||e[this.parent.eventFields.endTimezone])){var n=this.getDSTDiff(e[this.parent.eventFields.startTime],new Date(t),e[this.parent.eventFields.startTimezone]),s=this.getDSTDiff(e[this.parent.eventFields.startTime],new Date(t),this.parent.timezone);i=new Date(t).getTime()-6e4*(n-s)}return i},r.prototype.getDSTDiff=function(t,e,i){return this.parent.tzModule.offset(new Date(t),i)-this.parent.tzModule.offset(new Date(e),i)},r.prototype.getParentEvent=function(t,e){var i;void 0===e&&(e=!1);do{(t=this.getFollowingEvent(t))&&(i=z({},t,null,!0))}while(t&&e);if(e&&i){var n=this.getEventCollections(i),s=n.follow.slice(-1)[0];n.occurrence.length>0&&!i[this.parent.eventFields.recurrenceException]&&(s=n.occurrence.slice(-1)[0]),s&&(i[this.parent.eventFields.recurrenceRule]=s[this.parent.eventFields.recurrenceRule])}return i},r.prototype.getEventCollections=function(t,e){var i=[],n=[],s=t;do{(s=this.getFollowingEvent(s,!0))&&i.push(s),n=n.concat(this.getOccurrenceEvent(s||t))}while(s);var a={};if(e){var o=this.parent.eventFields;a={follow:i.filter(function(l){return l[o.startTime]>=e[o.startTime]}),occurrence:n.filter(function(l){return l[o.startTime]>=e[o.startTime]})}}else a={follow:i,occurrence:n};return a},r.prototype.getFollowingEvent=function(t,e){var n,i=this.parent.eventFields;return n=e?t[i.id]:t[i.recurrenceID]||t[i.followingID],this.parent.eventsData.filter(function(a){return a[e?i.followingID:i.id]===n}).shift()},r.prototype.isFollowingEvent=function(t,e){var i=t[this.parent.eventFields.startTime],n=e[this.parent.eventFields.startTime];return i.getHours()===n.getHours()&&i.getMinutes()===n.getMinutes()&&i.getSeconds()===n.getSeconds()},r.prototype.getOccurrenceEvent=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=e?"Guid":i?this.parent.eventFields.followingID:this.parent.eventFields.recurrenceID,s=e?"Guid":this.parent.eventFields.id;return(e?this.parent.eventsProcessed:this.parent.eventsData).filter(function(o){return o[""+n]===t[""+s]})},r.prototype.getOccurrencesByID=function(t){for(var e=this.parent.eventFields,i=[],s=0,a=this.parent.eventsData.filter(function(l){return l[e.id]===t});s<a.length;s++){var o=a[s];u(o[e.recurrenceRule])||(i=i.concat(this.generateOccurrence(o)))}return i},r.prototype.getOccurrencesByRange=function(t,e){for(var i=this.parent.eventFields,n=[],s=0,a=this.parent.eventsData;s<a.length;s++){var o=a[s];u(o[i.recurrenceRule])||(n=n.concat(this.generateOccurrence(o)))}return n.filter(function(h){return h[i.startTime]>=t&&h[i.endTime]<=e&&!u(h[i.recurrenceID])})},r.prototype.getDeletedOccurrences=function(t){var i,e=this.parent.eventFields,n=[];if((i="string"==typeof t||"number"==typeof t?this.parent.eventsData.filter(function(c){return c[e.id]===t})[0]:z({},t,null,!0))[e.recurrenceException])for(var s=i[e.recurrenceException].split(","),a=function(c,d){if(0===o.parent.eventsData.filter(function(E){return E[e.recurrenceID]===i[e.id]&&E[e.recurrenceException]===s[parseInt(c.toString(),10)]}).length){var f=CS(s[parseInt(c.toString(),10)]),m=z({},t,null,!0);m[e.recurrenceID]=i[e.id],delete m[e.followingID],m[e.recurrenceException]=s[parseInt(c.toString(),10)];var g=new Date(f.getTime()),y=i[e.endTime].getTime()-i[e.startTime].getTime(),C=new Date(g.getTime());C.setMilliseconds(y),m[e.startTime]=new Date(g.getTime()),m[e.endTime]=new Date(C.getTime()),n.push(m)}},o=this,l=0,h=s.length;l<h;l++)a(l);return n},r.prototype.applyResourceColor=function(t,e,i,n,s){if(this.parent.resourceBase){var o=this.parent.resourceBase.getResourceColor(e,n);o&&(t.style[i]=u(s)?o:(h=s,l=(l=o).replace("#",""),"rgba("+parseInt(l.substring(0,l.length/3),16)+", "+parseInt(l.substring(l.length/3,2*l.length/3),16)+", "+parseInt(l.substring(2*l.length/3,3*l.length/3),16)+", "+h+")"))}var l,h},r.prototype.createBlockAppointmentElement=function(t,e,i){var a,n=t[this.parent.eventFields.subject]||this.parent.eventSettings.fields.subject.default,s=N("div",{className:nm,attrs:{"data-id":"Appointment_"+t[this.parent.eventFields.id],"aria-disabled":"true"}});if(u(this.parent.activeViewOptions.eventTemplate)){var d=N("div",{className:Cn});this.parent.sanitize(n,d),a=[d]}else{var h=this.parent.element.id+"_"+this.parent.activeViewOptions.eventTemplateName+"eventTemplate",c="eventTemplate"+(i&&-1===this.parent.currentView.indexOf("Year")?"_"+e:"");a=this.parent.getAppointmentTemplate()(t,this.parent,c,h,!1)}return ce(a,s),this.setWrapperAttributes(s,e),s},r.prototype.setWrapperAttributes=function(t,e){u(this.cssClass)||D([t],this.cssClass),this.parent.activeViewOptions.group.resources.length>0&&t.setAttribute("data-group-index",e.toString())},r.prototype.getReadonlyAttribute=function(t){return(t[this.parent.eventFields.isReadonly]||this.parent.readonly).toString()},r.prototype.isBlockRange=function(t){for(var i=!1,n=this.parent.eventFields,s=0,a=t instanceof Array?t:[t];s<a.length;s++){var o=a[s],l=[];u(o[n.recurrenceRule])||!u(o[n.recurrenceID])&&o[n.id]!==o[n.recurrenceID]?l.push(o):l=this.generateOccurrence(o);for(var h=0,c=l;h<c.length;h++)if(this.filterBlockEvents(c[h]).length>0){i=!0;break}}return this.parent.uiStateValues.isBlock=i,i},r.prototype.getFilterEventsList=function(t,e){return new ye(t).executeLocal((new Xe).where(e))},r.prototype.getSeriesEvents=function(t,e){var i=this.parent.eventFields;e=u(e)?t[i.startTime]:e;var n,s,h,a=[],o=t[i.id],l=t[i.followingID],c="EditSeries"===this.parent.currentAction?"greaterthan":"greaterthanorequal";do{h=new ti(i.followingID,"equal",o).and(new ti(i.startTime,c,e)),u(n=(s=this.getFilterEventsList(this.parent.eventsData,h)).slice(-1)[0])||n[i.id]===l?l=null:(a.push(n),o=n[i.id],l=n[i.followingID])}while(1===s.length&&!u(n[i.followingID]));return a},r.prototype.getEditedOccurrences=function(t,e){for(var s,i=this.parent.eventFields,n=[],a=0,o=t;a<o.length;a++){var l=o[a],h=new ti(i.recurrenceID,"equal",l[i.id]).or(new ti(i.recurrenceID,"equal",l[i.followingID]).and(new ti(i.recurrenceID,"notequal",void 0)).and(new ti(i.recurrenceID,"notequal",null)));("EditFollowingEvents"===this.parent.currentAction||"DeleteFollowingEvents"===this.parent.currentAction)&&(h=h.and(new ti(i.startTime,"greaterthanorequal",e))),s=this.getFilterEventsList(this.parent.eventsData,h),n=n.concat(s)}return n},r.prototype.getRenderedDates=function(t){var n,e=0,i=t.length;if(t[0]<this.parent.minDate&&t[t.length-1]>this.parent.maxDate){for(var s=0;s<t.length;s++)ie(t[parseInt(s.toString(),10)]).getTime()===ie(new Date(this.parent.minDate)).getTime()&&(e=s),ie(t[parseInt(s.toString(),10)]).getTime()===ie(new Date(this.parent.maxDate)).getTime()&&(i=s);n=t.filter(function(a){return a>=t[parseInt(e.toString(),10)]&&a<=t[parseInt(i.toString(),10)]})}return n},r.prototype.isValidEvent=function(t,e,i,n){var s=i.getTime()>n.startHour.getTime()&&e.getTime()<n.endHour.getTime(),a=n.startHour.getTime()<=e.getTime()&&t[this.parent.eventFields.startTime].getTime()>=n.startHour.getTime()&&t[this.parent.eventFields.endTime].getTime()<n.endHour.getTime()&&e.getTime()===i.getTime();return s||a},r.prototype.allDayExpandScroll=function(t){var e=0;[].slice.call(this.parent.element.querySelectorAll("."+h1)).forEach(function(n){[].slice.call(n.children).forEach(function(a){a.style.top=e+"px"}),e+=n.offsetHeight}),e=t.offsetHeight-e,this.parent.element.querySelector("."+Si).style.height=e/12+"em",this.parent.uiStateValues.expand?D([t],ky):M([t],ky)},r.prototype.updateEventMinimumDuration=function(t,e,i){if(e.getTime()<i.getTime()&&(pn(i)-pn(e))/Os<this.parent.eventSettings.minimumEventDuration){var s=new Date(e);if(s.setMinutes(s.getMinutes()+this.parent.eventSettings.minimumEventDuration),(i=s).getTime()>t.endHour.getTime()){var a=new Date(t.endHour.getTime());a.setMinutes(a.getMinutes()-this.parent.eventSettings.minimumEventDuration),e=a,i=t.endHour}}return{startDate:e,endDate:i}},r.prototype.createEventWrapper=function(t,e){void 0===t&&(t=""),void 0===e&&(e=0);for(var i=N("tr"),n=this.parent.activeView.colLevels.slice(-1)[0],s=0,a=n.length;s<a;s++){var o=n[parseInt(s.toString(),10)],l=N("td",{className:"allDay"===t?ro:"timeIndicator"===t?s6:"e-day-wrapper",attrs:{"data-date":o.date.getTime().toString()}});if(u(o.groupIndex)||l.setAttribute("data-group-index",o.groupIndex.toString()),""===t){var h=N("div",{id:Fi+"-"+e.toString(),className:Fi});l.appendChild(h)}i.appendChild(l),e+=1}return i},r.prototype.getPageCoordinates=function(t){if(u(t))return t;var e=t.event;return e&&e.changedTouches?e.changedTouches[0]:t.changedTouches?t.changedTouches[0]:e||t},r.prototype.renderSpannedIcon=function(t,e){var i=N("div",{className:oS+" "+sn});if(e.isLeft){var n=i.cloneNode();D([n],u6),Tt([n],t)}if(e.isRight){var s=i.cloneNode();D([s],d6),ce([s],t)}if(e.isTop){var a=i.cloneNode();D([a],"e-up-icon"),Tt([a],t)}if(e.isBottom){var o=i.cloneNode();D([o],"e-down-icon"),ce([o],t)}},r.prototype.unWireEvents=function(){for(var e=0,i=[].slice.call(this.parent.element.querySelectorAll("."+Ze));e<i.length;e++)b.clearEvents(i[e])},r.prototype.destroy=function(){this.unWireEvents(),this.parent=null},r}(),lCe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),F1=function(r){function t(e){var i=r.call(this,e)||this;return i.dateRender=[],i.renderedEvents=[],i.renderedAllDayEvents=[],i.overlapEvents=[],i.moreEvents=[],i.overlapList=[],i.allDayEvents=[],i.slotCount=i.parent.activeViewOptions.timeScale.slotCount,i.interval=i.parent.activeViewOptions.timeScale.interval,i.allDayLevel=0,i.startHour=i.parent.activeView.getStartHour(),i.endHour=i.parent.activeView.getEndHour(),i.element=i.parent.activeView.getPanel(),i.fields=i.parent.eventFields,i.animation=new vi({progress:i.animationUiUpdate.bind(i)}),i.addEventListener(),i}return lCe(t,r),t.prototype.renderAppointments=function(){if(!u(this.parent)){this.parent.dragAndDropModule&&this.parent.dragAndDropModule.setDragArea(),this.isResourceEventTemplate=this.parent.isSpecificResourceEvents();for(var e=[].slice.call(this.parent.element.querySelectorAll("."+nm+",."+Ze+",."+yy)),i=!(!this.parent.crudModule||!this.parent.crudModule.crudObj.isCrudAction),n=0,s=e;n<s.length;n++){var a=s[n];if(!i||a.classList.contains(ir)||a.classList.contains(yy))me(a);else for(var o=parseInt(a.getAttribute("data-group-index"),10),l=0,h=this.parent.crudModule.crudObj.sourceEvent.length;l<h;l++)(o===this.parent.crudModule.crudObj.sourceEvent[parseInt(l.toString(),10)].groupIndex||o===this.parent.crudModule.crudObj.targetEvent[parseInt(l.toString(),10)].groupIndex)&&me(a)}if(this.element.querySelector("."+Te)&&(this.parent.virtualScrollModule&&this.parent.virtualScrollModule.updateFocusedWorkCell(),this.allDayElement=[].slice.call(this.element.querySelectorAll("."+Si)),this.setAllDayRowHeight(0),0!==this.parent.eventsProcessed.length||0!==this.parent.blockProcessed.length)){var c=this.element.querySelector("."+by);b.remove(c,"click",this.rowExpandCollapse),b.add(c,"click",this.rowExpandCollapse,this),this.renderedEvents=[],this.renderedAllDayEvents=[],this.initializeValues(),this.processBlockEvents(),this.renderEvents("normalEvents"),this.allDayEvents.length>0&&(this.allDayEvents=this.allDayEvents.filter(function(d,p,f){return p===f.map(function(m){return m.Guid}).indexOf(d.Guid)}),M(this.allDayElement,C1),this.slots.push(this.parent.activeView.renderDates.map(function(d){return+d})),this.renderEvents("allDayEvents"),this.animation.animate(this.allDayElement[0])),this.parent.notify(Vr,{}),D(this.allDayElement,C1),i&&(this.parent.crudModule.crudObj.isCrudAction=!1),this.parent.renderTemplates()}}},t.prototype.initializeValues=function(){if(this.resources=this.parent.activeViewOptions.group.resources.length>0?this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.lastResourceLevel:[],this.resources.length>0&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.virtualScrollModule&&(this.resources=this.parent.resourceBase.renderedResources),this.cellHeight=parseFloat(this.parent.element.querySelector(".e-content-wrap tbody tr").getBoundingClientRect().height.toFixed(2)),this.dateRender[0]=this.parent.activeView.renderDates,this.parent.activeViewOptions.group.resources.length>0)for(var e=0,i=this.resources.length;e<i;e++)this.dateRender[parseInt(e.toString(),10)]=this.resources[parseInt(e.toString(),10)].renderDates},t.prototype.getHeight=function(e,i){var n=(pn(i)-pn(e))/Os*(this.cellHeight*this.slotCount)/this.interval;return n<=0?this.cellHeight:n},t.prototype.appendEvent=function(e,i,n,s){var a=this.element.querySelector("."+Fi+'[id="'+Fi+"-"+n+'"]');ue(i,this.parent.enableRtl?{right:s}:{left:s});var o=i.classList.contains(nm)?"blockEvent":"event",l={data:z({},e,null,!0),element:i,cancel:!1,type:o};this.parent.trigger(Qf,l,function(h){h.cancel||a.appendChild(i)})},t.prototype.processBlockEvents=function(){for(var e=this.getResourceList(),i=this.getStartCount(),n=0,s=e;n<s.length;n++)for(var a=s[n],o=this.dateRender[parseInt(a.toString(),10)],l=0,h=o.length;l<h;l++){for(var c=new Date(o[parseInt(l.toString(),10)].getTime()),d=Ee(o[parseInt(l.toString(),10)],1),f=0,m=this.filterEvents(c,d,this.parent.blockProcessed,this.resources[parseInt(a.toString(),10)]);f<m.length;f++){var g=m[f];this.parent.resourceBase&&this.setValues(g,a),this.renderBlockEvents(g,l,a,i),this.cssClass=null,this.groupOrder=null}i+=1}},t.prototype.renderBlockEvents=function(e,i,n,s){var a=this.isSpannedEvent(e,i,n),o=a[this.fields.startTime],l=a[this.fields.endTime],c=ra(ie(new Date(this.dateRender[parseInt(n.toString(),10)][parseInt(i.toString(),10)].getTime())),this.startHour,this.endHour);if(o<=l&&this.isValidEvent(e,o,l,c)&&this.isWorkDayAvailable(n,o)){var d=void 0,p=void 0;a[this.fields.isAllDay]?(p=$(this.parent.element.querySelector("."+ut+" table").offsetHeight),d=$(0)):(p=$(this.getHeight(o,l)),d=$(this.getTopValue(o,i,n)));var m=this.createBlockAppointmentElement(e,n,this.isResourceEventTemplate);ue(m,{width:"100%",height:p,top:d});var g=this.getDayIndex(i,n,s);this.appendEvent(e,m,g,"0px")}},t.prototype.renderEvents=function(e){M(this.allDayElement,C1);for(var a,i="allDayEvents"===e?this.sortByDateTime(this.allDayEvents):void 0,n=this.getResourceList(),s=this.getStartCount(),o="allDayEvents"===e?qc(this.element.querySelector("."+ro),Ze):0,l="allDayEvents"===e&&this.allDayElement.length>0?this.allDayElement[0].offsetTop:0,h=function(m){a=!0,c.parent.crudModule&&c.parent.crudModule.crudObj.isCrudAction&&"allDayEvents"!==e&&!c.parent.uiStateValues.isGroupAdaptive&&0===c.parent.crudModule.crudObj.sourceEvent.filter(function(G){return G.groupIndex===m}).length&&0===c.parent.crudModule.crudObj.targetEvent.filter(function(G){return G.groupIndex===m}).length&&(a=!1),c.slots=[];var g=c.dateRender[parseInt(m.toString(),10)],y=c.getRenderedDates(g)||g;c.slots.push(g.map(function(G){return+G}));for(var C=0,E=g.length;C<E&&g[parseInt(C.toString(),10)]<=y[y.length-1];C++){c.renderedEvents=[];var S=new Date(g[parseInt(C.toString(),10)].getTime()),w=Ee(g[parseInt(C.toString(),10)],1),A=c.filterEvents(S,w,i,c.resources[parseInt(m.toString(),10)]);if(a)for(var T=0,k=A;T<k.length;T++){var j=k[T];if(c.parent.resourceBase&&c.setValues(j,m),"allDayEvents"===e)c.renderAllDayEvents(j,C,m,s,!1,l,o);else if(c.isAllDayAppointment(j))c.allDayEvents.push(z({},j,null,!0));else{if(c.parent.eventSettings.enableMaxHeight&&c.getOverlapIndex(j,C,!1,m)>0)continue;c.renderNormalEvents(j,C,m,s)}c.cssClass=null,c.groupOrder=null}else for(var J=0,ne=A;J<ne.length;J++){var R=ne[J];c.isAllDayAppointment(R)&&c.allDayEvents.push(z({},R,null,!0))}s+=1}},c=this,d=0,p=n;d<p.length;d++)h(p[d])},t.prototype.getStartCount=function(){return this.parent.virtualScrollModule&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.timeScale.enable?parseInt(this.element.querySelector("."+Fi).getAttribute("id").split("-").slice(-1)[0],10):0},t.prototype.getDayIndex=function(e,i,n){var s=this;if(!this.parent.activeViewOptions.group.byDate)return n;if(this.parent.activeViewOptions.group.byDate&&!this.parent.activeViewOptions.group.hideNonWorkingDays){var a=this.parent.resourceBase.lastResourceLevel[0].renderDates.indexOf(this.dateRender[parseInt(i.toString(),10)][parseInt(e.toString(),10)]);return this.resources.length*a+i}for(var o=0,l=this.parent.activeView.colLevels[0],h=this.dateRender[parseInt(i.toString(),10)][parseInt(e.toString(),10)].getTime(),c=[],d=0;d<l.length&&(c=this.parent.resourceBase.resourceDateTree[parseInt(d.toString(),10)],h!==l[parseInt(d.toString(),10)].date.getTime());d++)o+=l[parseInt(d.toString(),10)].colSpan;var p=c.findIndex(function(f){return f.groupOrder.toString()===s.resources[parseInt(i.toString(),10)].groupOrder.toString()});return p<0?o:o+p},t.prototype.setValues=function(e,i){this.parent.activeViewOptions.group.resources.length>0?(this.cssClass=this.resources[parseInt(i.toString(),10)].cssClass,this.groupOrder=this.resources[parseInt(i.toString(),10)].groupOrder):this.cssClass=this.parent.resourceBase.getCssClass(e)},t.prototype.getResourceList=function(){return Array.apply(null,{length:this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?this.resources.length:1}).map(function(i,n){return n})},t.prototype.createAppointmentElement=function(e,i,n,s){var a=this.parent.eventFields,o=e[a.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),l=N("div",{className:Ze,attrs:{"data-id":"Appointment_"+e[a.id],"data-guid":e.Guid,role:"button",tabindex:"0","aria-disabled":this.parent.eventBase.getReadonlyAttribute(e),"aria-label":this.parent.getAnnouncementString(e)}});e[this.fields.isReadonly]&&D([l],"e-read-only");var h=N("div",{className:iS});l.appendChild(h),this.parent.activeViewOptions.group.resources.length>0&&l.setAttribute("data-group-index",(this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:s).toString());var d,p=n;if(u(this.parent.activeViewOptions.eventTemplate)){var E=N("div",{className:Cn});if(this.parent.sanitize(o,E),i)if(e[a.isAllDay])d=[E];else{d=[];var S=N("div",{className:Ol+(this.parent.isAdaptive?" "+gi:""),innerHTML:this.parent.getTimeString(e[a.startTime])}),w=N("div",{className:Ol+(this.parent.isAdaptive?" "+gi:""),innerHTML:this.parent.getTimeString(e[a.endTime])});D([E],"e-text-center"),p.isLeft||d.push(S),d.push(E),p.isRight||d.push(w)}else{var A=this.parent.getTimeString(e[a.startTime])+" - "+this.parent.getTimeString(e[a.endTime]),T=N("div",{className:Ol+(this.parent.isAdaptive?" "+gi:""),innerHTML:A}),k=N("div",{className:Jc});this.parent.sanitize(e[a.location]||this.parent.eventSettings.fields.location.default||"",k),d=[E,T,k]}}else{var g=this.parent.element.id+"_"+this.parent.activeViewOptions.eventTemplateName+"eventTemplate",C="eventTemplate"+(this.isResourceEventTemplate?"_"+(this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:s):"");d=this.parent.getAppointmentTemplate()(e,this.parent,C,g,!1)}if(ce(d,h),!(this.parent.isAdaptive||u(e[a.recurrenceRule])&&u(e[a.recurrenceID]))){var J=N("div",{className:sn+" "+(e[a.id]===e[a.recurrenceID]?gy:vy)});i?h.appendChild(J):l.appendChild(J)}return this.parent.eventBase.renderSpannedIcon(i?h:l,p),u(this.cssClass)||D([l],this.cssClass),this.applyResourceColor(l,e,"backgroundColor",this.groupOrder),this.renderResizeHandler(l,p,e[this.fields.isReadonly]),l},t.prototype.createMoreIndicator=function(e,i,n){var s=n+i,a=e[parseInt(s.toString(),10)];if(a.childElementCount<=0){var o=N("div",{className:yy,id:yy+"-"+s.toString()}),l=N("div",{className:Dr,attrs:{tabindex:"0","data-index":s.toString(),"data-count":"1"},innerHTML:"+1&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more"))});o.appendChild(l),a.appendChild(o),b.add(l,"click",this.rowExpandCollapse,this)}else{var h=a.querySelector("."+Dr),c=parseInt(h.getAttribute("data-count"),10)+1;h.setAttribute("data-count",c.toString()),h.innerHTML="+"+this.parent.globalize.formatNumber(c)+"&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more"))}},t.prototype.isSpannedEvent=function(e,i,n){var s=ie(this.dateRender[parseInt(n.toString(),10)][parseInt(i.toString(),10)]),a=this.getRenderedDates(this.dateRender[parseInt(n.toString(),10)])||[s];0===a.filter(function(p){return p.getDay()===i}).length&&(s=ie(a[0]));var l=this.parent.eventFields,h=ra(s,this.startHour,this.endHour),c=z({},e,null,!0);c.isSpanned={isBottom:!1,isTop:!1},e[l.startTime].getTime()<h.startHour.getTime()&&(c[l.startTime]=h.startHour,c.isSpanned.isTop=!0),e[l.endTime].getTime()>h.endHour.getTime()&&(c[l.endTime]=h.endHour,c.isSpanned.isBottom=!0);var d=this.updateEventMinimumDuration(h,c[l.startTime],c[l.endTime]);return c[l.startTime]=d.startDate,c[l.endTime]=d.endDate,c},t.prototype.isWorkDayAvailable=function(e,i){if(this.parent.activeViewOptions.group.hideNonWorkingDays&&this.resources.length>0){var n=this.resources[parseInt(e.toString(),10)].resourceData[this.resources[parseInt(e.toString(),10)].resource.workDaysField]||this.parent.activeViewOptions.workDays;return n&&n.indexOf(i.getDay())>=0}return!0},t.prototype.renderAllDayEvents=function(e,i,n,s,a,o,l){var h=this,c=this.getRenderedDates(this.dateRender[parseInt(n.toString(),10)])||this.dateRender[parseInt(n.toString(),10)];this.parent.activeViewOptions.group.byDate&&(this.slots[0]=[this.dateRender[parseInt(n.toString(),10)][parseInt(i.toString(),10)].getTime()],c=[this.dateRender[parseInt(n.toString(),10)][parseInt(i.toString(),10)]]);var d=this.splitEvent(e,c)[0],p=new Date(d[this.parent.eventFields.startTime].getTime()),f=new Date(d[this.parent.eventFields.endTime].getTime()),m=0,g=1,y=c[0].getTime()<=p.getTime()&&Ee(c.slice(-1)[0],1).getTime()>=p.getTime();if(p<=f&&y&&this.isWorkDayAvailable(n,p)){var C=[];if(this.renderedAllDayEvents[parseInt(n.toString(),10)]&&(C=this.renderedAllDayEvents[parseInt(n.toString(),10)].filter(function(R){return R.Guid===e.Guid}),this.parent.activeViewOptions.group.byDate&&(C=C.filter(function(R){return R[h.parent.eventFields.startTime]>=c[parseInt(i.toString(),10)]&&R[h.parent.eventFields.endTime]<=Ee(new Date(+c[parseInt(i.toString(),10)]),1)}))),0===C.length){var E=d.data.count,S=this.getOverlapIndex(d,i,!0,n);d.Index=S,this.allDayLevel=this.allDayLevel<S?S:this.allDayLevel,E>=0&&(m=100*E-(d.data.isRight?0:"Day"===this.parent.currentView?4:7)),u(this.renderedAllDayEvents[parseInt(n.toString(),10)])&&(this.renderedAllDayEvents[parseInt(n.toString(),10)]=[]),this.renderedAllDayEvents[parseInt(n.toString(),10)].push(z({},d,null,!0));var j,A=[].slice.call(this.element.querySelector("."+xl).children),T=this.getDayIndex(i,n,s),k=this.element.querySelector("."+ro+":nth-child("+(T+1)+")");D([j=a?this.parent.inlineModule.createInlineAppointmentElement(e):this.createAppointmentElement(e,!0,d.data,n)],ir);var J=z({},d.data,null,!0);e.data=J,this.parent.trigger(Qf,{data:e,element:j,cancel:!1},function(R){if(!R.cancel){if(k.appendChild(j),ue(j,{width:m+"%",top:$(g+=(0===S?o:o+S*l)+1)}),S>1){h.moreEvents.push(j);for(var G=0,H=E;G<H;G++)h.createMoreIndicator(A,G,T)}h.allDayElement[0].setAttribute("data-count",h.allDayLevel.toString()),h.setAllDayRowHeight(4+(!h.parent.uiStateValues.expand&&h.allDayLevel>2?3*l:(h.allDayLevel+1)*l)),h.addOrRemoveClass(),h.wireAppointmentEvents(j,e)}})}}},t.prototype.renderNormalEvents=function(e,i,n,s,a){var o=this.isSpannedEvent(e,i,n),l=o[this.fields.startTime],h=o[this.fields.endTime],c="0%",p=0,m=ra(ie(new Date(this.dateRender[parseInt(n.toString(),10)][parseInt(i.toString(),10)].getTime())),this.startHour,this.endHour),g=this.isValidEvent(e,l,h,m);if(!(l.getTime()<this.parent.minDate.getTime()||h.getTime()>this.parent.maxDate.getTime())&&l<=h&&g&&this.isWorkDayAvailable(n,l)){var y=this.getHeight(l,h);l.getTime()>m.startHour.getTime()&&(p=this.getTopValue(l,i,n));var C=this.getOverlapIndex(o,i,!1,n);o.Index=C,this.overlapList.push(o),this.overlapList.length>1?(u(this.overlapEvents[parseInt(C.toString(),10)])&&(this.overlapEvents[parseInt(C.toString(),10)]=[]),this.overlapEvents[parseInt(C.toString(),10)].push(o)):(this.overlapEvents=[],this.overlapEvents.push([o])),c=this.getEventWidth();var S=this.adjustOverlapElements({index:C,left:"0%",width:c,day:s,dayIndex:i,record:o,resource:n});c=S.appWidth,u(this.renderedEvents[parseInt(n.toString(),10)])&&(this.renderedEvents[parseInt(n.toString(),10)]=[]),this.renderedEvents[parseInt(n.toString(),10)].push(z({},o,null,!0));var w=void 0;ue(w=a?this.parent.inlineModule.createInlineAppointmentElement(e):this.createAppointmentElement(e,!1,o.isSpanned,n),{width:this.parent.eventSettings.enableMaxHeight?"100%":S.appWidth,height:y+"px",top:p+"px"});var T=y-40-15*w.querySelectorAll("."+oS).length,k=w.querySelector("."+Cn);!this.parent.isAdaptive&&k&&(k.style.maxHeight=$(T));var j=this.getDayIndex(i,n,s),J={};J[this.fields.startTime]=e[this.fields.startTime],J[this.fields.endTime]=e[this.fields.endTime],o.data=J,this.appendEvent(o,w,j,S.appLeft),this.wireAppointmentEvents(w,e)}},t.prototype.getEventWidth=function(){var i=(("Day"===this.parent.currentView?97:94)-this.overlapEvents.length)/this.overlapEvents.length;return(i<0?0:i)+"%"},t.prototype.getEventLeft=function(e,i){var n=(parseFloat(e)+1)*i;return(n>99?99:n)+"%"},t.prototype.getTopValue=function(e,i,n){var a=ra(ie(this.dateRender[parseInt(n.toString(),10)][parseInt(i.toString(),10)]),this.startHour,this.endHour).startHour,o=60*(e.getHours()-a.getHours())+(e.getMinutes()-a.getMinutes());return this.parent.activeViewOptions.timeScale.enable?o*this.cellHeight*this.slotCount/this.interval:0},t.prototype.getOverlapIndex=function(e,i,n,s){var a=this,o=this.parent.eventFields,l=[],h=-1;if(this.overlapEvents=[],n){if(!u(this.renderedAllDayEvents[parseInt(s.toString(),10)])){var c=ie(new Date(this.dateRender[parseInt(s.toString(),10)][parseInt(i.toString(),10)].getTime()));l=this.renderedAllDayEvents[parseInt(s.toString(),10)].filter(function(k){return ie(k[o.startTime]).getTime()<=c.getTime()&&ie(k[o.endTime]).getTime()>=c.getTime()}),this.parent.activeViewOptions.group.resources.length>0&&(l=this.filterEventsByResource(this.resources[parseInt(s.toString(),10)],l))}}else{var d=u(this.renderedEvents[parseInt(s.toString(),10)])?[]:this.renderedEvents[parseInt(s.toString(),10)],p=[],f=e[o.startTime],m=e[o.endTime];this.overlapList=d.filter(function(k){return k[o.endTime]>f&&k[o.startTime]<=m||k[o.startTime]>=m&&k[o.endTime]<=f||k[o.endTime].getTime()===k[o.startTime].getTime()&&k[o.startTime].getTime()===f.getTime()&&k[o.endTime]<m}),this.parent.activeViewOptions.group.resources.length>0&&(this.overlapList=this.filterEventsByResource(this.resources[parseInt(s.toString(),10)],this.overlapList)),this.overlapList.forEach(function(k){var j=d.filter(function(ne){return ne[o.endTime]>k[o.startTime]&&ne[o.startTime]<=k[o.endTime]});a.parent.activeViewOptions.group.resources.length>0&&(j=a.filterEventsByResource(a.resources[parseInt(s.toString(),10)],j));var J=j.filter(function(ne){return-1===a.overlapList.indexOf(ne)});J.length>0&&(p=p.concat(J))});for(var g=0;g<p.length-1;g++)for(var y=g+1;y<p.length;y++)p[parseInt(g.toString(),10)][o.id]===p[parseInt(y.toString(),10)][o.id]&&(p.splice(y,1),y--);this.overlapList=this.overlapList.concat(p);for(var C=0,E=l=this.overlapList;C<E.length;C++){var S=E[C],A=S.Index;u(this.overlapEvents[parseInt(A.toString(),10)])?this.overlapEvents[parseInt(A.toString(),10)]=[S]:this.overlapEvents[parseInt(A.toString(),10)].push(S)}}if(n||(l=l.filter(function(k){return k[o.startTime]===e[o.startTime]&&k[o.endTime]>e[o.endTime]||k[o.endTime]>e[o.startTime]&&k[o.startTime]<e[o.endTime]||k[o.endTime]===e[o.startTime]&&k[o.startTime]===e[o.endTime]||k[o.startTime].getTime()===e[o.startTime].getTime()&&k[o.endTime].getTime()===e[o.endTime].getTime()||k[o.startTime].getTime()===e[o.startTime].getTime()&&k[o.endTime].getTime()<e[o.endTime].getTime()||k[o.endTime].getTime()>e[o.endTime].getTime()})),l.length>0){var T=l.map(function(k){return k.Index});h=T.length>0?this.getSmallestMissingNumber(T):0}return-1===h?0:h},t.prototype.adjustOverlapElements=function(e){for(var i={appWidth:e.width,appLeft:e.left},n=0,s=this.overlapEvents.length;n<s;n++)if(!u(this.overlapEvents[parseInt(n.toString(),10)]))for(var a=0,o=this.overlapEvents[parseInt(n.toString(),10)].length;a<o;a++){var l=this.getDayIndex(e.dayIndex,e.resource,e.day),h=this.element.querySelector("#e-appointment-wrapper-"+l);if(h&&h.childElementCount>0){var c=this.overlapEvents[parseInt(n.toString(),10)][parseInt(a.toString(),10)].Guid;if(h.querySelectorAll('div[data-guid="'+c+'"]').length>0&&c!==e.record.Guid){var d=h.querySelector('div[data-guid="'+c+'"]');parseFloat(e.width)<=parseFloat(d.style.width)&&(this.parent.enableRtl?d.style.right=this.getEventLeft(e.width,n):d.style.left=this.getEventLeft(e.width,n),d.style.width=parseFloat(e.width)+"%"),i.appWidth=d.style.width}else{var p=e.width;u(this.overlapEvents[n-1])&&(p=this.getEventWidth()),i.appWidth=p,i.appLeft=this.getEventLeft(p,e.index)}}}return i},t.prototype.setAllDayRowHeight=function(e){var i=this.parent.element.querySelector("."+Er);("auto"===this.parent.height||!this.parent.enableAllDayScroll)&&D([i],bS);var n=this.parent.element.querySelector("."+xl);if(n.style.height="",this.parent.uiStateValues.expand&&"auto"!==this.parent.height&&this.parent.enableAllDayScroll)n.style.height=e/12+"em",this.parent.eventBase.allDayExpandScroll(i);else{for(var s=0,a=this.allDayElement;s<a.length;s++)a[s].style.height=e/12+"em";M([i],ky)}},t.prototype.addOrRemoveClass=function(){var e=this;this.moreEvents.filter(function(s){!e.parent.uiStateValues.expand&&e.allDayLevel>2?(D([s],f6),s.setAttribute("tabindex","-1")):(M([s],f6),s.setAttribute("tabindex","0"))});var i=this.element.querySelector("."+by);this.parent.uiStateValues.expand?(M([i],dS),D([i],m6)):(M([i],m6),D([i],dS)),this.allDayLevel>2?M([i],gi):D([i],gi),[].slice.call(this.element.querySelectorAll("."+yy)).forEach(function(s){!e.parent.uiStateValues.expand&&e.allDayLevel>2?M([s],gi):D([s],gi)})},t.prototype.getEventHeight=function(){var e=N("div",{className:Ze,styles:"visibility:hidden"});this.element.querySelector("."+ro+":first-child").appendChild(e);var n=e.offsetHeight;return me(e),n},t.prototype.rowExpandCollapse=function(){var i,e=this.element.querySelector("."+by);this.parent.uiStateValues.expand=e.classList.contains(dS),this.parent.uiStateValues.expand?(e.setAttribute("title",this.parent.localeObj.getConstant("collapseAllDaySection")),e.setAttribute("aria-label","Collapse section"),i=(this.allDayLevel+1)*this.getEventHeight()+4):(e.setAttribute("title",this.parent.localeObj.getConstant("expandAllDaySection")),e.setAttribute("aria-label","Expand section"),i=3*this.getEventHeight()+4,this.parent.element.querySelector("."+Er).scrollTop=0),this.setAllDayRowHeight(i),this.animation.animate(this.allDayElement[0]),this.addOrRemoveClass(),this.animation.animate(e)},t.prototype.animationUiUpdate=function(){this.parent.notify(Vr,{})},t.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||(this.removeEventListener(),this.allDayElement=null,this.renderedAllDayEvents=null,this.renderedEvents=null,this.slotCount=null,this.interval=null,this.startHour=null,this.endHour=null,this.element=null,this.fields=null,this.animation=null,r.prototype.destroy.call(this))},t}(P1),hCe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lm=function(r){function t(e){var i=r.call(this,e)||this;return i.renderedEvents=[],i.monthHeaderHeight=0,i.moreIndicatorHeight=19,i.renderType="day",i.element=i.parent.activeView.getPanel(),i.fields=i.parent.eventFields,i.maxHeight=i.parent.eventSettings.enableMaxHeight&&!i.parent.eventSettings.enableIndicator&&!i.parent.rowAutoHeight,i.withIndicator=i.parent.eventSettings.enableMaxHeight&&i.parent.eventSettings.enableIndicator&&!i.parent.rowAutoHeight,i.maxOrIndicator=i.maxHeight||i.withIndicator,i.moreIndicatorHeight=i.parent.rowAutoHeight&&i.parent.eventSettings.ignoreWhitespace?0:i.moreIndicatorHeight,i.addEventListener(),i}return hCe(t,r),t.prototype.removeEventWrapper=function(e){if(e.length>0)for(var i=0,n=e="Month"===this.parent.currentView||!this.parent.activeView.isTimelineView()&&!this.parent.activeViewOptions.timeScale.enable?e:[e[0]];i<n.length;i++){var s=n[i];s.parentElement&&s.parentElement.parentNode&&me(s.parentElement)}},t.prototype.renderAppointments=function(){this.parent.dragAndDropModule&&this.parent.dragAndDropModule.setDragArea(),this.isResourceEventTemplate=this.parent.isSpecificResourceEvents();var e=this.parent.element.querySelector("."+ut);this.parent.rowAutoHeight&&(this.parent.uiStateValues.top=e.scrollTop,this.parent.uiStateValues.left=e.scrollLeft);var i=[].slice.call(this.element.querySelectorAll("."+Fi));if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction)for(var n=0,s=this.parent.crudModule.crudObj.sourceEvent.length;n<s;n++){var a=[].slice.call(this.element.querySelectorAll('.e-appointment-wrapper [data-group-index="'+this.parent.crudModule.crudObj.sourceEvent[parseInt(n.toString(),10)].groupIndex+'"]'));if(this.removeEventWrapper(a),this.parent.crudModule.crudObj.targetEvent[parseInt(n.toString(),10)]&&this.parent.crudModule.crudObj.sourceEvent[parseInt(n.toString(),10)].groupIndex!==this.parent.crudModule.crudObj.targetEvent[parseInt(n.toString(),10)].groupIndex){var o=[].slice.call(this.element.querySelectorAll('.e-appointment-wrapper [data-group-index="'+this.parent.crudModule.crudObj.targetEvent[parseInt(n.toString(),10)].groupIndex+'"]'));this.removeEventWrapper(o)}}else for(var l=0,h=i;l<h.length;l++)me(h[l]);if(this.removeHeightProperty(_i),this.element.querySelector("."+Te)){if("Month"===this.parent.currentView){var d=N("div",{className:Fi}),p=this.parent.element.querySelector("."+Te);p.appendChild(d),this.monthHeaderHeight=d.offsetTop-p.offsetTop,p.removeChild(d)}this.eventHeight=qc(this.element,Ze);var f=e.scrollTop;if(this.parent.rowAutoHeight&&this.parent.virtualScrollModule&&!this.parent.virtualScrollModule.isHorizontalScroll&&!u(this.parent.currentAction)&&(e.scrollTop=e.scrollTop-1),this.parent.activeViewOptions.group.resources.length>0?(this.renderResourceEvents(),this.parent.virtualScrollModule&&this.parent.virtualScrollModule.updateFocusedWorkCell()):this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays),this.parent.rowAutoHeight){this.updateBlockElements();var m={cssProperties:this.parent.getCssProperties(),module:this.parent.getModuleName(),isPreventScrollUpdate:!0,scrollPosition:{left:this.parent.uiStateValues.left,top:this.parent.uiStateValues.top}};if(this.parent.virtualScrollModule&&!this.parent.virtualScrollModule.isHorizontalScroll&&(this.parent.currentAction?(e.scrollTop=f,this.parent.currentAction=null):this.parent.virtualScrollModule.updateVirtualScrollHeight()),this.parent.enablePersistence||this.parent.notify(Vr,{}),this.parent.notify(Ma,m),"Month"===this.parent.currentView&&this.parent.showWeekNumber){var g=[].slice.call(this.parent.element.querySelectorAll(".e-content-wrap table tr td:first-child"));[].slice.call(this.parent.element.querySelectorAll("."+JD)).forEach(function(C,E){ue(C,{height:g[parseInt(E.toString(),10)].offsetHeight+"px"})}),this.parent.element.querySelector("."+e1).scrollTop=this.parent.element.querySelector("."+ut).scrollTop}}this.parent.renderTemplates()}},t.prototype.renderEventsHandler=function(e,i,n){this.renderedEvents=[];var s,a,o=0;if(n?(o=n.groupIndex,this.cssClass=n.cssClass,this.groupOrder=n.groupOrder,s=this.parent.eventBase.filterEventsByResource(n,this.parent.eventsProcessed),a=this.parent.eventBase.filterEventsByResource(n,this.parent.blockProcessed),this.workCells=[].slice.call(this.element.querySelectorAll("."+Te+'[data-group-index="'+o+'"]'))):(s=this.parent.eventsProcessed,a=this.parent.blockProcessed,this.workCells=[].slice.call(this.element.querySelectorAll("."+Te))),this.sortByDateTime(s),this.sortByDateTime(a),"Month"===this.parent.currentView&&this.parent.rowAutoHeight&&0===this.parent.activeViewOptions.group.resources.length){var l=[].slice.call(this.parent.element.querySelectorAll(".e-content-wrap table tr td:first-child")),h=this.parent.element.querySelector("."+_i).clientHeight/l.length;l.forEach(function(j){ue(j,{height:h+"px"})})}var c=this.workCells[this.parent.activeView.isTimelineView()?0:this.workCells.length-1].getBoundingClientRect();this.cellWidth=c.width,this.cellHeight=c.height,this.dateRender=e;var d=this.getRenderedDates(e);this.getSlotDates(i||this.parent.activeViewOptions.workDays),this.processBlockEvents(a,o,n);for(var p=[],f=0,m=s;f<m.length;f++){var g=m[f];this.parent.resourceBase&&!n&&(this.cssClass=this.parent.resourceBase.getCssClass(g)),p=p.concat(this.splitEvent(g,d||this.dateRender))}for(var y=0;y<this.slots.length;y++){this.renderedEvents=[];for(var C=this.slots[parseInt(y.toString(),10)],E=Ee(new Date(C[C.length-1]),1),w=0,A=this.filterEvents(new Date(C[0]),E,p);w<A.length;w++){var T=A[w];if(this.maxHeight){var k="Month"===this.parent.currentView?T[this.fields.startTime]:this.getStartTime(T,T.data);if(this.getIndex(k)>0)continue}this.updateIndicatorIcon(T),this.renderEvents(T,o,s)}}this.cssClass=null,this.groupOrder=null},t.prototype.processBlockEvents=function(e,i,n){for(var s=0,a=e;s<a.length;s++){var o=a[s];this.parent.resourceBase&&!n&&(this.cssClass=this.parent.resourceBase.getCssClass(o));var l=[];if("day"!==this.renderType||o[this.fields.isAllDay])l.push(o);else{var d,h=z({},o,null,!0),c=this.isSameDate(h[this.fields.startTime],h[this.fields.endTime]);h.isBlockIcon=c,!c&&Lh(h[this.fields.startTime])>0&&((d=z({},o,null,!0))[this.fields.endTime]=Ee(ie(new Date(o[this.fields.startTime]+"")),1),d.isBlockIcon=!0,h[this.fields.startTime]=d[this.fields.endTime],l.push(d)),!(c=this.isSameDate(h[this.fields.startTime],h[this.fields.endTime]))&&Lh(h[this.fields.endTime])>0&&((d=z({},o,null,!0))[this.fields.startTime]=ie(new Date(o[this.fields.endTime]+"")),d.isBlockIcon=!0,l.push(d),h[this.fields.endTime]=d[this.fields.startTime]),l.push(h)}for(var p=0,f=l;p<f.length;p++)for(var m=f[p],y=0,C=this.splitEvent(m,this.dateRender);y<C.length;y++)this.renderBlockEvents(C[y],i,!!m.isBlockIcon)}},t.prototype.isSameDate=function(e,i){return new Date(+e).setHours(0,0,0,0)===new Date(+i).setHours(0,0,0,0)},t.prototype.renderBlockEvents=function(e,i,n){var s=e.data,a=this.getStartTime(e,s),o=this.getEndTime(e,s),l=this.parent.getIndexOfDate(this.dateRender,ie(new Date(a.getTime())));if(!(l<0||a>o)){var h=this.getCellTd(l),c=this.getPosition(a,o,e[this.fields.isAllDay],l);if(n)this.renderBlockIndicator(h,c,i);else{var p=this.getEventWidth(a,o,e[this.fields.isAllDay],s.count);p=p<=0?this.cellWidth:p;var f=this.parent.enableRtl?0:c,m=this.parent.enableRtl?c:0,g=this.cellHeight-this.monthHeaderHeight,y=this.getRowTop(i),C=this.createBlockAppointmentElement(e,i,this.isResourceEventTemplate);ue(C,{width:p+"px",height:g+"px",left:f+"px",right:m+"px",top:y+"px"}),this.renderEventElement(e,C,h)}}},t.prototype.renderBlockIndicator=function(e,i,n){var s=N("div",{className:"e-icons "+tS});u(e.querySelector("."+tS))&&e.appendChild(s)},t.prototype.getStartTime=function(e,i){return e[this.fields.startTime]},t.prototype.getEndTime=function(e,i){return e[this.fields.endTime]},t.prototype.getCellTd=function(e){return this.workCells[parseInt(e.toString(),10)]},t.prototype.getEventWidth=function(e,i,n,s){return s*this.cellWidth-1},t.prototype.getPosition=function(e,i,n,s){return 0},t.prototype.getRowTop=function(e){return 0},t.prototype.updateIndicatorIcon=function(e){if(-1!==this.parent.currentView.indexOf("Timeline")&&"TimelineMonth"!==this.parent.currentView&&!e[this.fields.isAllDay]){var i=e.data,n=this.parent.activeView.getStartHour(),s=this.parent.activeView.getEndHour(),a=ra(e[this.fields.startTime],n,s),o=ra(e[this.fields.endTime],n,s),l=i[this.fields.startTime],h=i[this.fields.endTime];if(i.isLeft=i.isLeft||l.getTime()<a.startHour.getTime(),i.isRight=i.isRight||h.getTime()>o.endHour.getTime(),ie(l).getTime()!==ie(h).getTime()){var c=a.startHour,d=o.endHour,p=new Date(ie(l));if(p.setHours(d.getHours(),d.getMinutes(),d.getSeconds()),i.isLeft=i.isLeft||l.getTime()>=(c.getDate()===a.endHour.getDate()?p.getTime():Ee(p,1).getTime()),h.getTime()!==ie(h).getTime()){var f=new Date(ie(h));i.isRight=i.isRight||h.getTime()<=f.setHours(c.getHours(),c.getMinutes(),c.getSeconds())}}}},t.prototype.renderResourceEvents=function(){var e=this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.renderedResources;if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction){for(var i=0,n=this.parent.crudModule.crudObj.sourceEvent.length;i<n;i++){var s=this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(),10)];if(this.renderEventsHandler(s.renderDates,s.workDays,s),this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(),10)].groupIndex!==this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(),10)].groupIndex){var a=this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(),10)];this.renderEventsHandler(a.renderDates,a.workDays,a)}}this.parent.crudModule.crudObj.isCrudAction=!1}else for(var o=0,l=e;o<l.length;o++){var h=l[o];this.renderEventsHandler(h.renderDates,h.workDays,h)}},t.prototype.getSlotDates=function(e){this.slots=[];for(var i=this.dateRender.map(function(s){return+s}),n=!this.parent.activeViewOptions.showWeekend||this.parent.activeViewOptions.group.byDate&&this.parent.activeViewOptions.group.hideNonWorkingDays?e.length:7;i.length>0;)this.slots.push(i.splice(0,n))},t.prototype.createAppointmentElement=function(e,i,n){void 0===n&&(n=!1);var s=e[this.fields.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),a=z({},e,e.data,!0),o={"data-id":"Appointment_"+e[this.fields.id],role:"button",tabindex:"0","aria-disabled":this.parent.eventBase.getReadonlyAttribute(e),"aria-label":this.parent.getAnnouncementString(a,s)};n||(o["data-guid"]=e.Guid),this.parent.activeViewOptions.group.resources.length>0&&(o["data-group-index"]=i.toString());var l=N("div",{className:Ze,attrs:o});u(this.cssClass)||D([l],this.cssClass),e[this.fields.isReadonly]&&D([l],"e-read-only");var h=N("div",{className:iS});l.appendChild(h);var c,d=e.data,p=this.getEventData(e);if(u(this.parent.activeViewOptions.eventTemplate)){var C=e[this.fields.location]||this.parent.eventSettings.fields.location.default||"",E=N("div",{className:Cn});this.parent.sanitize(s+(C?"; "+C:""),E);var S=N("div",{className:Ol+(this.parent.isAdaptive?" "+gi:""),innerHTML:this.parent.getTimeString(d[this.fields.startTime])}),w=N("div",{className:Ol+(this.parent.isAdaptive?" "+gi:""),innerHTML:this.parent.getTimeString(d[this.fields.endTime])});if("Month"===this.parent.currentView)e[this.fields.isAllDay]?(c=[E],D([E],"e-text-center")):d.count<=1&&!d.isLeft&&!d.isRight?c=[S,E]:(c=[],D([E],"e-text-center"),d.isLeft||c.push(S),c.push(E),d.isRight||c.push(w));else{var A=void 0;if(e[this.fields.isAllDay])A=[E,N("div",{className:Ol,innerHTML:this.parent.localeObj.getConstant("allDay")})];else{var k=this.parent.getTimeString(d[this.fields.startTime])+" - "+this.parent.getTimeString(d[this.fields.endTime]),j=N("div",{className:Ol+(this.parent.isAdaptive?" "+gi:""),innerHTML:k}),J=N("div",{className:Jc});this.parent.sanitize(C,J),A=[E,j,J]}var ne=N("div",{className:"e-inner-wrap"});ce(A,ne),c=[ne]}}else{var g=this.parent.element.id+"_"+this.parent.activeViewOptions.eventTemplateName+"eventTemplate",y="eventTemplate"+(this.isResourceEventTemplate?"_"+i:"");c=this.parent.getAppointmentTemplate()(p,this.parent,y,g,!1)}return ce(c,h),this.appendEventIcons(e,h),this.renderResizeHandler(l,e.data,e[this.fields.isReadonly]),l},t.prototype.appendEventIcons=function(e,i){var n=e.data;u(e[this.fields.recurrenceRule])&&u(e[this.fields.recurrenceID])||i.appendChild(N("div",{className:sn+" "+(e[this.fields.id]===e[this.fields.recurrenceID]?gy:vy)+(this.parent.isAdaptive?" "+gi:"")})),n.isLeft&&Tt([N("div",{className:oS+" "+sn+" "+u6})],i),n.isRight&&ce([N("div",{className:oS+" "+sn+" "+d6})],i)},t.prototype.renderEvents=function(e,i,n){var s=e[this.fields.startTime],a=e[this.fields.endTime],o=this.parent.getIndexOfDate(this.dateRender,ie(s));if(!(o<0||s.getTime()<this.parent.minDate.getTime()||a.getTime()>this.parent.maxDate.getTime())){var l=this.getIndex(s);e.Index=l;var h=e.data.count;if(s.getTime()<=a.getTime()){var c=h*this.cellWidth-5,d=this.workCells[parseInt(o.toString(),10)],p=l*(this.eventHeight+0),f=this.monthHeaderHeight+(l+1)*(this.eventHeight+0)+this.moreIndicatorHeight;if(this.parent.rowAutoHeight||(this.maxOrIndicator?l<1:this.cellHeight>f)){this.renderedEvents.push(z({},e,null,!0));var g;g=this.inlineValue?this.parent.inlineModule.createInlineAppointmentElement():this.createAppointmentElement(e,i),this.applyResourceColor(g,e,"backgroundColor",this.groupOrder),this.wireAppointmentEvents(g,e),ue(g,{width:c+"px",top:p+"px"}),this.renderEventElement(e,g,d),this.parent.rowAutoHeight&&this.updateCellHeight(d.parentElement.firstElementChild,f)}else for(var C=0;C<h;C++)if(this.workCells[o+C]){var E=this.workCells[o+C].querySelector("."+Dr);if(E){var S=parseInt(E.getAttribute("data-count"),10)+1;E.setAttribute("data-count",S.toString()),E.innerHTML=this.getMoreIndicatorText(S)}else{var w=new Date(this.dateRender[o+C].getTime()),A=Ee(this.dateRender[o+C],1),T=this.workCells[o+C].getAttribute("data-group-index"),k=this.getMoreIndicatorElement(1,w,A);u(T)||k.setAttribute("data-group-index",T),k.style.top=this.cellHeight-this.monthHeaderHeight-this.moreIndicatorHeight+"px",k.style.width=this.cellWidth-2+"px",this.renderElement(this.workCells[o+C],k),b.add(k,"click",this.moreIndicatorClick,this)}}}}},t.prototype.updateCellHeight=function(e,i){i>e.offsetHeight&&ue(e,{height:i+"px"})},t.prototype.updateBlockElements=function(){for(var i=0,n=[].slice.call(this.element.querySelectorAll("."+nm));i<n.length;i++){var s=n[i],a=I(s,"tr");this.monthHeaderHeight=s.offsetParent.offsetTop-a.offsetTop,s.style.height=a.offsetHeight-1-this.monthHeaderHeight+"px";var o=a.firstElementChild,l=Math.round(s.offsetWidth/o.offsetWidth);s.style.width=o.offsetWidth*l+"px"}},t.prototype.getFilteredEvents=function(e,i,n,s){var a;if(u(n))a=this.filterEvents(e,i);else{var o=this.parent.resourceBase.lastResourceLevel[parseInt(n,10)];a=this.filterEvents(e,i,u(s)?void 0:s,o)}return a},t.prototype.getOverlapEvents=function(e,i){for(var n=[],s=ie(e).getTime(),a=0,o=i;a<o.length;a++){var l=o[a];ie(l[this.fields.startTime]).getTime()<=s&&ie(l[this.fields.endTime]).getTime()>=s&&n.push(l)}return n},t.prototype.getIndex=function(e){var i=-1,n=this.renderedEvents;if(n.length>0){var a=this.getOverlapEvents(e,n).map(function(o){return o.Index});i=a.length>0?this.getSmallestMissingNumber(a):0}return-1===i?0:i},t.prototype.moreIndicatorClick=function(e){var i=this,n=I(e.target,"."+Dr),s=new Date(parseInt(n.getAttribute("data-start-date"),10)),a=new Date(parseInt(n.getAttribute("data-end-date"),10)),o=n.getAttribute("data-group-index"),l={cancel:!1,event:e,element:n,isPopupOpen:!0,startTime:s,endTime:a,viewName:this.parent.getNavigateView()};o&&(l.groupIndex=parseInt(o,10)),this.parent.trigger("moreEventsClick",l,function(h){if(!h.cancel)if(h.isPopupOpen){var c=i.getFilteredEvents(s,a,o);i.parent.quickPopup.moreEventClick({date:s,event:c,element:e.target},a,o)}else i.parent.setProperties({selectedDate:s},!0),i.parent.changeView(h.viewName,e)})},t.prototype.renderEventElement=function(e,i,n){var s=this,a=i.classList.contains(nm)?"blockEvent":"event",o=i.classList.contains(Ze),l=this.getEventData(e);this.parent.trigger(Qf,{data:l,element:i,cancel:!1,type:a},function(c){c.cancel?s.renderedEvents.pop():s.renderElement(n,i,o)})},t.prototype.getEventData=function(e){var i=z({},e,null,!0);return i[this.fields.startTime]=e.data[this.fields.startTime],i[this.fields.endTime]=e.data[this.fields.endTime],i},t.prototype.renderElement=function(e,i,n){void 0===n&&(n=!1),this.maxOrIndicator&&n&&this.setMaxEventHeight(i,e);var s=e.querySelector("."+Fi);if(s)s.appendChild(i);else{var a=N("div",{className:Fi});a.appendChild(i),e.appendChild(a)}},t.prototype.getMoreIndicatorElement=function(e,i,n){return N("div",{className:Dr,innerHTML:this.getMoreIndicatorText(e),attrs:{tabindex:"0","data-count":e.toString(),"data-start-date":i.getTime().toString(),"data-end-date":n.getTime().toString()}})},t.prototype.getMoreIndicatorText=function(e){return"+"+this.parent.globalize.formatNumber(e)+"&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more"))},t.prototype.removeHeightProperty=function(e){for(var n=0,s=[].slice.call(this.element.querySelectorAll("."+e+" tbody tr"));n<s.length;n++)s[n].firstElementChild.style.height=""},t.prototype.setMaxEventHeight=function(e,i){var n=BN(i.querySelector("."+rm));ue(e,{height:i.offsetHeight-n-(this.maxHeight?0:this.moreIndicatorHeight)+"px","align-items":"center"})},t.prototype.destroy=function(){this.element=null,this.fields=null,this.maxHeight=null,this.withIndicator=null,this.maxOrIndicator=null,this.moreIndicatorHeight=null,this.removeEventListener(),r.prototype.destroy.call(this)},t}(P1),cCe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cm=function(r){function t(e,i){var n=r.call(this,e)||this;n.startHour=n.parent.activeView.getStartHour(),n.endHour=n.parent.activeView.getEndHour(),n.slotCount=n.parent.activeViewOptions.timeScale.slotCount,n.interval=n.parent.activeViewOptions.timeScale.interval,n.day=0,n.rowIndex=0,n.cellTops=[],n.renderType=i,n.eventContainers=[].slice.call(n.element.querySelectorAll("."+Aa));var s=[].slice.call(n.element.querySelectorAll("."+_i+" tbody tr"));return n.dayLength=0===s.length?0:s[0].children.length,n.content=n.parent.element.querySelector("."+_i),n}return cCe(t,r),t.prototype.getSlotDates=function(){if(this.slots=[],this.slots.push(this.parent.activeView.renderDates.map(function(i){return+i})),this.parent.activeViewOptions.headerRows.length>0&&"Hour"!==this.parent.activeViewOptions.headerRows.slice(-1)[0].option){this.renderType="day";var e=this.content.querySelector("."+Te);this.cellWidth=e.getBoundingClientRect().width/+(e.getAttribute("colspan")||1),this.slotsPerDay=1}else this.slotsPerDay=this.dayLength/this.dateRender.length},t.prototype.getOverlapEvents=function(e,i){var n=[];if("day"===this.renderType)for(var s=0,a=i;s<a.length;s++)ie((o=a[s])[this.fields.startTime]).getTime()<=ie(new Date(e.getTime())).getTime()&&ie(o[this.fields.endTime]).getTime()>=ie(new Date(e.getTime())).getTime()&&n.push(o);else for(var l=0,h=i;l<h.length;l++){var o,c=(o=h[l]).data;c.trimStartTime.getTime()<=e.getTime()&&c.trimEndTime.getTime()>e.getTime()&&n.push(o)}return n},t.prototype.getSortComparerIndex=function(e,i){var n=-1,s=this.renderedEvents;if(s.length>0){var o=this.getOverlapSortComparerEvents(e,i,s).map(function(l){return l.Index});n=o.length>0?this.getSmallestMissingNumber(o):0}return-1===n?0:n},t.prototype.getOverlapSortComparerEvents=function(e,i,n){for(var s=[],a=0,o=n;a<o.length;a++){var l=o[a];if("day"===this.renderType)ie(l[this.fields.startTime]).getTime()<=ie(new Date(e.getTime())).getTime()&&ie(l[this.fields.endTime]).getTime()>=ie(new Date(e.getTime())).getTime()&&s.push(l);else{var h=l.data;(h.trimStartTime.getTime()<=e.getTime()&&e.getTime()<h.trimEndTime.getTime()||e.getTime()<=h.trimStartTime.getTime()&&h.trimStartTime.getTime()<i.getTime())&&s.push(l)}}return s},t.prototype.renderResourceEvents=function(){this.removeHeightProperty(ZD);var e=this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.renderedResources;if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction){for(var i=0,n=this.parent.crudModule.crudObj.sourceEvent.length;i<n;i++){var s=this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(),10)];if(this.rowIndex=s.groupIndex,this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,s),this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(),10)]&&this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(),10)].groupIndex!==this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(),10)].groupIndex){var a=this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(),10)];this.rowIndex=a.groupIndex,this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,a)}}this.parent.crudModule.crudObj.isCrudAction=!1}else for(i=0;i<e.length;i++)this.rowIndex=i,this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,e[parseInt(i.toString(),10)])},t.prototype.renderEvents=function(e,i,n){var s=e[this.fields.startTime],a=e[this.fields.endTime];if(!(s.getTime()<this.parent.minDate.getTime()||a.getTime()>this.parent.maxDate.getTime())){var o=e.data;s=this.getStartTime(e,o),a=this.getEndTime(e,o);var l=ra(e[this.fields.startTime],this.startHour,this.endHour),h=this.updateEventMinimumDuration(l,s,a);if(s=h.startDate,a=h.endDate,this.day=this.parent.getIndexOfDate(this.dateRender,ie(new Date(s.getTime()))),!(this.day<0)){var c=this.getCellTd(),d=u(this.parent.eventSettings.sortComparer)?this.getIndex(s):this.getSortComparerIndex(s,a);e.Index=d;var p=this.eventHeight,f=o.count,m=z({},e,null,!0);m[this.fields.startTime]=o[this.fields.startTime],m[this.fields.endTime]=o[this.fields.endTime];var C,y=ra(ie(new Date(this.dateRender[this.day].getTime())),this.startHour,this.endHour);if(C=!(!this.isDayProcess()&&!m[this.fields.isAllDay])||this.isValidEvent(m,s,a,y),s<=a&&C){var E=this.getEventWidth(s,a,e[this.fields.isAllDay],f);E="day"===this.renderType?E-2:E;var S,w,A=this.getPosition(s,a,e[this.fields.isAllDay],this.day);E=E<=0?this.cellWidth:E,this.renderedEvents.push(z({},e,null,!0)),u(this.cellTops[parseInt(i.toString(),10)])&&(this.cellTops[parseInt(i.toString(),10)]=this.getRowTop(i));var T=this.cellTops[parseInt(i.toString(),10)],k=T+(this.maxHeight?0:2)+d*(p+2);S=this.parent.enableRtl?0:A,w=this.parent.enableRtl?A:0;var j=(d+1)*(p+2)+this.moreIndicatorHeight;if(this.parent.rowAutoHeight||(this.maxOrIndicator?d<1:this.cellHeight>j)){var ne;if(ne=u(this.inlineValue)?this.createAppointmentElement(e,i):this.parent.inlineModule.createInlineAppointmentElement(),this.applyResourceColor(ne,e,"backgroundColor",this.groupOrder),ue(ne,{width:E+"px",left:S+"px",right:w+"px",top:k+"px"}),this.wireAppointmentEvents(ne,e),this.parent.rowAutoHeight){var R=this.parent.element.querySelector("."+ut),G=R.getBoundingClientRect().width,H=R.offsetHeight===R.clientHeight&&R.offsetWidth===R.clientWidth;this.renderEventElement(e,ne,c);var V=this.getFirstChild(i);this.updateCellHeight(V,j),H&&(R.offsetWidth>R.clientWidth||G!==R.getBoundingClientRect().width)&&this.adjustAppointments(G)}else this.renderEventElement(e,ne,c)}else for(var B=0;B<f;B++){var F=c.querySelector("."+Dr),L=this.parent.enableRtl?w:S;L=Math.floor(L/this.cellWidth)*this.cellWidth;var U=this.interval/this.slotCount,ee="TimelineMonth"===this.parent.activeViewOptions.option||"day"===this.renderType||0!==B?new Date(this.dateRender[this.day+B].getTime()):new Date(s),de=Ee(this.dateRender[this.day+B],1);if("TimelineMonth"===this.parent.activeViewOptions.option||"day"===this.renderType){var Se=this.getPosition(ee,de,e[this.fields.isAllDay],this.day+B);this.renderTimelineMoreIndicator(s,ee,de,p,U,i,n,T,S,w,c,F,L,Se)}else for(var ge=(pn(a)-pn(s))/Os*this.slotCount/this.interval,we=0;we<ge&&(ee=0===we?new Date(ee.getTime()):new Date(ee.getTime()+6e4*U),!((de=new Date(ee.getTime()+6e4*U)).getTime()>a.getTime()));we++){var De=this.getPosition(ee,de,!1,this.day+B);if(L>De)break;this.renderTimelineMoreIndicator(s,ee,de,p,U,i,n,T,S,w,c,F,L=De,De)}}}this.parent.renderTemplates()}}},t.prototype.renderTimelineMoreIndicator=function(e,i,n,s,a,o,l,h,c,d,p,f,m,g){if(c=this.parent.enableRtl?d=g:g,m=this.parent.enableRtl?d:c,m=Math.floor(m/this.cellWidth)*this.cellWidth,p&&u(f)||!this.isAlreadyAvail(m,p)){var y="TimelineMonth"===this.parent.activeViewOptions.option||"day"===this.renderType?new Date(+e):i,C=new Date(y.setMinutes(Math.floor(y.getMinutes()/a)*a)),E=new Date(C.getTime()+6e4*a),S=void 0;this.parent.activeViewOptions.group.resources.length>0&&!u(o)&&(S=o.toString());var w=this.getFilterEvents(i,n,C,E,S,l),A=this.cellHeight-this.moreIndicatorHeight;s=this.withIndicator?A-2:s;var T=Math.floor(A/(s+2)),k=w.length-T<=0?1:w.length-T,j=void 0;j="day"===this.renderType?this.getMoreIndicatorElement(k,i,n):this.getMoreIndicatorElement(k,C,E),u(S)||j.setAttribute("data-group-index",S),j.style.top=h+A+"px",j.style.width=this.cellWidth+"px",j.style.left=Math.floor(c/this.cellWidth)*this.cellWidth+"px",j.style.right=Math.floor(d/this.cellWidth)*this.cellWidth+"px",this.renderElement(p,j),b.add(j,"click",this.moreIndicatorClick,this)}},t.prototype.updateCellHeight=function(e,i){if(i>(""===e.style.height?this.cellHeight:parseInt(e.style.height,10))){if(ue(e,{height:i+"px"}),this.parent.activeViewOptions.group.resources.length>0){var s=this.parent.element.querySelector("."+ZD+' tbody td[data-group-index="'+e.getAttribute("data-group-index")+'"]');s&&ue(s,{height:i+"px"})}var a=this.parent.element.querySelector(".e-month-header-wrapper table tr:nth-child("+(e.parentElement.rowIndex+1)+") td");a&&ue(a,{height:i+"px"})}},t.prototype.adjustAppointments=function(e){var i=this,n=this.parent.element.querySelector("."+_i+" tbody tr");this.cellWidth=this.workCells[0].getBoundingClientRect().width;var s=this.cellWidth*n.children.length/(e/100);[].slice.call(this.parent.element.querySelectorAll("."+Ze)).forEach(function(o){i.parent.enableRtl&&"0px"!==o.style.right?o.style.right=parseFloat(o.style.right)/100*s+"px":"0px"!==o.style.left&&(o.style.left=parseFloat(o.style.left)/100*s+"px"),o.style.width=parseFloat(o.style.width)/100*s+"px"})},t.prototype.getFirstChild=function(e){var n="";return this.parent.activeViewOptions.group.resources.length>0&&(n='[data-group-index="'+e.toString()+'"]'),this.parent.element.querySelector(".e-content-table tbody td"+n)},t.prototype.updateBlockElements=function(){for(var i=0,n=[].slice.call(this.element.querySelectorAll("."+nm));i<n.length;i++){var s=n[i],a=parseInt(s.getAttribute("data-group-index"),10),o=this.getFirstChild(a);s.style.height=o.offsetHeight+"px";var l=Math.round(s.offsetWidth/o.offsetWidth);s.style.width=o.offsetWidth*l+"px"}for(var c=0,d=[].slice.call(this.element.querySelectorAll("."+tS));c<d.length;c++)s=d[c],a=parseInt(s.getAttribute("data-group-index"),10),s.style.top=this.getRowTop(a)+this.getFirstChild(a).offsetHeight-18+"px"},t.prototype.getStartTime=function(e,i){var n=e[this.fields.startTime],s=ra(n,this.startHour,this.endHour);return n=this.isDayProcess()?e[this.fields.startTime]:s.startHour.getTime()>=i[this.fields.startTime]?s.startHour:s.endHour.getTime()<=i[this.fields.startTime]?this.getNextDay(s.startHour,i):i[this.fields.startTime],i.trimStartTime=e[this.fields.isAllDay]?s.startHour:i[this.fields.startTime],n},t.prototype.getNextDay=function(e,i){for(var n,s=1;s<=this.dateRender.length;s++)if(n=Ee(e,s),-1!==this.parent.getIndexOfDate(this.dateRender,ie(new Date(e.getTime()))))return i.count=i.count-1,n;return n},t.prototype.getEndTime=function(e,i){var n=e[this.fields.endTime],s=ra(n,this.startHour,this.endHour);return this.isDayProcess()?n=i[this.fields.endTime]:(n=i[this.fields.endTime],(s.endHour.getTime()<=i[this.fields.endTime]||e[this.fields.isAllDay])&&(n=s.endHour),s.startHour.getTime()>=i[this.fields.endTime].getTime()&&!e[this.fields.isAllDay]&&(n=this.getPreviousDay(s.startHour,s.endHour,i))),i.trimEndTime=e[this.fields.isAllDay]?s.endHour:i[this.fields.endTime],n},t.prototype.getPreviousDay=function(e,i,n){for(var s=1;s<=this.dateRender.length;s++){var a=Ee(i,-s);if(-1!==this.parent.getIndexOfDate(this.dateRender,ie(new Date(e.getTime())))){(a=ie(new Date(a.getTime()))).setHours(i.getHours(),i.getMinutes(),i.getSeconds());var o=n.count,l=n[this.fields.endTime];return n.count=0!==l.getHours()||0!==l.getMinutes()?o-1:o,a}}return n[this.fields.endTime]},t.prototype.getEventWidth=function(e,i,n,s){return"day"===this.renderType||n?s*this.slotsPerDay*this.cellWidth:this.isSameDay(e,i)?this.getSameDayEventsWidth(e,i):this.getSpannedEventsWidth(e,i,s)},t.prototype.getSameDayEventsWidth=function(e,i){return(pn(i)-pn(e))/Os*(this.cellWidth*this.slotCount)/this.interval},t.prototype.getSpannedEventsWidth=function(e,i,n){var a,s=n*this.slotsPerDay*this.cellWidth,o=ra(ie(new Date(e.getTime())),this.startHour,this.endHour),l=this.getSameDayEventsWidth(o.startHour,e);if(-1===this.parent.getIndexOfDate(this.dateRender,ie(new Date(i.getTime()))))a=0;else{var h=ra(ie(new Date(i.getTime())),this.startHour,this.endHour);a=this.getSameDayEventsWidth(i,h.endHour),a=this.slotsPerDay*this.cellWidth===a?0:a}var c=l+a;return s>c?s-c:s-l},t.prototype.isSameDay=function(e,i){return this.parent.getIndexOfDate(this.dateRender,ie(new Date(e.getTime())))===this.parent.getIndexOfDate(this.dateRender,ie(new Date(i.getTime())))},t.prototype.getAppointmentLeft=function(e,i,n){var s=this.isSameDay(i,e.startHour)?(pn(i)-pn(e.startHour))/(Os*this.interval)*this.slotCount:0;return 0===n?s:Math.round((pn(e.endHour)-pn(e.startHour))/Os/this.interval*this.slotCount)*n+s},t.prototype.getPosition=function(e,i,n,s){if("day"===this.renderType||n)return s*this.slotsPerDay*this.cellWidth;var o=ra(ie(new Date(this.dateRender[parseInt(s.toString(),10)].getTime())),this.startHour,this.endHour);return(o.endHour.getTime()<=i.getTime()&&o.startHour.getTime()>=e.getTime()?this.getAppointmentLeft(o,o.startHour,s):o.endHour.getTime()<=i.getTime()?this.getAppointmentLeft(o,e,s):o.startHour.getTime()>=e.getTime()?this.getAppointmentLeft(o,o.startHour,s):this.getAppointmentLeft(o,e,s))*this.cellWidth},t.prototype.getFilterEvents=function(e,i,n,s,a,o){return"day"===this.renderType?this.getFilteredEvents(e,i,a,o):this.getFilteredEvents(n,s,a,o)},t.prototype.isAlreadyAvail=function(e,i){for(var n=[].slice.call(i.querySelectorAll("."+Dr)),s=0;s<n.length;s++){var a=void 0;if(n&&(a=this.parent.enableRtl?n[parseInt(s.toString(),10)].style.right:n[parseInt(s.toString(),10)].style.left),parseInt(a,10)===Math.floor(e))return!0}return!1},t.prototype.getRowTop=function(e){return this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?this.parent.element.querySelector("."+ut+' tbody td[data-group-index="'+e.toString()+'"]').offsetTop:0},t.prototype.getCellTd=function(){return this.eventContainers[parseInt((this.parent.uiStateValues.isGroupAdaptive?0:this.rowIndex).toString(),10)]},t.prototype.renderBlockIndicator=function(e,i,n){if(!(this.parent.headerRows.length>0&&("Hour"!==this.parent.headerRows[this.parent.headerRows.length-1].option||"Date"!==this.parent.headerRows[this.parent.headerRows.length-1].option)||(i=Math.floor(i/this.cellWidth)*this.cellWidth+this.cellWidth-22,this.isAlreadyAvail(i,e)))){var s=N("div",{className:"e-icons "+tS});this.parent.activeViewOptions.group.resources.length>0&&s.setAttribute("data-group-index",n.toString()),this.parent.enableRtl?s.style.right=i+"px":s.style.left=i+"px",s.style.top=this.getRowTop(n)+this.cellHeight-18+"px",this.renderElement(e,s)}},t.prototype.setMaxEventHeight=function(e,i){ue(e,{height:this.cellHeight-(this.maxHeight?0:2)-(this.maxHeight?0:this.moreIndicatorHeight)+"px"})},t.prototype.isDayProcess=function(){return"TimelineMonth"===this.parent.currentView||!this.parent.activeViewOptions.timeScale.enable||this.parent.activeViewOptions.headerRows.length>0&&"Hour"!==this.parent.activeViewOptions.headerRows.slice(-1)[0].option},t.prototype.destroy=function(){this.renderType=null,this.eventContainers=null,this.dayLength=null,this.content=null,r.prototype.destroy.call(this),this.parent=null},t}(lm),dCe=function(){function r(t){this.parent=t,this.parent.on(Gf,this.inlineEdit,this)}return r.prototype.inlineEdit=function(t){if(this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(),"Cell"===t.type){var e=this.parent.element.querySelector("."+Fh);e&&e.classList.contains(Qn)&&this.parent.quickPopup.morePopup.hide(),this.removeInlineAppointmentElement(),this.cellEdit(t)}else this.parent.element.querySelector("."+Br)!==t.element.querySelector("."+Br)&&this.removeInlineAppointmentElement(),this.eventEdit(t)},r.prototype.cellEdit=function(t){var e=this.generateEventData(),i=t.element.cellIndex,n=this.getEventDaysCount(e);n>1&&(n=Math.round(n),i-=--n);var s=ie(new Date(""+e[this.parent.eventFields.startTime])).getTime(),a=ie(new Date(""+e[this.parent.eventFields.endTime])).getTime(),o=t.groupIndex||0,l="Day"===this.parent.currentView||"Week"===this.parent.currentView||"WorkWeek"===this.parent.currentView;if(this.parent.activeViewOptions.timeScale.enable&&l){var h=e[this.parent.eventFields.startTime].getDay();this.createVerticalViewInline(e,h,o,i)}else"Month"===this.parent.currentView||!this.parent.activeViewOptions.timeScale.enable&&l?this.createMonthViewInline(e,o,s,a):this.createTimelineViewInline(e,s,a,o);var c=this.parent.element.querySelector("."+Br);c&&c.focus()},r.prototype.eventEdit=function(t){var i,e=t.element.querySelector("."+Br);if(e)i=e.value;else{var n=t.element.querySelector("."+Cn);if(u(n)?i=t.data[this.parent.eventFields.subject]:(D([n],gi),i=n.innerText),e=N("input",{className:Br,attrs:{value:i}}),I(t.element,"."+Fh))t.element.insertBefore(e,n);else if(["Agenda","MonthAgenda"].indexOf(this.parent.currentView)>-1){var s=t.element.querySelector("."+nS);u(s)&&(s=N("div",{className:nS}),t.element.prepend(s)),s.insertBefore(e,s.firstChild)}else t.element.querySelector(".e-appointment-details").prepend(e);e.focus()}e.setSelectionRange(i.length,i.length)},r.prototype.createVerticalViewInline=function(t,e,i,n){var s,a=this.getEventDaysCount(t),o=new F1(this.parent);o.initializeValues();var l=o.dateRender[parseInt(i.toString(),10)].map(function(f){return f.getDay()}).indexOf(e);if(a>=1){o.allDayElement=[].slice.call(this.parent.element.querySelectorAll("."+Si)),(s=o.slots).push.apply(s,this.parent.activeView.renderDates.map(function(f){return+f}));var h=[].slice.call(this.parent.element.querySelectorAll("."+ir)),c=0;h.length>0&&(c=Math.floor(this.parent.element.querySelector("."+xl).getBoundingClientRect().height/h[0].offsetHeight)-1),o.allDayLevel=c;var d=qc(this.parent.element.querySelector("."+ro),Ze);o.renderAllDayEvents(t,l,i,n,this.parent.allowInline,o.allDayElement.length>0?o.allDayElement[0].offsetTop:0,d)}else o.renderNormalEvents(t,l,i,n,this.parent.allowInline)},r.prototype.createMonthViewInline=function(t,e,i,n){var s=this.getEventDaysCount(t),a=this.parent.eventBase.cloneEventObject(t,i,n,s,!1,!1),o=new lm(this.parent);o.dateRender=this.parent.activeView.renderDates,o.inlineValue=this.parent.allowInline;var l=this.parent.activeView.renderDates,h=this.parent.activeViewOptions.workDays,c="."+Te;if(this.parent.activeViewOptions.group.resources.length>0){c+='[data-group-index="'+e+'"]';var d=this.parent.resourceBase.lastResourceLevel[parseInt(e.toString(),10)];l=d.renderDates,h=d.workDays}o.dateRender=l,o.workCells=[].slice.call(this.parent.element.querySelectorAll(c)),o.cellWidth=o.workCells[0].offsetWidth,o.cellHeight=o.workCells[0].offsetHeight,o.eventHeight=qc(this.parent.monthModule.element||o.element,Ze),o.getSlotDates(h);for(var p=o.getRenderedDates(l),m=0,g=o.splitEvent(a,p||l);m<g.length;m++)o.renderEvents(g[m],e);this.parent.element.querySelector("."+Br).focus()},r.prototype.createTimelineViewInline=function(t,e,i,n){var s=this.getEventDaysCount(t),a=this.parent.eventBase.cloneEventObject(t,e,i,s,!1,!1),o=new cm(this.parent,this.parent.activeViewOptions.timeScale.enable?"hour":"day");o.dateRender=this.parent.activeView.renderDates,o.eventContainers=[].slice.call(this.parent.element.querySelectorAll("."+Aa));var l=this.parent.element.querySelector("."+Te);o.inlineValue=this.parent.allowInline,o.cellWidth=l.offsetWidth,o.cellHeight=l.offsetHeight;var h=0===this.parent.element.querySelectorAll("."+_i+" tbody tr").length?0:this.parent.element.querySelectorAll("."+_i+" tbody tr")[0].children.length;o.slotsPerDay=h/o.dateRender.length,o.eventHeight=qc(o.element,Ze),o.renderEvents(a,n)},r.prototype.getEventDaysCount=function(t){var e=t[this.parent.eventFields.startTime];return Math.abs(t[this.parent.eventFields.endTime].getTime()-e.getTime())/Hi},r.prototype.generateEventData=function(t){var e=this.parent.element.querySelector("."+Br),i=e?e.value:t?t.innerHTML:"",n={};return n[this.parent.eventFields.id]=this.parent.eventBase.getEventMaxID(),n[this.parent.eventFields.subject]=i,n[this.parent.eventFields.startTime]=this.parent.activeCellsData.startTime,n[this.parent.eventFields.endTime]=this.parent.activeCellsData.endTime,n[this.parent.eventFields.isAllDay]=this.parent.activeCellsData.isAllDay,this.parent.eventWindow.setDefaultValueToObject(n),this.parent.resourceBase&&this.parent.resourceBase.setResourceValues(n,this.parent.activeCellsData.groupIndex),n},r.prototype.documentClick=function(){var t=this.parent.element.querySelector("."+Br);t&&""!==t.value?this.inlineCrudActions(t):this.removeInlineAppointmentElement()},r.prototype.inlineCrudActions=function(t){if(I(t,"."+Oy)){var e=this.generateEventData(t);this.parent.addEvent(e)}else{var i=I(t,"."+Ze),n=this.parent.getEventDetails(i);n[this.parent.eventFields.subject]=t.value;var s=void 0;n[this.parent.eventFields.id]===n[this.parent.eventFields.recurrenceID]&&(s="EditOccurrence",n[this.parent.eventFields.id]=this.parent.eventBase.getEventMaxID()),this.parent.saveEvent(n,s)}this.removeInlineAppointmentElement()},r.prototype.createInlineAppointmentElement=function(t){var e=N("div",{className:Ze+" "+Oy}),i=N("div",{className:iS});e.appendChild(i);var n=N("input",{className:Br});return i.appendChild(n),t&&this.parent.eventBase.applyResourceColor(e,t,"backgroundColor"),e},r.prototype.removeInlineAppointmentElement=function(){var t=[].slice.call(this.parent.element.querySelectorAll("."+Oy));t.length>0&&t.forEach(function(s){return me(s)});var e=this.parent.element.querySelector("."+Br);if(e){var n=I(e,"."+Ze).querySelector("."+Cn);u(n)||M([n],gi),me(e)}},r.prototype.destroy=function(){this.parent.off(Gf,this.inlineEdit)},r}(),a8=function(){function r(){}return r.prototype.renderFormValidator=function(t,e,i,n){var s=this;this.element=i,this.formObj=new ife(t,{locale:n,customPlacement:function(a,o){s.errorPlacement(a,o)},rules:e,validationComplete:function(a){s.validationComplete(a)},focusout:function(a){s.focusOut(a)}})},r.prototype.focusOut=function(t){var e=t.relatedTarget;this.ignoreError=!(!e||!(e.classList.contains("e-dlg-closeicon-btn")||e.classList.contains("e-close")||e.classList.contains(Si)||e.classList.contains(Vn)||e.classList.contains(pS)||e.classList.contains(Te)||e.classList.contains(T6)))},r.prototype.validationComplete=function(t){var e=this.element.querySelector("#"+t.inputName+"_Error");e&&(e.style.display="failure"===t.status?"":"none")},r.prototype.errorPlacement=function(t,e){var i=e.getAttribute("for"),n=this.element.querySelector("#"+i+"_Error");!n&&!this.ignoreError&&this.createTooltip(t,e,i,""),u(n)||(n.querySelector(".e-error").innerHTML=e.innerHTML)},r.prototype.createTooltip=function(t,e,i,n){var s,a,o=t.getBoundingClientRect();this.element.classList.contains(Hh)?(s=this.element,a=this.element.getBoundingClientRect()):a=(s=this.element.querySelector(".e-schedule-dialog .e-dlg-content")).getBoundingClientRect();var l=N("div",{className:"e-tooltip-wrap e-popup "+O6,id:i+"_Error",styles:"display:"+n+";top:"+(o.bottom-a.top+s.scrollTop+9)+"px;left:"+(o.left-a.left+s.scrollLeft+o.width/2)+"px;"}),h=N("div",{className:"e-tip-content"});h.appendChild(e);var c=N("div",{className:"e-arrow-tip e-tip-top"});c.appendChild(N("div",{className:"e-arrow-tip-outer e-tip-top"})),c.appendChild(N("div",{className:"e-arrow-tip-inner e-tip-top"})),l.appendChild(h),l.appendChild(c),s.appendChild(l),l.style.left=parseInt(l.style.left,10)-l.offsetWidth/2+"px"},r.prototype.destroyToolTip=function(){if(this.element)for(var e=0,i=[].slice.call(this.element.querySelectorAll("."+O6));e<i.length;e++)me(i[e]);this.formObj&&this.formObj.element&&this.formObj.reset()},r.prototype.destroy=function(){this.formObj&&this.formObj.element&&!this.formObj.isDestroyed&&this.formObj.destroy(),this.formObj=null,this.element=null},r}(),o8=function(){function r(t){this.isMultipleEventSelect=!1,this.isCrudAction=!1,this.parent=t,this.l10n=this.parent.localeObj,this.fieldValidator=new a8,this.render(),this.addEventListener()}return r.prototype.render=function(){this.renderQuickPopup(),this.renderMorePopup(),this.renderQuickDialog()},r.prototype.renderQuickPopup=function(){var t=N("div",{className:Hh+" e-popup-close",attrs:{role:"dialog"}});this.parent.isAdaptive?(document.body.appendChild(t),D([t],Kf)):this.parent.element.appendChild(t),this.quickPopup=new us(t,{targetType:this.parent.isAdaptive?"container":"relative",enableRtl:this.parent.enableRtl,open:this.quickPopupOpen.bind(this),close:this.quickPopupClose.bind(this),hideAnimation:this.parent.isAdaptive?{name:"ZoomOut"}:{name:"FadeOut",duration:150},showAnimation:this.parent.isAdaptive?{name:"ZoomIn"}:{name:"FadeIn",duration:150},collision:this.parent.isAdaptive?{X:"fit",Y:"fit"}:this.parent.enableRtl?{X:"flip",Y:"fit"}:{X:"none",Y:"fit"},position:this.parent.isAdaptive||this.parent.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"},viewPortElement:this.parent.isAdaptive?document.body:this.parent.element,zIndex:this.parent.isAdaptive?1004:3})},r.prototype.renderMorePopup=function(){var t='<div class="'+vd+'"><div class="e-more-event-header"><div class="'+m1+'" title="'+this.l10n.getConstant("close")+'" tabindex="0"></div><div class="'+f1+'"><div class="'+y6+'"></div><div class="'+om+" "+gd+'" tabindex="0"></div></div></div></div>',e=N("div",{className:Fh+" e-popup-close",innerHTML:t});this.parent.isAdaptive?(document.body.appendChild(e),D([e],Kf)):this.parent.element.appendChild(e),this.morePopup=new us(e,{targetType:this.parent.isAdaptive?"container":"relative",enableRtl:this.parent.enableRtl,hideAnimation:{name:"ZoomOut",duration:300},showAnimation:{name:"ZoomIn",duration:300},open:this.morePopupOpen.bind(this),close:this.morePopupClose.bind(this),collision:this.parent.isAdaptive?{X:"fit",Y:"fit"}:this.parent.enableRtl?{X:"flip",Y:"fit"}:{X:"flip",Y:"flip"},viewPortElement:this.parent.isAdaptive?document.body:this.parent.element,zIndex:this.parent.isAdaptive?1002:2});var i=this.morePopup.element.querySelector("."+m1);this.renderButton("e-round",sn+" "+yS,!1,i,this.closeClick),b.add(this.morePopup.element.querySelector("."+om),"click",this.navigationClick,this)},r.prototype.renderQuickDialog=function(){var t=[{buttonModel:{cssClass:"e-quick-alertok e-flat",isPrimary:!0},click:this.dialogButtonClick.bind(this)},{buttonModel:{cssClass:"e-quick-alertcancel e-flat",isPrimary:!1},click:this.dialogButtonClick.bind(this)},{buttonModel:{cssClass:"e-quick-dialog-cancel e-disable e-flat",isPrimary:!1},click:this.dialogButtonClick.bind(this)}];if(this.parent.eventSettings.editFollowingEvents){var e={buttonModel:{cssClass:"e-quick-alertfollowing e-flat",isPrimary:!1},click:this.dialogButtonClick.bind(this)};t.splice(1,0,e)}this.quickDialog=new QC({animationSettings:{effect:"Zoom"},buttons:t,cssClass:"e-quick-dialog",closeOnEscape:!0,enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,beforeClose:this.beforeQuickDialogClose.bind(this),isModal:!0,position:{X:"center",Y:"center"},showCloseIcon:!0,target:document.body,visible:!1,width:"auto"});var i=N("div",{id:this.parent.element.id+"QuickDialog"});this.parent.element.appendChild(i),this.quickDialog.appendTo(i);var n=this.quickDialog.element.querySelector("."+Kc);n&&(n.setAttribute("aria-label",this.l10n.getConstant("occurrence")),n.setAttribute("aria-label",n.innerHTML));var s=this.quickDialog.element.querySelector("."+_l);s&&(s.setAttribute("aria-label",this.l10n.getConstant("series")),s.setAttribute("aria-label",s.innerHTML)),this.quickDialog.element.querySelector(".e-dlg-closeicon-btn")&&this.quickDialog.element.querySelector(".e-dlg-closeicon-btn").setAttribute("title",this.l10n.getConstant("close"))},r.prototype.renderButton=function(t,e,i,n,s){new vn({cssClass:t,disabled:i,enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,iconCss:e}).appendTo(n),b.add(n,"click",s,this),M([n],sn)},r.prototype.quickDialogClass=function(t){var e=[v1,y1,b1,Cy,D6,gi],i=this.quickDialog.element.querySelector("."+Kc),n=this.quickDialog.element.querySelector("."+_l),s=this.quickDialog.element.querySelector("."+E6);switch(M([i,n],e),D([this.quickDialog.element.querySelector("."+Cy)],gi),this.parent.eventSettings.editFollowingEvents&&(D([s],gi),M([this.quickDialog.element],C6)),t){case"Recurrence":D([i],v1),D([n],y1),this.parent.eventSettings.editFollowingEvents&&(M([s],gi),D([this.quickDialog.element],C6),D([s],b6));break;case"Delete":D([i],b1),D([n],Cy);break;case"Alert":D([i],[Kc,D6]),D([n],[_l,gi])}},r.prototype.applyFormValidation=function(){var t=this.quickPopup.element.querySelector("."+Xc),e={};e[this.parent.eventSettings.fields.subject.name]=this.parent.eventSettings.fields.subject.validation,this.fieldValidator.renderFormValidator(t,e,this.quickPopup.element,this.parent.locale)},r.prototype.openRecurrenceAlert=function(){var t=this.quickDialog.element.querySelector("."+Kc);t&&(t.innerHTML=this.l10n.getConstant("Delete"===this.parent.currentAction?"deleteEvent":"editEvent"),t.setAttribute("aria-label",t.innerHTML));var e=this.quickDialog.element.querySelector("."+E6);e&&(e.innerHTML=this.l10n.getConstant("editFollowingEvent"),e.setAttribute("aria-label",e.innerHTML));var i=this.quickDialog.element.querySelector("."+_l);i&&(i.innerHTML=this.l10n.getConstant("Delete"===this.parent.currentAction?"deleteSeries":"editSeries"),i.setAttribute("aria-label",i.innerHTML)),this.quickDialog.content=this.l10n.getConstant("editContent"),this.quickDialog.header=this.l10n.getConstant("Delete"===this.parent.currentAction?"deleteTitle":"editTitle"),this.quickDialogClass("Recurrence"),this.showQuickDialog("RecurrenceAlert")},r.prototype.openRecurrenceValidationAlert=function(t){this.quickDialogClass("Alert");var e=this.quickDialog.element.querySelector("."+Kc);e.innerHTML=this.l10n.getConstant("ok"),e.setAttribute("aria-label",e.innerHTML);var n,i=this.quickDialog.element.querySelector("."+_l);switch(i.innerHTML=this.l10n.getConstant("cancel"),i.setAttribute("aria-label",i.innerHTML),this.quickDialog.header=this.l10n.getConstant("alert"),t){case"wrongPattern":D([i],gi),this.quickDialog.content=this.l10n.getConstant("wrongPattern");break;case"createError":D([i],gi),this.quickDialog.content=this.l10n.getConstant("createError");break;case"sameDayAlert":D([i],gi),this.quickDialog.content=this.l10n.getConstant("sameDayAlert");break;case"seriesChangeAlert":M([i,n=this.quickDialog.element.querySelector("."+Cy)],gi),this.quickDialog.content=this.l10n.getConstant("seriesChangeAlert"),e.innerHTML=this.l10n.getConstant("yes"),i.innerHTML=this.l10n.getConstant("no"),n.innerHTML=this.l10n.getConstant("cancel");break;case"occurrenceAlert":D([i],gi),this.quickDialog.content=this.l10n.getConstant("occurenceAlert")}(!this.parent.enableRecurrenceValidation&&"wrongPattern"===t||this.parent.enableRecurrenceValidation)&&this.showQuickDialog("RecurrenceValidationAlert")},r.prototype.openDeleteAlert=function(){if(!this.parent.activeViewOptions.readonly){var t=this.quickDialog.element.querySelector("."+Kc);t&&(t.innerHTML=this.l10n.getConstant("delete"),t.setAttribute("aria-label",t.innerHTML));var e=this.quickDialog.element.querySelector("."+_l);e&&(e.innerHTML=this.l10n.getConstant("cancel"),e.setAttribute("aria-label",e.innerHTML)),this.quickDialog.content=this.l10n.getConstant(this.parent.activeEventData.event.length>1?"deleteMultipleContent":"deleteContent"),this.quickDialog.header=this.l10n.getConstant(this.parent.activeEventData.event.length>1?"deleteMultipleEvent":"deleteEvent"),this.quickDialogClass("Delete"),this.showQuickDialog("DeleteAlert")}},r.prototype.openValidationError=function(t,e){this.quickDialog.header=this.l10n.getConstant("alert"),this.quickDialog.content=this.l10n.getConstant(t);var i=this.quickDialog.element.querySelector("."+Kc);i&&(i.innerHTML=this.l10n.getConstant("ok"),i.setAttribute("aria-label",i.innerHTML));var n=this.quickDialog.element.querySelector("."+_l);n&&(n.innerHTML=this.l10n.getConstant("cancel"),i.setAttribute("aria-label",n.innerHTML)),this.quickDialogClass("Alert"),this.showQuickDialog("ValidationAlert",e)},r.prototype.showQuickDialog=function(t,e){var i=this;this.quickDialog.dataBind();var n={type:t,cancel:!1,element:this.quickDialog.element,data:z({},e||this.parent.activeEventData.event,null,!0)};this.parent.trigger(qD,n,function(s){s.cancel||i.quickDialog.show()})},r.prototype.createMoreEventList=function(t,e,i){var n=this,s=this.parent.eventFields,a=N("div",{className:mS}),o=N("div",{className:g1});if(0===t.length)o=N("div",{className:mS,innerHTML:this.l10n.getConstant("emptyContainer")});else for(var l=function(f){var m=f[s.subject]||h.parent.eventSettings.fields.subject.default||h.parent.localeObj.getConstant("addTitle"),g=N("div",{className:Ze,attrs:{"data-id":""+f[s.id],"data-guid":f.Guid,role:"button",tabindex:"0","aria-disabled":h.parent.eventBase.getReadonlyAttribute(f),"aria-label":h.parent.getAnnouncementString(f)}});if(f[s.isReadonly]&&D([g],"e-read-only"),u(h.parent.activeViewOptions.eventTemplate))g.appendChild(N("div",{className:Cn})),h.parent.sanitize(m,g.firstElementChild);else{var C=h.parent.element.id+"_"+h.parent.activeViewOptions.eventTemplateName+"eventTemplate";ce(h.parent.getAppointmentTemplate()(f,h.parent,"eventTemplate",C,!1),g)}u(i)||g.setAttribute("data-group-index",i),u(f[s.recurrenceRule])||g.appendChild(N("div",{className:sn+" "+(f[s.id]===f[s.recurrenceID]?gy:vy)}));var S={data:z({},f,null,!0),element:g,cancel:!1};h.parent.trigger(Qf,S,function(w){w.cancel||(o.appendChild(g),n.parent.eventBase.wireAppointmentEvents(g,f,n.parent.isAdaptive||"Year"===n.parent.currentView),n.parent.eventBase.applyResourceColor(g,f,"backgroundColor",e))})},h=this,c=0,d=t;c<d.length;c++)l(d[c]);return a.appendChild(o),a},r.prototype.tapHoldEventPopup=function(t){var e=I(t.target,"."+Ze);this.isMultipleEventSelect=!1,this.parent.selectedElements=[],this.isMultipleEventSelect=!0,this.parent.eventBase.getSelectedEventElements(e),this.parent.activeEventData=this.parent.eventBase.getSelectedEvents();var i=e.getAttribute("data-guid"),n=this.parent.eventBase.getEventByGuid(i);if(!u(n)){var s=n[this.parent.eventFields.subject]||this.l10n.getConstant("noTitle"),a='<div class="e-multiple-event-popup"><div class="'+d1+'"><button class="'+Cd+'" title="'+this.l10n.getConstant("close")+'"></button><div class="'+Cn+'">'+s+'</div><button class="e-edit" title="'+this.l10n.getConstant("edit")+'"></button><button class="'+Ty+'" title="'+this.l10n.getConstant("delete")+'"></button></div></div>';this.quickPopup.element.innerHTML=a;var o=this.quickPopup.element.querySelector("."+Cd);this.renderButton("e-flat e-round e-small",sn+" "+yS,!1,o,this.closeClick);var l=this.parent.activeViewOptions.readonly||n[this.parent.eventFields.isReadonly],h=!this.parent.eventSettings.allowEditing||l,c=!this.parent.eventSettings.allowDeleting||l,d=this.quickPopup.element.querySelector("."+bd);d&&this.renderButton("e-flat e-round e-small",sn+" "+vS,h,d,this.editClick);var p=this.quickPopup.element.querySelector("."+Ty);p&&this.renderButton("e-flat e-round e-small",sn+" "+x6,c,p,this.deleteClick),this.beforeQuickPopupOpen(e,this.parent.eventBase.getPageCoordinates(t))}},r.prototype.isCellBlocked=function(t){var e={};if(e[this.parent.eventFields.startTime]=this.parent.activeCellsData.startTime,e[this.parent.eventFields.endTime]=this.parent.activeCellsData.endTime,e[this.parent.eventFields.isAllDay]=this.parent.activeCellsData.isAllDay,this.parent.activeViewOptions.group.resources.length>0){var n=parseInt((t.element instanceof Array?t.element[0]:t.element).getAttribute("data-group-index"),10);this.parent.resourceBase.setResourceValues(e,isNaN(n)?null:n)}return this.parent.eventBase.isBlockRange(e)},r.prototype.cellClick=function(t){var e=new Date(t.startTime.getTime());if(this.parent.showQuickInfo&&this.parent.eventSettings.allowAdding&&"MonthAgenda"!==this.parent.currentView&&!this.isCellBlocked(t)&&this.parent.isMinMaxDate(new Date(e.setHours(0,0,0,0)))){var i=u(t.event)?t.element:t.event.target;if(this.parent.isAdaptive){this.quickPopupHide();var n=this.parent.element.querySelector("."+lS);u(n)&&(n=N("div",{className:lS,innerHTML:'<div class="e-title">+ '+this.l10n.getConstant("newEvent")+"</div>"}));var s=I(i,"."+Te+",."+Si);s&&s.appendChild(n)}else{var a=I(i,"."+Te+",."+Si+",."+Vn);if(!u(a)&&!i.classList.contains(Dr)){if(this.quickPopup.relateTo===a&&this.quickPopup.element.classList.contains(Qn)){var l=this.quickPopup.element.querySelector("."+Cn);return void(l&&l.focus())}this.quickPopup.element&&this.destroyPopupButtons("quickPopup");var h={};h[this.parent.eventFields.startTime]=this.parent.activeCellsData.startTime,h[this.parent.eventFields.endTime]=this.parent.activeCellsData.endTime,h[this.parent.eventFields.isAllDay]=this.parent.activeCellsData.isAllDay;var c=N("div",{className:c1});c.appendChild(this.getPopupHeader("Cell",h)),c.appendChild(this.getPopupContent("Cell",t,h)),c.appendChild(this.getPopupFooter("Cell",h)),this.quickPopup.element.setAttribute("aria-label",this.l10n.getConstant("newEvent"));var d=c.querySelector("."+Cn);d&&X.createInput({element:d,properties:{placeholder:this.l10n.getConstant("addTitle")}}),u(this.parent.eventSettings.fields.subject.default)||(d.value=this.parent.eventSettings.fields.subject.default);var p=c.querySelector("."+Cd);p&&this.renderButton("e-flat e-round e-small",sn+" "+yS,!1,p,this.popupClose);var f=c.querySelector("."+pS);f&&this.renderButton("e-flat","",!1,f,this.detailsClick);var m=c.querySelector("."+fS);m&&this.renderButton("e-flat e-primary","",this.parent.activeViewOptions.readonly,m,this.saveClick),this.morePopup&&this.morePopup.hide(),this.quickPopup.content=c,this.quickPopup.relateTo=a,this.quickPopup.dataBind(),this.beforeQuickPopupOpen(a,this.parent.eventBase.getPageCoordinates(t.event))}}}else this.quickPopupHide()},r.prototype.isSameEventClick=function(t){if(this.quickPopup.relateTo===I(t.element,"."+Ze)&&this.quickPopup.element.classList.contains(Qn)){var i=this.quickPopup.element.querySelector("."+bd);if(i&&i.focus(),!this.parent.isAdaptive){var n=this.quickPopup.element.querySelector("."+am);n&&n.focus()}return!0}return!1},r.prototype.isQuickTemplate=function(t){return"Both"===this.parent.quickInfoTemplates.templateType||this.parent.quickInfoTemplates.templateType===t},r.prototype.eventClick=function(t){if(this.parent.eventTooltip&&this.parent.eventTooltip.close(),this.parent.showQuickInfo)if(this.parent.isAdaptive&&this.isMultipleEventSelect)this.updateTapHoldEventPopup(I(t.element,"."+Ze));else{var e=this.isSameEventClick(t);if(this.parent.selectedElements=[],e)return;this.quickPopup.element&&this.destroyPopupButtons("quickPopup");var i=t.event,n=N("div",{className:u1});n.appendChild(this.getPopupHeader("Event",i)),n.appendChild(this.getPopupContent("Event",t,i)),n.appendChild(this.getPopupFooter("Event",i)),this.quickPopup.element.setAttribute("aria-label",this.l10n.getConstant("editEvent"));var s=this.parent.activeViewOptions.readonly||i[this.parent.eventFields.isReadonly],a=!this.parent.eventSettings.allowEditing||s,o=!this.parent.eventSettings.allowDeleting||s,l=n.querySelector("."+bd),h="e-flat e-round e-small";l&&this.renderButton(h,sn+" "+vS,a,l,this.editClick);var c=n.querySelector("."+Ty);c&&this.renderButton(h,sn+" "+x6,o,c,this.deleteClick);var d=n.querySelector("."+Cd);d&&this.renderButton(h,sn+" "+yS,!1,d,this.popupClose);var p=n.querySelector("."+am);p&&this.renderButton("e-flat e-primary","",a,p,this.editClick);var f=n.querySelector("."+Ph);f&&this.renderButton("e-flat","",o,f,this.deleteClick),this.morePopup&&!I(t.element,"."+g1)&&this.morePopup.hide(),this.quickPopup.content=n,this.quickPopup.relateTo=this.parent.isAdaptive?document.body:I(t.element,"."+Ze),this.quickPopup.dataBind(),this.beforeQuickPopupOpen(t.element,this.parent.eventBase.getPageCoordinates(t.originalEvent))}},r.prototype.getPopupHeader=function(t,e){var i=N("div",{className:d1});if(this.isQuickTemplate(t)&&this.parent.quickInfoTemplates.header){var n=z({},e,{elementType:t.toLowerCase()},!0),s=this.parent.element.id,a=[].slice.call(this.parent.getQuickInfoTemplatesHeader()(n,this.parent,"header",s+"_headerTemplate",!1));ce([].slice.call(a),i)}else{var o=void 0,l=void 0;switch(t){case"Cell":o='<div class="'+g6+'"><button class="'+Cd+'" title="'+this.l10n.getConstant("close")+'"></button></div>';break;case"Event":l=this.getFormattedString(e),o='<div class="'+g6+'"><button class="e-edit '+sn+'" title="'+this.l10n.getConstant("edit")+'"></button><button class="'+Ty+" "+sn+'" title="'+this.l10n.getConstant("delete")+'"></button><button class="'+Cd+'" title="'+this.l10n.getConstant("close")+'"></button></div><div class="'+nS+'"><div class="'+Cn+" "+nr+'" title="'+(l.eventSubject?l.eventSubject.replaceAll('"',"'"):l.eventSubject)+'"></div></div >'}var h=N("div",{innerHTML:o});if("Event"===t){var c=h.querySelector("."+Cn);this.parent.sanitize(l.eventSubject,c)}ce([].slice.call(h.childNodes),i)}return i},r.prototype.getPopupContent=function(t,e,i){var n=N("div",{className:"e-popup-content"});if(this.isQuickTemplate(t)&&this.parent.quickInfoTemplates.content){var s=z({},i,{elementType:t.toLowerCase()},!0),a=this.parent.element.id,o=[].slice.call(this.parent.getQuickInfoTemplatesContent()(s,this.parent,"content",a+"_contentTemplate",!1));ce([].slice.call(o),n)}else{var l=void 0,h=void 0,c=void 0,d=this.getResourceText(e,t.toLowerCase());switch(t){case"Cell":h=this.getFormattedString(i),l='<table class="e-popup-table"><tbody><tr><td><form class="'+Xc+'" onsubmit="return false;"><input class="'+Cn+' e-field" type="text" name="'+this.parent.eventFields.subject+'" /></form></td></tr><tr><td><div class="'+t1+'"><div class="'+F6+" "+sn+'"></div><div class="'+v6+" "+nr+'">'+h.details+"</div></div>"+(this.parent.activeViewOptions.group.resources.length>0?'<div class="'+R6+'"><div class="'+P6+" "+sn+' "></div><div class="'+E1+" "+nr+'"></div></div>':"")+"</td></tr></tbody></table>";break;case"Event":c=this.getFormattedString(i),l='<div class="'+t1+'"><div class="'+F6+" "+sn+'"></div><div class="e-date-time-wrapper '+nr+'"><div class="'+v6+" "+nr+'">'+c.details+"</div>",i[this.parent.eventFields.recurrenceRule]&&(l+='<div class="e-recurrence-summary '+nr+'">'+this.getRecurrenceSummary(i)+"</div>"),l+="</div></div>",i[this.parent.eventFields.location]&&(l+='<div class="'+Jc+'"><div class="e-location-icon '+sn+'"></div><div class="'+S6+" "+nr+'"></div></div>'),(i[this.parent.eventFields.startTimezone]||i[this.parent.eventFields.endTimezone])&&(l+='<div class="'+Zc+'"><div class="e-time-zone-icon '+sn+'"></div><div class="e-time-zone-details '+nr+'">'+this.getTimezone(i)+"</div></div>"),i[this.parent.eventFields.description]&&(l+='<div class="'+yd+'"><div class="e-description-icon '+sn+'"></div><div class="'+w6+" "+nr+'"></div></div>'),this.parent.resourceCollection.length>0&&(l+='<div class="'+R6+'"><div class="'+P6+" "+sn+'"></div><div class="'+E1+" "+nr+'"></div></div>')}var p=N("div",{innerHTML:l});if(i[this.parent.eventFields.location]){var f=p.querySelector("."+S6);u(f)||this.parent.sanitize(i[this.parent.eventFields.location],f)}if(i[this.parent.eventFields.description]){var m=p.querySelector("."+w6);u(m)||this.parent.sanitize(i[this.parent.eventFields.description],m)}if(d){var g=p.querySelector("."+E1);u(g)||this.parent.sanitize(d,g)}ce([].slice.call(p.childNodes),n)}return n},r.prototype.getPopupFooter=function(t,e){var i=N("div",{className:p1});if(this.isQuickTemplate(t)&&this.parent.quickInfoTemplates.footer){var n=z({},e,{elementType:t.toLowerCase()},!0),s=this.parent.element.id,a=[].slice.call(this.parent.getQuickInfoTemplatesFooter()(n,this.parent,"footer",s+"_footerTemplate",!1));ce([].slice.call(a),i)}else{var o=void 0;switch(t){case"Cell":o='<button class="'+pS+" "+nr+'" title="'+this.l10n.getConstant("moreDetails")+'">'+this.l10n.getConstant("moreDetails")+'</button><button class="'+fS+" "+nr+'" title="'+this.l10n.getConstant("save")+'">'+this.l10n.getConstant("save")+"</button>";break;case"Event":o=this.parent.isAdaptive?"":'<button class="'+am+" "+nr+'" title="'+this.l10n.getConstant("edit")+'">'+this.l10n.getConstant("edit")+'</button><button class="'+Ph+" "+nr+'" title="'+this.l10n.getConstant("delete")+'">'+this.l10n.getConstant("delete")+"</button>"}var l=N("div",{innerHTML:o});ce([].slice.call(l.childNodes),i)}return i},r.prototype.getResourceText=function(t,e){if(0===this.parent.resourceCollection.length)return null;var i="";if(0===this.parent.activeViewOptions.group.resources.length){var n=this.parent.resourceBase.resourceCollection.slice(-1)[0],s=n.dataSource;if("event"===e)for(var a=t.event,o=function(E){var S=a[n.field];if(S instanceof Array){if(S.indexOf(E[n.idField])>-1){var w=S[S.indexOf(E[n.idField])],A=s.filter(function(T){return T[n.idField]===w})[0];i+=""===i?A[n.textField]:", "+A[n.textField]}}else E[n.idField]===S&&(i=E[n.textField].toString())},l=0,h=s;l<h.length;l++)o(h[l]);else i=s[0][n.textField].toString()}else if("event"===e){a=t.event,s=void 0;for(var d,p=this.parent.resourceBase.resourceCollection.length-1;p>=0;p--)if(!u(s=a[this.parent.resourceBase.resourceCollection[parseInt(p.toString(),10)].field])){d=this.parent.resourceBase.resourceCollection[parseInt(p.toString(),10)];break}Array.isArray(s)||(s=[s]);var f=[],m=d.dataSource;s.forEach(function(w){var A,T=ly(m,d.idField,w);T>-1&&(A=m[parseInt(T.toString(),10)][d.textField]),A&&f.push(A)}),i=f.join(", ")}else{var g=t,y=u(g.groupIndex)?0:g.groupIndex,C=this.parent.resourceBase.lastResourceLevel[parseInt(y.toString(),10)];i=C.resourceData[C.resource.textField]}return i},r.prototype.getFormattedString=function(t){var e=this.parent.eventFields,i=t[e.subject]||this.l10n.getConstant("noTitle"),n=t[e.startTime],s=t[e.endTime],a=this.getDateFormat(n,"long"),o=t[e.isAllDay]&&0===s.getHours()&&0===s.getMinutes()?this.getDateFormat(Ee(new Date(s.getTime()),-1),"long"):this.getDateFormat(s,"long"),l=this.parent.getTimeString(n),h=this.parent.getTimeString(s),c="",d=s.getDate()!==n.getDate()&&(s.getTime()-n.getTime())/36e5<24?1:0;return t[e.isAllDay]?(c=a+" ("+this.l10n.getConstant("allDay")+")",(pn(s)-pn(n))/Hi>1&&(c+="&nbsp;-&nbsp;"+o+" ("+this.l10n.getConstant("allDay")+")")):c=(pn(s)-pn(n))/Hi>=1||d>0?a+" ("+l+")&nbsp;-&nbsp;"+o+" ("+h+")":a+" ("+l+"&nbsp;-&nbsp;"+h+")",{eventSubject:i,details:c}},r.prototype.moreEventClick=function(t,e,i){var n=this;this.quickPopupHide(!0);var s=this.morePopup.element.querySelector("."+mS);s&&me(s);var a=t.date.getTime().toString(),o=I(t.element,"."+Dr+",."+Te),l=this.parent.globalize.formatDate(t.date,{format:"E",calendar:this.parent.getCalendarMode()});this.morePopup.element.querySelector("."+y6).innerHTML=Di(l,"single");var c,h=this.morePopup.element.querySelector("."+om);h.innerHTML=this.getDateFormat(t.date,"d"),h.setAttribute("data-date",a),h.setAttribute("data-end-date",e.getTime().toString()),u(i)||(h.setAttribute("data-group-index",i),c=this.parent.resourceBase.lastResourceLevel[parseInt(i,10)].groupOrder);var d=this.createMoreEventList(t.event,c,i);if(this.morePopup.element.querySelector("."+vd).appendChild(d),M(this.morePopup.element.querySelector("."+f1).childNodes,UN),ie(t.date).getTime()===ie(this.parent.getCurrentTime()).getTime()&&D(this.morePopup.element.querySelector("."+f1).childNodes,UN),!this.parent.isAdaptive)if(-1!==this.parent.currentView.indexOf("Timeline")){var p=o.getAttribute("data-group-index"),f=new Date(parseInt(o.getAttribute("data-start-date"),10));f.setHours(f.getHours(),f.getMinutes(),0);var m=f.getTime().toString();if(u(p))this.morePopup.relateTo=this.parent.element.querySelector("."+ut+' tbody tr td[data-date="'+m+'"]');else if(this.morePopup.relateTo=this.parent.element.querySelector("."+ut+' tbody tr td[data-group-index="'+p+'"][data-date="'+m+'"]'),u(this.morePopup.relateTo))for(var g=[].slice.call(this.parent.element.querySelectorAll("."+ut+' tbody tr td[data-group-index="'+p+'"]')),y=0;y<g.length;y++)g[parseInt(y.toString(),10)].getAttribute("data-date")<m&&(this.morePopup.relateTo=g[parseInt(y.toString(),10)])}else this.morePopup.relateTo=I(o,"."+Te);this.parent.renderTemplates(function(){n.parent.trigger(qD,{type:"EventContainer",cancel:!1,element:n.morePopup.element,data:t},function(S){S.cancel||n.morePopup.show()})})},r.prototype.saveClick=function(t){this.applyFormValidation(),this.dialogEvent=t,this.isCrudAction=!0,this.quickPopupHide()},r.prototype.detailsClick=function(t){var e=this.quickPopup.element.querySelector("."+Cn);e&&""!==e.value&&z(this.parent.activeCellsData,{subject:e.value}),this.dialogEvent=t,this.isCrudAction=!1,this.fieldValidator.destroyToolTip(),this.quickPopupHide(),this.parent.eventWindow.openEditor(this.parent.activeCellsData,"Add")},r.prototype.editClick=function(t){this.dialogEvent=t,this.quickPopupHide(!0);var e=this.parent.activeEventData.event;this.parent.currentAction="EditSeries",u(e[this.parent.eventFields.recurrenceRule])?this.parent.eventWindow.openEditor(e,this.parent.currentAction):(this.parent.currentAction="EditOccurrence",this.openRecurrenceAlert())},r.prototype.deleteClick=function(t){this.dialogEvent=t,this.quickPopupHide(!0),this.parent.currentAction="Delete",this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule]?this.openRecurrenceAlert():this.openDeleteAlert()},r.prototype.updateMoreEventContent=function(){if(!this.morePopup.element.classList.contains("e-popup-close")){var t=this.morePopup.element.querySelector("."+mS);t&&me(t);var a,o,e=this.morePopup.element.querySelector("."+om),i=new Date(parseInt(e.getAttribute("data-date"),10)),n=new Date(parseInt(e.getAttribute("data-end-date"),10)),s=e.getAttribute("data-group-index");u(s)||(o=(a=this.parent.resourceBase.lastResourceLevel[parseInt(s,10)]).groupOrder);var l=this.parent.eventBase.filterEvents(i,n,this.parent.eventsProcessed,a),h=this.createMoreEventList(l,o,s);this.morePopup.element.querySelector("."+vd).appendChild(h)}},r.prototype.closeClick=function(t){this.dialogEvent=t,"Year"===this.parent.currentView&&this.parent.activeCellsData&&this.parent.activeCellsData.element&&this.parent.selectCell(this.parent.activeCellsData.element),this.quickPopupHide(),this.morePopup.hide()},r.prototype.dialogButtonClick=function(t){this.dialogEvent=t,this.quickDialog.hide();var e=t.target,i=this.quickDialog.element.querySelector("."+_l),n=this.parent.activeEventData.event;if(e.classList.contains(v1))switch(this.parent.currentAction="Delete"===this.parent.currentAction?"DeleteOccurrence":"EditOccurrence",this.parent.currentAction){case"EditOccurrence":this.parent.eventWindow.openEditor(n,this.parent.currentAction);break;case"DeleteOccurrence":this.parent.crudModule.deleteEvent(n,this.parent.currentAction)}else if(e.classList.contains(b6))switch(this.parent.currentAction="Delete"===this.parent.currentAction?"DeleteFollowingEvents":"EditFollowingEvents",this.parent.currentAction){case"EditFollowingEvents":this.parent.eventWindow.openEditor(n,this.parent.currentAction);break;case"DeleteFollowingEvents":this.parent.crudModule.deleteEvent(n,this.parent.currentAction)}else if(e.classList.contains(y1))switch(this.parent.currentAction="Delete"===this.parent.currentAction?"DeleteSeries":"EditSeries",this.parent.currentAction){case"EditSeries":this.parent.eventWindow.openEditor(this.parent.eventBase.getParentEvent(n,!0),this.parent.currentAction);break;case"DeleteSeries":this.parent.crudModule.deleteEvent(n,this.parent.currentAction)}else e.classList.contains(b1)?this.parent.crudModule.deleteEvent(n,this.parent.currentAction):!i.classList.contains(gi)&&(e.classList.contains(Kc)||e.classList.contains(_l)&&!i.classList.contains(Cy))&&(this.parent.uiStateValues.isIgnoreOccurrence=e.classList.contains(_l),this.parent.eventWindow.eventSave(t,this.l10n.getConstant("ok")))},r.prototype.updateTapHoldEventPopup=function(t){var e=this.parent.eventBase.getSelectedEventElements(t);if(this.parent.activeEventData=this.parent.eventBase.getSelectedEvents(),e.length>0){var i=this.parent.eventBase.getEventByGuid(e[0].getAttribute("data-guid")),n=1===e.length?i[this.parent.eventFields.subject]||this.l10n.getConstant("noTitle"):"("+e.length+")&nbsp;"+this.l10n.getConstant("selectedItems");this.quickPopup.element.querySelector("."+Cn).innerHTML=n,e.length>1?D([this.quickPopup.element.querySelector("."+vS)],sr):M([this.quickPopup.element.querySelector("."+vS)],sr)}else this.parent.selectedElements=[],this.quickPopupHide()},r.prototype.getTimezone=function(t){var e="";return e+=t[this.parent.eventFields.startTimezone]||"",(e+=""===e?"":" - ")+(t[this.parent.eventFields.endTimezone]||"")},r.prototype.getRecurrenceSummary=function(t){var e=this.parent.eventWindow.getRecurrenceEditorInstance();if(e){var i=e.getRuleSummary(t[this.parent.eventFields.recurrenceRule]);return i.charAt(0).toUpperCase()+i.slice(1)}return""},r.prototype.getDateFormat=function(t,e){return Di(this.parent.globalize.formatDate(t,{skeleton:e,calendar:this.parent.getCalendarMode()}),"single")},r.prototype.getDataFromTarget=function(t){if(t.classList.contains(Ze))return this.parent.activeEventData.event;var e={startTime:this.parent.activeCellsData.startTime,endTime:this.parent.activeCellsData.endTime,isAllDay:this.parent.activeCellsData.isAllDay,groupIndex:this.parent.activeCellsData.groupIndex};return this.parent.eventWindow.convertToEventData(this.parent.activeCellsData,e),e},r.prototype.beforeQuickDialogClose=function(t){var e=this,i={event:t.event||this.dialogEvent,type:u(this.parent.activeEventData.event)?"ValidationAlert":u(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])?"DeleteAlert":"RecurrenceAlert",cancel:!1,data:this.parent.activeEventData.event,element:this.quickDialog.element};this.parent.trigger(_N,i,function(n){n.cancel||e.parent.eventBase.focusElement(!0)})},r.prototype.beforeQuickPopupOpen=function(t,e){var i=this;this.parent.renderTemplates(function(){var n=i.quickPopup.element.querySelector("."+u1),s=i.parent.isAdaptive?n?"ViewEventInfo":"EditEventInfo":"QuickInfo",a={type:s,cancel:!1,data:z({},i.getDataFromTarget(t),null,!0),target:t,element:i.quickPopup.element};i.parent.trigger(qD,a,function(o){if(o.cancel)i.quickPopupHide(),i.destroyPopupButtons("quickPopup"),o.element.classList.contains(Qn)&&i.quickPopupClose(),Go(i.quickPopup.element),i.isMultipleEventSelect=!1;else{var l=i.quickPopup.element.style.display;if(i.quickPopup.element.style.display="block",i.parent.isAdaptive)i.quickPopup.element.removeAttribute("style"),i.quickPopup.element.style.display="block",i.quickPopup.element.style.height=$("EditEventInfo"===s?65:window.innerHeight);else{var h=i.parent.virtualScrollModule&&i.parent.virtualScrollModule.isHorizontalScroll&&!u(I(t,"."+_i)),c=i.parent.element.querySelector("."+ut+" table");i.quickPopup.offsetX=h&&!i.parent.enableRtl?GY(c)+10:10,i.quickPopup.offsetY=i.parent.virtualScrollModule&&!i.parent.virtualScrollModule.isHorizontalScroll?i.quickPopup.offsetY:0,i.quickPopup.collision={X:i.parent.enableRtl?"flip":"none",Y:"fit"},i.quickPopup.position={X:i.parent.enableRtl?"left":"right",Y:i.parent.enableRtl?"bottom":"top"},i.quickPopup.dataBind(),i.quickPopup.refreshPosition(null,!0);var d=_r(i.quickPopup.element,i.parent.element);if(d.indexOf(i.parent.enableRtl?"left":"right")>-1&&(i.quickPopup.offsetX=-t.offsetWidth-10-i.quickPopup.element.offsetWidth,h&&!i.parent.enableRtl&&(i.quickPopup.offsetX=GY(c)+i.quickPopup.offsetX),i.quickPopup.dataBind(),i.quickPopup.refreshPosition(null,!0),_r(i.quickPopup.element,i.parent.element).indexOf("left")>-1&&(i.quickPopup.position={X:"center",Y:"center"},i.quickPopup.collision={X:"fit",Y:"fit"},i.quickPopup.offsetX=-i.quickPopup.element.offsetWidth/2,i.quickPopup.dataBind())),i.parent.virtualScrollModule&&!i.parent.virtualScrollModule.isHorizontalScroll&&(d.indexOf("top")>-1||d.indexOf("bottom")>-1)){var f=function(r){var t=getComputedStyle(r);return window.WebKitCSSMatrix?new WebKitCSSMatrix(t.webkitTransform).m42:0}(c);i.quickPopup.offsetY=f,i.quickPopup.dataBind(),i.quickPopup.refreshPosition(null,!0)}if("center"===i.quickPopup.position.X&&"center"===i.quickPopup.position.Y&&!u(e)&&e.clientX&&e.clientY){var m=e.clientX,g=e.clientY,y=t.getBoundingClientRect(),C=e.offsetY||Math.ceil(g-y.y),E=i.quickPopup.offsetY,S=_r(i.quickPopup.element,t),w=i.quickPopup.element.getBoundingClientRect(),A=document.elementFromPoint(m,g);(S.indexOf("top")>-1||S.indexOf("bottom")>-1||I(A,"."+Hh))&&(w.top<=g&&g<=w.top+w.height?(i.quickPopup.offsetY=E-w.height-10,i.quickPopup.dataBind(),(S=_r(i.quickPopup.element,i.parent.element)).indexOf("top")>-1&&(i.quickPopup.offsetY=E+C+10,i.quickPopup.dataBind())):_r(i.quickPopup.element,i.parent.element).indexOf("bottom")>-1&&(i.quickPopup.offsetY=E-C-Math.ceil(w.height)-10,i.quickPopup.dataBind()))}}n&&i.applyEventColor(),i.quickPopup.element.style.display=l,i.quickPopup.dataBind(),i.quickPopup.show()}})})},r.prototype.applyEventColor=function(){var e=this.parent.activeEventData.element.style["Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView?this.parent.enableRtl?"border-right-color":"border-left-color":"background-color"];if(""!==e){var i=this.quickPopup.element.querySelector("."+d1),n=this.quickPopup.element.querySelector("."+p1);n&&n.offsetParent&&(i=this.quickPopup.element.querySelector("."+Cn))&&(i.style.borderLeftColor=e,e="rgba("+e.match(/\d+/g).join()+",0.3)"),i&&(i.style.backgroundColor=e)}},r.prototype.quickPopupOpen=function(){if(this.parent.isAdaptive)this.quickPopup.element.style.top="0px";else if(this.quickPopup.element.querySelector("."+c1)){var t=this.quickPopup.element.querySelector("."+Cn);t&&t.focus()}else{var e=this.quickPopup.element.querySelector("."+am);e&&e.focus();var i=this.quickPopup.element.querySelector("."+bd);i&&i.focus()}},r.prototype.quickPopupClose=function(){this.parent.eventBase.focusElement(),this.quickPopup.relateTo="."+Te,this.fieldValidator.destroyToolTip(),this.quickPopup.element.querySelectorAll(".e-formvalidator").length&&this.fieldValidator.destroy(),this.destroyPopupButtons("quickPopup"),Go(this.quickPopup.element)},r.prototype.morePopupOpen=function(){if(this.parent.isAdaptive)return this.morePopup.element.style.top="0px",this.morePopup.element.style.left="0px",void(this.morePopup.element.style.height=$(window.innerHeight));this.morePopup.element.querySelector("."+om).focus(),this.morePopup.refreshPosition()},r.prototype.morePopupClose=function(){var t=this.parent.element.querySelector("."+g1);t&&me(t)},r.prototype.popupClose=function(t){this.dialogEvent=t,this.isCrudAction=!1,this.quickPopupHide(!0)},r.prototype.quickPopupHide=function(t){var e=this;if(this.quickPopup.element.classList.contains(Qn)){var n,i=this.quickPopup.element.querySelector("."+c1);if(i){var s=this.quickPopup.element.querySelector(".e-formvalidator");if(this.isCrudAction&&s&&!s.ej2_instances[0].validate())return;var a=this.parent.eventFields,o=this.parent.eventWindow.getObjectFromFormData(Hh);this.parent.eventWindow.setDefaultValueToObject(o),o[a.id]=this.parent.eventBase.getEventMaxID(),o[a.startTime]=this.parent.activeCellsData.startTime,o[a.endTime]=this.parent.activeCellsData.endTime,o[a.isAllDay]=this.parent.activeCellsData.isAllDay,this.parent.resourceBase&&this.parent.resourceBase.setResourceValues(o),n=o}else n=this.parent.activeEventData.event;var l=this.quickPopup.element.querySelector("."+u1);this.parent.trigger(_N,{event:this.dialogEvent,type:this.parent.isAdaptive?l?"ViewEventInfo":"EditEventInfo":"QuickInfo",cancel:!1,data:n,element:this.quickPopup.element,target:i?this.parent.activeCellsData.element:this.parent.activeEventData.element},function(c){if(!c.cancel&&e.quickPopup.element.classList.contains("e-popup-open")){if(i&&e.isCrudAction&&(e.parent.currentAction="Add",e.parent.crudModule.addEvent(c.data)),t){var d=e.quickPopup.hideAnimation;e.quickPopup.hideAnimation=null,e.quickPopup.hide(),e.quickPopup.hideAnimation=d}else e.quickPopup.hide();e.isMultipleEventSelect=!1,e.isCrudAction=!1}})}},r.prototype.navigationClick=function(t){if(!u(I(t.target,"."+gd))){var i=this.parent.getDateFromElement(t.currentTarget);u(i)||(this.closeClick(t),this.parent.setProperties({selectedDate:i},!0),this.parent.changeView(this.parent.getNavigateView(),t))}},r.prototype.documentClick=function(t){var e=t.event.target,i="."+Hh+",."+Vn+",."+Si+",."+Te+",."+Ze+",.e-popup",n=this.parent.element.querySelector("."+Hh);(n&&n.childElementCount>0&&!I(e,i)||!I(e,i))&&(this.quickPopupHide(),this.parent.removeNewEventElement());var s=this.parent.element.querySelector("."+Br);s&&s!==e&&this.parent.allowInline&&this.parent.inlineModule.documentClick(),I(e,"."+Ze+",."+Vn)&&this.parent.removeNewEventElement(),!I(e,"."+Fh)&&e.classList&&!e.classList.contains(Dr)&&!I(e,"."+Qn)&&!I(e,"."+Te)&&this.morePopup.hide()},r.prototype.onClosePopup=function(t){u(t)||(this.dialogEvent=t),this.quickPopupHide(),(u(t)||!u(t)&&"escape"!==t.action||this.parent.inlineModule&&this.parent.element.querySelector("."+Oy))&&this.parent.eventBase.focusElement()},r.prototype.addEventListener=function(){this.parent.on(Al,this.cellClick,this),this.parent.on(Yf,this.eventClick,this),this.parent.on(_h,this.documentClick,this),this.parent.on(wa,this.updateMoreEventContent,this)},r.prototype.removeEventListener=function(){this.parent.off(Al,this.cellClick),this.parent.off(Yf,this.eventClick),this.parent.off(_h,this.documentClick),this.parent.off(wa,this.updateMoreEventContent)},r.prototype.destroyPopupButtons=function(t){for(var n=0,s=[].slice.call(("quickPopup"===t?this.quickPopup:this.morePopup).element.querySelectorAll(".e-control.e-btn"));n<s.length;n++){var o=s[n].ej2_instances[0];o&&o.destroy()}},r.prototype.refreshQuickDialog=function(){this.destroyQuickDialog(),this.renderQuickDialog()},r.prototype.refreshQuickPopup=function(){this.destroyQuickPopup(),this.renderQuickPopup()},r.prototype.refreshMorePopup=function(){this.destroyMorePopup(),this.renderMorePopup()},r.prototype.destroyQuickDialog=function(){this.quickDialog.element&&(this.quickDialog.destroy(),me(this.quickDialog.element),this.quickDialog=null)},r.prototype.destroyQuickPopup=function(){this.quickPopup.element&&(this.destroyPopupButtons("quickPopup"),this.quickPopup.destroy(),me(this.quickPopup.element),this.quickPopup=null)},r.prototype.destroyMorePopup=function(){this.morePopup.element&&(this.destroyPopupButtons("morePopup"),this.morePopup.destroy(),me(this.morePopup.element),this.morePopup=null)},r.prototype.destroy=function(){this.quickPopup.element.querySelectorAll(".e-formvalidator").length&&this.fieldValidator.destroy(),this.removeEventListener(),this.destroyQuickPopup(),this.destroyMorePopup(),this.destroyQuickDialog(),this.dialogEvent=null,this.parent=null,this.l10n=null,this.isCrudAction=null,this.fieldValidator=null,this.isMultipleEventSelect=null},r}(),V1=function(){function r(t){this.parent=t,this.tooltipObj=new sv({animation:{close:{effect:"FadeOut"}},content:"No title",position:"BottomRight",offsetY:10,mouseTrail:!this.parent.isAdaptive,showTipPointer:!1,cssClass:this.parent.cssClass+" e-schedule-event-tooltip",target:this.getTargets(),beforeRender:this.onBeforeRender.bind(this),beforeClose:this.onTooltipClose.bind(this),enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer}),this.tooltipObj.appendTo(this.parent.element)}return r.prototype.getTargets=function(){var t=[];return this.parent.activeViewOptions.group.headerTooltipTemplate&&t.push("."+Ia),this.parent.eventSettings.enableTooltip&&t.push("."+Ze),t.join(",")},r.prototype.onBeforeRender=function(t){if(u(t.target.getAttribute("data-tooltip-id"))){if(t.target.classList.contains(Ia)&&this.parent.activeViewOptions.group.resources.length>0){var e=void 0;if(this.parent.activeView.isTimelineView()){var i=parseInt(t.target.getAttribute("data-group-index"),10);e=this.parent.resourceBase.lastResourceLevel[parseInt(i.toString(),10)]}else{var n=t.target.parentNode.sectionRowIndex,s=t.target.cellIndex;e=this.parent.activeView.getColumnLevels()[parseInt(n.toString(),10)][parseInt(s.toString(),10)]}var a={resource:e.resource,resourceData:e.resourceData},o=N("div"),l=this.parent.element.id+"_headerTooltipTemplate";return ce([].slice.call(this.parent.getHeaderTooltipTemplate()(a,this.parent,"headerTooltipTemplate",l,!1)),o),this.setContent(o),void this.parent.renderTemplates()}var c=this.parent.eventBase.getEventByGuid(t.target.getAttribute("data-guid"));if(!u(c)){if(u(this.parent.eventSettings.tooltipTemplate)){var d=this.parent.globalize,p=this.parent.eventFields,f=new Date(""+c[p.startTime]),m=new Date(""+c[p.endTime]);m=0===m.getHours()&&0===m.getMinutes()?new Date(m.setMilliseconds(-1e3)):m;var g=ie(new Date(""+f)),y=ie(new Date(""+m)),C=c[p.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),E=u(c[p.location])?"":c[p.location],S="",w="",A="";S=d.formatDate(f,{type:"date",skeleton:"MMMd",calendar:this.parent.getCalendarMode()}),w=d.formatDate(f,{type:"date",skeleton:"medium",calendar:this.parent.getCalendarMode()}),A=d.formatDate(m,{type:"date",skeleton:"medium",calendar:this.parent.getCalendarMode()}),S=Di(S,"single"),w=Di(w,"single"),A=Di(A,"single");var T=this.parent.getTimeString(f),k=this.parent.getTimeString(m),ne='<div><div class="e-subject">'+C+'</div><div class="e-location">'+E+'</div><div class="e-details">'+(g.getTime()===y.getTime()?Di(d.formatDate(f,{type:"date",skeleton:"long",calendar:this.parent.getCalendarMode()}),"single"):g.getFullYear()===y.getFullYear()?S+" - "+A:w+" - "+A)+'</div><div class="e-all-day">'+(c[p.isAllDay]?this.parent.localeObj.getConstant("allDay"):T+" - "+k)+"</div></div>";this.setContent(Fu(function(){return ne}))}else o=N("div"),l=this.parent.element.id+"_tooltipTemplate",ce([].slice.call(this.parent.getEventTooltipTemplate()(c,this.parent,"tooltipTemplate",l,!1)),o),this.setContent(o);this.parent.renderTemplates()}}},r.prototype.onTooltipClose=function(t){t.element&&(M([t.element],Qn),D([t.element],"e-popup-close")),this.parent.resetTemplates(["tooltipTemplate","headerTooltipTemplate"])},r.prototype.setContent=function(t){this.tooltipObj.setProperties({content:t},!0)},r.prototype.close=function(){this.tooltipObj.close()},r.prototype.destroy=function(){this.tooltipObj.destroy(),D([this.parent.element],"e-control"),this.tooltipObj=null,this.parent=null},r}(),fCe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xa=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Rl="e-input-wrapper",j1="e-input-wrapper-side",B1="e-repeat-element",Ly="e-repeat-interval",l8="e-interval",Pl="e-days",wS="e-non-week",MS="e-year-expander",h8="e-year-expander-element",H1="e-month-expander",c8="e-month-expander-element",u8="e-month-expander-checkbox-wrapper",Ry="e-form-left",TS="e-form-right",z1="e-month-day",d8="e-month-expander-wrapper",p8="e-month-pos",f8="e-month-week",U1="e-end-on",m8="e-end-on-element",W1="e-end-on-date",g8="e-until-date",q1="e-end-on-count",Py="e-recurrence-count",Fl="e-hide-recurrence-element",Sd="e-primary",y8="e-active",b8="e-recurrence-table",C8="e-repeat-content",Fy="none",Vy="daily",jy="weekly",By="monthly",Hy="yearly",Y1="never",zy="until",Uy="count",IS="text",AS="value",I8="MONTHLY",oo=";",BCe={none:"",daily:"days",weekly:"weeks",monthly:"months",yearly:"years"},xS={sun:"SU",mon:"MO",tue:"TU",wed:"WE",thu:"TH",fri:"FR",sat:"SA"},P8=[Pl,wS,U1,l8,MS,H1],HCe=[wS],zCe=[Pl,MS],UCe=[Pl],WCe=[Pl,wS,MS,H1],F8=[W1,q1],qCe=[W1],YCe=[q1],QCe=function(r){function t(e,i){var n=r.call(this,e,i)||this;return n.defaultLocale={none:"None",daily:"Daily",weekly:"Weekly",monthly:"Monthly",month:"Month",yearly:"Yearly",never:"Never",until:"Until",count:"Count",first:"First",second:"Second",third:"Third",fourth:"Fourth",last:"Last",repeat:"Repeat",repeatEvery:"Repeat every",on:"Repeat On",end:"End",onDay:"Day",days:"Day(s)",weeks:"Week(s)",months:"Month(s)",years:"Year(s)",every:"every",summaryTimes:"time(s)",summaryOn:"on",summaryUntil:"until",summaryRepeat:"Repeats",summaryDay:"day(s)",summaryWeek:"week(s)",summaryMonth:"month(s)",summaryYear:"year(s)",monthWeek:"Month Week",monthPosition:"Month Position",monthExpander:"Month Expander",yearExpander:"Year Expander",repeatInterval:"Repeat Interval"},n.renderStatus=!1,n.dayButtons=[],n.monthButtons=[],n}return fCe(t,r),t.prototype.startState=function(e,i,n){this.showFormElement(),this.updateForm(e),this.freshOnEndForm(),this.updateEndOnForm(i),this.selectMonthDay(n),this.updateUntilDate(n),this.onMonthDay.setProperties({checked:!0})},t.prototype.preRender=function(){this.localeObj=new fi(this.getModuleName(),this.defaultLocale,this.locale),this.calendarUtil=N1(this.calendarMode)},t.prototype.applyCustomClass=function(e){e&&D([this.element],e.split(" "))},t.prototype.initialize=function(){D([this.element],"e-"+this.getModuleName()),this.renderComponent(),u(this.value)||""===this.value?(u(this.repeatType.value)||(this.startState(this.repeatType.value.toString().toUpperCase(),this.endTypes[0],this.startDate),this.updateForm(this.repeatType.value.toString())),this.selectedType>0&&this.setProperties({value:this.getRecurrenceRule()},!1)):this.setRecurrenceRule(this.value),this.applyCustomClass(this.cssClass)},t.prototype.triggerChangeEvent=function(){var e=this;if(this.renderStatus){var i=this.getRecurrenceRule();this.trigger("change",{value:i},function(n){return e.setProperties({value:n.value},!1)})}},t.prototype.resetDayButton=function(){[].slice.call(this.element.querySelectorAll(".e-days button")).forEach(function(i){return M([i],[y8,Sd])})},t.prototype.daySelection=function(e){this.resetDayButton();var i=[0,1,2,3,4,5,6];this.rotateArray(i,this.firstDayOfWeek);var n=this.element.querySelector('.e-days button[data-index="'+i.indexOf(e)+'"]');n&&D([n],[y8,Sd])},t.prototype.rtlClass=function(e){e?D([this.element],"e-rtl"):M([this.element],"e-rtl")},t.prototype.updateUntilDate=function(e){var i=new Date(e.getTime());i.setDate(i.getDate()+60),this.untilDateObj.setProperties({value:i})},t.prototype.selectMonthDay=function(e){this.monthDate.setProperties({value:this.calendarUtil.getDate(e)}),this.monthWeekDays.setProperties({value:xS[["sun","mon","tue","wed","thu","fri","sat"][e.getDay()]]}),this.monthValue.setProperties({value:""+this.calendarUtil.getMonth(e)}),this.monthWeekPos.setProperties({value:this.getDayPosition(e)}),this.daySelection(e.getDay())},t.prototype.updateForm=function(e){var i=this;this.repeatType.setProperties({value:e});var n=this.element.querySelector("."+U1);switch(e===Vy?$i(n,[Ry],[TS]):$i(n,[TS],[Ry]),e){case Fy:P8.forEach(function(s){return D([i.element.querySelector("."+s)],Fl)});break;case jy:HCe.forEach(function(s){return D([i.element.querySelector("."+s)],Fl)});break;case By:zCe.forEach(function(s){return D([i.element.querySelector("."+s)],Fl)});break;case Hy:UCe.forEach(function(s){return D([i.element.querySelector("."+s)],Fl)});break;case Vy:WCe.forEach(function(s){return D([i.element.querySelector("."+s)],Fl)})}},t.prototype.updateEndOnForm=function(e){var i=this;switch(this.endType.setProperties({value:e}),e){case Y1:F8.forEach(function(n){return D([i.element.querySelector("."+n)],Fl)});break;case zy:YCe.forEach(function(n){return D([i.element.querySelector("."+n)],Fl)});break;case Uy:qCe.forEach(function(n){return D([i.element.querySelector("."+n)],Fl)})}},t.prototype.freshOnEndForm=function(){var e=this;F8.forEach(function(i){var n=e.element.querySelector("."+i);n&&M([n],Fl)})},t.prototype.showFormElement=function(){var e=this;P8.forEach(function(i){var n=e.element.querySelector("."+i);n&&M([n],Fl)})},t.prototype.renderDropdowns=function(){var e=this,i=this;this.repeatType=new ld({dataSource:this.getRepeatData(),floatLabelType:"Always",enableRtl:this.enableRtl,index:this.selectedType,fields:{text:IS,value:AS},placeholder:this.localeObj.getConstant("repeat"),htmlAttributes:{title:this.localeObj.getConstant("repeat")},change:function(s){i.setProperties({selectedType:e.frequencies.indexOf(s.value)},!1),i.element.querySelector("."+C8).innerHTML=i.localeObj.getConstant(BCe[s.value]),i.showFormElement(),i.updateForm(s.value),i.resetFormValues(),i.triggerChangeEvent()}}),this.repeatType.appendTo(this.element.querySelector("."+B1)),this.endType=new ld({dataSource:this.getEndData(),popupWidth:this.getPopupWidth(),enableRtl:this.enableRtl,index:1,fields:{text:IS,value:AS},change:function(s){i.freshOnEndForm(),i.updateEndOnForm(s.value),i.resetFormValues(),i.triggerChangeEvent()}}),this.endType.appendTo(this.element.querySelector("."+m8));var n=function(s){return new ld({dataSource:s,popupWidth:e.getPopupWidth(),enableRtl:e.enableRtl,fields:{text:IS,value:AS},index:1,change:function(a){i.onWeekDay.setProperties({checked:!0}),i.resetFormValues(),i.triggerChangeEvent()}})};this.monthWeekPos=n(this.getMonthPosData()),this.monthWeekPos.appendTo(this.element.querySelector("."+p8)),this.monthWeekDays=n(this.getDayData("wide")),this.monthWeekDays.appendTo(this.element.querySelector("."+f8)),this.monthValue=new ld({dataSource:this.getMonthData(),fields:{text:IS,value:AS},enableRtl:this.enableRtl,index:7,change:function(s){i.resetFormValues(),i.triggerChangeEvent()}}),this.monthValue.appendTo(this.element.querySelector("."+h8))},t.prototype.setDefaultValue=function(){for(var i=0,n=[].slice.call(this.element.querySelectorAll(".e-control .e-numerictextbox"));i<n.length;i++){var a=n[i].ej2_instances[0];a.element.classList.contains(Ly)?(a.value=1,a.dataBind()):a.element.classList.contains(Py)&&(a.value=10,a.dataBind())}},t.prototype.resetFormValues=function(){for(var i=0,n=[].slice.call(this.element.querySelectorAll('.e-control [type="text"]'));i<n.length;i++){var s=n[i],a=void 0;if(s.classList.contains("e-datepicker"))(a=s.ej2_instances[0]).value?(a.value=a.value,a.dataBind()):this.updateUntilDate(this.startDate);else if(s.classList.contains("e-dropdownlist"))(a=s.ej2_instances[0]).index=a.index||0,a.dataBind();else if(s.classList.contains("e-numerictextbox")){var o;o=(a=s.ej2_instances[0]).element.classList.contains(Ly)?1:a.element.classList.contains(Py)?10:this.startDate.getDate(),a.value=a.value||o,a.dataBind()}}},t.prototype.getPopupWidth=function(){return O.isDevice?"100%":"auto"},t.prototype.renderDatePickers=function(){var e=this;this.untilDateObj=new uq({firstDayOfWeek:this.firstDayOfWeek,enableRtl:this.enableRtl,locale:this.locale,min:this.minDate,max:this.maxDate,format:u(this.dateFormat)?this.getFormat("dateFormats"):this.dateFormat,change:function(i){i.value&&e.triggerChangeEvent()}}),this.untilDateObj.appendTo(this.element.querySelector("."+g8))},t.prototype.getFormat=function(e){return"en"===this.locale||"en-US"===this.locale?_(e+".short",Ps(this.getCalendarMode())):_("main."+this.locale+".dates.calendars."+this.getCalendarMode()+"."+e+".short",ji)},t.prototype.dayButtonRender=function(){for(var e=this,i=[].slice.call(this.element.querySelectorAll(".e-days button")),n=this,s=0,a=i;s<a.length;s++){var o=a[s],l=new vn({isToggle:!0,enableRtl:this.enableRtl},o);this.dayButtons.push(l),b.add(o,"click",function(h){var c=[].slice.call(e.element.querySelectorAll(".e-days button."+Sd)),d=h.target;d.classList.contains(Sd)?c.length>1&&(M([d],Sd),n.triggerChangeEvent()):(D([d],Sd),n.triggerChangeEvent())})}},t.prototype.radioButtonRender=function(){var e=this;this.onMonthDay=new R4({label:this.localeObj.getConstant("onDay"),enableRtl:this.enableRtl,name:"monthType",value:"day",change:function(){e.resetFormValues(),e.triggerChangeEvent()}}),this.onMonthDay.appendTo(this.element.querySelector("."+c8)),this.monthButtons.push(this.onMonthDay),this.onWeekDay=new R4({label:this.localeObj.getConstant("monthExpander"),cssClass:"e-month-type",name:"monthType",enableRtl:this.enableRtl,value:"daypos",change:function(){e.resetFormValues(),e.triggerChangeEvent()}}),this.onWeekDay.appendTo(this.element.querySelector("."+d8)),this.monthButtons.push(this.onWeekDay)},t.prototype.numericTextboxRender=function(){var e=this;this.recurrenceCount=new zu({value:10,format:"#",enableRtl:this.enableRtl,min:1,max:999,change:function(){e.triggerChangeEvent()}}),this.recurrenceCount.appendTo(this.element.querySelector("."+Py)),this.monthDate=new zu({value:1,format:"#",enableRtl:this.enableRtl,min:1,max:31,change:function(){e.onMonthDay.setProperties({checked:!0}),e.triggerChangeEvent()}}),this.monthDate.appendTo(this.element.querySelector("."+z1)),this.repeatInterval=new zu({value:1,format:"#",min:1,max:999,enableRtl:this.enableRtl,floatLabelType:"Always",placeholder:this.localeObj.getConstant("repeatEvery"),change:function(){e.triggerChangeEvent()}}),this.repeatInterval.appendTo(this.element.querySelector("."+Ly))},t.prototype.renderComponent=function(){this.setTemplate(),this.renderDropdowns(),this.renderDatePickers(),this.dayButtonRender(),this.radioButtonRender(),this.numericTextboxRender()},t.prototype.rotateArray=function(e,i){for(var n,s=0;s<i;s++)n=e.shift(),e.push(n)},t.prototype.getEndData=function(){var e=this,i=[];return this.endTypes.forEach(function(n){i.push({text:e.localeObj.getConstant(n),value:n})}),i},t.prototype.getDayPosition=function(e){var i=new Date(e.getTime()),n=new Date(e.getTime()),s=e.getDay(),a=[];for(i=this.calendarUtil.getMonthStartDate(i),n=this.calendarUtil.getMonthEndDate(n);i<n;)i.getDay()===s&&a.push(i.getTime()),i.setDate(i.getDate()+1);return a.indexOf(e.getTime())===a.length-1?-1:a.indexOf(e.getTime())+1},t.prototype.getRepeatData=function(){var e=[],i=this;return this.frequencies.forEach(function(n){e.push({text:i.localeObj.getConstant(n===Fy?Y1:n),value:n})}),e},t.prototype.getMonthPosData=function(){var i={first:1,second:2,third:3,fourth:4,last:-1},n=this,s=[];return["first","second","third","fourth","last"].forEach(function(a){s.push({text:n.localeObj.getConstant(a),value:i[""+a]})}),s},t.prototype.getDayData=function(e){var s,i=["sun","mon","tue","wed","thu","fri","sat"],n=[];this.rotateArray(i,this.firstDayOfWeek),s="en"===this.locale||"en-US"===this.locale?_("days.stand-alone."+e,Ps(this.getCalendarMode())):_("main."+this.locale+".dates.calendars."+this.getCalendarMode()+".days.stand-alone."+e,ji);for(var o=0,l=i;o<l.length;o++){var h=l[o],c=_(h,s);n.push({text:"narrow"===e?c:Di(c,"single"),value:xS[""+h]})}return n},t.prototype.getMonthData=function(){var i,e=[];i="en"===this.locale||"en-US"===this.locale?_("months.stand-alone.wide",Ps(this.getCalendarMode())):_("main."+this.locale+".dates.calendars."+this.getCalendarMode()+".months.stand-alone.wide",ji);for(var s=0,a=Object.keys(i);s<a.length;s++){var o=a[s];e.push({text:Di(_(o,i),"single"),value:o})}return e},t.prototype.setTemplate=function(){var e=this.getDayData("narrow"),i=this.getDayData("wide");this.element.innerHTML='<div class="e-editor"><div class="'+Rl+" "+Ry+'"><input type="text" tabindex="0" class="'+B1+'"label="'+B1.substr(2)+'" /></div><div class="'+Rl+" "+l8+" "+TS+'"><table  class="'+b8+' e-repeat-content-wrapper"  role="none"><tr><td><input type="text" tabindex="0" id="'+this.element.id+"_"+Ly+'" class="'+Ly+'"title="'+this.localeObj.getConstant("repeatEvery")+'" /></td><td><span class="'+C8+'"></span></td></tr></table></div><div class="'+j1+" "+Pl+" "+Ry+'"><div class=e-week-expander-label>'+this.localeObj.getConstant("on")+'</div><button type="button" class="e-round" data-index="0" title="'+i[0].text+'">'+e[0].text+'</button><button type="button" class="e-round" data-index="1" title="'+i[1].text+'">'+e[1].text+'</button><button type="button" class="e-round" data-index="2" title="'+i[2].text+'">'+e[2].text+'</button><button type="button" class="e-round" data-index="3" title="'+i[3].text+'">'+e[3].text+'</button><button type="button" class="e-round" data-index="4" title="'+i[4].text+'">'+e[4].text+'</button><button type="button" class="e-round" data-index="5" title="'+i[5].text+'">'+e[5].text+'</button><button type="button" class="e-round" data-index="6" title="'+i[6].text+'">'+e[6].text+'</button></div><div class="'+j1+" "+wS+" "+Ry+'"><div class=e-month-expander-label>'+this.localeObj.getConstant("on")+'</div><div class="'+MS+'"><input class="'+h8+'" type="text" tabindex="0" title="'+this.localeObj.getConstant("yearExpander")+'"/></div><div class="'+H1+'"><table class="'+b8+' e-month-expand-wrapper" role="none"><tr><td><div class="'+Rl+" "+u8+'"><input class="'+c8+'"title="'+this.localeObj.getConstant("monthExpander")+'" type="radio"></div></td><td colspan="2"><div class="'+Rl+' e-monthday-element"><input type="text" tabindex="0" id="'+this.element.id+"_"+z1+'" class="'+z1+'"title="'+this.localeObj.getConstant("on")+'" /></div></td></tr><tr><td><div class="'+Rl+" "+u8+'" style="min-width: 30px;margin-bottom:18px;"><input class="'+d8+'"title="'+this.localeObj.getConstant("monthExpander")+'" type="radio"></div></td><td><div class="'+Rl+' e-week-position" ><input type="text" tabindex="0" class="'+p8+'"title="'+this.localeObj.getConstant("monthPosition")+'" /></div></td><td><div class="'+Rl+' e-day-position"><input type="text" tabindex="0" class="'+f8+'"title="'+this.localeObj.getConstant("monthWeek")+'" /></div></td></tr></table></div></div><div class="'+j1+" "+U1+" "+TS+'"><div class=e-end-on-label>'+this.localeObj.getConstant("end")+'</div><div class="'+Rl+' e-end-on-left"><input type="text" tabindex="0" class="'+m8+'"title="'+this.localeObj.getConstant("end")+'" /></div><div class="'+Rl+" "+W1+'" ><input type="text" tabindex="0" class="'+g8+'"title="'+this.localeObj.getConstant(zy)+'" /></div><div class="'+Rl+" "+q1+'"><input type="text" tabindex="0" id="'+this.element.id+"_"+Py+'" class="'+Py+'"title="'+this.localeObj.getConstant(Uy)+'" /></div></div></div></div>'},t.prototype.getSelectedDaysData=function(){var e="BYDAY=",i=[].slice.call(this.element.querySelectorAll(".e-days button."+Sd)),n=["SU","MO","TU","WE","TH","FR","SA"];this.rotateArray(n,this.firstDayOfWeek);for(var s=0;s<i.length;s++)e+=n[parseInt(i[parseInt(s.toString(),10)].getAttribute("data-index"),10)]+(s===i.length-1?"":",");return e+oo},t.prototype.getSelectedMonthData=function(){return this.onWeekDay.checked?"BYDAY="+this.monthWeekDays.value+";BYSETPOS="+this.monthWeekPos.value+oo:"BYMONTHDAY="+this.monthDate.value+oo},t.prototype.getIntervalData=function(){return"INTERVAL="+this.repeatInterval.value+oo},t.prototype.getEndOnCount=function(){return"COUNT="+this.recurrenceCount.value+oo},t.prototype.getYearMonthRuleData=function(){return"BYMONTH="+this.monthValue.value+oo},t.prototype.updateWeekButton=function(e){var i=["SU","MO","TU","WE","TH","FR","SA"];this.rotateArray(i,this.firstDayOfWeek);for(var n=0,s=this.dayButtons;n<s.length;n++){var a=s[n],o=parseInt(a.element.getAttribute("data-index"),10);-1!==e.indexOf(i[parseInt(o.toString(),10)])?a.setProperties({isPrimary:!0}):a.setProperties({isPrimary:!1})}},t.prototype.updateMonthUI=function(){if(this.ruleObject.monthDay.length)this.monthDate.setProperties({value:this.ruleObject.monthDay[0]}),this.onMonthDay.setProperties({checked:!0});else{this.onWeekDay.setProperties({checked:!0}),this.monthWeekPos.setProperties({value:this.ruleObject.setPosition});for(var e=0,i=Object.keys(xS);e<i.length;e++)if(xS[""+i[e]]===this.ruleObject.day[0]){this.monthWeekDays.setProperties({value:this.ruleObject.day[0]});break}}},t.prototype.updateUI=function(e,i){switch(this.repeatInterval.setProperties({value:this.ruleObject.interval}),i){case zy:this.untilDateObj.setProperties({value:this.ruleObject.until});break;case Uy:this.recurrenceCount.setProperties({value:this.ruleObject.count})}switch(e){case jy:this.updateWeekButton(this.ruleObject.day);break;case Hy:this.monthValue.setProperties({index:this.ruleObject.month[0]-1}),this.updateMonthUI();break;case By:this.updateMonthUI()}},t.prototype.getUntilData=function(){return this.untilDateObj.value?"UNTIL="+zh(this.untilDateObj.value)+oo:""},t.prototype.destroyComponents=function(){this.recurrenceCount.isDestroyed||(this.recurrenceCount.destroy(),this.recurrenceCount=null),this.monthDate.isDestroyed||(this.monthDate.destroy(),this.monthDate=null),this.repeatInterval.isDestroyed||(this.repeatInterval.destroy(),this.repeatInterval=null),this.untilDateObj.isDestroyed||(this.untilDateObj.destroy(),this.untilDateObj=null),this.repeatType.isDestroyed||(this.repeatType.destroy(),this.repeatType=null),this.endType.isDestroyed||(this.endType.destroy(),this.endType=null),this.monthWeekPos.isDestroyed||(this.monthWeekPos.destroy(),this.monthWeekPos=null),this.monthWeekDays.isDestroyed||(this.monthWeekDays.destroy(),this.monthWeekDays=null),this.monthValue.isDestroyed||(this.monthValue.destroy(),this.monthValue=null),this.onMonthDay.isDestroyed||(this.onMonthDay.destroy(),this.onMonthDay=null),this.onWeekDay.isDestroyed||(this.onWeekDay.destroy(),this.onWeekDay=null),this.dayButtons.forEach(function(e){e.isDestroyed||e.destroy()}),this.dayButtons=[],this.monthButtons.forEach(function(e){e.isDestroyed||e.destroy()}),this.monthButtons=[]},t.prototype.resetFields=function(){this.startState(Fy,this.endTypes[0],this.startDate),this.setDefaultValue()},t.prototype.updateRuleUntilDate=function(e){if(this.untilDateObj.value&&e){var i=this.untilDateObj.value,n=new Date(i.getFullYear(),i.getMonth(),i.getDate(),e.getHours(),e.getMinutes(),e.getMilliseconds());this.untilDateObj.setProperties({value:n})}},t.prototype.getCalendarMode=function(){return this.calendarMode.toLowerCase()},t.prototype.getRuleSummary=function(e){return void 0===e&&(e=this.getRecurrenceRule()),function(r,t,e,i){void 0===i&&(i="Gregorian");var a,o,n=k1(r),s=t.getConstant("every")+" ",l=i.toLowerCase();if("en"===e||"en-US"===e){var c="days.stand-alone.abbreviated";o=_("months.stand-alone.abbreviated",Ps(l)),a=_(c,Ps(l))}else c="main."+e+".dates.calendars."+l+".days.stand-alone.abbreviated",o=_("main."+e+".dates.calendars."+l+".months.stand-alone.abbreviated",ji),a=_(c,ji);switch(n.interval>1&&(s+=n.interval+" "),n.freq){case"DAILY":s+=t.getConstant("summaryDay");break;case"WEEKLY":s+=t.getConstant("summaryWeek")+" "+t.getConstant(L1)+" ",n.day.forEach(function(p,f){s+=Di(_(n8[""+p],a),"single"),s+=n.day.length-1===f?"":", "});break;case"MONTHLY":s+=t.getConstant("summaryMonth")+" "+t.getConstant(L1)+" ",s+=Q6(n,a,t);break;case"YEARLY":s+=t.getConstant("summaryYear")+" "+t.getConstant(L1)+" ",s+=Di(_(n.month[0].toString(),o),"single")+" ",s+=Q6(n,a,t)}if(n.count)s+=", "+n.count+" "+t.getConstant("summaryTimes");else if(n.until){var d=n.until;s+=", "+t.getConstant("summaryUntil")+" "+d.getDate()+" "+Di(_((d.getMonth()+1).toString(),o),"single")+" "+d.getFullYear()}return s}(e,this.localeObj,this.locale,this.calendarMode)},t.prototype.getRecurrenceDates=function(e,i,n,s,a){return a=u(a)?this.startDate:a,M1(e,i,n,this.firstDayOfWeek,s,a,this.calendarMode)},t.prototype.getRecurrenceRule=function(){var e="FREQ=";switch(this.repeatType.value){case Vy:e+="DAILY;";break;case jy:e+="WEEKLY;"+this.getSelectedDaysData();break;case By:e+=I8+oo+this.getSelectedMonthData();break;case Hy:e+="YEARLY;"+this.getSelectedMonthData()+this.getYearMonthRuleData();break;case Fy:return""}switch(e+=this.getIntervalData(),this.endType.value){case zy:e+=this.getUntilData();break;case Uy:e+=this.getEndOnCount()}return e},t.prototype.setRecurrenceRule=function(e,i){if(void 0===i&&(i=this.startDate),e){this.renderStatus=!1,this.ruleObject=k1(e);var n=this.ruleObject.count?Uy:this.ruleObject.until?zy:Y1;switch(this.ruleObject.freq){case"DAILY":this.startState(Vy,n,i),this.updateUI(Vy,n);break;case"WEEKLY":this.startState(jy,n,i),this.updateUI(jy,n);break;case I8:this.startState(By,n,i),this.updateUI(By,n);break;case"YEARLY":this.startState(Hy,n,i),this.updateUI(Hy,n)}this.renderStatus=!0,this.triggerChangeEvent()}else this.repeatType.setProperties({value:Fy})},t.prototype.detachInputs=function(){for(var i=0,n=[].slice.call(this.element.querySelectorAll("input"));i<n.length;i++)Q(n[i])},t.prototype.destroy=function(){if(!this.isDestroyed){this.destroyComponents(),r.prototype.destroy.call(this);var e=["e-"+this.getModuleName()];for(this.cssClass&&(e=e.concat(this.cssClass.split(" "))),M([this.element],e),this.detachInputs();this.element.firstElementChild;)this.element.removeChild(this.element.firstElementChild)}},t.prototype.getModuleName=function(){return"recurrenceeditor"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.render=function(){this.initialize(),this.rtlClass(this.enableRtl),this.renderStatus=!0,this.renderComplete()},t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++)switch(s[n]){case"startDate":this.selectMonthDay(e.startDate),this.updateUntilDate(e.startDate),this.endType.setProperties({index:0});break;case"enableRtl":this.rtlClass(e.enableRtl);break;case"cssClass":i.cssClass&&M([this.element],i.cssClass.split(" ")),e.cssClass&&D([this.element],e.cssClass.split(" "));break;case"selectedType":this.repeatType.setProperties({index:this.selectedType});break;case"minDate":this.untilDateObj.setProperties({minDate:this.minDate});break;case"maxDate":this.untilDateObj.setProperties({maxDate:this.maxDate});break;case"value":this.getRecurrenceRule()!==this.value&&this.setRecurrenceRule(this.value);break;case"calendarMode":this.calendarMode=e.calendarMode,this.calendarUtil=N1(e.calendarMode);break;case"locale":case"frequencies":case"firstDayOfWeek":case"endTypes":this.refresh();break;case"dateFormat":this.untilDateObj.setProperties({format:e.dateFormat})}},xa([v(["none","daily","weekly","monthly","yearly"])],t.prototype,"frequencies",void 0),xa([v(["never","until","count"])],t.prototype,"endTypes",void 0),xa([v(0)],t.prototype,"firstDayOfWeek",void 0),xa([v(new Date)],t.prototype,"startDate",void 0),xa([v()],t.prototype,"dateFormat",void 0),xa([v("Gregorian")],t.prototype,"calendarMode",void 0),xa([v()],t.prototype,"cssClass",void 0),xa([v()],t.prototype,"value",void 0),xa([v(new Date(1900,0,1))],t.prototype,"minDate",void 0),xa([v(new Date(2099,11,31))],t.prototype,"maxDate",void 0),xa([v(0)],t.prototype,"selectedType",void 0),xa([x()],t.prototype,"change",void 0),xa([et],t)}(Yt),Wh="e-field",Wy="e-recurrence-container",wd="e-hide",V8=function(){function r(t){this.parent=t,this.l10n=this.parent.localeObj,this.fields=this.parent.eventFields,this.eventWindowTime={startTime:new Date,endTime:new Date},this.renderEventWindow()}return r.prototype.renderEventWindow=function(){this.element=N("div",{id:this.parent.element.id+"_dialog_wrapper"}),this.parent.element.appendChild(this.element);var t={animationSettings:{effect:"Zoom"},content:this.getEventWindowContent(),cssClass:Vh,enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,height:this.parent.isAdaptive?"100%":"auto",minHeight:"300px",isModal:!0,showCloseIcon:!this.parent.isAdaptive,target:document.body,visible:!1,width:"500px",beforeOpen:this.onBeforeOpen.bind(this),beforeClose:this.onBeforeClose.bind(this)};this.parent.isAdaptive?(t.cssClass=Vh+" "+Kf,this.parent.editorHeaderTemplate||(t.header='<div class="e-title-header"><div class="e-back-icon e-icons"></div><div class="e-title-text">'+this.l10n.getConstant("newEvent")+'</div><div class="e-save-icon e-icons"></div></div>')):(this.parent.editorFooterTemplate||this.renderDialogButtons(t),this.parent.editorHeaderTemplate||(t.header='<div class="e-title-text">'+this.l10n.getConstant("newEvent")+"</div>")),this.dialogObject=new QC(t,this.element),this.dialogObject.element.querySelector(".e-dlg-closeicon-btn")&&this.dialogObject.element.querySelector(".e-dlg-closeicon-btn").setAttribute("title",this.l10n.getConstant("close")),this.addEventHandlers(),D([this.element.parentElement],Vh+"-container"),b.add(this.dialogObject.element,"keydown",this.preventEventSave,this),this.applyFormValidation()},r.prototype.renderDialogButtons=function(t){t.buttons=[{buttonModel:{content:this.l10n.getConstant("deleteButton"),cssClass:Ph,disabled:!this.parent.eventSettings.allowDeleting||this.parent.readonly},click:this.eventDelete.bind(this)},{buttonModel:{content:this.l10n.getConstant("saveButton"),cssClass:"e-primary "+gS,isPrimary:!0,disabled:!this.parent.eventSettings.allowAdding||this.parent.readonly},click:this.eventSave.bind(this)},{buttonModel:{cssClass:T6,content:this.l10n.getConstant("cancelButton")},click:this.dialogClose.bind(this)}]},r.prototype.addEventHandlers=function(){var t=this.element.querySelector(".e-back-icon"),e=this.element.querySelector("."+M6);this.parent.isAdaptive&&!u(t)&&!u(e)&&(b.add(t,"click",this.dialogClose,this),b.add(e,"click",this.eventSave,this))},r.prototype.refresh=function(){this.destroy(!0),this.renderEventWindow()},r.prototype.refreshRecurrenceEditor=function(){if(this.recurrenceEditor){var t=this.recurrenceEditor.element;this.recurrenceEditor.destroy(),this.createRecurrenceEditor(t)}},r.prototype.setRecurrenceEditor=function(t){this.parent.editorTemplate&&(this.recurrenceEditor=t)},r.prototype.openEditor=function(t,e,i,n){if(this.parent.currentAction=e,this.parent.removeNewEventElement(),this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(!0),this.parent.inlineModule.removeInlineAppointmentElement(),"Add"===e){var s={};this.cellClickAction=!i,this.parent.activeCellsData=t;var a=t;this.cellClickAction?this.convertToEventData(a,s):(this.parent.activeCellsData={startTime:a.startTime||a[this.fields.startTime],endTime:a.endTime||a[this.fields.endTime],isAllDay:a.isAllDay||a[this.fields.isAllDay],element:a.element,groupIndex:a.groupIndex},s=a),t=s}switch(u(this.parent.editorHeaderTemplate)||(this.parent.resetTemplates(["editorHeaderTemplate"]),this.dialogObject.header=this.parent.isAdaptive&&!this.parent.editorFooterTemplate?this.createAdaptiveHeaderElement(t):this.getDialogHeader(t)),u(this.parent.editorFooterTemplate)||(this.parent.resetTemplates(["editorFooterTemplate"]),this.dialogObject.footerTemplate=this.getDialogFooter(t)),(!u(this.parent.editorHeaderTemplate)||!u(this.parent.editorFooterTemplate))&&(this.dialogObject.dataBind(),this.addEventHandlers()),u(this.parent.editorTemplate)||this.renderFormElements(this.element.querySelector(".e-schedule-form"),t),!this.parent.isAdaptive&&u(this.parent.editorTemplate)&&M([this.dialogObject.element.querySelector(".e-recurrenceeditor")],gi),this.recurrenceEditor&&(this.recurrenceEditor.firstDayOfWeek=this.parent.activeViewOptions.firstDayOfWeek),e){case"Add":this.onCellDetailsUpdate(t,n);break;case"Save":case"EditOccurrence":case"EditSeries":case"EditFollowingEvents":"EditOccurrence"===e&&!this.parent.isAdaptive&&u(this.parent.editorTemplate)&&D([this.dialogObject.element.querySelector(".e-recurrenceeditor")],gi),this.cellClickAction=!1,this.onEventDetailsUpdate(t)}},r.prototype.setDialogContent=function(){this.dialogObject.content=this.getEventWindowContent(),this.dialogObject.dataBind(),this.applyFormValidation()},r.prototype.setDialogHeader=function(){u(this.parent.editorHeaderTemplate)?this.dialogObject.header=this.parent.isAdaptive?'<div class="e-title-header"><div class="e-back-icon e-icons"></div><div class="e-title-text">'+this.l10n.getConstant("newEvent")+'</div><div class="e-save-icon e-icons"></div></div>':'<div class="e-title-text">'+this.l10n.getConstant("newEvent")+"</div>":(this.parent.resetTemplates(["editorHeaderTemplate"]),this.dialogObject.header=this.parent.isAdaptive&&!this.parent.editorFooterTemplate?this.createAdaptiveHeaderElement():this.getDialogHeader()),this.dialogObject.dataBind(),this.addEventHandlers()},r.prototype.setDialogFooter=function(){u(this.parent.editorFooterTemplate)?!this.parent.isAdaptive&&u(this.parent.editorFooterTemplate)?this.renderDialogButtons(this.dialogObject):this.parent.isAdaptive&&u(this.parent.editorFooterTemplate)&&(this.dialogObject.footerTemplate=null):(this.parent.resetTemplates(["editorFooterTemplate"]),this.dialogObject.footerTemplate=this.getDialogFooter()),this.dialogObject.dataBind()},r.prototype.createAdaptiveHeaderElement=function(t){var e=N("div",{className:"e-title-header"}),i=N("div",{className:"e-back-icon e-icons"});e.appendChild(i);var n=this.getDialogHeader(t);e.appendChild(n);var s=N("div",{className:"e-save-icon e-icons"});return e.appendChild(s),e},r.prototype.getDialogHeader=function(t){var i=this.parent.element.id+"_editorHeaderTemplate",n=document.createElement("div");return ce([].slice.call(this.parent.getEditorHeaderTemplate()(t||{},this.parent,"editorHeaderTemplate",i,!1)),n),n},r.prototype.getDialogFooter=function(t){var i=this.parent.element.id+"_editorFooterTemplate",n=document.createElement("div");return ce([].slice.call(this.parent.getEditorFooterTemplate()(t||{},this.parent,"editorFooterTemplate",i,!1)),n),n},r.prototype.preventEventSave=function(t){this.parent&&!this.parent.allowKeyboardInteraction&&"Enter"===t.code&&(this.isEnterKey=!0)},r.prototype.onBeforeOpen=function(t){var e=this,i=this.eventData[this.fields.endTime].getTime(),n={type:"Editor",data:this.eventData,cancel:!1,element:this.element,target:this.cellClickAction?this.parent.activeCellsData.element:this.parent.activeEventData.element};this.cellClickAction&&(n.duration=this.getSlotDuration());var s=this.getInstance(gS);s&&(s.disabled=!(this.cellClickAction?this.parent.eventSettings.allowAdding:this.parent.eventSettings.allowEditing),s.dataBind());var a=this.getInstance(Ph);a&&(a.disabled=!this.parent.eventSettings.allowDeleting,a.dataBind());var o=new af;return this.parent.trigger(qD,n,function(l){if(t.cancel=l.cancel,e.duration=e.cellClickAction?l.duration:null,e.eventData[e.fields.endTime].getTime()===i&&!e.cellClickAction&&0===e.eventData[e.fields.endTime].getHours()&&0===e.eventData[e.fields.endTime].getMinutes()&&(e.eventData=z({},e.eventData,null,!0),e.trimAllDay(e.eventData)),e.refreshDateTimePicker(e.duration),e.cellClickAction&&l.duration!==e.getSlotDuration()&&u(e.parent.editorTemplate)){var h=e.getInstance(jh),c=e.getInstance(eu);c.value=new Date(h.value.getTime()+Os*l.duration),c.dataBind()}e.parent.editorTemplate&&e.element.querySelector(".e-recurrenceeditor")&&!e.recurrenceEditor&&(e.recurrenceEditor=e.getInstance("e-recurrenceeditor")),o.resolve(t)}),o},r.prototype.onBeforeClose=function(t){var e=this;t.isInteracted&&(this.isCrudAction=!1);var i={type:"Editor",event:t.event||this.dialogEvent,data:this.eventCrudData,cancel:!1,element:this.element,target:this.cellClickAction?this.parent.activeCellsData.element:this.parent.activeEventData.element},n=new af;return this.parent.trigger(_N,i,function(s){t.cancel=s.cancel,s.cancel||(e.isCrudAction&&(t.cancel=e.processCrudActions(s.data),e.isCrudAction=t.cancel),e.isCrudAction||(e.resetForm(),e.parent.eventBase.focusElement(!0),e.eventCrudData=null)),n.resolve(t)}),n},r.prototype.getEventWindowContent=function(){var t=N("div",{className:"e-form-container"}),e=N("form",{id:this.parent.element.id+"EditForm",className:Xc,attrs:{onsubmit:"return false;"}});return this.renderFormElements(e),t.appendChild(e),t},r.prototype.renderFormElements=function(t,e){var i=this;if(u(this.parent.editorTemplate))t.appendChild(this.getDefaultEventWindowContent());else{if(e){this.fieldValidator&&(this.fieldValidator.destroy(),this.fieldValidator=null),this.recurrenceEditor&&(this.recurrenceEditor.destroy(),this.recurrenceEditor=null),this.destroyComponents();for(var s=0,a=[].slice.call(t.children);s<a.length;s++)me(a[s]);this.parent.resetTemplates(["editorTemplate"])}var l=this.parent.element.id+"_editorTemplate";ce([].slice.call(this.parent.getEditorTemplate()(e||{},this.parent,"editorTemplate",l,!1)),t),this.parent.renderTemplates(function(){i.element&&(i.applyFormValidation(),i.eventCrudData&&(i.showDetails(i.eventCrudData),i.eventCrudData=null))})}},r.prototype.getDefaultEventWindowContent=function(){var t=this.createDivElement("e-dialog-parent"),e=this.createDivElement("e-title-location-row");t.appendChild(e),e.appendChild(this.renderTextBox(Cn)),e.querySelector("."+Cn).setAttribute("title",this.parent.editorTitles.subject),e.appendChild(this.renderTextBox(Jc)),e.querySelector("."+Jc).setAttribute("title",this.parent.editorTitles.location);var i=this.createDivElement("e-start-end-row");t.appendChild(i),i.appendChild(this.renderDateTimePicker(jh,this.onTimeChange.bind(this))),i.querySelector("."+jh).setAttribute("title",this.parent.editorTitles.startTime),i.appendChild(this.renderDateTimePicker(eu)),i.querySelector("."+eu).setAttribute("title",this.parent.editorTitles.endTime);var n=this.createDivElement("e-all-day-time-zone-row");t.appendChild(n),n.appendChild(this.renderCheckBox(Ey)),n.appendChild(this.renderCheckBox(Zc));var s=this.createDivElement(Sy);t.appendChild(s),s.appendChild(this.renderDropDown(wy)),s.appendChild(this.renderDropDown(My));var a=this.createDivElement("e-repeat-parent-row");t.appendChild(a);var o=this.renderCheckBox(Dy),l=N("span",{className:Wy}),h=N("button",{className:"e-recurrence-edit-button",attrs:{type:"button",title:this.l10n.getConstant("editRecurrence")}});if(this.buttonObj=new vn({iconCss:"e-recurrence-edit e-icons",cssClass:"e-medium "+this.parent.cssClass}),l.appendChild(h),this.buttonObj.appendTo(h),o.appendChild(l),a.appendChild(o),this.parent.isAdaptive?b.add(h,"click",this.loadRecurrenceEditor,this):this.createRecurrenceEditor(t),this.parent.resourceCollection.length>0){for(var c=this.createDivElement("e-resources-row"),d=0,p=this.parent.resourceBase.resourceCollection;d<p.length;d++)c.appendChild(this.renderResourceDetails(p[d]));t.appendChild(c)}var m=this.createDivElement(yd+"-row");m.appendChild(this.renderTextBox(yd)),m.querySelector("."+yd).setAttribute("title",this.parent.editorTitles.description),t.appendChild(m);var g=N("button",{attrs:{type:"hidden",title:"submit",style:"display:none"}});return t.appendChild(g),t},r.prototype.createRecurrenceEditor=function(t){var e=N("div",{id:this.parent.element.id+"_recurrence_editor"});t.appendChild(e),this.recurrenceEditor=this.renderRecurrenceEditor(),this.recurrenceEditor.appendTo(e),this.updateMinMaxDateToEditor()},r.prototype.createDivElement=function(t){return N("div",{className:t})},r.prototype.createInputElement=function(t,e,i){return N(i||"input",{className:t,attrs:{type:"text",name:e,value:"",id:e,title:""===this.l10n.getConstant(e.charAt(0).toLowerCase()+e.slice(1))?e:this.l10n.getConstant(e.charAt(0).toLowerCase()+e.slice(1))}})},r.prototype.getSlotDuration=function(){return this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount},r.prototype.renderDateTimePicker=function(t,e){var i=this.createDivElement(t+"-container"),n=this.getFieldName(t),s=this.createInputElement(t+" "+Wh,n);return i.appendChild(s),new fve({change:e,firstDayOfWeek:this.parent.activeViewOptions.firstDayOfWeek,calendarMode:this.parent.calendarMode,min:this.parent.minDate,max:new Date(new Date(+this.parent.maxDate).setHours(23,59,59)),cssClass:this.parent.cssClass,enableRtl:this.parent.enableRtl,locale:this.parent.locale,floatLabelType:"Always",timeFormat:this.parent.activeViewOptions.timeFormat,format:(u(this.parent.dateFormat)?this.getFormat("dateFormats"):this.parent.dateFormat)+" "+this.parent.activeViewOptions.timeFormat,placeholder:this.getFieldLabel(t),step:this.getSlotDuration(),width:"100%"}).appendTo(s),i},r.prototype.refreshDateTimePicker=function(t){for(var n=0,s=[].slice.call(this.element.querySelectorAll(".e-start,.e-end"));n<s.length;n++){var o=s[n].ej2_instances[0];o.firstDayOfWeek=this.parent.activeViewOptions.firstDayOfWeek,o.timeFormat=this.parent.activeViewOptions.timeFormat,o.step=t||this.getSlotDuration(),o.dataBind()}},r.prototype.onTimeChange=function(){var t=this.getInstance(jh);if(t.element.parentElement.classList.contains("e-input-focus")){var e=this.getInstance(eu),i=0;this.cellClickAction?(i=Os*this.duration,this.eventWindowTime.startTime=t.value):i=this.eventData[this.fields.endTime].getTime()-this.eventData[this.fields.startTime].getTime();var n=u(t.value)?null:new Date(t.value.getTime()+i);this.cellClickAction&&(this.eventWindowTime.endTime=n),e.value=n,e.dataBind()}this.recurrenceEditor&&this.recurrenceEditor.updateRuleUntilDate(this.eventWindowTime.startTime)},r.prototype.renderResourceDetails=function(t){var e=t.field,i="e-"+e,n=t.title,s=this.createDivElement(i+"-container e-resources"),a=this.createInputElement(i+" "+Wh,e);s.appendChild(a);var o=function(c){return'<div class="e-resource-template"><div class="e-resource-color" style="background-color:'+c[t.colorField]+'"></div><div class="e-resource-text">'+c[t.textField]+"</div></div>"};return Fu(o,t),t.allowMultiple?new Pye({enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,cssClass:this.parent.cssClass||"",dataSource:t.dataSource,change:this.onMultiselectResourceChange.bind(this),itemTemplate:o,fields:{text:t.textField,value:t.idField},htmlAttributes:{title:n,name:e},floatLabelType:"Always",placeholder:n,popupHeight:"230px",popupWidth:"447px",mode:"Box"}).appendTo(a):new ld({cssClass:this.parent.cssClass||"",change:this.onDropdownResourceChange.bind(this),dataSource:t.dataSource,enableRtl:this.parent.enableRtl,fields:{text:t.textField,value:t.idField},htmlAttributes:{title:n,name:e},floatLabelType:"Always",placeholder:n,popupHeight:"230px",popupWidth:"447px",itemTemplate:o}).appendTo(a),s},r.prototype.renderDropDown=function(t){var e=this,i=this.getFieldName(t),n=this.createDivElement(t+"-container"),s=this.createInputElement(t+" "+Wh,i);return n.appendChild(s),new ld({allowFiltering:!0,change:this.onTimezoneChange.bind(this),cssClass:this.parent.cssClass||"",dataSource:this.parent.timezoneDataSource,enableRtl:this.parent.enableRtl,fields:{text:"Text",value:"Value"},filterBarPlaceholder:this.parent.localeObj.getConstant("searchTimezone"),noRecordsTemplate:this.parent.localeObj.getConstant("noRecords"),filtering:function(o){var l=new Xe;l=""!==o.text?l.where("Text","contains",o.text,!0):l,o.updateData(e.parent.timezoneDataSource,l)},htmlAttributes:{title:this.getFieldLabel(t),name:i},floatLabelType:"Always",placeholder:this.getFieldLabel(t),popupHeight:"230px"}).appendTo(s),n},r.prototype.onMultiselectResourceChange=function(t){if(t.value&&this.parent.activeViewOptions.group.byGroupID&&!(this.parent.resourceCollection.length<=1))for(var e=this.parent.resourceBase.resourceCollection,i=t.element.getAttribute("name")||this.getColumnName(t.element),n=0;n<e.length;n++)if(e[parseInt(n.toString(),10)].field===i&&n<e.length-1){for(var s=this.createInstance(n),a=[],o=function(c){var d=e[n+1],p=d.dataSource.filter(function(g){return g[d.groupIDField]===t.value[parseInt(c.toString(),10)]})[0],f=u(p)?null:p[e[n+1].groupIDField],m=l.filterDatasource(n,f);a=a.concat(m)},l=this,h=0;h<t.value.length;h++)o(h);s.dataSource=a,s.dataBind()}},r.prototype.createInstance=function(t){var i=this.element.querySelector(".e-"+this.parent.resourceBase.resourceCollection[t+1].field).ej2_instances[0];return i.clear(),i},r.prototype.onDropdownResourceChange=function(t){if(t.value&&!(this.parent.resourceCollection.length<=1)&&this.parent.activeViewOptions.group.byGroupID)for(var e=t.element.getAttribute("name")||this.getColumnName(t.element),i=this.parent.resourceBase.resourceCollection,n=0;n<i.length;n++)if(n<i.length-1&&i[parseInt(n.toString(),10)].field===e){var s=this.createInstance(n),a=t.itemData[i[parseInt(n.toString(),10)].idField];s.dataSource=this.filterDatasource(n,a),s.dataBind();var o=s.dataSource.length>0?s.dataSource[0][i[n+1].idField]:null;s.value=i[n+1].allowMultiple?[o]:o,s.dataBind()}},r.prototype.filterDatasource=function(t,e){var i=this.parent.resourceBase.resourceCollection[t+1];return i.dataSource.filter(function(n){return n[i.groupIDField]===e})},r.prototype.onTimezoneChange=function(t){if((t.element.getAttribute("name")||this.getColumnName(t.element))===this.parent.eventFields.startTimezone){var i=this.getInstance(wy),n=this.getInstance(My);n.value=i.value,n.dataBind()}},r.prototype.renderCheckBox=function(t){var e=this.createDivElement(t+"-container"),i=this.getFieldName(t),n=this.createInputElement(t+" "+Wh,i);e.appendChild(n);var s=new Tue({change:this.onChange.bind(this),cssClass:t+" "+this.parent.cssClass,enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,label:this.getFieldLabel(t)});return s.appendTo(n),n.setAttribute("name",i),"Repeat"===i&&(this.repeatStatus=s),e},r.prototype.renderTextBox=function(t){var e=this.createDivElement(t+"-container"),i=this.getFieldName(t),s=this.createInputElement(t+" "+Wh,i,t===yd?"textarea":"input");return e.appendChild(s),X.createInput({element:s,floatLabelType:"Always",properties:{enableRtl:this.parent.enableRtl,placeholder:this.getFieldLabel(t)}}),e},r.prototype.getFieldName=function(t){var e="";switch(t){case Cn:e=this.fields.subject;break;case Jc:e=this.fields.location;break;case jh:e=this.fields.startTime;break;case eu:e=this.fields.endTime;break;case yd:e=this.fields.description;break;case Ey:e=this.fields.isAllDay;break;case wy:e=this.fields.startTimezone;break;case My:e=this.fields.endTimezone;break;case Zc:e="Timezone";break;case Dy:e="Repeat"}return e},r.prototype.getFieldLabel=function(t){var e="";switch(t){case Cn:e=this.parent.editorTitles.subject;break;case Jc:e=this.parent.editorTitles.location;break;case yd:e=this.parent.editorTitles.description;break;case jh:e=this.parent.editorTitles.startTime;break;case eu:e=this.parent.editorTitles.endTime;break;case wy:e=this.parent.editorTitles.startTimezone;break;case My:e=this.parent.editorTitles.endTimezone;break;case Dy:e=this.parent.editorTitles.recurrenceRule;break;case Ey:e=this.parent.editorTitles.isAllDay;break;case Zc:e=this.l10n.getConstant("timezone")}return e},r.prototype.onChange=function(t){if(t.event&&t.event.target){var i=I(t.event.target,".e-all-day,.e-time-zone,.e-repeat");i.classList.contains(Ey)?this.onAllDayChange(t.checked):i.classList.contains(Zc)?this.timezoneChangeStyle(t.checked):i.classList.contains(Dy)&&this.onRepeatChange(t.checked)}},r.prototype.renderRepeatDialog=function(){var t=N("div");this.repeatDialogObject=new QC({header:this.l10n.getConstant("recurrence"),visible:!1,content:'<div class="e-rec-editor"></div>',closeOnEscape:!0,width:"90%",buttons:[{click:this.repeatSaveDialog.bind(this),buttonModel:{content:this.l10n.getConstant("save"),cssClass:"e-save",isPrimary:!0}},{click:this.repeatCancelDialog.bind(this),buttonModel:{cssClass:"e-cancel",content:this.l10n.getConstant("cancel")}}],target:this.element,animationSettings:{effect:"Zoom"},enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,isModal:!0,cssClass:"e-recurrence-dialog",open:this.repeatOpenDialog.bind(this)}),this.element.appendChild(t),this.repeatDialogObject.appendTo(t),this.createRecurrenceEditor(this.repeatDialogObject.element.querySelector(".e-rec-editor"))},r.prototype.loadRecurrenceEditor=function(){this.repeatDialogObject.show(),this.recurrenceEditor&&this.repeatRule&&this.recurrenceEditor.setRecurrenceRule(this.repeatRule)},r.prototype.onRepeatChange=function(t){t?(this.repeatDialogObject||this.renderRepeatDialog(),this.recurrenceEditor.setProperties({startDate:this.repeatStartDate,selectedType:0}),this.loadRecurrenceEditor()):(this.repeatDialogObject&&this.repeatDialogObject.hide(),this.repeatRule="",this.recurrenceEditor&&(this.recurrenceEditor.setRecurrenceRule(this.repeatRule),this.updateRepeatLabel(this.repeatRule)),D([this.element.querySelector("."+Wy)],wd))},r.prototype.repeatSaveDialog=function(){this.repeatRule=this.recurrenceEditor.getRecurrenceRule();var t=this.element.querySelector("."+Wy);this.recurrenceEditor.getRecurrenceRule()?M([t],wd):(D([t],wd),this.repeatStatus.setProperties({checked:!1})),this.updateRepeatLabel(this.repeatRule),this.closeRepeatDialog()},r.prototype.closeRepeatDialog=function(){this.repeatDialogObject.hide()},r.prototype.repeatCancelDialog=function(){this.closeRepeatDialog(),this.recurrenceEditor&&this.recurrenceEditor.setRecurrenceRule(this.repeatTempRule),this.repeatTempRule||this.repeatStatus.setProperties({checked:!1})},r.prototype.repeatOpenDialog=function(){this.repeatTempRule=this.recurrenceEditor.getRecurrenceRule()},r.prototype.onCellDetailsUpdate=function(t,e){if(this.parent.eventSettings.allowAdding){this.parent.isAdaptive&&e&&!this.repeatDialogObject&&this.renderRepeatDialog(),this.element.querySelector("."+Xc).removeAttribute("data-id"),u(this.parent.editorHeaderTemplate)&&(this.element.querySelector("."+I6).innerHTML=this.l10n.getConstant("newEvent")),t.Timezone=!1,this.repeatStartDate=t[this.fields.startTime],this.repeatRule="",u(this.parent.eventSettings.fields.subject.default)||(t[this.fields.subject]=this.parent.eventSettings.fields.subject.default),u(this.parent.eventSettings.fields.location.default)||(t[this.fields.location]=this.parent.eventSettings.fields.location.default),u(this.parent.eventSettings.fields.description.default)||(t[this.fields.description]=this.parent.eventSettings.fields.description.default),this.showDetails(t),t[this.fields.recurrenceRule]&&this.recurrenceEditor&&(this.recurrenceEditor.setRecurrenceRule(t[this.fields.recurrenceRule],t[this.fields.startTime]),this.repeatRule=t[this.fields.recurrenceRule]);var i=this.element.querySelector("."+Ph);if(i&&D([i],gi),this.recurrenceEditor&&(this.recurrenceEditor.setProperties({startDate:t[this.fields.startTime],selectedType:u(e)?u(t[this.fields.recurrenceRule])?0:this.recurrenceEditor.selectedType:e}),this.repeatRule=this.recurrenceEditor.value),this.parent.isAdaptive&&u(this.parent.editorTemplate)){var n=this.element.querySelector("."+Wy);t[this.fields.recurrenceRule]||e?(M([n],wd),this.repeatStatus.setProperties({checked:!0})):(D([n],wd),this.repeatStatus.setProperties({checked:!1})),this.updateRepeatLabel(this.repeatRule)}else{var s=this.element.querySelector("."+gS);this.disableButton(s,!1)}this.dialogObject.show()}},r.prototype.convertToEventData=function(t,e){t.subject&&(e[this.fields.subject]=t.subject),e[this.fields.startTime]=t.startTime,e[this.fields.endTime]=t.endTime,e[this.fields.isAllDay]=t.isAllDay,t.RecurrenceRule&&(e[this.fields.recurrenceRule]=t.RecurrenceRule),(this.parent.resourceCollection.length>0||this.parent.activeViewOptions.group.resources.length>0)&&this.parent.resourceBase.setResourceValues(e)},r.prototype.applyFormValidation=function(){var t=this.element.querySelector("."+Xc);if(t){var e=function(h){return h&&Object.keys(h).length>0?h:void 0},i={},n=e(this.parent.eventSettings.fields.subject.validation);u(n)||(i[this.parent.eventSettings.fields.subject.name]=n);var s=e(this.parent.eventSettings.fields.location.validation);u(s)||(i[this.parent.eventSettings.fields.location.name]=s);var a=e(this.parent.eventSettings.fields.startTime.validation);u(a)||(i[this.parent.eventSettings.fields.startTime.name]=a);var o=e(this.parent.eventSettings.fields.endTime.validation);u(o)||(i[this.parent.eventSettings.fields.endTime.name]=o);var l=e(this.parent.eventSettings.fields.description.validation);u(l)||(i[this.parent.eventSettings.fields.description.name]=l),this.fieldValidator=new a8,this.fieldValidator.renderFormValidator(t,i,this.element,this.parent.locale)}},r.prototype.showDetails=function(t){this.eventData=this.eventCrudData?this.eventData:t;var e=z({},t,null,!0),i=this.getFormElements(Vh);if(this.parent.isReact&&i.length<1&&!this.cellClickAction)this.eventCrudData=e;else{(!this.cellClickAction||this.cellClickAction&&!u(this.parent.editorTemplate))&&0===e[this.fields.endTime].getHours()&&0===e[this.fields.endTime].getMinutes()&&this.trimAllDay(e);for(var n=Object.keys(e),s=0,a=i;s<a.length;s++){var o=a[s],l=o.name||this.getColumnName(o);!u(l)&&""!==l&&(-1!==n.indexOf(l)?this.setValueToElement(o,e[""+l]):this.setDefaultValueToElement(o))}if(u(this.parent.editorTemplate)){this.onAllDayChange(e[this.fields.isAllDay]);var h=this.getInstance(Zc+"."+Wh);u(e[this.fields.startTimezone])&&u(e[this.fields.endTimezone])||(h.checked=!0,h.dataBind()),this.timezoneChangeStyle(h.checked),delete e.Timezone}}},r.prototype.getColumnName=function(t){var e=t.getAttribute("data-name")||"";if(""===e){var i=!1,n="";t.classList.contains("e-dropdownlist")?(n="e-ddl",i=!0):t.classList.contains("e-multiselect")?(n="e-multiselect",i=!0):t.classList.contains("e-datetimepicker")?n="e-datetimepicker":t.classList.contains("e-datepicker")?n="e-datepicker":t.classList.contains("e-checkbox")&&(n="e-checkbox");var a=I(t,i?"."+n+":not(.e-control)":"."+n)||t.querySelector("."+n);if(a){var o=a.querySelector("[name]");o&&(e=o.name)}}return e},r.prototype.onAllDayChange=function(t){var s,e=this.getInstance(jh),i=this.getInstance(eu),n=this.element.querySelector(".e-time-zone-container");t?(s=u(this.parent.dateFormat)?this.getFormat("dateFormats"):this.parent.dateFormat,D(this.element.querySelectorAll(".e-time-icon"),A6),D([n],gi),this.element.querySelector("."+Sy)&&M([this.element.querySelector("."+Sy)],Yc),e.format=i.format=s):(s=u(this.parent.dateFormat)?this.getFormat("dateFormats")+" "+this.parent.activeViewOptions.timeFormat:this.parent.dateFormat+" "+this.parent.activeViewOptions.timeFormat,M(this.element.querySelectorAll(".e-time-icon"),A6),M([n],gi),this.element.querySelector(".e-checkbox-wrapper .e-time-zone").checked&&D([this.element.querySelector("."+Sy)],Yc),e.format=i.format=s),this.cellClickAction&&this.updateDateTime(t,e,i),e.dataBind(),i.dataBind(),u(this.recurrenceEditor)||this.recurrenceEditor.updateRuleUntilDate(e.value)},r.prototype.updateDateTime=function(t,e,i){var n,s;if(t)if(n=ie(new Date(this.eventWindowTime.startTime.getTime())),this.parent.activeCellsData.isAllDay){var a=Ee(new Date(this.eventWindowTime.endTime.getTime()),-1).getTime();s=+this.eventWindowTime.startTime>a?this.eventWindowTime.endTime:new Date(a)}else s=ie(new Date(this.eventWindowTime.endTime.getTime()));else{var o=this.parent.activeCellsData.startTime;if((n=new Date(this.eventWindowTime.startTime.getTime())).setHours(o.getHours(),o.getMinutes(),o.getSeconds()),this.parent.activeCellsData.isAllDay){var l=this.parent.getStartEndTime(this.parent.workHours.start);n.setHours(l.getHours(),l.getMinutes(),l.getSeconds()),(s=new Date(n.getTime())).setMilliseconds(Os*this.getSlotDuration())}else(s=new Date(n.getTime())).setMilliseconds(this.parent.activeCellsData.endTime.getTime()-this.parent.activeCellsData.startTime.getTime())}this.eventWindowTime={startTime:new Date(n.getTime()),endTime:new Date(s.getTime())},e.value=n,i.value=s,e.dataBind(),i.dataBind()},r.prototype.getFormat=function(t){return"en"===this.parent.locale||"en-US"===this.parent.locale?_(t+".short",Ps(this.parent.getCalendarMode())):_("main."+this.parent.locale+".dates.calendars."+this.parent.getCalendarMode()+"."+t+".short",ji)},r.prototype.onEventDetailsUpdate=function(t){if(this.parent.eventSettings.allowEditing){if(!this.parent.isAdaptive&&u(this.parent.editorFooterTemplate)&&M([this.element.querySelector("."+Ph)],gi),u(this.parent.editorHeaderTemplate)&&(this.element.querySelector("."+I6).innerHTML=this.l10n.getConstant("editEvent")),this.element.querySelector("."+Xc).setAttribute("data-id",t[this.fields.id].toString()),u(this.parent.editorTemplate)){t=z({},t,null,!0);var e=this.getInstance(Zc+"."+Wh),i=void 0;t[this.fields.startTimezone]||t[this.fields.endTimezone]?(i=!0,this.parent.eventBase.timezoneConvert(t)):i=!1,t.Timezone=i,e.checked=i,e.dataBind()}if(this.showDetails(t),t[this.fields.recurrenceRule]&&this.recurrenceEditor?this.recurrenceEditor.setRecurrenceRule(t[this.fields.recurrenceRule],t[this.fields.startTime]):!this.parent.isAdaptive&&this.recurrenceEditor&&(this.recurrenceEditor.setProperties({startDate:t[this.fields.startTime]}),this.recurrenceEditor.setRecurrenceRule("")),this.repeatStartDate=t[this.fields.startTime],this.repeatRule="",t[this.fields.recurrenceRule]&&(this.recurrenceEditor&&this.recurrenceEditor.setRecurrenceRule(t[this.fields.recurrenceRule],t[this.fields.startTime]),this.repeatRule=t[this.fields.recurrenceRule]),this.parent.isAdaptive&&u(this.parent.editorTemplate)){var n=this.element.querySelector("."+Wy);t[this.fields.recurrenceRule]?(M([n],wd),this.repeatStatus.setProperties({checked:!0})):(D([n],wd),this.repeatStatus.setProperties({checked:!1})),this.updateRepeatLabel(this.repeatRule)}var s=this.parent.readonly||t[this.fields.isReadonly];if(this.parent.isAdaptive){var l=this.element.querySelector("."+M6);l&&(s?D([l],V6):M([l],V6))}else{var a=this.element.querySelector("."+gS),o=this.element.querySelector("."+Ph);this.disableButton(a,s),this.disableButton(o,s)}this.dialogObject.show()}},r.prototype.disableButton=function(t,e){t&&(t.ej2_instances[0].disabled=e)},r.prototype.renderRecurrenceEditor=function(){return new QCe({calendarMode:this.parent.calendarMode,cssClass:this.parent.cssClass,dateFormat:this.parent.dateFormat,enableRtl:this.parent.enableRtl,firstDayOfWeek:this.parent.activeViewOptions.firstDayOfWeek,locale:this.parent.locale})},r.prototype.updateMinMaxDateToEditor=function(){var t=this.element.querySelector(".e-start"),e=this.element.querySelector(".e-end");if(t&&e){var i=t.ej2_instances[0],n=e.ej2_instances[0];i.min=this.parent.minDate,i.max=this.parent.maxDate,n.min=this.parent.minDate,n.max=this.parent.maxDate,i.dataBind(),n.dataBind()}if(this.recurrenceEditor){var s=this.recurrenceEditor.element.querySelector(".e-until-date");if(s){var a=s.ej2_instances[0];a.min=this.parent.minDate,a.max=this.parent.maxDate,a.dataBind()}}},r.prototype.updateRepeatLabel=function(t){this.parent.isAdaptive&&!this.repeatDialogObject&&this.renderRepeatDialog();var e=t?this.l10n.getConstant("repeats")+" "+this.recurrenceEditor.getRuleSummary(t):this.l10n.getConstant("repeat");this.repeatStatus.setProperties({label:e})},r.prototype.dialogClose=function(t){this.isEnterKey?this.isEnterKey=!1:(this.dialogEvent=t,this.isCrudAction=!1,this.parent.activeEventData={event:void 0,element:void 0},this.parent.currentAction=null,this.dialogObject.hide())},r.prototype.resetForm=function(){this.fieldValidator.destroyToolTip(),this.resetFormFields(),!this.parent.isAdaptive&&this.recurrenceEditor&&!this.recurrenceEditor.isDestroyed&&this.recurrenceEditor.resetFields()},r.prototype.timezoneChangeStyle=function(t){var e=this.element.querySelector("."+Sy),i=this.parent.tzModule.getLocalTimezoneName();if(t){D([e],Yc);var n=this.getInstance(wy),s=this.getInstance(My),a=n.dataSource;n.value&&this.parent.timezone||a.some(function(l){return l.Value===i})||(a.push({Value:i,Text:i}),n.dataSource=a,s.dataSource=a,n.dataBind(),s.dataBind()),n.value=n.value||this.parent.timezone||i,s.value=s.value||this.parent.timezone||i,n.dataBind(),s.dataBind()}else M([e],Yc)},r.prototype.resetFormFields=function(){for(var e=0,i=this.getFormElements(Vh);e<i.length;e++){var n=i[e],s=n.name||this.getColumnName(n);!u(s)&&""!==s&&this.setDefaultValueToElement(n)}},r.prototype.eventSave=function(t,e){if(this.isEnterKey)this.isEnterKey=!1;else{var i=this.element.querySelector("."+Xc);if(!i||!i.classList.contains("e-formvalidator")||i.ej2_instances[0].validate()){var n=this.getEventDataFromEditor();this.processEventValidation(n.tempData,e)||(this.eventCrudData=n.eventData,this.dialogEvent=t,this.isCrudAction=!0,this.dialogObject.hide())}}},r.prototype.getEventDataFromEditor=function(){var t=z({},this.getObjectFromFormData(Vh));t.Timezone||(t[this.fields.startTimezone]=null,t[this.fields.endTimezone]=null),delete t.Timezone,delete t.Repeat,this.setDefaultValueToObject(t),t[this.fields.recurrenceRule]=this.recurrenceEditor?this.recurrenceEditor.getRecurrenceRule()||null:void 0;var e=z({},t,null,!0);return t[this.fields.isAllDay]&&(t[this.fields.startTime]=u(t[this.fields.startTime])?null:ie(new Date(t[this.fields.startTime].getTime())),t[this.fields.endTime]=u(t[this.fields.endTime])?null:Ee(ie(new Date(t[this.fields.endTime].getTime())),1)),{eventData:t,tempData:e}},r.prototype.processEventValidation=function(t,e){var i;if(u(this.parent.editorTemplate)){if(!t[this.fields.startTime]||!t[this.fields.endTime])return this.parent.quickPopup.openValidationError("invalidDateError"),!0;if(t[this.fields.startTime]>t[this.fields.endTime])return this.parent.quickPopup.openValidationError("startEndError"),!0}if(this.recurrenceEditor&&this.recurrenceEditor.value&&""!==this.recurrenceEditor.value){"EditOccurrence"!==this.parent.currentAction&&(i=this.recurrenceValidation(t[this.fields.startTime],t[this.fields.endTime],e));var n=!0;if("seriesChangeAlert"===i&&this.parent.uiStateValues.isIgnoreOccurrence&&(n=!1),!u(i)&&n&&(!this.parent.enableRecurrenceValidation&&"wrongPattern"===i||this.parent.enableRecurrenceValidation))return this.parent.quickPopup.openRecurrenceValidationAlert(i),!0}return!1},r.prototype.processCrudActions=function(t){var e=this;this.parent.uiStateValues.isBlock=!1;var i=this.getResourceData(t),n=(this.parent.activeViewOptions.group.resources.length>0||this.parent.resourceCollection.length>0)&&!this.parent.activeViewOptions.group.allowGroupEdit&&!u(i),s=this.getEventIdFromForm();if(u(s))this.parent.currentAction="Add",n?this.resourceSaveEvent(t,this.parent.currentAction):(t[this.fields.id]=this.parent.eventBase.getEventMaxID(),this.parent.addEvent(t));else{var a="string"===this.parent.eventBase.getEventIDType()?s:parseInt(s,10),o=this.parent.eventsData.filter(function(h){return h[e.fields.id]===a})[0];if(u(o)&&(o=this.parent.blockData.filter(function(h){return h[e.fields.id]===a})[0]),(t=z({},o,t))[this.fields.isReadonly])return!1;var l=void 0;if(!u(o[this.fields.recurrenceRule])){if(l=this.parent.currentAction,t.Guid=this.parent.activeEventData.event.Guid,"EditOccurrence"===this.parent.currentAction&&(t[this.fields.recurrenceID]?(a=t[this.fields.recurrenceID],l=null):(t[this.fields.id]=this.parent.eventBase.getEventMaxID(),t.Guid=this.parent.activeEventData.event.Guid),this.parent.enableRecurrenceValidation&&this.editOccurrenceValidation(a,t)))return!0;"EditSeries"===this.parent.currentAction||t[this.fields.id]!==o[this.fields.id]?t[this.fields.recurrenceID]=o[this.fields.id]:"EditFollowingEvents"===this.parent.currentAction&&(t[this.fields.id]=this.parent.eventBase.getEventMaxID(),t[this.fields.followingID]=o[this.fields.id])}n?this.resourceSaveEvent(t,"Save",l):this.parent.saveEvent(t,l)}return this.parent.uiStateValues.isBlock},r.prototype.getResourceData=function(t){var e=null;return!u(this.parent.resourceBase)&&!u(this.parent.resourceBase.resourceCollection)&&this.parent.resourceBase.resourceCollection.length>0&&(e=t[this.parent.resourceBase.resourceCollection.slice(-1)[0].field]),e},r.prototype.getObjectFromFormData=function(t){for(var i={},n=0,s=this.getFormElements(t);n<s.length;n++){var a=s[n],o=a.name||this.getColumnName(a);!u(o)&&""!==o&&(i[""+o]=this.getValueFromElement(a))}return i},r.prototype.setDefaultValueToObject=function(t){u(t[this.fields.subject])||(t[this.fields.subject]=t[this.fields.subject]||this.parent.eventSettings.fields.subject.default||this.l10n.getConstant("addTitle")),u(t[this.fields.location])||(t[this.fields.location]=t[this.fields.location]||this.parent.eventSettings.fields.location.default),u(t[this.fields.description])||(t[this.fields.description]=t[this.fields.description]||this.parent.eventSettings.fields.description.default)},r.prototype.recurrenceValidation=function(t,e,i){var n,s=this.recurrenceEditor,a=this.getInstance("e-repeat-interval.e-numerictextbox").value;if(i!==this.l10n.getConstant("ok")){var o=this.parent.activeEventData.event,l=[];if(("EditSeries"===this.parent.currentAction||"EditFollowingEvents"===this.parent.currentAction)&&!u(o)){var h=o[this.parent.eventFields.startTime],c=this.parent.eventBase.getSeriesEvents(this.eventData,h);if(c.length>0)l=this.parent.eventBase.getEditedOccurrences(c,h);else{var d=this.parent.eventBase.getEventById(o[this.parent.eventFields.id]);l=this.parent.eventBase.getEditedOccurrences([d],h)}"EditSeries"===this.parent.currentAction&&!u(this.eventData[this.parent.eventFields.recurrenceException])&&l.push(this.eventData)}if(l.length>0&&(n="seriesChangeAlert"),"until"===this.getInstance("e-end-on-left .e-ddl .e-dropdownlist").value&&this.getInstance("e-end-on-date .e-datepicker").value<t&&(n="wrongPattern"),u(n)){var p=s.value.split(";")[1].split("=")[1].split(","),f={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},m=[],g=[],y=void 0;switch(s.value.split(";")[0].split("=")[1]){case"DAILY":(e.getTime()-t.getTime())/36e5>24*a&&(n="createError");break;case"WEEKLY":p=s.value.split(";")[1].split("=")[1].split(",");for(var C=0;C<p.length*(a+1);C++)m[parseInt(C.toString(),10)]=p.length>C?f[p[parseInt(C.toString(),10)]]:m[C-p.length]+7*a;for(y=m.sort(function(E,S){return E-S}),C=1;C<y.length;C++)g.push(y[parseInt(C.toString(),10)]-y[C-1]);((e.getTime()-t.getTime())/36e5>=24*Math.min.apply(Math,g)||u(a))&&(n="createError");break;case"MONTHLY":e.getTime()>=new Date(+t).setMonth(t.getMonth()+a)&&(n="createError");break;case"YEARLY":e.getTime()>=new Date(+t).setFullYear(t.getFullYear()+a)&&(n="createError")}}}else e.getTime()>=new Date(+t).setMonth(t.getMonth()+a)&&(n="createError"),u(n)&&this.parent.quickPopup.quickDialog.hide();return u(a)&&(n="createError"),n},r.prototype.getRecurrenceIndex=function(t,e){for(var i,n=0;n<t.length;n++)if(e[this.fields.startTime].valueOf()===t[parseInt(n.toString(),10)][this.fields.startTime].valueOf()){i=n;break}return i},r.prototype.trimAllDay=function(t){if(t[this.fields.isAllDay]){var e=Ee(new Date(+t[this.fields.endTime]),-1).getTime();t[this.fields.endTime]=+t[this.fields.startTime]>e?t[this.fields.endTime]:new Date(e)}},r.prototype.editOccurrenceValidation=function(t,e,i){var n=this;void 0===i&&(i=this.eventData);var s=this.parent.getOccurrencesByID(t);this.parent.eventsData.filter(function(E){return E[n.fields.recurrenceID]===t}).map(function(E){return s.push(z({},E))}),e=z({},e),this.trimAllDay(e);for(var o=0,l=s;o<l.length;o++)this.trimAllDay(l[o]);this.parent.eventBase.sortByTime(s);var c=this.getRecurrenceIndex(s,i);if(u(c))return!1;var f,m,d=new Date(+e[this.fields.startTime]),p=new Date(+e[this.fields.endTime]);c!==s.length-1&&(f=new Date(+s[c+1][this.fields.startTime]),m=new Date(+s[c+1][this.fields.endTime]));var g=new Date(+s[s.length-1][this.fields.endTime]);if(0===c){if(!u(s[c+1])){if(!(f.getTime()>=p.getTime())&&ie(g).getTime()>=ie(d).getTime()||ie(g).getTime()<ie(d).getTime())return this.parent.quickPopup.openRecurrenceValidationAlert("occurrenceAlert"),!0;if(!(ie(d).getTime()<ie(f).getTime()))return this.parent.quickPopup.openRecurrenceValidationAlert("sameDayAlert"),!0}return!1}var y=new Date(+s[c-1][this.fields.startTime]),C=new Date(+s[c-1][this.fields.endTime]);if(c===s.length-1){if(ie(new Date(+s[s.length-1-c][this.fields.startTime])).getTime()>ie(d).getTime())return this.parent.quickPopup.openRecurrenceValidationAlert("occurrenceAlert"),!0;if(!(C.getTime()<=d.getTime()&&ie(d).getTime()>ie(y).getTime()))return this.parent.quickPopup.openRecurrenceValidationAlert("sameDayAlert"),!0}else{if(!(ie(y).getTime()<ie(d).getTime()||ie(new Date(+s[0][this.fields.startTime])).getTime()>ie(d).getTime())||!(ie(f).getTime()>ie(d).getTime()||g.getTime()<d.getTime()))return this.parent.quickPopup.openRecurrenceValidationAlert("sameDayAlert"),!0;if(!(C.getTime()<=d.getTime()&&f.getTime()>=p.getTime())||ie(m).getTime()<ie(d).getTime()||ie(y).getTime()>ie(p).getTime()||!(ie(d).getTime()<ie(f).getTime()))return this.parent.quickPopup.openRecurrenceValidationAlert("occurrenceAlert"),!0}return!1},r.prototype.resourceSaveEvent=function(t,e,i){var n=this,s=this.parent.resourceBase.resourceCollection.slice(-1)[0],a=t[s.field];a=a instanceof Array?a.reverse():[a].reverse();for(var o=this.parent.resourceBase.lastResourceLevel,l=[],h=function(y){var C=z({},t,null,!0);C[c.fields.id]=c.parent.eventBase.getEventMaxID();var E=[],S=function(){if("Save"===e&&y===a.length-1)if(E.length>0){E[0][n.fields.id]=t[n.fields.id];for(var B=1;B<E.length;B++)E[parseInt(B.toString(),10)][n.fields.id]=n.parent.eventBase.getEventMaxID(y),l.push(E[parseInt(B.toString(),10)]),n.parent.saveEvent(E[0],i)}else C[n.fields.id]=t[n.fields.id],n.parent.saveEvent(C,i);else if(E.length>0)for(var F=0;F<E.length;F++)E[parseInt(F.toString(),10)][n.fields.id]=n.parent.eventBase.getEventMaxID(F),l.push(E[parseInt(F.toString(),10)]);else C[n.fields.id]=n.parent.eventBase.getEventMaxID(y),l.push(C)};if(c.parent.activeViewOptions.group.byGroupID&&!u(o)){var w=s.dataSource,A=c.parent.resourceCollection,T=void 0;if((T=A.length>1?ly(w,s.idField,a[parseInt(y.toString(),10)],C,A):ly(w,s.idField,a[parseInt(y.toString(),10)]))<0)return{value:void 0};for(var k=w[parseInt(T.toString(),10)][s.groupIDField],J=o.filter(function(B){return B.resourceData[s.idField]===a[parseInt(y.toString(),10)]}).filter(function(B){return B.resourceData[s.groupIDField]===k})[0].groupOrder,ne=0;ne<c.parent.resourceBase.resourceCollection.length;ne++){var R=c.parent.resourceBase.resourceCollection[parseInt(ne.toString(),10)].field;C[""+R]=J[parseInt(ne.toString(),10)]instanceof Array?J[parseInt(ne.toString(),10)][0]:J[parseInt(ne.toString(),10)]}S()}else{for(T=0;T<c.parent.resourceBase.resourceCollection.length-1;T++)if(R=c.parent.resourceBase.resourceCollection[parseInt(T.toString(),10)].field,C[""+R]instanceof Array&&C[""+R].length>1)for(var G=0;G<C[""+R].length;G++){var H=z({},C,null,!0);H[""+R]=t[""+R][parseInt(G.toString(),10)],H[s.field]=a[parseInt(y.toString(),10)],E.push(H)}else if(0===E.length)C[""+R]=t[""+R]instanceof Array?t[""+R][0]:t[""+R],C[s.field]=a[parseInt(y.toString(),10)];else for(var V=0;V<E.length;V++)E[parseInt(V.toString(),10)][""+R]=t[""+R]instanceof Array?t[""+R][0]:t[""+R];C[s.field]=a[parseInt(y.toString(),10)],S()}},c=this,d=0;d<a.length;d++){var p=h(d);if("object"==typeof p)return p.value}if(l.length>0){for(var f=0,m=l;f<m.length;f++){var g=m[f];g[this.fields.recurrenceException]=null,g[this.fields.recurrenceID]=null}this.parent.addEvent(l)}},r.prototype.getEventIdFromForm=function(){return this.element.querySelector("."+Xc).getAttribute("data-id")},r.prototype.getFormElements=function(t){return[].slice.call(t===Vh?this.element.querySelectorAll("."+Wh):this.parent.element.querySelectorAll("."+t+" ."+Wh))},r.prototype.getValueFromElement=function(t){return t.classList.contains("e-datepicker")||t.classList.contains("e-datetimepicker")||t.classList.contains("e-dropdownlist")||t.classList.contains("e-multiselect")?t.ej2_instances[0].value:t.classList.contains("e-checkbox")?t.ej2_instances[0].checked:"checkbox"===t.type?t.checked:this.parent.enableHtmlSanitizer?Qt.sanitize(t.value):t.value},r.prototype.setValueToElement=function(t,e){if(t.classList.contains("e-datepicker"))(i=t.ej2_instances[0]).value=e,i.dataBind();else if(t.classList.contains("e-datetimepicker"))(i=t.ej2_instances[0]).element.classList.contains(jh)?this.eventWindowTime.startTime=new Date(""+e):this.eventWindowTime.endTime=new Date(""+e),i.value=e,i.dataBind();else if(t.classList.contains("e-dropdownlist"))(i=t.ej2_instances[0]).value=e,i.dataBind();else if(t.classList.contains("e-multiselect"))(i=t.ej2_instances[0]).value=[],i.value=e instanceof Array?e:[e],i.dataBind();else if(t.classList.contains("e-checkbox")){var i;(i=t.ej2_instances[0]).checked=e,i.dataBind()}else"checkbox"!==t.type?t.value=e||"":t.checked=e},r.prototype.setDefaultValueToElement=function(t){if(t.classList.contains("e-datepicker"))(e=t.ej2_instances[0]).value=this.parent.getCurrentTime(),e.dataBind();else if(t.classList.contains("e-datetimepicker")){var e=t.ej2_instances[0],i=this.parent.getCurrentTime();this.eventWindowTime={startTime:i,endTime:i},e.value=i,e.dataBind()}else t.classList.contains("e-dropdownlist")?((e=t.ej2_instances[0]).value=null,e.dataBind()):t.classList.contains("e-multiselect")?((e=t.ej2_instances[0]).value=[],e.dataBind()):t.classList.contains("e-checkbox")?((e=t.ej2_instances[0]).checked=!1,e.dataBind()):"checkbox"===t.type?t.checked=!1:t.value=""},r.prototype.getInstance=function(t){var e=this.element.querySelector("."+t);return e?e.ej2_instances[0]:null},r.prototype.eventDelete=function(t){if(this.isEnterKey)this.isEnterKey=!1;else{switch(this.parent.currentAction){case"EditOccurrence":this.parent.currentAction=u(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])?"Delete":"DeleteOccurrence";break;case"EditSeries":this.parent.currentAction="DeleteSeries";break;case"Save":this.parent.currentAction="Delete";break;case"EditFollowingEvents":u(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])||(this.parent.currentAction="DeleteFollowingEvents")}this.dialogEvent=t,this.isCrudAction=!1,this.dialogObject.hide(),this.parent.quickPopup.openDeleteAlert()}},r.prototype.getRecurrenceEditorInstance=function(){return this.parent.isAdaptive&&!this.repeatDialogObject&&this.renderRepeatDialog(),this.recurrenceEditor},r.prototype.destroyComponents=function(){for(var e=0,i=this.getFormElements(Vh);e<i.length;e++){var n=i[e],s=void 0;(n.classList.contains("e-datetimepicker")||n.classList.contains("e-datepicker")||n.classList.contains("e-checkbox")||n.classList.contains("e-dropdownlist")||n.classList.contains("e-multiselect")||n.classList.contains("e-numerictextbox"))&&(s=n.ej2_instances),s&&s[0]&&s[0].destroy()}this.buttonObj&&this.buttonObj.destroy()},r.prototype.detachComponents=function(){for(var e=0,i=this.getFormElements(Vh);e<i.length;e++)Q(i[e])},r.prototype.destroy=function(t){if(this.parent&&!this.parent.isDestroyed&&this.parent.resetTemplates(["editorTemplate","editorHeaderTemplate","editorFooterTemplate"]),this.destroyComponents(),this.recurrenceEditor&&(this.recurrenceEditor.destroy(),Q(this.recurrenceEditor.element),this.recurrenceEditor=null),this.fieldValidator&&(this.fieldValidator.destroy(),this.fieldValidator=null),this.repeatDialogObject&&(this.repeatDialogObject.destroy(),this.repeatDialogObject=null),this.detachComponents(),this.dialogObject){if(this.dialogObject.element){var e=this.dialogObject.element.querySelector("form");Go(e),Q(e),b.remove(this.dialogObject.element,"keydown",this.preventEventSave)}this.dialogObject.destroy(),this.dialogObject=null}this.element&&(me(this.element),this.element=null),t||(this.l10n=null,this.parent=null,this.fields=null,this.buttonObj=null,this.repeatStatus=null,this.eventWindowTime=null,this.dialogEvent=null)},r}(),XCe=function(){function r(t){this.translateY=0,this.itemSize=60,this.bufferCount=3,this.renderedLength=0,this.averageRowHeight=0,this.startIndex=0,this.parent=t,this.addEventListener()}return r.prototype.addEventListener=function(){!this.parent||this.parent&&this.parent.isDestroyed||this.parent.on(ay,this.virtualScrolling,this)},r.prototype.removeEventListener=function(){!this.parent||this.parent&&this.parent.isDestroyed||this.parent.off(ay,this.virtualScrolling)},r.prototype.getRenderedCount=function(){return this.setItemSize(),this.renderedLength=Math.ceil((this.isHorizontalScroll?this.parent.element.clientWidth:this.parent.element.clientHeight)/this.itemSize)+this.bufferCount,this.renderedLength},r.prototype.renderVirtualTrack=function(t){var e=N("div",{className:fy});this.isHorizontalScroll?e.style.width=this.parent.activeView.colLevels[this.parent.activeView.colLevels.length-1].length*this.itemSize+"px":e.style.height=this.parent.resourceBase.expandedResources.length*this.itemSize+"px",t.appendChild(e)},r.prototype.updateVirtualScrollHeight=function(){var t=this.parent.element.querySelector("."+fy);if(this.parent.resourceBase.renderedResources[this.parent.resourceBase.renderedResources.length-1].groupIndex!==this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex){var n=this.parent.element.querySelector("."+_i);this.renderedLength=n.querySelector("tbody").children.length,t.style.height=n.offsetHeight+(this.parent.resourceBase.expandedResources.length-this.renderedLength)*n.offsetHeight/this.renderedLength+"px"}else t.style.height="";this.averageRowHeight=t.offsetHeight/this.parent.resourceBase.expandedResources.length},r.prototype.updateVirtualTrackHeight=function(t){var e=this.parent.resourceBase.renderedResources.length;if(e!==this.getRenderedCount()){t.style.height=this.parent.element.querySelector(".e-content-wrap").clientHeight+"px";var i=this.parent.element.querySelector("."+Ta),n=this.parent.element.querySelector("."+ut),s=this.parent.element.querySelector("."+Qc);this.translateY=0,this.setTranslate(i,n,s)}else{var l=e+(this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex-this.parent.resourceBase.renderedResources[e-1].groupIndex);t.style.height=(l=l>this.parent.resourceBase.expandedResources.length?this.parent.resourceBase.expandedResources.length:l)*this.itemSize+"px"}},r.prototype.setItemSize=function(){this.itemSize=this.isHorizontalScroll?function(r,t){var e,i=N("div",{className:"e-work-cells"}).cloneNode();return i.style.visibility="hidden",i.style.position="absolute",r.appendChild(i),e=i.getBoundingClientRect().width,me(i),e}(this.parent.activeView.element)||this.itemSize:qc(this.parent.activeView.element,Te)||this.itemSize},r.prototype.renderEvents=function(){this.setTabIndex();var t=this.triggerScrollEvent(WY);if(this.parent.activeViewOptions&&this.parent.activeViewOptions.enableLazyLoading&&this.parent.crudModule)return t.length>0?(this.parent.crudModule.refreshProcessedData(!0,t),void this.parent.hideSpinner()):void this.parent.crudModule.refreshDataManager();this.parent.crudModule&&this.parent.crudModule.refreshProcessedData(!0),"Month"!==this.parent.currentView&&this.parent.notify(Vr,{}),this.parent.hideSpinner()},r.prototype.virtualScrolling=function(){var t=this;this.parent.quickPopup&&(this.parent.quickPopup.quickPopupHide(),this.parent.quickPopup.morePopup.hide());var e=this.parent.element.querySelector("."+ut);if(this.isHorizontalScroll)this.horizontalScrolling(e);else{var i=this.parent.element.querySelector("."+Ta),n=this.parent.element.querySelector("."+Qc),s=this.parent.element.querySelector("."+tm),a=this.parent.element.querySelector("."+_i);D([e],"e-transition"),this.renderedLength=i.querySelector("tbody").children.length;var o=parseInt(i.querySelector("tbody td").getAttribute("data-group-index"),10),l=this.parent.rowAutoHeight?a.offsetHeight-e.offsetHeight:this.bufferCount*this.itemSize,h=[];if(e.scrollTop-this.translateY<0?h=this.upScroll(e,o):e.scrollTop-this.translateY>l&&(h=this.downScroll(e,o)),!u(h)&&h.length>0){this.triggerScrollEvent(LN);var c=this.parent.getSelectedCells();this.focusedEle=c[c.length-1]||this.focusedEle,this.updateContent(i,e,n,h),this.setTranslate(i,e,n,s),this.parent.dragAndDropModule&&"drag"===this.parent.dragAndDropModule.actionObj.action&&this.parent.dragAndDropModule.navigationWrapper(),window.clearTimeout(this.timeValue),this.timeValue=window.setTimeout(function(){t.renderEvents()},250)}}},r.prototype.horizontalScrolling=function(t){var e=this,i=[],n=this.bufferCount*this.itemSize;if(Math.abs(t.scrollLeft)-Math.abs(this.translateY)<0?i=this.leftScroll(t):Math.abs(t.scrollLeft)-Math.abs(this.translateY)>n&&(i=this.rightScroll(t)),!u(i)&&i.length>0){if(this.parent.resourceBase.expandedResources.length!==i.length||this.parent.resourceBase.expandedResources[0]!==i[0]||this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1]!==i[i.length-1]){this.triggerScrollEvent(LN);var s=this.parent.activeView.colLevels.slice(0);this.updateHorizontalContent(t,i),ue(t.querySelector("table"),{transform:"translateX("+this.translateY+"px)"}),this.parent.activeView.colLevels=s,this.parent.dragAndDropModule&&"drag"===this.parent.dragAndDropModule.actionObj.action&&this.parent.dragAndDropModule.navigationWrapper()}window.clearTimeout(this.timeValue),this.timeValue=window.setTimeout(function(){e.renderEvents()},250)}},r.prototype.triggerScrollEvent=function(t){var e=this,i=[];if(!this.parent.activeView)return i;var n={startDate:this.parent.activeView.startDate(),endDate:this.parent.activeView.endDate(),startIndex:this.parent.resourceBase.renderedResources[0].groupIndex,endIndex:this.parent.resourceBase.renderedResources[this.parent.resourceBase.renderedResources.length-1].groupIndex,resourceData:this.parent.resourceBase.renderedResources.map(function(s){return s.resourceData}),name:t};return this.parent.trigger(t,n,function(s){t===LN?e.parent.showSpinner():t===WY&&!u(s.eventData)&&s.eventData.length>0&&(i=s.eventData)}),i},r.prototype.upScroll=function(t,e){var i=0;i=~~(t.scrollTop/this.itemSize)+Math.ceil(t.clientHeight/this.itemSize)-this.renderedLength,this.parent.rowAutoHeight&&(i=i>e?e-this.bufferCount:i);var n=this.getBufferCollection(i=i>0?i:0,i+this.renderedLength);if(this.parent.resourceBase.renderedResources=n,0===e)this.translateY=t.scrollTop;else{var s=this.parent.rowAutoHeight?this.averageRowHeight:this.itemSize;this.translateY=t.scrollTop-this.bufferCount*(s=s>0?s:this.itemSize)>0?t.scrollTop-this.bufferCount*s:0}return n},r.prototype.downScroll=function(t,e){if(this.parent.resourceBase.renderedResources[this.parent.resourceBase.renderedResources.length-1].groupIndex===this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex)return null;var s=0;s=~~(t.scrollTop/this.itemSize),this.parent.rowAutoHeight&&(s=(s=~~((t.scrollTop-this.translateY)/this.averageRowHeight)+e)>e+this.bufferCount?s:e+this.bufferCount);var a=s+this.renderedLength,o=this.getBufferCollection((a=a>this.parent.resourceBase.expandedResources.length?s+(this.parent.resourceBase.expandedResources.length-s):a)-this.renderedLength,a);return this.translateY=t.scrollTop,o},r.prototype.leftScroll=function(t){var e=0;return e=~~(Math.abs(t.scrollLeft)/this.itemSize)+Math.ceil(t.clientWidth/this.itemSize)-this.renderedLength,this.getCollection(e=e>0?e:0,e+this.renderedLength)},r.prototype.rightScroll=function(t){var e=this.parent.activeView.colLevels[this.parent.activeView.colLevels.length-1],n=~~(Math.abs(t.scrollLeft)/this.itemSize)+this.renderedLength;return this.getCollection((n=n>e.length-1?e.length-1:n)-this.renderedLength,n)},r.prototype.getCollection=function(t,e){this.translateY=t*this.itemSize;var i=this.getResCollection(t,e);return this.parent.enableRtl&&(this.translateY=-this.translateY),i},r.prototype.getResCollection=function(t,e){var i=this.parent.activeView.colLevels[this.parent.activeView.colLevels.length-1],n=[],s={startIndex:0,endIndex:0};if(this.parent.activeViewOptions.group.byDate){if(i[parseInt(t.toString(),10)].date.getTime()===this.parent.resourceBase.expandedResources[0].date.getTime()&&i[parseInt(e.toString(),10)].date.getTime()===this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].date.getTime())return this.parent.resourceBase.expandedResources;n=this.getByDateCollection(i[parseInt(t.toString(),10)],i[parseInt(e.toString(),10)],s),this.setRenderedDates(n)}else{if(i[parseInt(t.toString(),10)].groupIndex===this.parent.resourceBase.expandedResources[0].groupIndex&&i[parseInt(e.toString(),10)].groupIndex===this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex)return this.parent.resourceBase.expandedResources;n=this.getByIdCollection(i[parseInt(t.toString(),10)],i[parseInt(e.toString(),10)],s)}return"Month"!==this.parent.currentView&&(this.startIndex=s.startIndex,n=i.slice(s.startIndex,s.endIndex)),this.translateY=s.startIndex*this.itemSize,n},r.prototype.getByDateCollection=function(t,e,i){var n=this.parent.activeView.colLevels[0].filter(function(s){return t.date.getTime()<=s.date.getTime()&&s.date.getTime()<=e.date.getTime()});return this.setStartEndIndex(this.parent.activeView.colLevels[0],n[0],n[n.length-1],i),n},r.prototype.getByIdCollection=function(t,e,i){var n=this.parent.resourceBase.lastResourceLevel.filter(function(s){return t.groupIndex<=s.groupIndex&&s.groupIndex<=e.groupIndex});return this.parent.resourceBase.renderedResources=n,this.setStartEndIndex(this.parent.resourceBase.lastResourceLevel,n[0],n[n.length-1],i),n},r.prototype.setStartEndIndex=function(t,e,i,n){var s=0;t.filter(function(a){e===a?n.startIndex=s:i===a&&(n.endIndex=s+a.colSpan),s+=a.colSpan}),e===i&&(n.endIndex=n.startIndex+i.colSpan)},r.prototype.updateContent=function(t,e,i,n){var s=t.querySelector("tbody").children.length;document.activeElement&&document.activeElement.classList.contains(Ia)&&(this.isResourceCell=!0,this.parent.element.focus());for(var a=0;a<s;a++)me(t.querySelector("tbody tr")),me(e.querySelector("tbody tr")),me(i.querySelector("div"));this.parent.resourceBase.renderedResources=n;var o=this.parent.resourceBase.getContentRows(n,!0),l=this.parent.activeView.getContentRows(),h=this.parent.activeView.getEventRows(n.length);ce(o,t.querySelector("tbody")),ce(l,e.querySelector("tbody")),ce(h,i)},r.prototype.updateHorizontalContent=function(t,e){this.parent.resourceBase.expandedResources=e;var i=this.parent.getSelectedCells();this.focusedEle=i[i.length-1]||this.focusedEle;for(var n=t.querySelectorAll("tbody tr").length,s=0;s<n;s++)me(t.querySelector("tbody tr"));if("Month"===this.parent.currentView)this.parent.activeViewOptions.group.byDate?this.parent.activeView.colLevels[0]=e:this.parent.activeView.colLevels[this.parent.activeView.colLevels.length-2]=e,ce(a=this.parent.activeView.getContentRows(),t.querySelector("tbody"));else{var o=[].slice.call(t.querySelector("colgroup").children);for(s=0;s<o.length;s++)me(o[parseInt(s.toString(),10)]);this.parent.activeView.colLevels[this.parent.activeView.colLevels.length-1]=e;var a=this.parent.activeView.getContentRows(),l=t.querySelector("table"),h=t.querySelector("thead"),c=t.querySelector("colgroup");e.forEach(function(){c.appendChild(N("col"))}),h.appendChild(this.parent.eventBase.createEventWrapper("",this.startIndex>0?this.startIndex:0)),this.parent.activeViewOptions.timeScale.enable&&h.appendChild(this.parent.eventBase.createEventWrapper("timeIndicator")),Tt([h],l),ce(a,t.querySelector("tbody"))}},r.prototype.getBufferCollection=function(t,e){return this.parent.resourceBase.expandedResources.slice(t,e)},r.prototype.setTranslate=function(t,e,i,n){ue(t.querySelector("table"),{transform:"translateY("+this.translateY+"px)"}),ue(e.querySelector("table"),{transform:"translateY("+this.translateY+"px)"}),ue(i,{transform:"translateY("+this.translateY+"px)"}),u(n)||ue(n,{transform:"translateY("+this.translateY+"px)"})},r.prototype.updateFocusedWorkCell=function(){if(this.focusedEle){var t=parseInt(this.focusedEle.getAttribute("data-date"),10),e=parseInt(this.focusedEle.getAttribute("data-group-index"),10),i=this.parent.element.querySelector("."+Te+'[data-date="'+t+'"][data-group-index="'+e+'"]');i&&this.parent.addSelectedClass([i],i,!0),this.focusedEle=null}},r.prototype.setRenderedDates=function(t){if("Month"!==this.parent.currentView){var e=t.map(function(s){return s.date});this.parent.resourceBase.renderedResources.forEach(function(s){return s.renderDates=e})}else{var i=t.map(function(s){return s.date.getDay()}),n=this.parent.activeView.renderDates.filter(function(s){return i.indexOf(s.getDay())>=0});this.parent.resourceBase.renderedResources.forEach(function(s){return s.renderDates=n})}},r.prototype.setTabIndex=function(){var t=this.parent.element.querySelector("."+Ta),e=[].slice.call(this.parent.element.querySelectorAll("."+Ia));e&&t&&e.forEach(function(n){n.getBoundingClientRect().top>=t.getBoundingClientRect().top&&n.setAttribute("tabindex","0")});var i=this.parent.element.querySelector("."+Ia+'[tabindex="0"]');this.isResourceCell&&i&&(i.focus(),this.isResourceCell=!1)},r.prototype.destroy=function(){this.removeEventListener(),this.focusedEle=null},r}(),ZCe=function(){function r(t){this.parent=t}return r.prototype.render=function(t,e){void 0===e&&(e=!0),this.initializeLayout(t),this.parent.activeView&&e&&this.parent.crudModule.refreshDataManager()},r.prototype.initializeLayout=function(t){switch(this.parent.activeView&&(this.parent.resetTemplates(["cellTemplate","eventTemplate","tooltipTemplate","majorSlotTemplate","minorSlotTemplate","headerTooltipTemplate","dateHeaderTemplate","dayHeaderTemplate","monthHeaderTemplate","headerIndentTemplate","resourceHeaderTemplate","cellHeaderTemplate","dateRangeTemplate"]),this.parent.activeView.removeEventListener(),this.parent.activeView.destroy()),t){case"Day":this.parent.activeView=this.parent.dayModule;break;case"Week":this.parent.activeView=this.parent.weekModule;break;case"WorkWeek":this.parent.activeView=this.parent.workWeekModule;break;case"Month":this.parent.activeView=this.parent.monthModule;break;case"Year":this.parent.activeView=this.parent.yearModule;break;case"Agenda":this.parent.activeView=this.parent.agendaModule;break;case"MonthAgenda":this.parent.activeView=this.parent.monthAgendaModule;break;case"TimelineDay":this.parent.activeView=this.parent.timelineViewsModule,this.parent.activeView.viewClass="e-timeline-day-view";break;case"TimelineWorkWeek":this.parent.activeView=this.parent.timelineViewsModule,this.parent.activeView.viewClass="e-timeline-work-week-view";break;case"TimelineWeek":this.parent.activeView=this.parent.timelineViewsModule,this.parent.activeView.viewClass="e-timeline-week-view";break;case"TimelineMonth":this.parent.activeView=this.parent.timelineMonthModule;break;case"TimelineYear":this.parent.activeView=this.parent.timelineYearModule}if(u(this.parent.activeView)){var i=this.parent.viewCollections[0].option;if(i)return this.parent.setProperties({currentView:i},!0),this.parent.headerModule&&(this.parent.headerModule.updateActiveView(),this.parent.headerModule.setCalendarView()),this.initializeLayout(i);throw Error("Inject required modules")}this.parent.activeView.viewIndex=this.parent.viewIndex,this.updateLabelText(t),this.parent.activeView.addEventListener(),this.parent.activeView.getRenderDates(),this.parent.uiStateValues.isGroupAdaptive=this.parent.activeViewOptions.group.resources.length>0&&(this.parent.enableAdaptiveUI&&!this.parent.isAdaptive||this.parent.isAdaptive&&this.parent.activeViewOptions.group.enableCompactView),this.parent.virtualScrollModule&&(this.parent.virtualScrollModule.destroy(),this.parent.virtualScrollModule=null),(-1===["Agenda","MonthAgenda","Year","TimelineYear"].indexOf(this.parent.currentView)||"TimelineYear"===this.parent.currentView&&"Vertical"===this.parent.activeViewOptions.orientation)&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(this.parent.virtualScrollModule=new XCe(this.parent),this.parent.activeView.isTimelineView()?this.parent.uiStateValues.top=0:(this.parent.virtualScrollModule.isHorizontalScroll=!0,this.parent.uiStateValues.left=0)),this.updateHeader(),this.parent.currentTimezoneDate=this.parent.getCurrentTime(),this.parent.activeView.renderLayout(WN),this.parent.renderTemplates(),this.parent.eventTooltip&&(this.parent.eventTooltip.destroy(),this.parent.eventTooltip=null),(this.parent.eventSettings.enableTooltip||this.parent.activeViewOptions.group.resources.length>0&&this.parent.activeViewOptions.group.headerTooltipTemplate)&&(this.parent.eventTooltip=new V1(this.parent))},r.prototype.updateHeader=function(){this.parent.headerModule&&(this.parent.headerModule.setDayOfWeek(this.parent.activeViewOptions.firstDayOfWeek),this.parent.activeViewOptions.readonly?D([this.parent.element],Ay):this.parent.element.classList.contains(Ay)&&M([this.parent.element],Ay),this.parent.headerModule.updateDateRange(),this.parent.headerModule.updateHeaderItems("remove"))},r.prototype.updateLabelText=function(t){var e=this.parent.activeView.getLabelText(t);this.parent.element.setAttribute("role","main"),this.parent.element.setAttribute("aria-label",e)},r}(),JCe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),e_=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},eEe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return JCe(t,r),e_([v(!0)],t.prototype,"highlight",void 0),e_([v("09:00")],t.prototype,"start",void 0),e_([v("18:00")],t.prototype,"end",void 0),t}(ot),tEe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),qy=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},iEe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return tEe(t,r),qy([v(!0)],t.prototype,"enable",void 0),qy([v(60)],t.prototype,"interval",void 0),qy([v(2)],t.prototype,"slotCount",void 0),qy([v()],t.prototype,"minorSlotTemplate",void 0),qy([v()],t.prototype,"majorSlotTemplate",void 0),t}(ot),nEe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),OS=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},sEe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return nEe(t,r),OS([v("Both")],t.prototype,"templateType",void 0),OS([v()],t.prototype,"header",void 0),OS([v()],t.prototype,"content",void 0),OS([v()],t.prototype,"footer",void 0),t}(ot),rEe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),j8=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},aEe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return rEe(t,r),j8([v()],t.prototype,"option",void 0),j8([v()],t.prototype,"template",void 0),t}(ot),oEe=function(){function r(t){this.parent=t,this.crudObj={sourceEvent:null,targetEvent:null,isCrudAction:!1}}return r.prototype.getQuery=function(){var t=this.parent.activeView.startDate(),e=this.parent.activeView.endDate();return this.parent.dataModule.generateQuery(t,e)},r.prototype.getTable=function(){return this.parent.eventSettings.query?this.parent.eventSettings.query.clone().fromTable:null},r.prototype.refreshDataManager=function(){var t=this;if(this.parent.activeView){var e=this.parent.activeView.startDate(),i=this.parent.activeView.endDate();this.parent.dataModule.getData(this.parent.dataModule.generateQuery(e,i)).then(function(s){return t.dataManagerSuccess(s)}).catch(function(s){return t.dataManagerFailure(s)})}},r.prototype.dataManagerSuccess=function(t){var e=this;!this.parent||this.parent&&this.parent.isDestroyed||this.parent.trigger("dataBinding",t,function(i){var n=z([],i.result,null,!0);e.parent.eventsData=n.filter(function(s){return!s[e.parent.eventFields.isBlock]}),e.parent.blockData=n.filter(function(s){return s[e.parent.eventFields.isBlock]}),e.refreshProcessedData(),e.parent.dragAndDropModule&&"drag"===e.parent.dragAndDropModule.actionObj.action&&e.parent.dragAndDropModule.navigationWrapper(),e.parent.trigger("dataBound",null,function(){e.parent.hideSpinner(),e.parent.isPrinting&&e.parent.notify("print",{})})})},r.prototype.dataManagerFailure=function(t){var e=this;!this.parent||this.parent&&this.parent.isDestroyed||this.parent.trigger(zY,{error:t},function(){return e.parent.hideSpinner()})},r.prototype.refreshProcessedData=function(t,e){if(void 0===t&&(t=!1),this.parent.dragAndDropModule&&(this.parent.dragAndDropModule.actionObj.action="",M([this.parent.element],"e-event-action")),this.parent.activeViewOptions&&this.parent.activeViewOptions.eventTemplate){var i=["eventTemplate"];if(this.crudObj.isCrudAction&&-1===["Agenda","MonthAgenda","Year","TimelineYear"].indexOf(this.parent.currentView)){i=[];for(var n=0,s=this.crudObj.sourceEvent.length;n<s;n++)i.push("eventTemplate_"+this.crudObj.sourceEvent[parseInt(n.toString(),10)].groupIndex),this.crudObj.targetEvent[parseInt(n.toString(),10)]&&this.crudObj.sourceEvent[parseInt(n.toString(),10)].groupIndex!==this.crudObj.targetEvent[parseInt(n.toString(),10)].groupIndex&&i.push("eventTemplate_"+this.crudObj.targetEvent[parseInt(n.toString(),10)].groupIndex)}i.length>0&&this.parent.resetTemplates(i)}if(t)this.parent.notify(wa,{processedData:e?this.parent.eventBase.processData(e):this.parent.eventsProcessed});else{var l=(this.parent.eventsData||[]).concat(this.parent.blockData||[]);this.parent.notify(wa,{processedData:this.parent.eventBase?this.parent.eventBase.processData(l):[]})}},r.prototype.refreshData=function(t){var e=this,i={requestType:t.requestType,cancel:!1,data:t.data,addedRecords:t.editParams.addedRecords,changedRecords:t.editParams.changedRecords,deletedRecords:t.editParams.deletedRecords};if(this.parent.dragAndDropModule&&this.parent.dragAndDropModule.actionObj&&this.parent.dragAndDropModule.actionObj.element&&(this.parent.dragAndDropModule.actionObj.element.style.display="none"),this.parent.resizeModule&&this.parent.resizeModule.actionObj&&this.parent.resizeModule.actionObj.element&&(this.parent.resizeModule.actionObj.element.style.display="none"),this.parent.isSpecificResourceEvents()&&("eventCreated"===t.requestType||"eventRemoved"===t.requestType)){this.crudObj.isCrudAction=!0,this.crudObj.sourceEvent=[];for(var s=function(c){a.crudObj.isCrudAction=!("eventRemoved"===t.requestType&&!u(c.parent));var d=a.parent.eventBase.getGroupIndexFromEvent(c);d>-1&&0===a.parent.crudModule.crudObj.sourceEvent.filter(function(p){return p.groupIndex===d}).length&&a.crudObj.isCrudAction&&a.crudObj.sourceEvent.push(a.parent.resourceBase.lastResourceLevel[parseInt(d.toString(),10)])},a=this,o=0,l=t.data instanceof Array?0===t.data.length&&"eventRemoved"===t.requestType?t.editParams.deletedRecords:t.data:"string"!=typeof t.data&&"number"!=typeof t.data||"eventRemoved"!==t.requestType?[t.data]:t.editParams.deletedRecords;o<l.length;o++)s(l[o]);this.crudObj.targetEvent=this.crudObj.sourceEvent}this.parent.dataModule.dataManager.dataSource.offline?this.parent.trigger(Nh,i,function(c){c.cancel||e.refreshDataManager()}):t.promise.then(function(){!e.parent||e.parent&&e.parent.isDestroyed||e.parent.trigger(Nh,i,function(c){c.cancel||e.refreshDataManager()})}).catch(function(c){!e.parent||e.parent&&e.parent.isDestroyed||e.parent.trigger(zY,{error:c})})},r.prototype.addEvent=function(t){var e=this;if(this.parent.eventSettings.allowAdding&&!this.parent.activeViewOptions.readonly){if(!this.isBlockEvent(t)&&this.parent.eventBase.isBlockRange(t))return void this.parent.quickPopup.openValidationError("blockAlert",t);var i=t instanceof Array?t:[t];if(0===i.length)return;this.parent.trigger(Fr,{requestType:"eventCreate",cancel:!1,data:i,addedRecords:i,changedRecords:[],deletedRecords:[]},function(s){if(!s.cancel){var a=e.parent.eventFields,o={addedRecords:[],changedRecords:[],deletedRecords:[]},l=void 0;if(s.addedRecords instanceof Array){for(var h=0,c=s.addedRecords;h<c.length;h++){var d=c[h];d=e.parent.eventBase.updateEventDateTime(d);var p=z({},e.parent.eventBase.processTimezone(d,!0),null,!0);o.addedRecords.push(p)}l=e.parent.dataModule.dataManager.saveChanges(o,a.id,e.getTable(),e.getQuery())}else{var f=e.parent.eventBase.processTimezone(s.addedRecords,!0);o.addedRecords.push(f),l=e.parent.dataModule.dataManager.insert(f,e.getTable(),e.getQuery())}e.refreshData({requestType:"eventCreated",cancel:!1,data:s.addedRecords,promise:l,editParams:o})}})}},r.prototype.saveEvent=function(t,e){var i=this;if(this.parent.eventSettings.allowEditing&&!this.parent.activeViewOptions.readonly){if("EditFollowingEvents"!==this.parent.currentAction&&!this.isBlockEvent(t)&&this.parent.eventBase.isBlockRange(t))return this.parent.quickPopup.openValidationError("blockAlert",t),void(this.parent.crudModule.crudObj.isCrudAction=!1);var n=t instanceof Array?t:[t];if(0===n.length)return;if(this.parent.currentAction=e,e)switch(e){case"Save":this.processSave(t);break;case"EditOccurrence":this.processOccurrences(t,e);break;case"EditFollowingEvents":this.processFollowSeries(t,e);break;case"EditSeries":this.processEntireSeries(t,e)}else this.parent.trigger(Fr,{requestType:"eventChange",cancel:!1,data:t,addedRecords:[],changedRecords:n,deletedRecords:[]},function(a){if(!a.cancel){var o=void 0,l=i.parent.eventFields,h={addedRecords:[],changedRecords:[],deletedRecords:[]};if(a.changedRecords instanceof Array){for(var c=0,d=a.changedRecords;c<d.length;c++){var p=d[c];p=i.parent.eventBase.updateEventDateTime(p);var f=z({},i.parent.eventBase.processTimezone(p,!0),null,!0);h.changedRecords.push(f)}o=i.parent.dataModule.dataManager.saveChanges(h,l.id,i.getTable(),i.getQuery())}else{var m=i.parent.eventBase.processTimezone(a.changedRecords,!0);h.changedRecords.push(m),o=i.parent.dataModule.dataManager.update(l.id,m,i.getTable(),i.getQuery())}var g=z({},a.changedRecords[a.changedRecords.length-1],null,!0);i.parent.eventBase.selectWorkCellByTime([i.parent.eventBase.processTimezone(g)]),i.refreshData({requestType:"eventChanged",cancel:!1,data:a.changedRecords,promise:o,editParams:h})}})}},r.prototype.deleteEvent=function(t,e){var i=this;if(this.parent.eventSettings.allowDeleting&&!this.parent.activeViewOptions.readonly){this.parent.currentAction=e;var n;if(0===(n="string"==typeof t||"number"==typeof t?this.parent.eventsData.filter(function(a){return a[i.parent.eventFields.id]===t}):t instanceof Array?t:[t]).length)return;if(e)switch(e){case"Delete":this.processDelete(n);break;case"DeleteOccurrence":this.processOccurrences(n,e);break;case"DeleteFollowingEvents":this.processFollowSeries(n,e);break;case"DeleteSeries":this.processEntireSeries(n,e)}else this.parent.trigger(Fr,{requestType:"eventRemove",cancel:!1,data:t,addedRecords:[],changedRecords:[],deletedRecords:n},function(a){if(!a.cancel){var o=void 0,l=i.parent.eventFields,h={addedRecords:[],changedRecords:[],deletedRecords:[]};a.deletedRecords.length>1?(h.deletedRecords=h.deletedRecords.concat(a.deletedRecords),o=i.parent.dataModule.dataManager.saveChanges(h,l.id,i.getTable(),i.getQuery())):(h.deletedRecords.push(a.deletedRecords[0]),o=i.parent.dataModule.dataManager.remove(l.id,a.deletedRecords[0],i.getTable(),i.getQuery())),i.parent.eventBase.selectWorkCellByTime(a.deletedRecords),i.refreshData({requestType:"eventRemoved",cancel:!1,data:a.deletedRecords,promise:o,editParams:h})}})}},r.prototype.processOccurrences=function(t,e){var i=this,n=[],s=!1;if(t instanceof Array)for(var a=0,o=t;a<o.length;a++){var l=o[a];n.push({occurrence:l,parent:this.getParentEvent(l)})}else n={occurrence:t,parent:this.getParentEvent(t)};var c={requestType:"EditOccurrence"===e?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:t instanceof Array?t:[t],deletedRecords:[]};c.data=n,this.parent.trigger(Fr,c,function(d){if(!d.cancel){for(var p=i.parent.eventFields,f={addedRecords:[],changedRecords:[],deletedRecords:[]},m=n instanceof Array?n:[n],g=function(A,T){var k=d.changedRecords[parseInt(A.toString(),10)],j=m[parseInt(A.toString(),10)].parent,J=j[p.recurrenceException],ne=void 0,R=void 0;switch(e){case"EditOccurrence":ne=i.parent.eventsProcessed.filter(function(G){return G.Guid===k.Guid})[0],(R=i.excludeDateCheck(ne[p.startTime],J))!==j[p.recurrenceException]?(j[p.recurrenceException]=R,k[p.recurrenceException]=zh(ne[p.startTime]),k[p.recurrenceID]=j[p.id],k[p.followingID]=null,f.changedRecords.push(i.parent.eventBase.processTimezone(j,!0)),f.addedRecords.push(i.parent.eventBase.processTimezone(k,!0))):f.changedRecords.push(i.parent.eventBase.processTimezone(k,!0));break;case"DeleteOccurrence":k[p.recurrenceException]||(j[p.recurrenceException]=i.excludeDateCheck(k[p.startTime],J),f.changedRecords.push(i.parent.eventBase.processTimezone(j,!0))),k[p.id]!==j[p.id]&&(f.deletedRecords.push(k),s=!0)}},y=0,C=d.changedRecords.length;y<C;y++)g(y);var E=i.parent.dataModule.dataManager.saveChanges(f,p.id,i.getTable(),i.getQuery()),S=z({},d.changedRecords[d.changedRecords.length-1],null,!0);i.parent.eventBase.selectWorkCellByTime("EditOccurrence"===e?[i.parent.eventBase.processTimezone(S)]:[S]),i.refreshData({requestType:"EditOccurrence"===e?"eventChanged":"eventRemoved",cancel:!1,data:s?d.deletedRecords:d.changedRecords,promise:E,editParams:f})}})},r.prototype.processFollowSeries=function(t,e){var i=this,n=[];if(t instanceof Array)for(var s=0,a=t;s<a.length;s++){var o=a[s];n.push({occurrence:o,parent:this.getParentEvent(o)})}else n={occurrence:t,parent:this.getParentEvent(t)};var h={requestType:"EditFollowingEvents"===e?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:t instanceof Array?t:[t],deletedRecords:[]};h.data=n,this.parent.trigger(Fr,h,function(c){if(!c.cancel){for(var d=i.parent.eventFields,p={addedRecords:[],changedRecords:[],deletedRecords:[]},f=n instanceof Array?n:[n],m=function(w,A){var T=c.changedRecords[parseInt(w.toString(),10)],k=f[parseInt(w.toString(),10)].parent,j=i.parent.eventBase.getEventCollections(k,T),J=void 0;switch(e){case"EditFollowingEvents":if(i.processRecurrenceRule(k,T),J=!i.parent.eventBase.isFollowingEvent(k,T),T[d.followingID]=J?null:k[d.id],T[d.recurrenceID]=null,p.addedRecords.push(i.parent.eventBase.processTimezone(T,!0)),p.changedRecords.push(i.parent.eventBase.processTimezone(k,!0)),!i.parent.uiStateValues.isIgnoreOccurrence){if(T[d.recurrenceException]=null,j.occurrence.length>0){var ne=j.occurrence.slice(-1)[0][d.recurrenceRule];-1===ne.indexOf("COUNT")&&(T[d.recurrenceRule]=ne)}j.follow.length>0&&(T[d.recurrenceRule]=j.follow.slice(-1)[0][d.recurrenceRule],p.deletedRecords=p.deletedRecords.concat(j.follow)),J&&(j.occurrence=j.occurrence.filter(function(R){return R[d.recurrenceID]===k[d.id]})),p.deletedRecords=p.deletedRecords.concat(j.occurrence)}break;case"DeleteFollowingEvents":i.processRecurrenceRule(k,T[d.startTime]),p.changedRecords.push(i.parent.eventBase.processTimezone(k,!0)),p.deletedRecords=p.deletedRecords.concat(j.occurrence).concat(j.follow)}},g=0,y=c.changedRecords.length;g<y;g++)m(g);var C=i.parent.dataModule.dataManager.saveChanges(p,d.id,i.getTable(),i.getQuery()),E=z({},c.changedRecords[c.changedRecords.length-1],null,!0);i.parent.eventBase.selectWorkCellByTime("EditFollowingEvents"===e?[i.parent.eventBase.processTimezone(E)]:[E]),i.refreshData({requestType:"EditFollowingEvents"===e?"eventChanged":"eventRemoved",cancel:!1,data:c.changedRecords,promise:C,editParams:p})}})},r.prototype.processEntireSeries=function(t,e){var i=this,n=[],s=!1;if(t instanceof Array)for(var a=0,o=t;a<o.length;a++)n.push(this.getParentEvent(o[a],!0));else n=this.getParentEvent(t,!0);var c={requestType:"EditSeries"===e?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:t instanceof Array?t:[t],deletedRecords:[]};c.data=n,this.parent.trigger(Fr,c,function(d){if(!d.cancel){for(var p=i.parent.eventFields,f={addedRecords:[],changedRecords:[],deletedRecords:[]},m=n instanceof Array?n:[n],g=function(A,T){var k=d.changedRecords[parseInt(A.toString(),10)],j=m[parseInt(A.toString(),10)],J=i.parent.eventBase.getEventCollections(j),ne=J.follow.concat(J.occurrence);switch(e){case"EditSeries":if(k[p.id]=j[p.id],k[p.recurrenceID]=null,k[p.followingID]=null,i.parent.uiStateValues.isIgnoreOccurrence&&k[p.recurrenceException]){var R=i.parent.eventsData.filter(function(G){return G[p.id]===k[p.id]});R.length>0&&(k[p.recurrenceRule]=R[0][p.recurrenceRule])}else k[p.recurrenceException]=null,f.deletedRecords=f.deletedRecords.concat(ne);f.changedRecords.push(i.parent.eventBase.processTimezone(k,!0)),i.parent.uiStateValues.isIgnoreOccurrence=!1;break;case"DeleteSeries":f.deletedRecords=f.deletedRecords.concat(ne.concat(j)),s=!0}},y=0,C=d.changedRecords.length;y<C;y++)g(y);var E=i.parent.dataModule.dataManager.saveChanges(f,p.id,i.getTable(),i.getQuery()),S=z({},d.changedRecords[d.changedRecords.length-1],null,!0);i.parent.eventBase.selectWorkCellByTime("EditSeries"===e?[i.parent.eventBase.processTimezone(S)]:[S]),i.refreshData({requestType:"EditSeries"===e?"eventChanged":"eventRemoved",cancel:!1,data:s?d.deletedRecords:d.changedRecords,promise:E,editParams:f})}})},r.prototype.processDelete=function(t){for(var e=this,i=[],n=0,s=t;n<s.length;n++){var a=s[n];i.push(a[this.parent.eventFields.recurrenceRule]?{occurrence:a,parent:this.getParentEvent(a)}:a)}var o={requestType:"eventRemove",cancel:!1,addedRecords:[],changedRecords:[],deletedRecords:t};o.data=i,this.parent.trigger(Fr,o,function(l){if(!l.cancel){for(var h=e.parent.eventFields,c={addedRecords:[],changedRecords:[],deletedRecords:[]},d=function(y,C){var E=u(l.deletedRecords[parseInt(y.toString(),10)][e.parent.eventFields.recurrenceRule]);if(!E){var S=i[parseInt(y.toString(),10)].parent,w=c.changedRecords.filter(function(k){return k[h.id]===S[h.id]}),A=l.deletedRecords[parseInt(y.toString(),10)][h.startTime];if(w.length>0){var T=w[0];T[h.recurrenceException]=e.excludeDateCheck(A,T[h.recurrenceException])}else S[h.recurrenceException]=e.excludeDateCheck(A,S[h.recurrenceException]);0===w.length&&c.changedRecords.push(e.parent.eventBase.processTimezone(S,!0)),E=l.deletedRecords[parseInt(y.toString(),10)][h.id]!==S[h.id]}E&&c.deletedRecords.push(l.deletedRecords[parseInt(y.toString(),10)])},p=0,f=l.deletedRecords.length;p<f;p++)d(p);var m=e.parent.dataModule.dataManager.saveChanges(c,h.id,e.getTable(),e.getQuery());e.parent.eventBase.selectWorkCellByTime(l.deletedRecords),e.refreshData({requestType:"eventRemoved",cancel:!1,data:l.deletedRecords,promise:m,editParams:c})}})},r.prototype.processSave=function(t){for(var e=this,i=t instanceof Array?t:[t],n=[],s=0,a=i;s<a.length;s++){var o=a[s];n.push(o[this.parent.eventFields.recurrenceRule]?{occurrence:o,parent:this.getParentEvent(o)}:o)}var l={requestType:"eventChange",cancel:!1,addedRecords:[],changedRecords:i,deletedRecords:[]};l.data=n,this.parent.trigger(Fr,l,function(h){if(!h.cancel){for(var c=e.parent.eventFields,d={addedRecords:[],changedRecords:[],deletedRecords:[]},p=0,f=h.changedRecords;p<f.length;p++){var m=f[p];if(!u(m[c.recurrenceRule])&&u(m[c.recurrenceException])){var g=zh(m[c.startTime]),y=e.getParentEvent(m);y[c.recurrenceException]=u(y[c.recurrenceException])?g:y[c.recurrenceException].concat(","+g),m[c.id]=e.parent.getEventMaxID(),m[c.recurrenceException]=g,d.addedRecords.push(e.parent.eventBase.processTimezone(m,!0)),d.changedRecords.push(e.parent.eventBase.processTimezone(y,!0))}else d.changedRecords.push(e.parent.eventBase.processTimezone(m,!0))}var C=e.parent.dataModule.dataManager.saveChanges(d,c.id,e.getTable(),e.getQuery()),E=z({},h.changedRecords[h.changedRecords.length-1],null,!0);e.parent.eventBase.selectWorkCellByTime([e.parent.eventBase.processTimezone(E)]),e.refreshData({requestType:"eventChanged",cancel:!1,data:h.changedRecords,promise:C,editParams:d})}})},r.prototype.getParentEvent=function(t,e){void 0===e&&(e=!1);var i=this.parent.eventBase.getParentEvent(t,e)||t;return(i[this.parent.eventFields.startTimezone]||i[this.parent.eventFields.endTimezone])&&this.parent.eventBase.timezoneConvert(i),i},r.prototype.excludeDateCheck=function(t,e){var i=this.parent.timezone||this.parent.tzModule.getLocalTimezoneName();i&&(t=this.parent.tzModule.remove(new Date(+t.getTime()),i));var n=zh(t);return u(e)?e=n:-1===e.indexOf(n)&&(e=u(e)?n:e+","+n),e},r.prototype.processRecurrenceRule=function(t,e){var s,i=this.parent.eventFields,n=t[i.recurrenceRule];if(e instanceof Date)s=new Date(+e);else{s=new Date(+e[i.startTime]);var a=e[i.recurrenceRule];if(a){var o=t[i.startTime],h=M1(o,a,"DeleteFollowingEvents"===this.parent.currentAction?e[i.recurrenceException]:null,this.parent.activeViewOptions.firstDayOfWeek),c=new Date(h.slice(-1)[0]);c.setHours(s.getHours(),s.getMinutes(),s.getSeconds()),s.setHours(o.getHours(),o.getMinutes(),o.getSeconds()),e[i.recurrenceRule]=this.getUpdatedRecurrenceRule(a,new Date(+c),!1)}}t[i.recurrenceRule]=this.getUpdatedRecurrenceRule(n,Ee(new Date(s.getTime()),-1),!0)},r.prototype.getUpdatedRecurrenceRule=function(t,e,i){for(var s="",a=0,o=t.split(";");a<o.length;a++){var l=o[a];if(""!==l){var h=l.split("=")[0],c=l.split("=")[1];("COUNT"===h||"UNTIL"===h)&&(c=zh(e),l=l.replace(l,"UNTIL="+c)),s+=l+";"}}return i&&-1===s.indexOf("UNTIL")&&(s+="UNTIL="+zh(e)),s},r.prototype.isBlockEvent=function(t){for(var i=!1,n=0,s=t instanceof Array?t:[t];n<s.length;n++)i=s[n][this.parent.eventFields.isBlock]||!1;return i},r.prototype.destroy=function(){this.crudObj=null,this.parent=null},r}(),lEe=function(){function r(t){this.parent=t,b.add(this.parent.element,"mouseover",this.onHover,this)}return r.prototype.cellMouseDown=function(t){this.isPreventAction(t)||this.parent.notify(FN,{event:t})},r.prototype.cellClick=function(t){var e=this;if(!this.isPreventAction(t)){var n=I(t.target,".e-work-cells,.e-all-day-cells,.e-header-cells");if(!u(n)){if(!u(I(t.target,"."+lS)))return void this.parent.eventWindow.openEditor(this.parent.activeCellsData,"Add");var s=I(t.target,"."+gd),a=this.parent.getNavigateView(),o=this.parent.currentView===a;if(u(s)||o||u(this.parent.viewOptions[a.charAt(0).toLowerCase()+a.slice(1)])){if(this.parent.activeViewOptions.readonly&&"MonthAgenda"!==this.parent.currentView)return void(this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide());if(this.parent.isAdaptive&&(t.target.classList.contains(Dr)||I(t.target,"."+Dr)))return;var l=n.classList.contains(Te)||n.classList.contains(Si);if(l&&t.shiftKey&&1===t.which&&this.parent.keyboardInteractionModule)return void this.parent.keyboardInteractionModule.onMouseSelection(t);this.parent.activeCellsData=this.parent.getCellDetails(n);var h=z(this.parent.activeCellsData,{cancel:!1,event:t,name:"cellClick"});this.parent.trigger(Al,h,function(d){d.cancel?e.parent.quickPopup&&e.parent.quickPopup.quickPopupHide():(l&&e.parent.selectCell(n),e.parent.allowInline?e.parent.notify(Gf,{element:d.element,groupIndex:d.groupIndex,type:"Cell"}):e.parent.notify(Al,d))})}else{var c=this.parent.getDateFromElement(n);!u(c)&&this.parent.isMinMaxDate(c)&&(this.parent.setProperties({selectedDate:c},!0),this.parent.changeView(this.parent.getNavigateView(),t))}}}},r.prototype.cellDblClick=function(t){var e=this,n=I(t.target,".e-work-cells,.e-all-day-cells,.e-header-cells");if(!(this.parent.activeViewOptions.readonly||this.isPreventAction(t)||u(n))){var s=z(this.parent.activeCellsData,{cancel:!1,event:t,name:"cellDoubleClick"});this.parent.trigger("cellDoubleClick",s,function(a){var o=new Date(a.startTime.getTime());!e.parent.isMinMaxDate(new Date(o.setHours(0,0,0,0)))||a.cancel||e.parent.eventWindow.openEditor(e.parent.activeCellsData,"Add")})}},r.prototype.onHover=function(t){var i=I(t.target,".e-work-cells,.e-time-slots,.e-all-day-cells,.e-header-cells,.e-resource-cells,.e-appointment,.e-week-number,.e-month-header");i&&this.parent.trigger("hover",{element:i,event:t})},r.prototype.isPreventAction=function(t){if(I(t.target,"."+gd))return!1;if(I(t.target,"."+Fi)&&!I(t.target,"."+Dr))return!0;var e=I(t.target,"."+Ze+",."+Gc);return!(u(e)&&(e=I(t.target,"."+Vn),!this.parent.activeView.isTimelineView()||u(e)))},r.prototype.destroy=function(){b.remove(this.parent.element,"mouseover",this.onHover)},r}(),hEe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),kS=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Ko=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return hEe(t,r),kS([v()],t.prototype,"name",void 0),kS([v()],t.prototype,"default",void 0),kS([v()],t.prototype,"title",void 0),kS([v({})],t.prototype,"validation",void 0),t}(ot),cEe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Hr=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},uEe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cEe(t,r),Hr([v("Id")],t.prototype,"id",void 0),Hr([v("IsBlock")],t.prototype,"isBlock",void 0),Hr([at({name:"Subject"},Ko)],t.prototype,"subject",void 0),Hr([at({name:"StartTime"},Ko)],t.prototype,"startTime",void 0),Hr([at({name:"EndTime"},Ko)],t.prototype,"endTime",void 0),Hr([at({name:"StartTimezone"},Ko)],t.prototype,"startTimezone",void 0),Hr([at({name:"EndTimezone"},Ko)],t.prototype,"endTimezone",void 0),Hr([at({name:"Location"},Ko)],t.prototype,"location",void 0),Hr([at({name:"Description"},Ko)],t.prototype,"description",void 0),Hr([at({name:"IsAllDay"},Ko)],t.prototype,"isAllDay",void 0),Hr([at({name:"RecurrenceID"},Ko)],t.prototype,"recurrenceID",void 0),Hr([at({name:"RecurrenceRule"},Ko)],t.prototype,"recurrenceRule",void 0),Hr([at({name:"RecurrenceException"},Ko)],t.prototype,"recurrenceException",void 0),Hr([v("IsReadonly")],t.prototype,"isReadonly",void 0),Hr([v("FollowingID")],t.prototype,"followingID",void 0),t}(ot),dEe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),qs=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},pEe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return dEe(t,r),qs([v()],t.prototype,"template",void 0),qs([v([])],t.prototype,"dataSource",void 0),qs([v()],t.prototype,"query",void 0),qs([at({},uEe)],t.prototype,"fields",void 0),qs([v(!1)],t.prototype,"enableTooltip",void 0),qs([v("AllDayRow")],t.prototype,"spannedEventPlacement",void 0),qs([v(1)],t.prototype,"minimumEventDuration",void 0),qs([v()],t.prototype,"tooltipTemplate",void 0),qs([v()],t.prototype,"resourceColorField",void 0),qs([v(!1)],t.prototype,"editFollowingEvents",void 0),qs([v(!0)],t.prototype,"allowAdding",void 0),qs([v(!0)],t.prototype,"allowEditing",void 0),qs([v(!0)],t.prototype,"allowDeleting",void 0),qs([v(!1)],t.prototype,"enableMaxHeight",void 0),qs([v(!1)],t.prototype,"enableIndicator",void 0),qs([v(!1)],t.prototype,"ignoreWhitespace",void 0),qs([v()],t.prototype,"sortComparer",void 0),qs([v()],t.prototype,"includeFiltersInQuery",void 0),t}(ot),fEe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Md=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},mEe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return fEe(t,r),Md([v(!1)],t.prototype,"byDate",void 0),Md([v(!0)],t.prototype,"byGroupID",void 0),Md([v(!1)],t.prototype,"allowGroupEdit",void 0),Md([v([])],t.prototype,"resources",void 0),Md([v(!0)],t.prototype,"enableCompactView",void 0),Md([v()],t.prototype,"headerTooltipTemplate",void 0),Md([v(!1)],t.prototype,"hideNonWorkingDays",void 0),t}(ot),gEe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),zr=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},vEe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return gEe(t,r),zr([v()],t.prototype,"field",void 0),zr([v()],t.prototype,"title",void 0),zr([v()],t.prototype,"name",void 0),zr([v(!1)],t.prototype,"allowMultiple",void 0),zr([v([])],t.prototype,"dataSource",void 0),zr([v()],t.prototype,"query",void 0),zr([v("Id")],t.prototype,"idField",void 0),zr([v("Text")],t.prototype,"textField",void 0),zr([v("Expanded")],t.prototype,"expandedField",void 0),zr([v("GroupID")],t.prototype,"groupIDField",void 0),zr([v("Color")],t.prototype,"colorField",void 0),zr([v("StartHour")],t.prototype,"startHourField",void 0),zr([v("EndHour")],t.prototype,"endHourField",void 0),zr([v("WorkDays")],t.prototype,"workDaysField",void 0),zr([v("CssClass")],t.prototype,"cssClassField",void 0),t}(ot),yEe=function(){function r(t){this.resourceCollection=[],this.leftPixel=25,this.resourceDateTree=[],this.parent=t}return r.prototype.renderResourceHeaderIndent=function(t){var e=N("td",{className:"e-resource-left-td"}),i=N("div",{className:QN});this.parent.activeViewOptions.headerIndentTemplate?this.parent.renderHeaderIndentTemplate({className:[e.className],type:"emptyCells"},e):e.appendChild(i),this.parent.trigger(br,{elementType:"emptyCells",element:e}),t.appendChild(e)},r.prototype.hideResourceRows=function(t){if(!(this.resourceCollection.length<=1||this.parent.virtualScrollModule))for(var e=this.lastResourceLevel.length,i=0;i<e;i++){var n=this.lastResourceLevel[parseInt(i.toString(),10)].resourceData,s=this.lastResourceLevel[parseInt(i.toString(),10)].resource;n.ClassName!==$o||n[s.expandedField]||u(n[s.expandedField])||D([].slice.call(t.children).slice(i+1,i+(parseInt(n.Count,10)+1)),sr)}},r.prototype.createResourceColumn=function(){var t=this.resourceCollection,e=N("div",{className:Ta}),i=this.parent.activeView.createTableLayout(ZD);!this.parent.uiStateValues.isGroupAdaptive&&this.parent.rowAutoHeight&&this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&D([i],S1);var n=i.querySelector("tbody"),s=this.generateTreeData(!0);if(this.countCalculation(t.slice(0,-2),t.slice(0,-1)),this.renderedResources=this.lastResourceLevel,this.parent.virtualScrollModule){var a=this.parent.virtualScrollModule.getRenderedCount();this.setExpandedResources(),s=this.expandedResources.slice(0,a),this.renderedResources=s}return ce(this.getContentRows(s),n),this.hideResourceRows(n),i.appendChild(n),e.appendChild(i),e},r.prototype.setRenderedResources=function(){var t=this.resourceCollection;this.generateTreeData(!0),this.countCalculation(t.slice(0,-2),t.slice(0,-1)),this.renderedResources=this.lastResourceLevel},r.prototype.setExpandedResources=function(){for(var t=[],e=0;e<this.lastResourceLevel.length;e++){var i=this.lastResourceLevel[parseInt(e.toString(),10)].resourceData,n=i.Count;t.push(this.lastResourceLevel[parseInt(e.toString(),10)]);var s=i[this.lastResourceLevel[parseInt(e.toString(),10)].resource.expandedField];!u(s)&&!s&&n>0&&(e+=n)}this.expandedResources=t},r.prototype.getContentRows=function(t,e){for(var n,s,i=[],a=this.resourceCollection,o=N("tr"),l=N("td",{attrs:{tabindex:e?"-1":"0"}}),h=0;h<t.length;h++){var c=l.cloneNode();if((s=ly(a,"name",t[parseInt(h.toString(),10)].resource.name))===a.length-1?(z(t[parseInt(h.toString(),10)].resourceData,{ClassName:e6}),this.renderedResources[parseInt(h.toString(),10)].className=[e6]):(z(t[parseInt(h.toString(),10)].resourceData,{ClassName:$o}),this.renderedResources[parseInt(h.toString(),10)].className=[$o]),n=s*this.leftPixel+"px",t[parseInt(h.toString(),10)].resourceData.ClassName===$o&&!u(t[parseInt(h.toString(),10)].resourceData.Count)&&t[parseInt(h.toString(),10)].resourceData.Count>0){var d;d=t[parseInt(h.toString(),10)].resourceData[a[parseInt(s.toString(),10)].expandedField]||u(t[parseInt(h.toString(),10)].resourceData[a[parseInt(s.toString(),10)].expandedField])?Rh:Zf;var p=N("div");D([p],[Jf,d]),this.setMargin(p,n),c.appendChild(p),this.resourceCollection.length>1&&b.add(p,"click",this.onTreeIconClick,this)}this.parent.activeView.setResourceHeaderContent(c,t[parseInt(h.toString(),10)],QN),c.setAttribute("data-group-index",t[parseInt(h.toString(),10)].groupIndex.toString()),c.setAttribute("aria-label",t[parseInt(h.toString(),10)].resourceData[t[parseInt(h.toString(),10)].resource.textField]+" resource"),this.parent.activeViewOptions.resourceHeaderTemplate||this.setMargin(c.querySelector("."+QN),n),D([c],[Ia,t[parseInt(h.toString(),10)].resourceData.ClassName]);var m={elementType:"resourceHeader",element:c,groupIndex:t[parseInt(h.toString(),10)].groupIndex};this.parent.trigger(br,m);var g=o.cloneNode();g.appendChild(c),i.push(g)}return i},r.prototype.setMargin=function(t,e){this.parent.enableRtl?t.style.marginRight=e:t.style.marginLeft=e},r.prototype.countCalculation=function(t,e){for(var i,n=0;n<t.length;n++){for(var s=t[t.length-(n+1)].dataSource,a=0;a<s.length;a++){var o=0;if(this.parent.activeViewOptions.group.byGroupID){var l=(new Xe).where(e[e.length-1].groupIDField,"equal",s[parseInt(a.toString(),10)][t[t.length-(n+1)].idField]);i=new ye(e[e.length-1].dataSource).executeLocal(l)}else i=e[e.length-1].dataSource;for(var h=0;h<i.length;h++)o+=parseInt(i[parseInt(h.toString(),10)].Count,10);o+=parseInt(s[parseInt(a.toString(),10)].Count,10),z(s[parseInt(a.toString(),10)],{Count:o})}e=e.slice(0,-1)}},r.prototype.onTreeIconClick=function(t){var e=this;this.parent.eventTooltip&&this.parent.eventTooltip.close();var n,i=t.target,s=I(i,"."+$o).parentElement,a=parseInt(s.children[0].getAttribute("data-group-index"),10),o={cancel:!1,event:t,groupIndex:a,requestType:i.classList.contains(Rh)?"resourceCollapse":"resourceExpand"};this.parent.trigger(Fr,o,function(l){if(!l.cancel){i.classList.contains(Rh)?($i(i,[Zf],[Rh]),n=!0):($i(i,[Rh],[Zf]),n=!1);for(var c=0,d=[].slice.call(e.parent.element.querySelectorAll("."+Ze+",."+Dr));c<d.length;c++)me(d[c]);e.parent.virtualScrollModule?e.updateVirtualContent(a,n,t,i):e.updateContent(a,n);var f={cssProperties:e.parent.getCssProperties(),module:"scroll"};e.parent.notify(Ma,f),o={cancel:!1,event:t,groupIndex:a,requestType:i.classList.contains(Rh)?"resourceExpanded":"resourceCollapsed"},e.parent.refreshEvents(!1),e.parent.trigger(Nh,o)}})},r.prototype.updateContent=function(t,e){for(var a,i=[],n=[],s=[],o=this.lastResourceLevel[parseInt(t.toString(),10)].resourceData,l=[].slice.call(this.parent.element.querySelectorAll("."+Ta+" tr")),h=[].slice.call(this.parent.element.querySelectorAll("."+ut+" tbody tr")),c=[].slice.call(this.parent.element.querySelectorAll("."+ut+" ."+Aa)),d=0;d<o.Count;d++)i.push(l[t+d+1]),n.push(h[t+d+1]),s.push(c[t+d+1]);for(var p=this.lastResourceLevel,f=0;f<i.length;f++){var m=!0;if(a=i[parseInt(f.toString(),10)].children[0].classList.contains($o),p[parseInt(t.toString(),10)].resourceData[p[parseInt(t.toString(),10)].resource.expandedField]=!e,e)a&&(g=i[parseInt(f.toString(),10)].querySelector("."+Jf))&&$i(g,[Zf],[Rh]),i[parseInt(f.toString(),10)].classList.contains(sr)||D([i[parseInt(f.toString(),10)],n[parseInt(f.toString(),10)],s[parseInt(f.toString(),10)]],sr);else{if(a){var g,y=i[parseInt(f.toString(),10)].rowIndex;!p[parseInt(y.toString(),10)].resourceData[p[parseInt(y.toString(),10)].resource.expandedField]&&!u(p[parseInt(y.toString(),10)].resourceData[p[parseInt(y.toString(),10)].resource.expandedField])&&(i.splice(f+1,parseInt(p[parseInt(y.toString(),10)].resourceData.Count,10)),n.splice(f+1,parseInt(p[parseInt(y.toString(),10)].resourceData.Count,10)),s.splice(f+1,parseInt(p[parseInt(y.toString(),10)].resourceData.Count,10)),m=!1),m&&(g=i[parseInt(f.toString(),10)].querySelector("."+Jf))&&$i(g,[Rh],[Zf])}i[parseInt(f.toString(),10)].classList.contains(sr)&&M([i[parseInt(f.toString(),10)],n[parseInt(f.toString(),10)],s[parseInt(f.toString(),10)]],sr)}}},r.prototype.updateVirtualContent=function(t,e,i,n){this.lastResourceLevel[parseInt(t.toString(),10)].resourceData[this.lastResourceLevel[parseInt(t.toString(),10)].resource.expandedField]=!e,this.setExpandedResources();var s=this.parent.virtualScrollModule.getRenderedCount(),a=this.expandedResources.indexOf(this.renderedResources[0]);if(this.renderedResources=this.expandedResources.slice(a,a+s),this.renderedResources.length<s){var o=this.expandedResources.length-s;this.renderedResources=this.expandedResources.slice(o=o>0?o:0,this.expandedResources.length)}var l=this.parent.element.querySelector("."+fy);this.parent.virtualScrollModule.updateVirtualTrackHeight(l);var h=this.parent.element.querySelector("."+Ta+" table"),c=this.parent.element.querySelector("."+ut+" table"),d=this.parent.element.querySelector("."+Qc);this.parent.virtualScrollModule.updateContent(h,c,d,this.renderedResources);var p=this.parent.element.querySelector("."+tm);u(p)||(p.style.height=this.parent.element.querySelector("."+_i).offsetHeight+"px")},r.prototype.renderResourceHeader=function(){var t=N("div",{className:dy});if(t.innerHTML='<div class="'+JN+'"><div class="'+k6+'"><div class="e-icons '+N6+'"></div></div><div class="'+_6+'"></div></div>',"MonthAgenda"===this.parent.currentView){var e=this.parent.activeView.getPanel().querySelector("."+ut);e.insertBefore(t,e.querySelector("."+py))}else this.parent.element.insertBefore(t,this.parent.element.querySelector("."+so));this.renderResourceHeaderText(),b.add(t.querySelector("."+N6),"click",this.menuClick,this)},r.prototype.renderResourceTree=function(){this.popupOverlay=N("div",{className:L6});var t=N("div",{className:Iy+" e-popup-close"});if("MonthAgenda"===this.parent.currentView){var e=this.parent.activeView.getPanel().querySelector("."+py);e.insertBefore(t,e.children[0]),e.appendChild(this.popupOverlay)}else this.parent.element.querySelector("."+so).appendChild(t),this.parent.element.querySelector("."+so).appendChild(this.popupOverlay);var i=N("div",{className:"e-resource-tree"});t.appendChild(i),this.treeViewObj=new S5({cssClass:this.parent.cssClass,enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,fields:{dataSource:[].slice.call(this.generateTreeData()),id:"resourceId",text:"resourceName",child:"resourceChild"},nodeTemplate:this.parent.resourceHeaderTemplate,nodeClicked:this.resourceClick.bind(this),created:this.resourceTreeCreated.bind(this)}),this.treeViewObj.root=this.parent.root?this.parent.root:this.parent,this.treeViewObj.appendTo(i),this.treeViewObj.expandAll(),this.treePopup=new us(t,{targetType:"relative",actionOnScroll:"none",content:this.treeViewObj.element,relateTo:this.parent.element.querySelector("."+so),enableRtl:this.parent.enableRtl,hideAnimation:{name:"SlideLeftOut",duration:500},showAnimation:{name:"SlideLeftIn",duration:500},viewPortElement:this.parent.element.querySelector("."+("MonthAgenda"===this.parent.currentView?py:so))}),this.parent.on(_h,this.documentClick,this)},r.prototype.resourceTreeCreated=function(){this.parent.activeViewOptions.resourceHeaderTemplate&&this.parent.portals&&this.treeViewObj.portals&&(this.parent.portals=this.parent.portals.concat(this.treeViewObj.portals),this.parent.renderTemplates())},r.prototype.generateTreeData=function(t){for(var e=this,i=[],n=[],s=0,a=function(c,d){var p=function(f,m,g){var C,E,y=e.resourceCollection[parseInt(m.toString(),10)];t?(n.push(E={type:"resourceHeader",resource:f.resource,resourceData:f.resourceData,groupIndex:s,groupOrder:f.groupOrder}),s++):C={resourceId:g,resourceName:f.resourceData[y.textField],resource:f.resource,resourceData:f.resourceData},f.child.length>0&&!t&&(C.resourceChild=[]);for(var S=1,w=0,A=f.child;w<A.length;w++){var T=A[w];t?p(T,m+1,g+"-"+S):C.resourceChild.push(p(T,m+1,g+"-"+S)),S+=1}return t&&z(E.resourceData,{Count:S-1}),C};t?p(o.resourceTreeLevel[parseInt(c.toString(),10)],0,(c+1).toString()):i.push(p(o.resourceTreeLevel[parseInt(c.toString(),10)],0,(c+1).toString()))},o=this,l=0,h=this.resourceTreeLevel.length;l<h;l++)a(l);return t?(this.lastResourceLevel=n,n):i},r.prototype.renderResourceHeaderText=function(){for(var t=this.lastResourceLevel[this.parent.uiStateValues.groupIndex],e=[],i=function(p,f){var m=n.resourceCollection[parseInt(p.toString(),10)],g=m.dataSource.filter(function(E){return E[m.idField]===t.groupOrder[parseInt(p.toString(),10)]}),y=N("div",{className:a6});n.parent.sanitize(g[0][m.textField],y),e.push(y);var C=N("div",{className:"e-icons e-icon-next"});e.push(C)},n=this,s=0,a=t.groupOrder.length;s<a;s++)i(s);e.pop();var l=("MonthAgenda"===this.parent.currentView?this.parent.activeView.getPanel():this.parent.element).querySelector("."+_6);Go(l);for(var h=0,c=e;h<c.length;h++)l.appendChild(c[h]);1===this.lastResourceLevel.length&&D([this.parent.element.querySelector("."+k6)],gi)},r.prototype.menuClick=function(t){if(this.parent.element.querySelector("."+Iy).classList.contains(Qn))this.treePopup.hide(),M([this.popupOverlay],Yc);else{var e=[].slice.call(this.treeViewObj.element.querySelectorAll(".e-list-item:not(.e-has-child)"));M(e,"e-active"),D([e[this.parent.uiStateValues.groupIndex]],"e-active"),this.treePopup.show(),D([this.popupOverlay],Yc)}},r.prototype.selectResourceByIndex=function(t){this.lastResourceLevel&&t>-1&&t<this.lastResourceLevel.length&&this.triggerEvents(t)},r.prototype.resourceClick=function(t){if(!t.node.classList.contains("e-has-child")){this.treePopup.hide(),M([this.popupOverlay],Yc);var i=[].slice.call(this.treeViewObj.element.querySelectorAll(".e-list-item:not(.e-has-child)")).indexOf(t.node);this.triggerEvents(i,t),t.event.preventDefault()}},r.prototype.triggerEvents=function(t,e){var i=this,n={cancel:!1,event:e?e.event:null,groupIndex:t,requestType:"resourceChange"};this.parent.trigger(Fr,n,function(s){s.cancel||(i.parent.uiStateValues.groupIndex=s.groupIndex,i.parent.renderModule.render(i.parent.currentView),i.parent.trigger(Nh,n={cancel:!1,event:e?e.event:null,groupIndex:i.parent.uiStateValues.groupIndex,requestType:"resourceChanged"}))})},r.prototype.documentClick=function(t){if(!I(t.event.target,"."+Iy)){var e=this.parent.element.querySelector("."+Iy);e&&e.classList.contains(Qn)&&(this.treePopup.hide(),M([this.popupOverlay],Yc))}},r.prototype.bindResourcesData=function(t){var e=this;this.parent.showSpinner();for(var i=[],n=0,s=this.parent.resources;n<s.length;n++){var a=s[n],o=new z6(this.parent,a.dataSource,a.query);i.push(o.getData(o.generateQuery()))}Promise.all(i).then(function(l){return e.dataManagerSuccess(l,t)}).catch(function(l){return e.parent.crudModule.dataManagerFailure(l)})},r.prototype.dataManagerSuccess=function(t,e){if(!(!this.parent||this.parent&&this.parent.isDestroyed)){this.parent.resourceCollection=[];for(var i=0,n=t.length;i<n;i++){var s=this.parent.resources[parseInt(i.toString(),10)],a=this.getResourceModel(s,t[parseInt(i.toString(),10)].result);this.parent.resourceCollection.push(a)}this.refreshLayout(e)}},r.prototype.getResourceModel=function(t,e){return{field:t.field,title:t.title,name:t.name,allowMultiple:t.allowMultiple,dataSource:e||t.dataSource,idField:t.idField,textField:t.textField,groupIDField:t.groupIDField,colorField:t.colorField,startHourField:t.startHourField,endHourField:t.endHourField,workDaysField:t.workDaysField,expandedField:t.expandedField,cssClassField:t.cssClassField}},r.prototype.refreshLayout=function(t){(u(this.parent.uiStateValues.groupIndex)||!this.parent.enablePersistence)&&(this.parent.uiStateValues.groupIndex=0),this.parent.renderElements(t)},r.prototype.setResourceCollection=function(){var t=[];if(this.resourceCollection=[],this.colorIndex=null,this.parent.activeViewOptions.group.resources.length>0)for(var e=0,i=this.parent.activeViewOptions.group.resources;e<i.length;e++){var s=ly(this.parent.resourceCollection,"name",n=i[e]);s>=0&&t.push(this.parent.resourceCollection[parseInt(s.toString(),10)])}else this.parent.resourceCollection.length>0&&(t=this.parent.resourceCollection);for(var a=0,o=0,l=t;o<l.length;o++){var n,h=this.getResourceModel(n=l[o]);n.name===this.parent.eventSettings.resourceColorField&&(this.colorIndex=a),a++,this.resourceCollection.push(h)}u(this.colorIndex)&&(this.colorIndex=this.resourceCollection.length-1)},r.prototype.generateResourceLevels=function(t,e){var i=this,s=[],a=[],o=function(l,h,c,d,p){var f=[],m=l[0];if(m){var g=void 0;if(d&&i.parent.activeViewOptions.group.byGroupID){var y=d[c.idField];g=m.dataSource.filter(function(H){return H[m.groupIDField]===y})}else g=m.dataSource;for(var C=0;C<g.length;C++){var E=[];p&&p.length>0&&(E=E.concat(p)),E.push(g[parseInt(C.toString(),10)][m.idField]);var S=o(l.slice(1),h+1,m,g[parseInt(C.toString(),10)],E);if(!(0===h&&0===S.length&&i.resourceCollection.length>1)){var w=[],A=i.parent.activeView.renderDates,T=void 0;if(!i.parent.activeViewOptions.group.byDate&&h+1===i.resourceCollection.length){var k=g[parseInt(C.toString(),10)][m.workDaysField],j=g[parseInt(C.toString(),10)][m.startHourField],J=g[parseInt(C.toString(),10)][m.endHourField];k&&k.length>0?(A=i.parent.activeView.getRenderDates(k),T=k,w=i.parent.activeView.getDateSlots(A,k)):(T=i.parent.activeViewOptions.workDays,w=t);var ne=i.generateCustomHours(w,j,J,E);a=a.concat(ne)}var R=g[parseInt(C.toString(),10)][m.cssClassField],G={type:"resourceHeader",className:["e-resource-cells"],resourceLevelIndex:h,groupOrder:E,resource:m,resourceData:g[parseInt(C.toString(),10)],colSpan:i.parent.activeViewOptions.group.byDate?1:w.length,renderDates:A,workDays:T,cssClass:R,child:S};f.push(G)}}return s[parseInt(h.toString(),10)]||(s[parseInt(h.toString(),10)]=[]),f.length>0&&s[parseInt(h.toString(),10)].push(f),f}return[]};return this.resourceTreeLevel=o(this.resourceCollection,0),e?[]:this.generateHeaderLevels(s,a,t)},r.prototype.generateCustomHours=function(t,e,i,n){for(var s=z([],t,null,!0),a=0,o=s;a<o.length;a++){var l=o[a];e&&(l.startHour=this.parent.getStartEndTime(e)),i&&(l.endHour=this.parent.getStartEndTime(i)),n&&(l.groupOrder=n)}return s},r.prototype.generateHeaderLevels=function(t,e,i){for(var n=[],s=t.length-1;s>=0;s--)for(var a=0,o=0,l=t[parseInt(s.toString(),10)];o<l.length;o++)for(var c=0,d=l[o];c<d.length;c++){var p=d[c];if(t[s+1]&&t[s+1].length>0){var f=t[parseInt((s+1).toString(),10)][parseInt(a.toString(),10)];if(!f)continue;for(var m=0,g=0,y=f;g<y.length;g++){var C=y[g];(!this.parent.activeViewOptions.group.byGroupID||this.parent.activeViewOptions.group.byGroupID&&C.resourceData[C.resource.groupIDField]===p.resourceData[p.resource.idField])&&(m+=C.colSpan)}p.colSpan=m}p.groupIndex=a,a++,n[p.resourceLevelIndex]=n[p.resourceLevelIndex]||[],n[p.resourceLevelIndex].push(p)}if(this.lastResourceLevel=n.slice(-1)[0]||[],!this.parent.activeViewOptions.group.byDate){for(var E=0,S=0,w=this.lastResourceLevel;S<w.length;S++){var A=w[S];for(s=0;s<A.colSpan;s++)e[parseInt(E.toString(),10)].groupIndex=A.groupIndex,E++}return n.push(e),n}var T=[],k=z([],n,null,!0),j=[];if(this.parent.activeViewOptions.group.hideNonWorkingDays){for(var J=[],ne=0,R=function(Dt){G.resourceDateTree[parseInt(ne.toString(),10)]=[];for(var Je=[],bs=function(fe){var Ae=G.lastResourceLevel[parseInt(fe.toString(),10)].resourceData[G.lastResourceLevel[parseInt(fe.toString(),10)].resource.workDaysField];if(Ae||(Ae=G.parent.activeViewOptions.workDays),-1!==Ae.indexOf(Dt.date.getDay())){var Oe=z({},G.lastResourceLevel[parseInt(fe.toString(),10)],null,!0);Oe.date=Dt.date,G.lastResourceLevel[parseInt(fe.toString(),10)].workDays=Ae,Oe.startHour=G.parent.getStartEndTime(Oe.resourceData[Oe.resource.startHourField])||Dt.startHour,Oe.endHour=G.parent.getStartEndTime(Oe.resourceData[Oe.resource.endHourField])||Dt.endHour,G.resourceDateTree[parseInt(ne.toString(),10)].push(Oe);for(var $e=function(Cs){if(Je[parseInt(Cs.toString(),10)]||(Je[parseInt(Cs.toString(),10)]=[]),Cs===Oe.groupOrder.length-1){J[parseInt(fe.toString(),10)]||(J[parseInt(fe.toString(),10)]=[]);var Ys=Oe.renderDates.filter(function(Yh){return Yh.getDay()===Dt.date.getDay()});return J[parseInt(fe.toString(),10)]=J[parseInt(fe.toString(),10)].concat(Ys),Je[parseInt(Cs.toString(),10)].push(Oe),"continue"}var aa=k[parseInt(Cs.toString(),10)].filter(function(Yh){return Yh.resourceData[Yh.resource.idField]===Oe.groupOrder[parseInt(Cs.toString(),10)]});if(aa&&aa.length>0){var ab=Je[parseInt(Cs.toString(),10)].filter(function(Yh){return Yh.resourceData[Yh.resource.idField]===Oe.groupOrder[parseInt(Cs.toString(),10)]});if(ab&&ab.length>0)ab[0].colSpan+=1;else{var Mw=z({},aa[0],null,!0);Mw.colSpan=1,Je[parseInt(Cs.toString(),10)].push(Mw)}}},Mi=0;Mi<Oe.groupOrder.length;Mi++)$e(Mi)}},Y=0;Y<G.lastResourceLevel.length;Y++)bs(Y);if(Je.length>0){for(var te=0;te<k.length;te++)T[parseInt(te.toString(),10)]||(T[parseInt(te.toString(),10)]=[]),T[parseInt(te.toString(),10)]=T[parseInt(te.toString(),10)].concat(Je[parseInt(te.toString(),10)]);Dt.colSpan=Je[Je.length-1].length,j.push(Dt)}ne++},G=this,H=0,V=i;H<V.length;H++)R(B=V[H]);return this.resourceDateTree=this.resourceDateTree.filter(function(Dt){return Dt.length>0}),this.lastResourceLevel.forEach(function(Dt,Je){J[parseInt(Je.toString(),10)]&&(Dt.renderDates=J[parseInt(Je.toString(),10)].sort(function(bs,Y){return bs.getTime()-Y.getTime()}))}),T.unshift(j),T}for(var F=0,L=0,U=k[0];L<U.length;L++)F+=U[L].colSpan;for(var de=0,Se=i;de<Se.length;de++){var B;(B=Se[de]).colSpan=F,j.push(B);for(var ge=z([],k,null,!0),we=0,De=ge.length;we<De;we++){if(we===ge.length-1)for(var Ge=0,Me=ge[parseInt(we.toString(),10)];Ge<Me.length;Ge++){var ht=Me[Ge];ht.date=B.date,ht.workDays=B.workDays,ht.startHour=this.parent.getStartEndTime(ht.resourceData[ht.resource.startHourField])||B.startHour,ht.endHour=this.parent.getStartEndTime(ht.resourceData[ht.resource.endHourField])||B.endHour}T[parseInt(we.toString(),10)]||(T[parseInt(we.toString(),10)]=[]),T[parseInt(we.toString(),10)]=T[parseInt(we.toString(),10)].concat(ge[parseInt(we.toString(),10)])}}return T.unshift(j),T},r.prototype.setResourceValues=function(t,e){var i=this,n=function(l,h,c){t[""+h]=i.resourceCollection[parseInt(l.toString(),10)].allowMultiple&&i.parent.activeViewOptions.group.allowGroupEdit?[c]:c};if(void 0===e&&(e=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:this.parent.activeCellsData.groupIndex),this.parent.activeViewOptions.group.resources.length>0&&!u(e))for(var s=this.lastResourceLevel[parseInt(e.toString(),10)].groupOrder,a=0;a<this.resourceCollection.length;a++)n(a,this.resourceCollection[parseInt(a.toString(),10)].field,s[parseInt(a.toString(),10)]);else if(this.parent.resourceCollection.length>0)for(a=0;a<this.resourceCollection.length;a++){var o=this.resourceCollection[parseInt(a.toString(),10)].dataSource[0];o&&n(a,this.resourceCollection[parseInt(a.toString(),10)].field,o[this.resourceCollection[parseInt(a.toString(),10)].idField])}},r.prototype.getResourceColor=function(t,e){var i=!u(e)&&this.colorIndex>e.length-1?e.length-1:this.colorIndex,n=this.resourceCollection[parseInt(i.toString(),10)];if(!(u(e)&&this.parent.activeViewOptions.group.allowGroupEdit&&n.allowMultiple)){var s=u(e)?t[n.field]:e[parseInt(i.toString(),10)],a=this.filterData(n.dataSource,n.idField,s);if(a.length>0)return a[0][n.colorField]}},r.prototype.getCssClass=function(t){var e=this.resourceCollection.slice(-1)[0];if(!this.parent.activeViewOptions.group.allowGroupEdit||!e.allowMultiple){var i=this.filterData(e.dataSource,e.idField,t[e.field]);if(i.length>0)return i[0][e.cssClassField]}},r.prototype.getResourceRenderDates=function(){var i=[].concat.apply([],this.lastResourceLevel.map(function(n){return n.renderDates})).filter(function(s,a,o){return o.map(function(l){return l.getTime()}).indexOf(s.getTime())===a});return i.sort(function(n,s){return n.getTime()-s.getTime()}),i},r.prototype.filterData=function(t,e,i){return t.filter(function(n){return n[""+e]===i})},r.prototype.getResourceData=function(t,e,i){if(this.parent.activeViewOptions.group.allowGroupEdit){for(var n={},s=0,a=i;s<a.length;s++)for(var l=this.lastResourceLevel[parseInt(a[s].toString(),10)].groupOrder,h=0,c=l.length;h<c;h++){var d=this.resourceCollection[parseInt(h.toString(),10)].field;u(n[""+d])&&(n[""+d]=[]),n[""+d].push(l[parseInt(h.toString(),10)])}t=z(t,n)}else{h=0;for(var p=this.resourceCollection.length;h<p;h++)this.lastResourceLevel[parseInt(e.toString(),10)]&&(t[this.resourceCollection[parseInt(h.toString(),10)].field]=this.lastResourceLevel[parseInt(e.toString(),10)].groupOrder[parseInt(h.toString(),10)])}},r.prototype.addResource=function(t,e,i){for(var n=t instanceof Array?t:[t],s=function(c){if(c.name===e)return n.forEach(function(d,p){return new ye({json:c.dataSource}).insert(d,null,null,i+p)}),"break"},a=0,o=this.parent.resourceCollection;a<o.length&&"break"!==s(o[a]);a++);this.refreshLayout(!0)},r.prototype.removeResource=function(t,e){for(var i=t instanceof Array?t:[t],n=function(h){if(h.name===e)return i.forEach(function(c){return new ye({json:h.dataSource}).remove(h.idField,c)}),"break"},s=0,a=this.parent.resourceCollection;s<a.length&&"break"!==n(a[s]);s++);this.refreshLayout(!0)},r.prototype.getIndexFromResourceId=function(t,e,i,n,s){if(e=e||this.parent.resourceCollection.slice(-1)[0].name,u(i)&&u(i=this.resourceCollection.filter(function(o){return o.name===e})[0]))return null;var a=i.dataSource.filter(function(o){return n&&o[i.idField]===t?o[i.groupIDField]===n[""+s]?o[i.idField]===t:null:o[i.idField]===t})[0];return this.lastResourceLevel.map(function(o){return o.resourceData}).indexOf(a)},r.prototype.resourceExpand=function(t,e,i){var s,n=this.parent.resourceCollection.filter(function(l){return l.name===e?l:null})[0],a=n.dataSource.filter(function(l){return l[n.idField]===t})[0];s=this.parent.activeViewOptions.group.byGroupID?this.lastResourceLevel.map(function(l){return l.resourceData}).indexOf(a):this.getIndexFromResourceId(t,e,n);var o=this.parent.element.querySelector("."+Ta+' [data-group-index="'+s+'"] .'+Jf);o&&(o.classList.contains(Zf)&&!i||o.classList.contains(Rh)&&i)&&o.click()},r.prototype.resourceScroll=function(t,e){if(!(this.parent.isAdaptive||["Agenda","MonthAgenda"].indexOf(this.parent.currentView)>-1)){var i=e||this.parent.resourceCollection.slice(-1)[0].name,n=this.parent.resourceCollection.length-1,s=this.parent.resourceCollection.filter(function(m,g){return m.name===i?(n=g,m):null})[0],a=this.parent.element.querySelector("."+ut),o=0;if(this.parent.activeView.isTimelineView()){if(this.parent.activeViewOptions.group.byGroupID){var l=s.dataSource.filter(function(m){return m[s.idField]===t})[0];o=this.lastResourceLevel.map(function(m){return m.resourceData}).indexOf(l)}else o=this.getIndexFromResourceId(t,i,s);if(this.parent.virtualScrollModule){var h=this.parent.element.querySelector("."+fy),c=Math.round(h.offsetHeight/this.expandedResources.length);this.parent.rowAutoHeight&&(a.scrollTop=0,this.parent.virtualScrollModule.virtualScrolling()),a.scrollTop=o*c-(this.parent.virtualScrollModule.bufferCount-1)*c,this.parent.virtualScrollModule.virtualScrolling(),this.parent.rowAutoHeight?(d=this.parent.element.querySelector("."+Te+'[data-group-index="'+o+'"]'))&&!d.parentElement.classList.contains(sr)&&(a.scrollTop=a.scrollTop<d.offsetTop?d.offsetTop:a.scrollTop+d.offsetTop):a.scrollTop=o*c}else{var d;(d=this.parent.element.querySelector("."+Te+'[data-group-index="'+o+'"]'))&&!d.parentElement.classList.contains(sr)&&(a.scrollTop=d.offsetTop)}}else{o=this.parent.activeViewOptions.group.byGroupID?i===this.parent.resourceCollection.slice(-1)[0].name?this.lastResourceLevel.map(function(m){return m.resourceData[s.idField]}).indexOf(t):s.dataSource.map(function(m){return m[s.idField]}).indexOf(t):this.getIndexFromResourceId(t,i,s);var p=this.parent.element.querySelector("."+h1+":nth-child("+(n+1)+")"),f=[].slice.call(p.children).map(function(m){return m.offsetLeft});a.scrollLeft=f[parseInt(o.toString(),10)]}}},r.prototype.destroy=function(){if(this.parent.off(_h,this.documentClick),this.treeViewObj){if(this.treeViewObj.portals&&this.treeViewObj.portals.length>0){var t=this.treeViewObj.portals.map(function(i){return i.propName});t.length>0&&this.parent.resetTemplates(t)}this.treeViewObj.destroy(),this.treeViewObj=null}this.treePopup&&(this.treePopup.destroy(),this.treePopup=null,me(this.parent.element.querySelector("."+Iy)),me(this.parent.element.querySelector("."+L6)));var e=this.parent.element.querySelector("."+dy);e&&me(e)},r}(),bEe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ie=function(r,t,e,i){var a,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},t_=function(r){function t(e,i){return r.call(this,e,i)||this}return bEe(t,r),t.prototype.render=function(){var e=[],i=[];if(e.push(KD),this.enableRtl?e.push(HN):i.push(HN),this.isAdaptive?e.push(Kf):i.push(Kf),this.allowMultiDrag?e.push(zN):i.push(zN),this.cssClass)for(var s=0,a=this.cssClass.split(" ");s<a.length;s++)e.push(a[s]);$i(this.element,e,i),this.validateDate(),Qa({target:this.element}),this.scrollModule=new x0e(this),this.scrollModule.setWidth(),this.scrollModule.setHeight(),this.renderModule=new ZCe(this),this.eventBase=new P1(this),this.workCellAction=new lEe(this),this.allowKeyboardInteraction&&(this.keyboardInteractionModule=new H6(this)),this.inlineModule=new dCe(this),this.initializeDataModule(),this.renderTableContainer(),this.activeViewOptions=this.getActiveViewOptions(),this.initializeResources(),this.wireEvents()},t.prototype.renderTableContainer=function(){this.element.querySelector("."+so)||this.element.appendChild(this.createElement("div",{className:so}))},t.prototype.renderTemplates=function(e){this.isReact?this.renderReactTemplates(e):e&&e()},t.prototype.resetTemplates=function(e){(this.isAngular||this.isReact)&&this.clearTemplate(e)},t.prototype.sanitize=function(e,i){this.enableHtmlSanitizer?i.innerText=Qt.sanitize(e):i.innerHTML=e},t.prototype.initializeResources=function(e){void 0===e&&(e=!1),this.resources.length>0?(this.resourceBase=new yEe(this),this.resourceBase.bindResourcesData(e)):(this.resourceBase=null,this.resourceCollection=[],this.renderElements(e))},t.prototype.destroyEditorWindow=function(){this.eventWindow&&(this.eventWindow.destroy(),this.eventWindow=null),this.eventWindow=new V8(this)},t.prototype.renderElements=function(e){if(e)return this.initializeView(this.currentView),void this.eventWindow.refresh();this.destroyHeaderModule(),this.showHeaderBar&&(this.headerModule=new w1(this)),this.renderTableContainer(),(O.isDevice||O.isTouch)&&(this.scheduleTouchModule=new O0e(this)),this.initializeView(this.currentView),this.destroyPopups(),this.isPrinting||this.initializePopups()},t.prototype.validateDate=function(e){void 0===e&&(e=this.selectedDate);var i=e instanceof Date?new Date(e.getTime()):new Date(e),n=this.minDate instanceof Date?new Date(this.minDate.getTime()):new Date(this.minDate),s=this.maxDate instanceof Date?new Date(this.maxDate.getTime()):new Date(this.maxDate);if(!(n<=s))throw Error("minDate should be equal or less than maxDate");i<n&&(i=n),i>s&&(i=s),this.setProperties({selectedDate:new Date(""+i),minDate:new Date(""+n),maxDate:new Date(""+s)},!0),this.eventWindow&&this.eventWindow.updateMinMaxDateToEditor()},t.prototype.getViewIndex=function(e){for(var i=0;i<this.viewCollections.length;i++)if(this.viewCollections[parseInt(i.toString(),10)].option===e)return i;return-1},t.prototype.setViewOptions=function(e){void 0===e&&(e=!1),this.viewOptions={},this.viewCollections=[];var i,n,s=this.viewIndex,a=0;this.viewIndex=-1;for(var o=0,l=this.views;o<l.length;o++){var h=l[o],c="string"!=typeof h;"string"==typeof h?this.currentView===(i=h)&&(n=i,this.viewIndex=a):(i=h.option,h.isSelected&&(n=i,this.viewIndex=a));var d=z({option:i},c?h:{}),p=i.charAt(0).toLowerCase()+i.slice(1);d.cellHeaderTemplateName=d.cellHeaderTemplate?d.option:"",d.dateHeaderTemplateName=d.dateHeaderTemplate?d.option:"",d.dateRangeTemplateName=d.dateRangeTemplate?d.option:"",d.cellTemplateName=d.cellTemplate?d.option:"",d.dayHeaderTemplateName=d.dayHeaderTemplate?d.option:"",d.monthHeaderTemplateName=d.monthHeaderTemplate?d.option:"",d.resourceHeaderTemplateName=d.resourceHeaderTemplate?d.option:"",d.headerIndentTemplateName=d.headerIndentTemplate?d.option:"",d.eventTemplateName=d.eventTemplate?d.option:"",!u(d.firstDayOfWeek)&&0===d.firstDayOfWeek&&delete d.firstDayOfWeek,!u(d.interval)&&1===d.interval&&delete d.interval,this.viewCollections.push(d),u(this.viewOptions[""+p])?this.viewOptions[""+p]=[d]:this.viewOptions[""+p].push(d),a++}if(!e&&n&&this.setProperties({currentView:n},!0),-1===this.viewIndex){var f=this.getViewIndex(this.currentView);this.viewIndex="string"==typeof this.views[0]||u(s)||-1===s?-1===f?0:f:s}},t.prototype.getActiveViewOptions=function(){var e={enable:this.timeScale.enable,interval:this.timeScale.interval,slotCount:this.timeScale.slotCount,majorSlotTemplate:this.timeScale.majorSlotTemplate,minorSlotTemplate:this.timeScale.minorSlotTemplate},n={byDate:!(this.viewCollections[this.viewIndex].option.indexOf("Year")>-1)&&this.group.byDate,byGroupID:this.group.byGroupID,allowGroupEdit:this.group.allowGroupEdit,resources:this.group.resources,headerTooltipTemplate:this.group.headerTooltipTemplate,enableCompactView:this.group.enableCompactView,hideNonWorkingDays:["Day","Week","WorkWeek","Month"].indexOf(this.currentView)>-1&&this.group.hideNonWorkingDays},o=this.viewCollections[this.viewIndex],l=z({dateFormat:this.dateFormat,endHour:this.endHour,isSelected:!1,option:null,readonly:this.readonly,startHour:this.startHour,allowVirtualScrolling:!1,cellHeaderTemplate:this.cellHeaderTemplate,dayHeaderTemplate:this.dayHeaderTemplate,monthHeaderTemplate:this.monthHeaderTemplate,cellTemplate:this.cellTemplate,eventTemplate:this.eventSettings.template,dateHeaderTemplate:this.dateHeaderTemplate,dateRangeTemplate:this.dateRangeTemplate,resourceHeaderTemplate:this.resourceHeaderTemplate,headerIndentTemplate:this.headerIndentTemplate,firstMonthOfYear:this.firstMonthOfYear,firstDayOfWeek:this.firstDayOfWeek,workDays:this.viewCollections[this.viewIndex].workDays?[]:this.workDays,monthsCount:this.monthsCount,showWeekend:this.showWeekend,showWeekNumber:this.showWeekNumber,displayName:null,interval:1,timeScale:e,timeFormat:this.internalTimeFormat,group:n,headerRows:this.headerRows,orientation:"Horizontal",numberOfWeeks:0,displayDate:null,enableLazyLoading:!1},o,void 0,!0);return 0!==this.firstDayOfWeek&&o.firstDayOfWeek&&this.firstDayOfWeek!==o.firstDayOfWeek&&(l.firstDayOfWeek=this.firstDayOfWeek),l.displayDate&&(l.displayDate=l.displayDate instanceof Date?new Date(l.displayDate.getTime()):new Date(l.displayDate)),l.enableLazyLoading&&!u(l.group.resources)&&l.group.resources.length>0&&(-1===["Agenda","MonthAgenda","Year","TimelineYear"].indexOf(l.option)||"TimelineYear"===l.option&&"Vertical"===l.orientation)&&(l.allowVirtualScrolling=!0),l},t.prototype.initializeDataModule=function(){this.eventFields={id:this.eventSettings.fields.id,isBlock:this.eventSettings.fields.isBlock,subject:this.eventSettings.fields.subject.name,startTime:this.eventSettings.fields.startTime.name,endTime:this.eventSettings.fields.endTime.name,startTimezone:this.eventSettings.fields.startTimezone.name,endTimezone:this.eventSettings.fields.endTimezone.name,location:this.eventSettings.fields.location.name,description:this.eventSettings.fields.description.name,isAllDay:this.eventSettings.fields.isAllDay.name,recurrenceID:this.eventSettings.fields.recurrenceID.name,recurrenceRule:this.eventSettings.fields.recurrenceRule.name,recurrenceException:this.eventSettings.fields.recurrenceException.name,isReadonly:this.eventSettings.fields.isReadonly,followingID:this.eventSettings.fields.followingID},this.setEditorTitles(),this.dataModule=new z6(this,this.eventSettings.dataSource,this.eventSettings.query),this.crudModule=new oEe(this)},t.prototype.setEditorTitles=function(){this.editorTitles={subject:this.eventSettings.fields.subject.title||this.localeObj.getConstant("title"),startTime:this.eventSettings.fields.startTime.title||this.localeObj.getConstant("start"),endTime:this.eventSettings.fields.endTime.title||this.localeObj.getConstant("end"),isAllDay:this.eventSettings.fields.isAllDay.title||this.localeObj.getConstant("allDay"),startTimezone:this.eventSettings.fields.startTimezone.title||this.localeObj.getConstant("startTimezone"),endTimezone:this.eventSettings.fields.endTimezone.title||this.localeObj.getConstant("endTimezone"),location:this.eventSettings.fields.location.title||this.localeObj.getConstant("location"),description:this.eventSettings.fields.description.title||this.localeObj.getConstant("description"),recurrenceRule:this.eventSettings.fields.recurrenceRule.title||this.localeObj.getConstant("repeat")}},t.prototype.initializeView=function(e){this.showSpinner(),this.activeViewOptions=this.getActiveViewOptions(),this.resourceBase&&this.resourceBase.setResourceCollection(),this.initializeTemplates(),this.renderModule.render(e)},t.prototype.initializeTemplates=function(){this.cellHeaderTemplateFn=this.templateParser(this.activeViewOptions.cellHeaderTemplate),this.dayHeaderTemplateFn=this.templateParser(this.activeViewOptions.dayHeaderTemplate),this.monthHeaderTemplateFn=this.templateParser(this.activeViewOptions.monthHeaderTemplate),this.cellTemplateFn=this.templateParser(this.activeViewOptions.cellTemplate),this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),this.dateRangeTemplateFn=this.templateParser(this.activeViewOptions.dateRangeTemplate),this.majorSlotTemplateFn=this.templateParser(this.activeViewOptions.timeScale.majorSlotTemplate),this.minorSlotTemplateFn=this.templateParser(this.activeViewOptions.timeScale.minorSlotTemplate),this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),this.headerIndentTemplateFn=this.templateParser(this.activeViewOptions.headerIndentTemplate),this.headerTooltipTemplateFn=this.templateParser(this.activeViewOptions.group.headerTooltipTemplate),this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate),this.editorTemplateFn=this.templateParser(this.editorTemplate),this.editorHeaderTemplateFn=this.templateParser(this.editorHeaderTemplate),this.editorFooterTemplateFn=this.templateParser(this.editorFooterTemplate),this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header),this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content),this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer)},t.prototype.initializePopups=function(){this.eventWindow=new V8(this),this.quickPopup=new o8(this)},t.prototype.getDayNames=function(e){var n,i=[];n="en"===this.locale||"en-US"===this.locale?_("days.stand-alone."+e,Ps(this.getCalendarMode())):_("main."+this.locale+".dates.calendars."+this.getCalendarMode()+".days.format."+e,ji);for(var a=0,o=Object.keys(n);a<o.length;a++)i.push(_(o[a],n));return i},t.prototype.setCldrTimeFormat=function(){this.internalTimeFormat=u(this.timeFormat)?"en"===this.locale||"en-US"===this.locale?_("timeFormats.short",Ps(this.getCalendarMode())):_("main."+this.locale+".dates.calendars."+this.getCalendarMode()+".timeFormats.short",ji):this.timeFormat},t.prototype.getCalendarMode=function(){return this.calendarMode.toLowerCase()},t.prototype.getTimeString=function(e){return this.globalize.formatDate(e,{format:this.activeViewOptions.timeFormat,type:"time",calendar:this.getCalendarMode()}).toLocaleUpperCase()},t.prototype.getDateTime=function(e){return e instanceof Date?new Date(e.getTime()):new Date(e)},t.prototype.setCalendarMode=function(){this.calendarUtil="Islamic"===this.calendarMode?new W6:new U6},t.prototype.changeView=function(e,i,n,s){var a=this;if(u(s)&&(s=this.getViewIndex(e)),!(!n&&s===this.viewIndex&&this.currentView===e||s<0)){var o=this.activeViewOptions?this.activeViewOptions.option:this.currentView,l={requestType:"viewNavigate",cancel:!1,event:i};this.trigger(Fr,l,function(h){h.cancel?a.currentView=o:a.trigger(NN,{action:"view",cancel:!1,currentDate:a.selectedDate,previousView:o,currentView:e,viewIndex:s},function(d){if(d.cancel)a.currentView=o;else{var p=["Day","Week","WorkWeek"].indexOf(e)>-1&&["Day","Week","WorkWeek"].indexOf(o)<0;a.uiStateValues.isInitial=p||e.indexOf("Timeline")>-1||e.indexOf("Year")>-1,a.uiStateValues.top=e.indexOf("Timeline")>-1&&o.indexOf("Timeline")<0?0:a.uiStateValues.top,a.viewIndex=d.viewIndex,a.setProperties({currentView:e},!0),a.headerModule&&(a.headerModule.updateActiveView(),a.headerModule.setCalendarDate(a.selectedDate),a.headerModule.setCalendarView()),a.initializeView(a.currentView),a.animateLayout(),a.trigger(Nh,l={requestType:"viewNavigate",cancel:!1,event:i})}})})}},t.prototype.changeDate=function(e,i){var n=this,s={requestType:"dateNavigate",cancel:!1,event:i};this.trigger(Fr,s,function(a){a.cancel||n.trigger(NN,{action:"date",cancel:!1,previousDate:n.selectedDate,currentDate:e},function(l){l.cancel||(n.uiStateValues.isInitial=n.activeView.isTimelineView()&&"TimelineYear"!==n.currentView,n.validateDate(l.currentDate),n.headerModule&&n.headerModule.setCalendarDate(l.currentDate),"MonthAgenda"===n.currentView&&n.monthAgendaModule&&(n.monthAgendaModule.monthAgendaDate=new Date(""+n.selectedDate)),n.initializeView(n.currentView),n.animateLayout(),n.trigger(Nh,s={requestType:"dateNavigate",cancel:!1,event:i}))})})},t.prototype.isMinMaxDate=function(e){return void 0===e&&(e=this.selectedDate),e.getTime()>=this.minDate.getTime()&&e.getTime()<=this.maxDate.getTime()},t.prototype.isSelectedDate=function(e){return e.setHours(0,0,0,0)===new Date(""+this.selectedDate).setHours(0,0,0,0)},t.prototype.getCurrentTime=function(e){return void 0===e&&(e=new Date),this.timezone?this.tzModule.convert(e,this.tzModule.getLocalTimezoneName(),this.timezone):e},t.prototype.getNavigateView=function(){return this.activeView.isTimelineView()?"TimelineMonth"===this.currentView||"TimelineYear"===this.currentView?"TimelineDay":"Agenda":"Day"},t.prototype.animateLayout=function(){!this.activeView.element||new vi({duration:600,name:"FadeIn",timingFunction:"easeIn"}).animate(this.activeView.element)},t.prototype.requiredModules=function(){var e=[];this.setViewOptions(!0);for(var i=0,n=Object.keys(this.viewOptions);i<n.length;i++){var s=n[i];e.push({member:s="timelineDay"===s||"timelineWeek"===s||"timelineWorkWeek"===s?"timelineViews":s,args:[this]})}return this.allowDragAndDrop&&e.push({member:"dragAndDrop",args:[this]}),this.allowResizing&&e.push({member:"resize",args:[this]}),e.push({member:"excelExport",args:[this]}),e.push({member:"iCalendarExport",args:[this]}),e.push({member:"iCalendarImport",args:[this]}),e.push({member:"print",args:[this]}),e},t.prototype.preRender=function(){this.isAdaptive=O.isDevice||window.navigator.userAgent.toLowerCase().indexOf("ipad")>-1,this.globalize=new Li(this.locale),this.tzModule=new q6,(this&&u(this.uiStateValues)||!this.enablePersistence)&&(this.uiStateValues={expand:!1,isInitial:!0,left:0,top:0,isGroupAdaptive:!1,isIgnoreOccurrence:!1,groupIndex:0,action:!1,isBlock:!1,isCustomMonth:!0,isPreventTimezone:!1}),this.currentTimezoneDate=this.getCurrentTime(),this.activeCellsData={startTime:new Date(this.currentTimezoneDate),endTime:new Date(this.currentTimezoneDate),isAllDay:!1},this.activeEventData={event:void 0,element:void 0},this.getDefaultLocale(),this.localeObj=new fi(this.getModuleName(),this.defaultLocale,this.locale),this.setCldrTimeFormat(),this.setCalendarMode(),this.eventsData=[],this.eventsProcessed=[],this.blockData=[],this.blockProcessed=[],this.resourceCollection=[],this.currentAction=null,this.selectedElements=[],this.setViewOptions()},t.prototype.getDefaultLocale=function(){this.defaultLocale={day:"Day",week:"Week",workWeek:"Work Week",month:"Month",year:"Year",agenda:"Agenda",weekAgenda:"Week Agenda",workWeekAgenda:"Work Week Agenda",monthAgenda:"Month Agenda",today:"Today",noEvents:"No events",emptyContainer:"There are no events scheduled on this day.",allDay:"All day",start:"Start",end:"End",more:"more",close:"Close",cancel:"Cancel",noTitle:"(No Title)",delete:"Delete",deleteEvent:"Delete Event",deleteMultipleEvent:"Delete Multiple Events",selectedItems:"Items selected",deleteSeries:"Entire Series",edit:"Edit",editSeries:"Entire Series",editEvent:"Edit Event",createEvent:"Create",subject:"Subject",addTitle:"Add title",moreDetails:"More Details",save:"Save",editContent:"How would you like to change the appointment in the series?",deleteContent:"Are you sure you want to delete this event?",deleteMultipleContent:"Are you sure you want to delete the selected events?",newEvent:"New Event",title:"Title",location:"Location",description:"Description",timezone:"Timezone",startTimezone:"Start Timezone",endTimezone:"End Timezone",repeat:"Repeat",saveButton:"Save",cancelButton:"Cancel",deleteButton:"Delete",recurrence:"Recurrence",wrongPattern:"The recurrence pattern is not valid.",seriesChangeAlert:"Do you want to cancel the changes made to specific instances of this series and match it to the whole series again?",createError:"The duration of the event must be shorter than how frequently it occurs. Shorten the duration, or change the recurrence pattern in the recurrence event editor.",sameDayAlert:"Two occurrences of the same event cannot occur on the same day.",occurenceAlert:"Cannot reschedule an occurrence of the recurring appointment if it skips over a later occurrence of the same appointment.",editRecurrence:"Edit Recurrence",recurringEvent:"Recurring Event",repeats:"Repeats",alert:"Alert",startEndError:"The selected end date occurs before the start date.",invalidDateError:"The entered date value is invalid.",blockAlert:"Events cannot be scheduled within the blocked time range.",ok:"Ok",yes:"Yes",no:"No",occurrence:"Occurrence",series:"Series",previous:"Previous",next:"Next",timelineDay:"Timeline Day",timelineWeek:"Timeline Week",timelineWorkWeek:"Timeline Work Week",timelineMonth:"Timeline Month",timelineYear:"Timeline Year",editFollowingEvent:"Following Events",deleteTitle:"Delete Event",editTitle:"Edit Event",beginFrom:"Begin From",endAt:"Ends At",expandAllDaySection:"Expand-all-day-section",collapseAllDaySection:"Collapse-all-day-section",searchTimezone:"Search Timezone",noRecords:"No records found"}},t.prototype.wireEvents=function(){b.add(window,"resize",this.onScheduleResize,this),b.add(window,"orientationchange",this.onScheduleResize,this),b.add(document,O.touchStartEvent,this.onDocumentClick,this)},t.prototype.removeSelectedClass=function(){for(var e=this.getSelectedCells(),i=0,n=e;i<n.length;i++){var s=n[i];"Year"!==this.currentView&&s.setAttribute("aria-selected","false"),s.removeAttribute("tabindex")}M(e,im),this.keyboardInteractionModule&&this.keyboardInteractionModule.selectedCells.length>0&&(this.keyboardInteractionModule.selectedCells=[])},t.prototype.addSelectedClass=function(e,i,n){if("Year"!==this.currentView)for(var s=0,a=e;s<a.length;s++)a[s].setAttribute("aria-selected","true");D(e,im),i&&(i.setAttribute("tabindex","0"),i.focus({preventScroll:n||!1}))},t.prototype.selectCell=function(e){this.removeSelectedClass(),this.addSelectedClass([e],e)},t.prototype.getAllDayRow=function(){return this.element.querySelector("."+xl)},t.prototype.getContentTable=function(){return this.activeView.element.querySelector("."+_i+" tbody")},t.prototype.getTableRows=function(){return[].slice.call(this.element.querySelectorAll("."+_i+" tbody tr:not(."+sr+")"))},t.prototype.getWorkCellElements=function(){return[].slice.call(this.element.querySelectorAll("."+Te))},t.prototype.getIndexOfDate=function(e,i){return e.map(Number).indexOf(+i)},t.prototype.isAllDayCell=function(e){return!!(["Month","TimelineMonth","TimelineYear","MonthAgenda"].indexOf(this.currentView)>-1||e.classList.contains(Si)||e.classList.contains(Vn)||!this.activeViewOptions.timeScale.enable||this.activeView.isTimelineView()&&this.activeViewOptions.headerRows.length>0&&"Hour"!==this.activeViewOptions.headerRows.slice(-1)[0].option)},t.prototype.getDateFromElement=function(e){var i;if(u(e)||(i=e.getAttribute("data-date")),!u(i)){var n=parseInt(i,10);return new Date(n)}},t.prototype.getTargetElement=function(e,i,n){var a,s=document.elementFromPoint(i,n);return s&&(a=s.closest(e)),a?[a]:null},t.prototype.getCellHeaderTemplate=function(){return this.cellHeaderTemplateFn},t.prototype.getDayHeaderTemplate=function(){return this.dayHeaderTemplateFn},t.prototype.getMonthHeaderTemplate=function(){return this.monthHeaderTemplateFn},t.prototype.getCellTemplate=function(){return this.cellTemplateFn},t.prototype.getDateHeaderTemplate=function(){return this.dateHeaderTemplateFn},t.prototype.getDateRangeTemplate=function(){return this.dateRangeTemplateFn},t.prototype.getMajorSlotTemplate=function(){return this.majorSlotTemplateFn},t.prototype.getMinorSlotTemplate=function(){return this.minorSlotTemplateFn},t.prototype.getAppointmentTemplate=function(){return this.appointmentTemplateFn},t.prototype.getEventTooltipTemplate=function(){return this.eventTooltipTemplateFn},t.prototype.getHeaderTooltipTemplate=function(){return this.headerTooltipTemplateFn},t.prototype.getEditorTemplate=function(){return this.editorTemplateFn},t.prototype.getEditorHeaderTemplate=function(){return this.editorHeaderTemplateFn},t.prototype.getEditorFooterTemplate=function(){return this.editorFooterTemplateFn},t.prototype.getQuickInfoTemplatesHeader=function(){return this.quickInfoTemplatesHeaderFn},t.prototype.getQuickInfoTemplatesContent=function(){return this.quickInfoTemplatesContentFn},t.prototype.getQuickInfoTemplatesFooter=function(){return this.quickInfoTemplatesFooterFn},t.prototype.getResourceHeaderTemplate=function(){return this.resourceHeaderTemplateFn},t.prototype.getHeaderIndentTemplate=function(){return this.headerIndentTemplateFn},t.prototype.getCssProperties=function(){return{border:this.enableRtl?"borderLeftWidth":"borderRightWidth",padding:this.enableRtl?"paddingLeft":"paddingRight",rtlBorder:this.enableRtl?"borderRightWidth":"borderLeftWidth",rtlPadding:this.enableRtl?"paddingRight":"paddingLeft"}},t.prototype.removeNewEventElement=function(){var e=this.element.querySelector("."+lS);u(e)||me(e)},t.prototype.getStartEndTime=function(e){if(!u(e)&&""!==e){var i=ie(new Date(this.currentTimezoneDate)||this.getCurrentTime()),n=e.split(":");return 2===n.length&&i.setHours(parseInt(n[0],10),parseInt(n[1],10),0),i}return null},t.prototype.onDocumentClick=function(e){this.notify(_h,{event:e})},t.prototype.onScheduleResize=function(){u(this.activeView)||(this.isAdaptive||window.navigator.userAgent.toLowerCase().indexOf("mobi")>-1)&&document.activeElement&&document.activeElement.classList.contains(Cn)||(this.activeViewOptions.timeScale.enable&&this.activeView&&this.activeView.highlightCurrentTime(),this.quickPopup&&this.quickPopup.onClosePopup(),function(){var r=window.devicePixelRatio||window.screen.availWidth/document.documentElement.clientWidth;oy&&oy!==r&&(GD=null,oy=r)}(),"Month"===this.currentView||"Agenda"!==this.currentView&&"MonthAgenda"!==this.currentView&&!this.activeViewOptions.timeScale.enable||this.activeView.isTimelineView()?(this.activeView.resetColWidth(),this.notify(Ma,{cssProperties:this.getCssProperties(),isPreventScrollUpdate:!0}),this.refreshEvents(!1)):this.notify(Vr,{}))},t.prototype.templateParser=function(e){if(e)try{return"function"==typeof e?tt(e):document.querySelectorAll(e).length?tt(document.querySelector(e).innerHTML.trim()):tt(e)}catch(i){return tt(e)}},t.prototype.getSelectedCells=function(){return[].slice.call(this.element.querySelectorAll("."+im))},t.prototype.getAnnouncementString=function(e,i){var n;this.quickPopup&&this.activeViewOptions.group.resources.length>0&&(n=this.quickPopup.getResourceText({event:e},"event")+'"s event - ');var a=i||e[this.eventFields.subject]||this.eventSettings.fields.subject.default,o=e[this.eventFields.location]||this.eventSettings.fields.location.default,l="full",h=this.globalize.formatDate(e[this.eventFields.startTime],{type:"dateTime",skeleton:l,calendar:this.getCalendarMode()}),c=this.globalize.formatDate(e[this.eventFields.endTime],{type:"dateTime",skeleton:l,calendar:this.getCalendarMode()}),d=a+" "+this.localeObj.getConstant("beginFrom")+" "+h+" "+this.localeObj.getConstant("endAt")+" "+c;return n&&(d=n+" "+d),o&&""!==o&&(d=d+" "+this.localeObj.getConstant("location")+" "+o),e[this.eventFields.recurrenceRule]&&""!==e[this.eventFields.recurrenceRule]&&e[this.eventFields.id]===e[this.eventFields.recurrenceID]&&(d=d+" "+this.localeObj.getConstant("recurringEvent")),d},t.prototype.boundaryValidation=function(e,i){var s={left:!1,right:!1,top:!1,bottom:!1},a=this.element.querySelector("."+ut).getBoundingClientRect();return e<a.top+30+window.pageYOffset&&e>a.top+window.pageYOffset&&(s.top=!0),e>a.bottom-30+window.pageYOffset&&e<a.bottom+window.pageYOffset&&(s.bottom=!0),i<a.left+30+window.pageXOffset&&i>a.left+window.pageXOffset&&(s.left=!0),i>a.right-30+window.pageXOffset&&i<a.right+window.pageXOffset&&(s.right=!0),s},t.prototype.getWeekNumberContent=function(e){var i;if("FirstDay"===this.weekRule){var n=YD(e.slice(-1)[0],this.firstDayOfWeek);i=this.globalize.formatNumber(VN(n))}else if("FirstFourDayWeek"===this.weekRule){var o=function(r,t){return new Date(t.valueOf()-(t.valueOf()-r.valueOf())/2)}(s=jr(e.slice(-1)[0],this.firstDayOfWeek),YD(e.slice(-1)[0],this.firstDayOfWeek));i=this.globalize.formatNumber(VN(o))}else if("FirstFullWeek"===this.weekRule){var s=jr(e.slice(-1)[0],this.firstDayOfWeek);i=this.globalize.formatNumber(VN(s))}return i},t.prototype.renderHeaderIndentTemplate=function(e,i){if(this.activeViewOptions.headerIndentTemplate){var a=this.element.id+"_"+this.activeViewOptions.headerIndentTemplateName+"headerIndentTemplate";ce([].slice.call(this.getHeaderIndentTemplate()(e,this,"headerIndentTemplate",a,!1)),i)}},t.prototype.isSpecificResourceEvents=function(){return this.activeViewOptions.group.resources.length>0&&!this.activeViewOptions.group.allowGroupEdit&&!this.rowAutoHeight&&!this.virtualScrollModule&&this.activeViewOptions.group.byGroupID},t.prototype.unWireEvents=function(){b.remove(window,"resize",this.onScheduleResize),b.remove(window,"orientationchange",this.onScheduleResize),b.remove(document,O.touchStartEvent,this.onDocumentClick)},t.prototype.getModuleName=function(){return"schedule"},t.prototype.getPersistData=function(){return this.addOnPersist(["currentView","selectedDate","scrollTop","scrollLeft"])},t.prototype.onPropertyChanged=function(e,i){if(!this.isReact||!u(this.activeView)){for(var n={isRefresh:!1,isResource:!1,isDate:!1,isView:!1,isLayout:!1,isDataManager:!1},s=0,a=Object.keys(e);s<a.length;s++){var o=a[s];switch(o){case"views":this.setViewOptions(),this.headerModule&&this.headerModule.updateItems(),n.isView=!0;break;case"currentView":n.isView=!0;break;case"minDate":case"maxDate":case"selectedDate":n.isDate=!0;break;case"dateFormat":this.activeViewOptions=this.getActiveViewOptions(),this.headerModule&&this.headerModule.updateDateRange();break;case"showHeaderBar":this.destroyHeaderModule(),e.showHeaderBar&&(this.headerModule=new w1(this),this.headerModule.updateDateRange()),this.notify(Ma,{cssProperties:this.getCssProperties()}),this.activeView.isTimelineView()&&this.refreshEvents(!1);break;case"workDays":JSON.stringify(i.workDays)!==JSON.stringify(e.workDays)&&(n.isLayout=!0);break;case"showWeekend":case"startHour":case"endHour":case"workHours":case"readonly":case"headerRows":case"showWeekNumber":case"rowAutoHeight":n.isLayout=!0;break;case"locale":case"calendarMode":this.globalize=new Li(this.locale),this.localeObj=new fi(this.getModuleName(),this.defaultLocale,this.locale),this.setCldrTimeFormat(),this.setCalendarMode(),n.isRefresh=!0;break;case"firstDayOfWeek":this.activeViewOptions.firstDayOfWeek=e.firstDayOfWeek,this.eventWindow&&this.eventWindow.refreshRecurrenceEditor(),n.isLayout=!0;break;case"showTimeIndicator":this.activeViewOptions.timeScale.enable&&this.activeView&&this.activeView.highlightCurrentTime();break;case"cellHeaderTemplate":this.activeViewOptions.cellHeaderTemplate=e.cellHeaderTemplate,this.cellHeaderTemplateFn=this.templateParser(this.activeViewOptions.cellHeaderTemplate),n.isLayout=!0;break;case"cellTemplate":this.activeViewOptions.cellTemplate=e.cellTemplate,this.cellTemplateFn=this.templateParser(this.activeViewOptions.cellTemplate),n.isLayout=!0;break;case"dateHeaderTemplate":this.activeViewOptions.dateHeaderTemplate=e.dateHeaderTemplate,this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),n.isLayout=!0;break;case"dateRangeTemplate":this.activeViewOptions.dateRangeTemplate=e.dateRangeTemplate,this.dateRangeTemplateFn=this.templateParser(this.activeViewOptions.dateRangeTemplate),this.headerModule&&this.headerModule.updateDateRange();break;case"dayHeaderTemplate":this.activeViewOptions.dayHeaderTemplate=e.dayHeaderTemplate,this.dayHeaderTemplateFn=this.templateParser(this.activeViewOptions.dayHeaderTemplate),n.isLayout=!0;break;case"monthHeaderTemplate":this.activeViewOptions.monthHeaderTemplate=e.monthHeaderTemplate,this.monthHeaderTemplateFn=this.templateParser(this.activeViewOptions.monthHeaderTemplate),n.isLayout=!0;break;case"resourceHeaderTemplate":this.activeViewOptions.resourceHeaderTemplate=e.resourceHeaderTemplate,this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),n.isLayout=!0;break;case"timezone":this.eventBase.timezonePropertyChange(i.timezone),this.headerModule.setCalendarTimezone();break;case"enableRtl":this.setRtlClass(),n.isRefresh=!0;break;default:this.extendedPropertyChange(o,e,i,n)}}this.propertyChangeAction(n)}},t.prototype.propertyChangeAction=function(e){e.isRefresh?this.refresh():e.isResource?this.initializeResources(!0):e.isView?this.changeView(this.currentView,null,!0):e.isDate?this.changeDate(this.selectedDate):e.isLayout?(this.activeCellsData=null,this.initializeView(this.currentView)):e.isDataManager&&this.crudModule&&(this.dragAndDropModule&&(this.dragAndDropModule.actionObj.action="",M([this.element],Nl)),this.crudModule.refreshDataManager())},t.prototype.allDayRowScrollUpdate=function(){var e=this.element.querySelector("."+Er),i=this.element.querySelector("."+xl);if("auto"!==this.height&&this.enableAllDayScroll)e.classList.contains(bS)&&M([e],bS),this.eventBase.allDayExpandScroll(e);else if(D([e],bS),e.classList.contains(ky)&&M([e],ky),this.uiStateValues.expand){var n=[].slice.call(this.element.querySelectorAll("."+Si));n[0].style.height=i.style.height?i.style.height:n[1].style.height}this.uiStateValues.expand||(i.style.height="")},t.prototype.extendedPropertyChange=function(e,i,n,s){switch(e){case"width":case"height":case"enableAllDayScroll":["Day","Week","WorkWeek"].indexOf(this.currentView)>-1&&this.allDayRowScrollUpdate(),this.notify(PN,{module:"scroll",properties:{width:i.width,height:i.height}});break;case"cssClass":n.cssClass&&M([this.element],n.cssClass.split(" ")),i.cssClass&&D([this.element],i.cssClass.split(" "));break;case"hideEmptyAgendaDays":case"agendaDaysCount":this.activeViewOptions=this.getActiveViewOptions(),s.isView=!0;break;case"eventSettings":this.onEventSettingsPropertyChanged(i.eventSettings,n.eventSettings,s);break;case"allowKeyboardInteraction":this.keyboardInteractionModule&&(this.keyboardInteractionModule.destroy(),this.keyboardInteractionModule=null),i.allowKeyboardInteraction&&(this.keyboardInteractionModule=new H6(this));break;case"timezoneDataSource":this.eventWindow&&this.eventWindow.refresh();break;case"editorTemplate":u(this.editorTemplate)||(this.editorTemplateFn=this.templateParser(this.editorTemplate)),this.eventWindow&&this.eventWindow.setDialogContent();break;case"editorHeaderTemplate":u(this.editorHeaderTemplate)||(this.editorHeaderTemplateFn=this.templateParser(this.editorHeaderTemplate)),this.eventWindow&&this.eventWindow.setDialogHeader();break;case"editorFooterTemplate":u(this.editorFooterTemplate)||(this.editorFooterTemplateFn=this.templateParser(this.editorFooterTemplate)),this.eventWindow&&this.eventWindow.setDialogFooter();break;case"quickInfoTemplates":this.quickInfoTemplates.header&&(this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header)),this.quickInfoTemplates.content&&(this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content)),this.quickInfoTemplates.footer&&(this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer));break;case"group":this.onGroupSettingsPropertyChanged(i.group,n.group,s);break;case"resources":s.isResource=!0;break;case"timeScale":this.activeViewOptions.timeScale.interval=i.timeScale.interval||this.activeViewOptions.timeScale.interval,this.activeViewOptions.timeScale.slotCount=i.timeScale.slotCount||this.activeViewOptions.timeScale.slotCount,this.eventWindow&&this.eventWindow.refreshDateTimePicker(),s.isLayout=!0;break;case"allowDragAndDrop":case"allowResizing":case"eventDragArea":this.refreshEvents(!1);break;case"weekRule":s.isLayout=!0;break;case"firstMonthOfYear":this.activeViewOptions.firstMonthOfYear=i.firstMonthOfYear,this.viewIndex=this.activeView.viewIndex,s.isLayout=!0;break;case"monthsCount":this.activeViewOptions.monthsCount=i.monthsCount,this.viewIndex=this.activeView.viewIndex,s.isLayout=!0;break;case"timeFormat":this.internalTimeFormat=i.timeFormat||this.activeViewOptions.timeFormat,this.eventWindow&&this.eventWindow.refreshDateTimePicker(),s.isLayout=!0;break;case"enableAdaptiveUI":this.showHeaderBar&&this.headerModule&&(this.destroyHeaderModule(),this.headerModule=new w1(this),this.headerModule.updateDateRange()),s.isLayout=!0;break;case"headerIndentTemplate":this.activeViewOptions.headerIndentTemplate=i.headerIndentTemplate,this.headerIndentTemplateFn=this.templateParser(this.activeViewOptions.headerIndentTemplate),s.isLayout=!0}},t.prototype.setRtlClass=function(){this.enableRtl?D([this.element],"e-rtl"):M([this.element],"e-rtl")},t.prototype.onGroupSettingsPropertyChanged=function(e,i,n){for(var s=0,a=Object.keys(e);s<a.length;s++)"headerTooltipTemplate"===a[s]?this.headerTooltipTemplateFn=this.templateParser(e.headerTooltipTemplate):(n.isLayout=!0,this.eventWindow&&this.eventWindow.refresh())},t.prototype.onEventSettingsPropertyChanged=function(e,i,n){for(var s=0,a=Object.keys(e);s<a.length;s++)switch(a[s]){case"dataSource":case"query":case"fields":case"includeFiltersInQuery":this.initializeDataModule(),n.isDataManager=!0;break;case"template":this.activeViewOptions.eventTemplate=e.template,this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),n.isDataManager=!0;break;case"enableTooltip":this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),e.enableTooltip&&(this.eventTooltip=new V1(this));break;case"tooltipTemplate":this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate);break;case"resourceColorField":this.resourceBase&&this.resourceBase.setResourceCollection(),n.isDataManager=!0;break;case"editFollowingEvents":this.quickPopup&&this.quickPopup.refreshQuickDialog();break;case"allowAdding":case"allowEditing":case"allowDeleting":this.showHeaderBar&&this.headerModule&&this.headerModule.updateAddIcon(),this.eventWindow&&this.eventWindow.refresh();break;case"spannedEventPlacement":case"minimumEventDuration":case"enableMaxHeight":case"enableIndicator":this.refreshEvents(!1);break;case"ignoreWhitespace":n.isLayout=!0}},t.prototype.destroyHeaderModule=function(){this.headerModule&&(this.headerModule.destroy(),this.headerModule=null)},t.prototype.destroyPopups=function(){this.quickPopup&&(this.quickPopup.destroy(),this.quickPopup=null),this.eventWindow&&(this.eventWindow.destroy(),this.eventWindow=null)},t.prototype.showSpinner=function(){$r(this.element)},t.prototype.hideSpinner=function(){pr(this.element)},t.prototype.setWorkHours=function(e,i,n,s){D(this.getWorkHourCells(e,i,n,s),Xf)},t.prototype.resetWorkHours=function(e,i,n,s){void 0===e&&(e=this.activeView.renderDates),M(e&&i&&n?this.getWorkHourCells(e,i,n,s):[].slice.call(this.element.querySelectorAll("."+Xf)),Xf)},t.prototype.getWorkHourCells=function(e,i,n,s){if(["Agenda","MonthAgenda","Month","TimelineMonth"].indexOf(this.currentView)>-1)return[];var a=this.getStartEndTime(i),o=this.getStartEndTime(n),l=this.getContentTable();if(u(a)||u(o)||!l)return[];a.setMilliseconds(0),o.setMilliseconds(0);var h=this.activeView.getStartHour();a<h&&(a=h);var c=this.activeView.getEndHour();o>c&&(o=c);for(var p=this.activeViewOptions.timeScale.interval*Os/this.activeViewOptions.timeScale.slotCount,f=Math.round((a.getTime()-h.getTime())/p),m=Math.ceil((o.getTime()-h.getTime())/p),g=f,y=m,C=[],E=0,S=e;E<S.length;E++){var w=S[E];ie(w=this.getDateTime(w));var A=this.activeView.renderDates;!u(s)&&this.resourceBase&&!this.activeView.isTimelineView()&&(A=this.resourceBase.lastResourceLevel[parseInt(s.toString(),10)].renderDates);var T=this.getIndexOfDate(A,w);if(T>=0){if(this.activeView.isTimelineView()){var k=Math.round((c.getTime()-h.getTime())/p);f=g+T*k,m=y+T*k}for(var j=f;j<m;j++)if(this.activeView.isTimelineView()){var J=u(s)?0:s;C.push(l.rows[parseInt(J.toString(),10)].cells[parseInt(j.toString(),10)])}else if(u(s))C.push(l.rows[parseInt(j.toString(),10)].cells[parseInt(T.toString(),10)]);else{var ne="."+Te+'[data-group-index="'+s+'"]',R=[].slice.call(l.rows[parseInt(j.toString(),10)].querySelectorAll(ne));C.push(R[parseInt(T.toString(),10)])}}}return C},t.prototype.getCellDetails=function(e){var i=e instanceof Array?e:[e],n=Qp(i[0]),s=Qp(i.slice(-1)[0]),a=this.getDateFromElement(n),o=this.getDateFromElement(s);if(!u(a)&&!u(o)){var l=this.activeView.isTimelineView()&&!u(s.getAttribute("colSpan"))&&this.headerRows.length>0,h=l?parseInt(s.getAttribute("colSpan"),10):1,c={startTime:a,endTime:o=!this.activeViewOptions.timeScale.enable||l||s.classList.contains(Si)||s.classList.contains(Vn)?Ee(new Date(o.getTime()),h):this.activeView.getEndDateFromStartDate(o),isAllDay:this.isAllDayCell(n),element:e},d=n.getAttribute("data-group-index");return u(d)||(c.groupIndex=parseInt(d,10)),c}},t.prototype.getSelectedElements=function(){return this.keyboardInteractionModule&&this.keyboardInteractionModule.selectedCells.length>0?this.keyboardInteractionModule.selectedCells:this.getSelectedCells()},t.prototype.getResourceCollections=function(){return this.resourceCollection},t.prototype.setResourceCollections=function(e){this.setProperties({resources:e},!1)},t.prototype.changeCurrentView=function(e,i){var n=this.getViewIndex(e),s=e.charAt(0).toLowerCase()+e.slice(1),a=this.viewOptions[""+s];a&&(n=this.viewCollections.indexOf(a[i||0])),-1!==n&&n!==this.viewIndex&&this.changeView(e,null,null,n)},t.prototype.getCurrentViewIndex=function(){return this.viewIndex},t.prototype.getResourcesByIndex=function(e){if(this.resourceBase&&this.resourceBase.lastResourceLevel){if(e<0||e>=this.resourceBase.lastResourceLevel.length)return;var i=this.resourceBase.lastResourceLevel[parseInt(e.toString(),10)],n={};return this.resourceBase.setResourceValues(n,e),{resource:i.resource,resourceData:i.resourceData,groupData:n}}},t.prototype.expandResource=function(e,i){this.activeView.isTimelineView()&&this.resourceBase&&this.resourceCollection.length>1&&this.resourceBase.resourceExpand(e,i,!1)},t.prototype.collapseResource=function(e,i){this.activeView.isTimelineView()&&this.resourceBase&&this.resourceCollection.length>1&&this.resourceBase.resourceExpand(e,i,!0)},t.prototype.scrollTo=function(e,i){this.activeView.scrollToDate&&u(e)&&i?this.activeView.scrollToDate(i):this.activeView.scrollToHour&&this.activeView.scrollToHour(e,i)},t.prototype.scrollToResource=function(e,i){this.resourceBase&&this.resourceBase.lastResourceLevel&&this.resourceBase.resourceScroll(e,i)},t.prototype.exportToICalendar=function(e,i){if(!this.iCalendarExportModule)throw Error("Inject ICalendarExport module");this.iCalendarExportModule.initializeCalendarExport(e,i)},t.prototype.importICalendar=function(e){if(!this.iCalendarImportModule)throw Error("Inject ICalendarImport module");this.iCalendarImportModule.initializeCalendarImport(e)},t.prototype.addEvent=function(e){this.crudModule.addEvent(e)},t.prototype.generateEventOccurrences=function(e,i){return this.eventBase?this.eventBase.generateOccurrence(e,i):[]},t.prototype.exportToExcel=function(e){if(!this.excelExportModule)throw Error("Inject ExcelExport module");this.excelExportModule.initializeExcelExport(e)},t.prototype.print=function(e){if(!this.printModule)throw Error("Inject Print module");this.printModule.print(e)},t.prototype.saveEvent=function(e,i){this.crudModule.saveEvent(e,i)},t.prototype.deleteEvent=function(e,i){this.crudModule.deleteEvent(e,i)},t.prototype.getEvents=function(e,i,n){var s=[];return s=n?this.eventBase.getProcessedEvents():this.eventsData,e&&(e=this.getDateTime(e)),i&&(i=this.getDateTime(i)),this.eventBase.filterEventsByRange(s,e,i)},t.prototype.getBlockEvents=function(e,i,n){var s=[];return s=n?this.eventBase.getProcessedEvents(this.blockData):this.blockData,e&&(e=this.getDateTime(e)),i&&(i=this.getDateTime(i)),this.eventBase.filterEventsByRange(s,e,i)},t.prototype.getOccurrencesByID=function(e){return this.eventBase.getOccurrencesByID(e)},t.prototype.getOccurrencesByRange=function(e,i){return e=this.getDateTime(e),i=this.getDateTime(i),this.eventBase.getOccurrencesByRange(e,i)},t.prototype.getCurrentViewDates=function(){return this.activeView?this.activeView.renderDates:[]},t.prototype.setRecurrenceEditor=function(e){this.eventWindow.setRecurrenceEditor(e)},t.prototype.getEventMaxID=function(){return this.eventBase.getEventMaxID()},t.prototype.getDeletedOccurrences=function(e){return this.eventBase.getDeletedOccurrences(e)},t.prototype.getCurrentViewEvents=function(){return this.eventsProcessed},t.prototype.refreshEvents=function(e){void 0===e&&(e=!0),e?(this.dragAndDropModule&&(this.dragAndDropModule.actionObj.action="",M([this.element],Nl)),this.crudModule.refreshDataManager()):(this.uiStateValues&&(this.uiStateValues.isPreventTimezone=!0),this.crudModule&&this.crudModule.refreshProcessedData(),this.uiStateValues&&(this.uiStateValues.isPreventTimezone=!1))},t.prototype.refreshTemplates=function(e){switch(e?this.resetTemplates([e]):this.resetTemplates(),e){case"eventTemplate":this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),this.refreshEvents(!1);break;case"dateHeaderTemplate":this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),this.activeView.refreshHeader();break;case"dateRangeTemplate":this.dateRangeTemplateFn=this.templateParser(this.activeViewOptions.dateRangeTemplate),this.headerModule&&this.headerModule.refresh();break;case"resourceHeaderTemplate":this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),this.activeView.isTimelineView()?this.activeView.refreshResourceHeader():this.activeView.refreshHeader();break;case"quickInfoTemplates":this.quickPopup&&(this.quickPopup.destroy(),this.quickPopup=null),this.quickPopup=new o8(this),this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header),this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content),this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer);break;case"editorTemplate":this.destroyEditorWindow(),this.editorTemplateFn=this.templateParser(this.editorTemplate);break;case"editorHeaderTemplate":this.destroyEditorWindow(),this.editorHeaderTemplateFn=this.templateParser(this.editorHeaderTemplate);break;case"editorFooterTemplate":this.destroyEditorWindow(),this.editorFooterTemplateFn=this.templateParser(this.editorFooterTemplate);break;case"tooltipTemplate":case"headerTooltipTemplate":this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),this.eventTooltip=new V1(this),this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate),this.headerTooltipTemplateFn=this.templateParser(this.activeViewOptions.group.headerTooltipTemplate);break;default:this.initializeView(this.currentView)}},t.prototype.refreshLayout=function(){this.onScheduleResize(),this.headerModule&&this.headerModule.refresh(),this.eventWindow&&this.eventWindow.refresh()},t.prototype.getEventDetails=function(e){var i=(e=Qp(e)).getAttribute("data-guid");return i?this.eventBase.getEventByGuid(i):{}},t.prototype.isSlotAvailable=function(e,i,n){var a,o,s=this,l=this.activeEventData.event;if(e instanceof Date||"string"==typeof e?(a=e,o=i):(l=e,a=e[this.eventFields.startTime],o=e[this.eventFields.endTime],this.resourceBase&&(n=this.eventBase.getGroupIndexFromEvent(e))),u(a)||u(o))return!0;a=this.getDateTime(a),o=this.getDateTime(o);var h=this.eventBase.filterEvents(a,o);return!u(n)&&this.resourceBase&&this.resourceBase.lastResourceLevel.length>0&&(h=this.eventBase.filterEventsByResource(this.resourceBase.lastResourceLevel[parseInt(n.toString(),10)],h)),l&&(h=h.filter(l.Guid?function(c){return c.Guid!==l.Guid}:function(c){return c[s.eventFields.id]!==l[s.eventFields.id]})),!(h.length>0)},t.prototype.openEditor=function(e,i,n,s){"Add"!==i||n?(e[this.eventFields.startTime]=this.getDateTime(e[this.eventFields.startTime]),e[this.eventFields.endTime]=this.getDateTime(e[this.eventFields.endTime])):(e.startTime=this.getDateTime(e.startTime),e.endTime=this.getDateTime(e.endTime),u(e.element)||(e.element=Qp(e.element))),this.currentAction=i,"Add"!==i&&(this.activeEventData.event=e),this.eventWindow.openEditor(e,i,n,s)},t.prototype.closeEditor=function(){this.eventWindow&&this.eventWindow.dialogClose()},t.prototype.openQuickInfoPopup=function(e){var i=this;if("Year"!==this.currentView&&!u(e))if(u(e[this.eventFields.id])){if("Agenda"===this.currentView||"MonthAgenda"===this.currentView||u(this.activeView))return;var n={startTime:this.activeCellsData.startTime=this.getDateTime(e[this.eventFields.startTime]),endTime:this.activeCellsData.endTime=this.getDateTime(e[this.eventFields.endTime]),isAllDay:this.activeCellsData.isAllDay=!u(e[this.eventFields.isAllDay])&&e[this.eventFields.isAllDay]},s=this.activeView.getAdjustedDate(new Date(n.startTime));if(s){var a="."+Te+'[data-date="'+s.getTime()+'"]';this.activeViewOptions.group.resources.length>0&&!this.uiStateValues.isGroupAdaptive&&this.resourceBase&&this.eventBase&&(n.groupIndex=this.eventBase.getGroupIndexFromEvent(e),a="."+Te+'[data-date="'+s.getTime()+'"][data-group-index="'+n.groupIndex+'"]');var o=this.element.querySelector(a);o&&(o.focus(),n.element=o,this.notify(Al,n))}}else{var l=this.getCurrentViewEvents().filter(function(p){return e[i.eventFields.id]===p[i.eventFields.id]});if(l.length<=0)return;var h=l[0];if(e[this.eventFields.recurrenceRule]){var c=l.filter(function(p){return p[i.eventFields.startTime].getTime()===e[i.eventFields.startTime].getTime()});c.length>0&&(h=c[0])}var d=this.element.querySelector('div[data-guid="'+h.Guid+'"]');d&&(this.eventBase.removeSelectedAppointmentClass(),this.eventBase.addSelectedAppointments([d],!1),this.activeEventData={event:h,element:d},("Agenda"===this.currentView||"MonthAgenda"===this.currentView)&&D([this.activeEventData.element],aS),this.notify(Yf,this.activeEventData))}},t.prototype.closeQuickInfoPopup=function(){this.quickPopup&&this.quickPopup.quickPopupHide(!0)},t.prototype.closeTooltip=function(){this.eventTooltip&&this.eventTooltip.close()},t.prototype.selectResourceByIndex=function(e){this.resourceBase&&this.uiStateValues.isGroupAdaptive&&this.resourceBase.selectResourceByIndex(e)},t.prototype.getIndexFromResourceId=function(e,i){return this.resourceBase?this.resourceBase.getIndexFromResourceId(e,i):null},t.prototype.addResource=function(e,i,n){this.resourceBase.addResource(e,i,n)},t.prototype.removeResource=function(e,i){this.resourceBase.removeResource(e,i)},t.prototype.destroy=function(){this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),this.destroyPopups(),this.hideSpinner(),this.unWireEvents(),this.destroyHeaderModule(),this.eventBase&&(this.eventBase.destroy(),this.eventBase=null),this.workCellAction&&(this.workCellAction.destroy(),this.workCellAction=null),this.inlineModule&&(this.inlineModule.destroy(),this.inlineModule=null),this.keyboardInteractionModule&&(this.keyboardInteractionModule.destroy(),this.keyboardInteractionModule=null),this.scrollModule&&(this.scrollModule.destroy(),this.scrollModule=null),this.printModule&&this.printModule.destroy(),this.activeView&&(this.resetTemplates(),this.activeView.removeEventListener(),this.activeView.destroy(),this.activeView=null),this.scheduleTouchModule&&(this.scheduleTouchModule.destroy(),this.scheduleTouchModule=null),this.crudModule&&(this.crudModule.destroy(),this.crudModule=null),this.dataModule&&(this.dataModule.destroy(),this.dataModule=null),r.prototype.destroy.call(this);for(var i=0,n=["dayModule","weekModule","workWeekModule","monthModule","monthAgendaModule","yearModule","agendaModule","timelineViewsModule","timelineMonthModule","timelineYearModule","resizeModule","dragAndDropModule","excelExportModule","printModule","iCalendarExportModule","iCalendarImportModule","tzModule","eventsData","eventsProcessed","blockData","blockProcessed","uiStateValues","viewCollections","viewOptions","defaultLocale","localeObj","selectedElements","resourceCollection","editorTitles","eventFields","activeViewOptions","activeEventData","activeCellsData","renderModule"];i<n.length;i++)this[""+n[i]]=null;Go(this.element);var a=[KD,HN,Kf,zN];this.cssClass&&(a=a.concat(this.cssClass.split(" "))),M([this.element],a)},Ie([v("auto")],t.prototype,"width",void 0),Ie([v("auto")],t.prototype,"height",void 0),Ie([v(!0)],t.prototype,"showHeaderBar",void 0),Ie([v(!0)],t.prototype,"showTimeIndicator",void 0),Ie([v(!0)],t.prototype,"allowSwiping",void 0),Ie([v("Week")],t.prototype,"currentView",void 0),Ie([v(["Day","Week","WorkWeek","Month","Agenda"])],t.prototype,"views",void 0),Ie([v(new Date)],t.prototype,"selectedDate",void 0),Ie([v(new Date(1900,0,1))],t.prototype,"minDate",void 0),Ie([v(new Date(2099,11,31))],t.prototype,"maxDate",void 0),Ie([v()],t.prototype,"dateFormat",void 0),Ie([v("Gregorian")],t.prototype,"calendarMode",void 0),Ie([v(!0)],t.prototype,"showWeekend",void 0),Ie([v(0)],t.prototype,"firstDayOfWeek",void 0),Ie([v("FirstDay")],t.prototype,"weekRule",void 0),Ie([v([1,2,3,4,5])],t.prototype,"workDays",void 0),Ie([v(12)],t.prototype,"monthsCount",void 0),Ie([v("00:00")],t.prototype,"startHour",void 0),Ie([v("24:00")],t.prototype,"endHour",void 0),Ie([v(null)],t.prototype,"timeFormat",void 0),Ie([v(!0)],t.prototype,"enableHtmlSanitizer",void 0),Ie([v(!1)],t.prototype,"enableAllDayScroll",void 0),Ie([v(!1)],t.prototype,"enableAdaptiveUI",void 0),Ie([v(!0)],t.prototype,"allowResizing",void 0),Ie([at({},eEe)],t.prototype,"workHours",void 0),Ie([at({},iEe)],t.prototype,"timeScale",void 0),Ie([v(!0)],t.prototype,"allowKeyboardInteraction",void 0),Ie([v(!0)],t.prototype,"allowDragAndDrop",void 0),Ie([v()],t.prototype,"dateHeaderTemplate",void 0),Ie([v()],t.prototype,"dateRangeTemplate",void 0),Ie([v()],t.prototype,"cellHeaderTemplate",void 0),Ie([v()],t.prototype,"dayHeaderTemplate",void 0),Ie([v()],t.prototype,"monthHeaderTemplate",void 0),Ie([v()],t.prototype,"cellTemplate",void 0),Ie([v(!1)],t.prototype,"readonly",void 0),Ie([v(!0)],t.prototype,"showQuickInfo",void 0),Ie([v(!1)],t.prototype,"allowInline",void 0),Ie([v(!0)],t.prototype,"allowMultiCellSelection",void 0),Ie([v(!0)],t.prototype,"allowMultiRowSelection",void 0),Ie([v(!1)],t.prototype,"quickInfoOnSelectionEnd",void 0),Ie([v(!1)],t.prototype,"showWeekNumber",void 0),Ie([v(!1)],t.prototype,"rowAutoHeight",void 0),Ie([v(!1)],t.prototype,"allowMultiDrag",void 0),Ie([v(0)],t.prototype,"firstMonthOfYear",void 0),Ie([v()],t.prototype,"editorTemplate",void 0),Ie([v()],t.prototype,"editorHeaderTemplate",void 0),Ie([v()],t.prototype,"editorFooterTemplate",void 0),Ie([at({},sEe)],t.prototype,"quickInfoTemplates",void 0),Ie([v(7)],t.prototype,"agendaDaysCount",void 0),Ie([v(!0)],t.prototype,"hideEmptyAgendaDays",void 0),Ie([v(!0)],t.prototype,"enableRecurrenceValidation",void 0),Ie([v()],t.prototype,"timezone",void 0),Ie([at({},pEe)],t.prototype,"eventSettings",void 0),Ie([v(Y6)],t.prototype,"timezoneDataSource",void 0),Ie([v()],t.prototype,"resourceHeaderTemplate",void 0),Ie([v()],t.prototype,"headerIndentTemplate",void 0),Ie([at({},mEe)],t.prototype,"group",void 0),Ie([Fs([],vEe)],t.prototype,"resources",void 0),Ie([Fs([],aEe)],t.prototype,"headerRows",void 0),Ie([v()],t.prototype,"cssClass",void 0),Ie([v()],t.prototype,"eventDragArea",void 0),Ie([x()],t.prototype,"created",void 0),Ie([x()],t.prototype,"destroyed",void 0),Ie([x()],t.prototype,"cellClick",void 0),Ie([x()],t.prototype,"cellDoubleClick",void 0),Ie([x()],t.prototype,"moreEventsClick",void 0),Ie([x()],t.prototype,"hover",void 0),Ie([x()],t.prototype,"select",void 0),Ie([x()],t.prototype,"actionBegin",void 0),Ie([x()],t.prototype,"actionComplete",void 0),Ie([x()],t.prototype,"actionFailure",void 0),Ie([x()],t.prototype,"navigating",void 0),Ie([x()],t.prototype,"renderCell",void 0),Ie([x()],t.prototype,"eventClick",void 0),Ie([x()],t.prototype,"eventDoubleClick",void 0),Ie([x()],t.prototype,"eventRendered",void 0),Ie([x()],t.prototype,"dataBinding",void 0),Ie([x()],t.prototype,"popupOpen",void 0),Ie([x()],t.prototype,"popupClose",void 0),Ie([x()],t.prototype,"dragStart",void 0),Ie([x()],t.prototype,"drag",void 0),Ie([x()],t.prototype,"dragStop",void 0),Ie([x()],t.prototype,"resizeStart",void 0),Ie([x()],t.prototype,"resizing",void 0),Ie([x()],t.prototype,"resizeStop",void 0),Ie([x()],t.prototype,"virtualScrollStart",void 0),Ie([x()],t.prototype,"virtualScrollStop",void 0),Ie([x()],t.prototype,"dataBound",void 0),Ie([et],t)}(Yt),NS=function(){function r(t){this.previousNextAction="next",this.parent=t}return r.prototype.isTimelineView=function(){return-1!==this.parent.currentView.indexOf("Timeline")},r.prototype.getContentRows=function(){return[]},r.prototype.refreshHeader=function(){},r.prototype.refreshResourceHeader=function(){me(this.element.querySelector("tbody").lastElementChild.firstElementChild);var t=N("td");t.appendChild(this.parent.resourceBase.createResourceColumn()),Tt([t],this.element.querySelector("tbody").lastElementChild),this.parent.notify(Vr,{})},r.prototype.getDayName=function(t){return this.parent.getDayNames("abbreviated")[t.getDay()]},r.prototype.getDate=function(t){return this.parent.globalize.formatDate(t,{format:"d",calendar:this.parent.getCalendarMode()})},r.prototype.getTime=function(t){return this.parent.isAdaptive?this.parent.globalize.formatDate(t,"HH:mm"===this.parent.activeViewOptions.timeFormat||"HH.mm"===this.parent.activeViewOptions.timeFormat?{format:"H",calendar:this.parent.getCalendarMode()}:{skeleton:"h",calendar:this.parent.getCalendarMode()}):this.parent.getTimeString(t)},r.prototype.getTimelineDate=function(t){return Di(this.parent.globalize.formatDate(t,{skeleton:"MMMd",calendar:this.parent.getCalendarMode()})+", "+this.parent.getDayNames("wide")[t.getDay()],"multiple")},r.prototype.createEventTable=function(t){var e=N("div",{className:Qc});return ce(this.getEventRows(t),e),e},r.prototype.getEventRows=function(t){for(var i,e=[],n=0;n<t;n++)i=N("div",{className:Aa}),this.parent.resourceBase&&!this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.renderedResources&&i.setAttribute("data-group-index",this.parent.resourceBase.renderedResources[parseInt(n.toString(),10)].groupIndex.toString()),e.push(i);return e},r.prototype.collapseRows=function(t){this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(this.parent.resourceBase.hideResourceRows(t.querySelector("tbody")),this.parent.resourceBase.hideResourceRows(t.querySelector("."+Qc)))},r.prototype.createTableLayout=function(t){var i=N("table",{className:"e-schedule-table "+(t||"")}),n=N("tbody");return i.appendChild(n),i},r.prototype.setAriaAttributes=function(t){t.setAttribute("role","grid"),t.setAttribute("aria-label",this.getLabelText(this.parent.currentView))},r.prototype.createColGroup=function(t,e){var i=e.length;e[0]&&e[0].colSpan&&(i=e.map(function(a){return a.colSpan}).reduce(function(a,o){return a+o}));for(var n=N("colgroup"),s=0;s<i;s++)n.appendChild(N("col"));Tt([n],t)},r.prototype.getScrollXIndent=function(t){return t.offsetHeight-t.clientHeight>0?$D():0},r.prototype.scrollTopPanel=function(t){this.getDatesHeaderElement().firstElementChild.scrollLeft=t.scrollLeft},r.prototype.scrollHeaderLabels=function(t){for(var e=this.element.querySelector(".e-date-header-wrap table"),i=e.offsetWidth/e.querySelectorAll("colgroup col").length,n=function(f,m){for(var g,y=0,C=0,E=m?-t.scrollLeft:t.scrollLeft,S=0,w=f;S<w.length;S++){var A=w[S];if((C+=parseInt(A.getAttribute("colSpan"),10))>Math.floor(E/i)){g=A;break}y+=A.offsetWidth}u(g)||(g.children[0].style[m?"right":"left"]=E-y+"px")},a=0,o=[".e-header-year-cell",".e-header-month-cell",".e-header-week-cell",".e-header-cells"];a<o.length;a++){var h=[].slice.call(this.element.querySelectorAll(o[a]));if(h.length>0){for(var c=0,d=h;c<d.length;c++)d[c].children[0].style[this.parent.enableRtl?"right":"left"]="";n(h,this.parent.enableRtl)}}},r.prototype.addAttributes=function(t,e){t.template&&ce(t.template,e),t.colSpan&&e.setAttribute("colspan",t.colSpan.toString()),t.className&&D([e],t.className)},r.prototype.getHeaderBarHeight=function(){var t=2;if(this.parent.headerModule&&(t+=BN(this.parent.headerModule.getHeaderElement())),this.parent.uiStateValues.isGroupAdaptive){var e=this.parent.element.querySelector("."+JN);e&&(t+=e.offsetHeight)}return t},r.prototype.renderPanel=function(t){t===qN?Tt([this.element],this.parent.element.querySelector("."+so)):this.parent.element.querySelector("."+so).appendChild(this.element)},r.prototype.setPanel=function(t){this.element=t},r.prototype.getPanel=function(){return this.element},r.prototype.getDatesHeaderElement=function(){return this.element.querySelector("."+hy)},r.prototype.getDateSlots=function(t,e){return[]},r.prototype.generateColumnLevels=function(){return[]},r.prototype.getColumnLevels=function(){return this.colLevels},r.prototype.highlightCurrentTime=function(){},r.prototype.getStartDate=function(){return this.renderDates[0]},r.prototype.getEndDate=function(){return this.renderDates[this.renderDates.length-1]},r.prototype.startDate=function(){return this.renderDates[0]},r.prototype.endDate=function(){return Ee(this.renderDates[this.renderDates.length-1],1)},r.prototype.getStartHour=function(){var t=this.parent.getStartEndTime(this.parent.activeViewOptions.startHour);return u(t)&&(t=new Date(2e3,0,0,0)),t},r.prototype.getEndHour=function(){var t=this.parent.getStartEndTime(this.parent.activeViewOptions.endHour);return u(t)&&(t=new Date(2e3,0,0,0)),t},r.prototype.isCurrentDate=function(t){return t.setHours(0,0,0,0)===new Date(this.parent.currentTimezoneDate).setHours(0,0,0,0)},r.prototype.isCurrentMonth=function(t){return this.parent.activeViewOptions.displayDate||this.parent.activeViewOptions.numberOfWeeks>0?this.parent.activeView.getStartDate().getTime()<=this.parent.getCurrentTime().getTime()&&this.parent.activeView.getEndDate().getTime()>=this.parent.getCurrentTime().getTime():t.getFullYear()===this.parent.getCurrentTime().getFullYear()&&t.getMonth()===this.parent.getCurrentTime().getMonth()},r.prototype.isWorkDay=function(t,e){return void 0===e&&(e=this.parent.activeViewOptions.workDays),e.indexOf(t.getDay())>=0},r.prototype.isWorkHour=function(t,e,i,n){return!(u(e)||u(i)||(e.setMilliseconds(0),i.setMilliseconds(0),Lh(t)<Lh(e)||Lh(t)>=Lh(i)||!this.isWorkDay(t,n)))},r.prototype.getRenderDates=function(t){var e=[];if("Week"===this.parent.currentView||"TimelineWeek"===this.parent.currentView)for(var n=jr(ie(this.parent.selectedDate),this.parent.activeViewOptions.firstDayOfWeek),s=0,a=7*this.parent.activeViewOptions.interval;s<a;s++)(this.parent.activeViewOptions.showWeekend||this.isWorkDay(n,t))&&e.push(n),n=Ee(n,1);else if("WorkWeek"===this.parent.currentView||"TimelineWorkWeek"===this.parent.currentView){n=jr(ie(this.parent.selectedDate),this.parent.activeViewOptions.firstDayOfWeek),s=0;for(var o=7*this.parent.activeViewOptions.interval;s<o;s++)this.isWorkDay(n,t)&&e.push(n),n=Ee(n,1)}else{var l="Agenda"===this.parent.currentView?this.parent.agendaDaysCount:this.parent.activeViewOptions.interval;n=ie(this.parent.selectedDate);do{(this.parent.activeViewOptions.showWeekend||this.isWorkDay(n,t))&&e.push(n),n=Ee(n,1)}while(l!==e.length)}return t||(this.renderDates=e),this.parent.headerModule&&this.parent.headerModule.previousNextIconHandler(),e},r.prototype.getNextPreviousDate=function(t){if(this.previousNextAction=t,"Day"===this.parent.currentView||"TimelineDay"===this.parent.currentView){if(this.parent.activeViewOptions.showWeekend){var e=this.parent.activeViewOptions.interval;return Ee(this.parent.selectedDate,"next"===t?e:-e)}var i=void 0;if("next"===t)for(i=Ee(this.renderDates.slice(-1)[0],1);!this.isWorkDay(i);)i=Ee(i,1);else{i=Ee(this.renderDates[0],-1);var n=0;do{this.isWorkDay(i)&&(n+=1),this.parent.activeViewOptions.interval!==n&&(i=Ee(i,-1))}while(this.parent.activeViewOptions.interval!==n)}return i}return Ee(this.parent.selectedDate,("next"===t?7:-7)*this.parent.activeViewOptions.interval)},r.prototype.getLabelText=function(t){var e=t.charAt(0).toLowerCase()+t.substring(1);return this.parent.localeObj.getConstant(e)+" of "+Di(this.parent.globalize.formatDate(this.parent.selectedDate,{skeleton:"long",calendar:this.parent.getCalendarMode()}),"single")},r.prototype.getDateRangeText=function(){return this.parent.isAdaptive?Di(this.parent.globalize.formatDate(this.parent.selectedDate,{format:this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y",calendar:this.parent.getCalendarMode()}),"single"):this.formatDateRange(this.renderDates[0],this.renderDates[this.renderDates.length-1])},r.prototype.formatDateRange=function(t,e){var o,i=this.parent.globalize,n=this.parent.getCalendarMode();if(t===e&&(e=null),!u(this.parent.activeViewOptions.dateFormat))return Di(e?i.formatDate(t,{format:this.parent.activeViewOptions.dateFormat,calendar:n})+" - "+i.formatDate(e,{format:this.parent.activeViewOptions.dateFormat,calendar:n}):i.formatDate(t,{format:this.parent.activeViewOptions.dateFormat,calendar:n}),"multiple");if(o="en"===this.parent.locale||"en-US"===this.parent.locale?_("dateFormats.long",Ps(n)):_("main."+this.parent.locale+".dates.calendars."+n+".dateFormats.long",ji),!e)return Di(i.formatDate(t,{format:o,calendar:n}),"single");var l=o.trim().toLocaleLowerCase();return Di("d"===l.substr(0,1)?t.getFullYear()===e.getFullYear()?t.getMonth()===e.getMonth()?i.formatDate(t,{format:"dd",calendar:n})+" - "+i.formatDate(e,{format:"dd MMMM yyyy",calendar:n}):i.formatDate(t,{format:"dd MMM",calendar:n})+" - "+i.formatDate(e,{format:"dd MMM yyyy",calendar:n}):i.formatDate(t,{format:"dd MMM yyyy",calendar:n})+" - "+i.formatDate(e,{format:"dd MMM yyyy",calendar:n}):"m"===l.substr(0,1)?t.getFullYear()===e.getFullYear()?t.getMonth()===e.getMonth()?i.formatDate(t,{format:"MMMM dd",calendar:n})+" - "+i.formatDate(e,{format:"dd, yyyy",calendar:n}):i.formatDate(t,{format:"MMM dd",calendar:n})+" - "+i.formatDate(e,{format:"MMM dd, yyyy",calendar:n}):i.formatDate(t,{format:"MMM dd, yyyy",calendar:n})+" - "+i.formatDate(e,{format:"MMM dd, yyyy",calendar:n}):i.formatDate(t,{format:o,calendar:n})+" - "+i.formatDate(e,{format:o,calendar:n}),"multiple")},r.prototype.getMobileDateElement=function(t,e){return N("div",{className:e,innerHTML:'<div class="e-m-date">'+this.parent.globalize.formatDate(t,{format:"d",calendar:this.parent.getCalendarMode()})+'</div><div class="e-m-day">'+Di(this.parent.globalize.formatDate(t,{format:"E",calendar:this.parent.getCalendarMode()}),"single")+"</div>"})},r.prototype.setResourceHeaderContent=function(t,e,i){if(void 0===i&&(i=nr),this.parent.activeViewOptions.resourceHeaderTemplate){var n={resource:e.resource,resourceData:e.resourceData},o=this.parent.element.id+"_"+this.parent.activeViewOptions.resourceHeaderTemplateName+"resourceHeaderTemplate";ce([].slice.call(this.parent.getResourceHeaderTemplate()(n,this.parent,"resourceHeaderTemplate",o,!1)),t)}else{var h=N("div",{className:i});this.parent.sanitize(e.resourceData[e.resource.textField],h),t.appendChild(h)}},r.prototype.renderResourceMobileLayout=function(){this.parent.resourceBase.lastResourceLevel&&this.parent.resourceBase.lastResourceLevel.length<=0||(this.parent.resourceBase.renderResourceHeader(),this.parent.resourceBase.renderResourceTree())},r.prototype.addAutoHeightClass=function(t){!this.parent.uiStateValues.isGroupAdaptive&&this.parent.rowAutoHeight&&this.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&D([t],S1)},r.prototype.getColElements=function(){return[].slice.call(this.element.querySelectorAll("."+ut+" col, ."+Er+" col"))},r.prototype.setColWidth=function(t){if(this.isTimelineView()){var e=this.getColElements(),n=this.element.querySelector("."+_i+" tbody").getBoundingClientRect().width/(e.length/2);if(t.offsetHeight!==t.clientHeight){var s=this.parent.element.querySelector("."+Ta);u(s)||ue(s,{height:$(t.clientHeight)})}[].slice.call(this.element.querySelectorAll(".e-header-cells,.e-time-slots,.e-header-week-cell,.e-header-month-cell,.e-header-year-cell")).forEach(function(l){var h=u(l.getAttribute("colspan"))?"1":l.getAttribute("colspan"),c=parseInt(h,10);ue(l,{width:$(n*c)})})}},r.prototype.resetColWidth=function(){for(var e=0,i=this.getColElements();e<i.length;e++)i[e].style.width=""},r.prototype.getContentAreaElement=function(){return this.element.querySelector("."+ut)},r.prototype.wireExpandCollapseIconEvents=function(){if(this.parent.resourceBase&&this.parent.resourceBase.resourceCollection.length>1)for(var e=0,i=[].slice.call(this.element.querySelectorAll("."+Jf));e<i.length;e++){var n=i[e];b.clearEvents(n),b.add(n,"click",this.parent.resourceBase.onTreeIconClick,this.parent.resourceBase)}},r.prototype.scrollToDate=function(t){if(-1!==["Month","TimelineMonth"].indexOf(this.parent.currentView)&&!u(t)){var e=this.getContentAreaElement(),i=new Date(ie(new Date(+t)).getTime()).getTime(),n=e.querySelector("."+Te+'[data-date="'+i+'"]');"Month"===this.parent.currentView&&n&&(e.scrollWidth>e.clientWidth&&(e.scrollLeft=this.parent.enableRtl?-(this.parent.getContentTable().offsetWidth-n.offsetLeft-n.offsetWidth):n.offsetLeft),e.scrollTop=n.offsetTop),"TimelineMonth"===this.parent.currentView&&n&&(e.scrollLeft=this.parent.enableRtl?-(this.parent.getContentTable().offsetWidth-n.offsetLeft-n.offsetWidth):n.offsetLeft)}},r.prototype.setPersistence=function(){if(this.parent.enablePersistence){var t=this.element.querySelector(".e-content-wrap");u(t)||(this.parent.scrollLeft=t.scrollLeft,this.parent.scrollTop=t.scrollTop)}},r.prototype.retainScrollPosition=function(){if(this.parent.enablePersistence){var t=this.parent.element.querySelector(".e-content-wrap");!u(t)&&!u(this.parent.scrollLeft)&&!u(this.parent.scrollTop)&&(t.scrollTop=this.parent.scrollTop,t.scrollLeft=this.parent.scrollLeft)}},r.prototype.getViewStartDate=function(){var t=this.renderDates[0];return this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.lastResourceLevel.length>0&&(t=this.parent.resourceBase.getResourceRenderDates()[0]),t},r.prototype.getViewEndDate=function(){var t=Ee(this.renderDates[this.renderDates.length-1],1);return this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.lastResourceLevel.length>0&&(t=Ee(this.parent.resourceBase.getResourceRenderDates().slice(-1)[0],1)),t},r.prototype.getAdjustedDate=function(t){return!this.parent.activeViewOptions.timeScale.enable||"Month"===this.parent.currentView||"TimelineYear"===this.parent.currentView&&0===this.parent.activeViewOptions.group.resources.length?new Date(t.setHours(0,0,0,0)):"TimelineYear"===this.parent.currentView&&this.parent.activeViewOptions.group.resources.length>0?(t.setHours(0,0,0,0),new Date(t.setDate(1))):null},r.prototype.resetColLevels=function(){this.parent.resourceBase.expandedResources=[];for(var t=this.parent.virtualScrollModule.getRenderedCount(),e=this.parent.activeViewOptions.group.byDate?this.colLevels[0]:this.parent.resourceBase.renderedResources,i=0,n=0;n<e.length&&!(i>=t);n++)i+=e[parseInt(n.toString(),10)].colSpan,this.parent.resourceBase.expandedResources.push(e[parseInt(n.toString(),10)]);this.parent.activeViewOptions.group.byDate?(this.colLevels[0]=this.parent.resourceBase.expandedResources,this.parent.virtualScrollModule.setRenderedDates(this.parent.resourceBase.expandedResources)):(this.colLevels[this.colLevels.length-2]=this.parent.resourceBase.expandedResources,this.parent.resourceBase.renderedResources=this.parent.resourceBase.expandedResources),"Month"!==this.parent.currentView&&(this.colLevels[this.colLevels.length-1]=this.colLevels[this.colLevels.length-1].slice(0,i),this.parent.resourceBase.expandedResources=this.colLevels[this.colLevels.length-1])},r.prototype.destroy=function(){this.element&&this.element.parentNode&&me(this.element),this.element=null,this.renderDates=null,this.colLevels=null},r}(),MEe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_S=function(r){function t(e){var i=r.call(this,e)||this;return i.viewClass="e-day-view",i.isInverseTableSelect=!0,i.baseCssClass="e-vertical-view",i.appointment=null,i}return MEe(t,r),t.prototype.getModuleName=function(){return"verticalView"},t.prototype.addEventListener=function(){this.parent.on(Ma,this.scrollUiUpdate,this),this.parent.on(wa,this.renderEvents,this)},t.prototype.removeEventListener=function(){this.parent&&(this.parent.off(Ma,this.scrollUiUpdate),this.parent.off(wa,this.renderEvents))},t.prototype.renderEvents=function(){this.appointment=this.parent.activeViewOptions.timeScale.enable?new F1(this.parent):new lm(this.parent),this.appointment.renderAppointments(),this.parent.notify(Wc,{})},t.prototype.onContentScroll=function(e){this.parent.removeNewEventElement();var i=e.target;this.parent.notify(ay,e),this.scrollLeftPanel(i),this.scrollTopPanel(i),this.parent.isAdaptive||(this.parent.uiStateValues.top=i.scrollTop),this.parent.uiStateValues.left=i.scrollLeft,u(this.parent.quickPopup)||this.parent.quickPopup.quickPopupHide(),this.setPersistence()},t.prototype.onAdaptiveMove=function(e){this.parent.uiStateValues.action&&e.preventDefault()},t.prototype.onAdaptiveScroll=function(e){this.parent&&!this.parent.isDestroyed&&(this.parent.removeNewEventElement(),this.parent.uiStateValues.top=e.target.scrollTop)},t.prototype.scrollLeftPanel=function(e){var i=this.getLeftPanelElement();u(i)||(i.scrollTop=e.scrollTop)},t.prototype.scrollUiUpdate=function(e){if(this.parent){var i=this.parent.element.querySelector("."+Er),n=this.getHeaderBarHeight(),s=this.getLeftPanelElement(),a=this.getScrollableElement(),o=this.getDatesHeaderElement();this.setContentHeight(a,s,this.parent.element.offsetHeight-n-o.offsetHeight),this.setColWidth(a);var h=$D();o.firstElementChild.style[e.cssProperties.rtlBorder]="",o.style[e.cssProperties.rtlPadding]="";var c=!this.parent.enableAllDayScroll||!(a.offsetWidth-a.clientWidth<=i.offsetWidth-i.clientWidth&&i.classList.contains("e-all-day-scroll"));a.offsetWidth-a.clientWidth>0&&c?(o.firstElementChild.style[e.cssProperties.border]=h>0?"1px":"0px",o.style[e.cssProperties.padding]=h>0?h-1+"px":"0px"):(o.firstElementChild.style[e.cssProperties.border]="",o.style[e.cssProperties.padding]=""),e.isPreventScrollUpdate||(this.parent.uiStateValues.isInitial?(this.parent.currentView.indexOf("Timeline")>-1&&(a.scrollTop=this.parent.uiStateValues.top),this.scrollToWorkHour(),this.parent.uiStateValues.isInitial=!1):(s&&(s.scrollTop=this.parent.uiStateValues.top),a.scrollTop=this.parent.uiStateValues.top,a.scrollLeft=this.parent.uiStateValues.left)),this.parent.activeViewOptions.timeScale.enable&&this.highlightCurrentTime(),this.retainScrollPosition()}},t.prototype.setContentHeight=function(e,i,n){this.parent.isAdaptive&&!this.isTimelineView()||u(i)||(i.style.height="auto"===this.parent.height?"auto":$(n-this.getScrollXIndent(e))),e.style.height="auto"===this.parent.height?"auto":$(n)},t.prototype.scrollToWorkHour=function(){if(this.parent.workHours.highlight){var e=this.element.querySelector("."+Xf);e&&(this.getScrollableElement().scrollTop=e.offsetTop,this.parent.uiStateValues.top=e.offsetTop,this.parent.uiStateValues.left=0)}},t.prototype.scrollToHour=function(e,i){var n=this.parent.getStartEndTime(e);if(!u(i)){var s=this.element.querySelector("."+Vn+'[data-date="'+new Date(ie(i)).getTime()+'"]');if(s)if(this.parent.enableRtl){var a=this.element.querySelector("."+_i);this.getScrollableElement().scrollLeft=-(a.offsetWidth-s.offsetLeft-s.offsetWidth)}else this.getScrollableElement().scrollLeft=s.offsetLeft}u(n)||(this.getScrollableElement().scrollTop=this.getTopFromDateTime(n))},t.prototype.scrollToDate=function(e){this.scrollToHour(null,e)},t.prototype.generateColumnLevels=function(){var e=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays),i=[];if(this.parent.activeViewOptions.group.resources.length>0){if(i=this.parent.resourceBase.generateResourceLevels(e),this.parent.activeViewOptions.group.hideNonWorkingDays)for(;0===i[0].length;)this.parent.setProperties({selectedDate:this.parent.activeView.getNextPreviousDate(this.previousNextAction)},!0),this.parent.activeView.getRenderDates(),this.parent.headerModule&&(this.parent.headerModule.setCalendarDate(this.parent.selectedDate),this.parent.headerModule.updateDateRange()),e=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays),i=this.parent.resourceBase.generateResourceLevels(e);if(this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0){var n=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];i=[this.getDateSlots(n.renderDates,n.workDays,n.resourceData[n.resource.startHourField],n.resourceData[n.resource.endHourField])]}}else i.push(e);return this.colLevels=i,i},t.prototype.getDateSlots=function(e,i,n,s){void 0===n&&(n=this.parent.workHours.start),void 0===s&&(s=this.parent.workHours.end);for(var a=[],o=this.parent.getStartEndTime(n),l=this.parent.getStartEndTime(s),h=0,c=e;h<c.length;h++){var d=c[h],p=[Vn];this.isCurrentDate(d)&&p.push(XD),a.push({date:d,type:"dateHeader",className:p,colSpan:1,workDays:i,startHour:new Date(+o),endHour:new Date(+l)})}return a},t.prototype.isWorkHourRange=function(e){return this.getStartHour().getTime()<=e.getTime()&&this.getEndHour().getTime()>=e.getTime()},t.prototype.highlightCurrentTime=function(){var e=this;if(!(this.parent.activeViewOptions.headerRows.length>0&&"Hour"!==this.parent.activeViewOptions.headerRows.slice(-1)[0].option)){var i=this.parent.getCurrentTime();if(this.parent.showTimeIndicator&&this.isWorkHourRange(i))if(this.getCurrentTimeIndicatorIndex().length>0){if([].slice.call(this.element.querySelectorAll("."+Te)).length>0&&this.changeCurrentTimePosition(),u(this.currentTimeIndicatorTimer)){var a=Os-(1e3*i.getSeconds()+i.getMilliseconds());a<=59e3&&window.setTimeout(function(){u(e.currentTimeIndicatorTimer)||(e.clearCurrentTimeIndicatorTimer(),e.changeCurrentTimePosition(),e.updateCurrentTimeIndicatorTimer())},a),this.updateCurrentTimeIndicatorTimer()}}else this.clearCurrentTimeIndicatorTimer();else this.clearCurrentTimeIndicatorTimer()}},t.prototype.getCurrentTimeIndicatorIndex=function(){var e=[];if(!u(this.parent.resourceBase)&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var i=0,n=ie(this.parent.getCurrentTime());if(this.parent.virtualScrollModule&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.activeViewOptions.group.byDate)for(var s=0,a=this.parent.resourceBase.expandedResources;s<a.length;s++)ie((o=a[s]).date).getTime()===n.getTime()&&e.push(i),i+=1;else for(var l=0,h=this.parent.resourceBase.renderedResources;l<h.length;l++){var o;(c=this.parent.getIndexOfDate((o=h[l]).renderDates,n))>=0&&e.push(this.parent.activeViewOptions.group.byDate?this.parent.resourceBase.lastResourceLevel.length*c+i:i+c),i+=this.parent.activeViewOptions.group.byDate?1:o.renderDates.length}}else{var c;(c=this.parent.getIndexOfDate(this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0?this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex].renderDates:this.renderDates,ie(this.parent.getCurrentTime())))>=0&&e.push(c)}return e},t.prototype.clearCurrentTimeIndicatorTimer=function(){u(this.currentTimeIndicatorTimer)||(window.clearInterval(this.currentTimeIndicatorTimer),this.currentTimeIndicatorTimer=null,this.removeCurrentTimeIndicatorElements())},t.prototype.updateCurrentTimeIndicatorTimer=function(){var e=this;this.currentTimeIndicatorTimer=window.setInterval(function(){e.changeCurrentTimePosition()},Os)},t.prototype.removeCurrentTimeIndicatorElements=function(){for(var n=0,s=[].slice.call(this.element.querySelectorAll(".e-previous-timeline,.e-current-timeline,.e-current-time"));n<s.length;n++)me(s[n])},t.prototype.changeCurrentTimePosition=function(){if(!(!this.parent||this.parent&&this.parent.isDestroyed)){this.removeCurrentTimeIndicatorElements();var e=this.getCurrentTimeIndicatorIndex(),i=this.parent.getContentTable().rows[0],n=this.getTopFromDateTime(this.parent.getCurrentTime()),s=$(n),a=Math.floor(n/i.cells[0].offsetHeight),o=this.getLeftPanelElement(),l=[].slice.call(o.querySelectorAll("tr"));if(!u(a)&&!isNaN(a)&&a!==l.length){for(var h=[].slice.call(this.element.querySelectorAll("."+s6)),c=0,d=e[0];c<d;c++)h[parseInt(c.toString(),10)].appendChild(N("div",{className:"e-previous-timeline",styles:"top:"+s}));for(var p=0,f=e;p<f.length;p++)h[parseInt(f[p].toString(),10)].appendChild(N("div",{className:tm,styles:"top:"+s}));var g=N("div",{innerHTML:this.parent.getTimeString(this.parent.getCurrentTime()),className:$N,styles:"top:"+s});a<=l.length&&(M(o.querySelectorAll("."+KN),KN),l[parseInt(a.toString(),10)]&&D([l[parseInt(a.toString(),10)].lastElementChild],KN),Tt([g],o),g.style.top=$(g.offsetTop-g.offsetHeight/2))}}},t.prototype.getTopFromDateTime=function(e){var i=this.getStartHour();return(60*(e.getHours()-i.getHours())+(e.getMinutes()-i.getMinutes()))*this.getWorkCellHeight()*this.parent.activeViewOptions.timeScale.slotCount/this.parent.activeViewOptions.timeScale.interval},t.prototype.getWorkCellHeight=function(){return parseFloat(this.element.querySelector("."+Te).getBoundingClientRect().height.toFixed(2))},t.prototype.getTdContent=function(e,i,n){var s,a=N("div"),o="",l=this.parent.element.id+"_";switch(i){case"dateHeader":if(this.parent.activeViewOptions.dateHeaderTemplate){o="dateHeaderTemplate";var h={date:e,type:i},c=this.parent.activeViewOptions.dateHeaderTemplateName;s=[].slice.call(this.parent.getDateHeaderTemplate()(h,this.parent,o,l+c+o,!1))}else a.innerHTML=this.parent.activeView.isTimelineView()?'<span class="e-header-date e-navigate">'+this.getTimelineDate(e)+"</span>":'<div class="e-header-day">'+Di(this.getDayName(e),"single")+'</div><div class="e-header-date e-navigate" role="link">'+this.getDate(e)+"</div>",s=[].slice.call(a.childNodes);break;case"majorSlot":this.parent.activeViewOptions.timeScale.majorSlotTemplate?(o="majorSlotTemplate",h={date:e,type:i},s=[].slice.call(this.parent.getMajorSlotTemplate()(h,this.parent,o,l+o,!1))):(a.innerHTML="<span>"+this.getTime(e)+"</span>",s=[].slice.call(a.childNodes));break;case"minorSlot":this.parent.activeViewOptions.timeScale.minorSlotTemplate?(o="minorSlotTemplate",h={date:e,type:i},s=[].slice.call(this.parent.getMinorSlotTemplate()(h,this.parent,o,l+o,!1))):s=[].slice.call(a.childNodes);break;case"alldayCells":this.parent.activeViewOptions.cellTemplate&&(c=this.parent.activeViewOptions.cellTemplateName,o="cellTemplate",h={date:e,type:i,groupIndex:n},s=[].slice.call(this.parent.getCellTemplate()(h,this.parent,o,l+c+o,!1)))}return s},t.prototype.refreshHeader=function(){me(this.element.querySelector("tbody tr")),this.renderHeader(),this.parent.notify(Vr,{})},t.prototype.renderLayout=function(e){this.setPanel(N("div",{className:sS}));var i=[this.baseCssClass,this.viewClass];i.push(e),this.parent.activeViewOptions.group.byDate&&i.push("e-by-date"),this.parent.activeViewOptions.timeScale.enable||D([this.element],["e-timescale-disable",this.viewClass]),this.parent.activeViewOptions.allowVirtualScrolling&&!this.parent.uiStateValues.isGroupAdaptive&&i.push(D1),this.parent.rowAutoHeight&&this.parent.eventSettings.ignoreWhitespace&&i.push(j6),this.renderPanel(e),D([this.element],i),this.element.appendChild(this.createTableLayout(rS)),this.element.querySelector("table").setAttribute("role","presentation"),this.colLevels=this.generateColumnLevels(),this.renderHeader(),this.renderContent(),this.parent.uiStateValues.isGroupAdaptive&&!this.parent.element.querySelector("."+dy)&&this.renderResourceMobileLayout(),this.parent.notify(Vr,{})},t.prototype.renderHeader=function(){var e=N("tr"),i=N("td");if(i.appendChild(this.renderDatesHeader()),this.parent.activeViewOptions.timeScale.enable){var n=N("td",{className:"e-left-indent"});n.appendChild(this.renderLeftIndent()),e.appendChild(n)}e.appendChild(i),Tt([e],this.element.querySelector("tbody"))},t.prototype.renderContent=function(){this.parent.activeViewOptions.group.resources.length>0&&(this.parent.resourceBase.renderedResources=z([],this.parent.resourceBase.lastResourceLevel,null,!0));var e=N("tr"),i=N("td");if(this.parent.isAdaptive){i.setAttribute("colspan",this.parent.activeViewOptions.timeScale.enable?"2":"1");var n=N("div",{className:XN});this.parent.activeViewOptions.timeScale.enable&&n.appendChild(this.renderTimeCells()),n.appendChild(this.renderContentArea()),i.appendChild(n),b.add(n,"scroll",this.onAdaptiveScroll,this),b.add(n,O.touchMoveEvent,this.onAdaptiveMove,this),e.appendChild(i)}else{var s=this.colLevels.slice(0);this.parent.virtualScrollModule&&this.resetColLevels();var a=this.renderContentArea();if(i.appendChild(a),this.parent.activeViewOptions.timeScale.enable){var o=N("td");o.appendChild(this.renderTimeCells()),e.appendChild(o)}e.appendChild(i),this.parent.virtualScrollModule&&(this.colLevels=s,this.parent.virtualScrollModule.renderVirtualTrack(a))}this.element.querySelector("tbody").appendChild(e)},t.prototype.renderLeftIndent=function(){for(var a,e=N("div",{className:"e-left-indent-wrap"}),i=this.createTableLayout(),n=N("tr"),s=this.colLevels.length,o=0;o<s;o++){var l=n.cloneNode(),h={className:[this.colLevels[parseInt(o.toString(),10)][0]&&this.colLevels[parseInt(o.toString(),10)][0].className[0]],type:"emptyCells"};if(this.parent.activeViewOptions.showWeekNumber&&-1!==h.className.indexOf(Vn)){h.className.push(JD);var c=this.parent.getWeekNumberContent(this.renderDates);h.template=[N("span",{innerHTML:""+c,attrs:{title:this.parent.localeObj.getConstant("week")+" "+c}})]}a=this.createTd(h),this.parent.renderHeaderIndentTemplate(h,a),l.appendChild(a),i.querySelector("tbody").appendChild(l)}var d=n.cloneNode(),p=N("div",{attrs:{tabindex:"0",role:"list",title:this.parent.localeObj.getConstant("expandAllDaySection"),"aria-disabled":"false","aria-label":"Expand section"},className:by+" "+dS+" "+sn+" "+gi}),f={className:[Si],type:"emptyCells"};return(a=this.createTd(f)).appendChild(p),this.parent.renderHeaderIndentTemplate(f,a),d.appendChild(a),i.querySelector("tbody").appendChild(d),e.appendChild(i),e},t.prototype.renderDatesHeader=function(){var e=N("div",{className:hy}),i=N("div",{className:Er});e.appendChild(i);for(var n=this.createTableLayout(),s=N("tr",{className:h1}),a=this.colLevels.length,o=this.colLevels[a-1],l=0;l<a;l++){for(var h=s.cloneNode(),c=this.colLevels[parseInt(l.toString(),10)],d=0;d<c.length;d++)h.appendChild(this.createTd(c[parseInt(d.toString(),10)]));n.querySelector("tbody").appendChild(h)}return this.createAllDayRow(n,o),this.createColGroup(n,o),i.appendChild(n),e},t.prototype.createAllDayRow=function(e,i){for(var n=N("tr",{className:xl}),s=0;s<i.length;s++){var a=z({},i[parseInt(s.toString(),10)]);a.className=[Si],a.type="alldayCells";var o=this.createTd(a);o.setAttribute("data-date",a.date.getTime().toString()),u(a.groupIndex)?this.parent.uiStateValues.isGroupAdaptive&&o.setAttribute("data-group-index",""+this.parent.uiStateValues.groupIndex):o.setAttribute("data-group-index",""+a.groupIndex),this.wireCellEvents(o),n.appendChild(o)}e.querySelector("tbody").appendChild(n);var l=N("thead");l.appendChild(this.parent.eventBase.createEventWrapper("allDay")),Tt([l],e)},t.prototype.createTd=function(e){var i=N("td");if(this.addAttributes(e,i),e.date&&e.type){var n=this.getTdContent(e.date,e.type,e.groupIndex);n&&n.length&&ce(n,i)}return this.parent.isMinMaxDate(ie(new Date(""+e.date)))||D([i],Bh),"resourceHeader"===e.type&&this.setResourceHeaderContent(i,e),"dateHeader"===e.type&&e.className.indexOf(Vn)>=0&&(i.setAttribute("data-date",e.date.getTime().toString()),u(e.groupIndex)||i.setAttribute("data-group-index",""+e.groupIndex),this.wireMouseEvents(i)),this.parent.trigger(br,{elementType:e.type,element:i,date:e.date,groupIndex:e.groupIndex}),i},t.prototype.wireCellEvents=function(e){b.add(e,"mousedown",this.parent.workCellAction.cellMouseDown,this.parent.workCellAction),this.wireMouseEvents(e)},t.prototype.wireMouseEvents=function(e){b.add(e,"click",this.parent.workCellAction.cellClick,this.parent.workCellAction),this.parent.isAdaptive||b.add(e,"dblclick",this.parent.workCellAction.cellDblClick,this.parent.workCellAction)},t.prototype.renderTimeCells=function(){var e=this,i=N("div",{className:GN}),n=this.createTableLayout(),s=N("tr");return this.getTimeSlotRows(function(o){o.type=o.first?"majorSlot":"minorSlot",o.className=o.last?[t6,em]:[em];var l=s.cloneNode();return l.appendChild(e.createTd({date:o.date,type:o.type,className:o.className})),n.querySelector("tbody").appendChild(l),o}),i.appendChild(n),i},t.prototype.renderContentArea=function(){var e=N("div",{className:ut}),i=this.createTableLayout(_i);return this.setAriaAttributes(i),this.addAutoHeightClass(i),this.renderContentTable(i),this.createColGroup(i,this.colLevels.slice(-1)[0]),e.appendChild(i),this.wireCellEvents(i.querySelector("tbody")),b.add(e,"scroll",this.onContentScroll,this),b.add(e,O.touchMoveEvent,this.onAdaptiveMove,this),e},t.prototype.renderContentTable=function(e){var i=e.querySelector("tbody");ce(this.getContentRows(),i),this.renderContentTableHeader(e)},t.prototype.getContentRows=function(){var e=this,i=[],n=N("tr"),s=N("td",{attrs:{"aria-selected":"false"}});return this.getTimeSlotRows(function(o){for(var l=n.cloneNode(),h=0,c=e.colLevels[e.colLevels.length-1];h<c.length;h++){var p=e.createContentTd(c[h],o,s);l.appendChild(p)}return i.push(l),o}),i},t.prototype.createContentTd=function(e,i,n){var s=n.cloneNode();e.colSpan&&s.setAttribute("colspan",e.colSpan.toString());var a=this.getContentTdClass(i),o=ie(e.date);this.parent.isMinMaxDate(o)||a.push(Bh),QD(o,Lh(i.date));var l="workCells";if(-1!==e.className.indexOf($o)&&(a.push(Gc),l="resourceGroupCells"),this.parent.workHours.highlight&&(this.parent.activeViewOptions.timeScale.enable&&this.isWorkHour(o,e.startHour,e.endHour,e.workDays)||!this.parent.activeViewOptions.timeScale.enable&&this.isWorkDay(o,e.workDays))&&a.push(Xf),D([s],a),this.parent.activeViewOptions.cellTemplate){var h={date:o,type:l,groupIndex:e.groupIndex},p=this.parent.element.id+"_"+this.parent.activeViewOptions.cellTemplateName+"cellTemplate";ce([].slice.call(this.parent.getCellTemplate()(h,this.parent,"cellTemplate",p,!1)),s)}return s.setAttribute("data-date",o.getTime().toString()),(!u(e.groupIndex)||this.parent.uiStateValues.isGroupAdaptive)&&s.setAttribute("data-group-index",""+(this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:e.groupIndex)),this.parent.trigger(br,{elementType:l,element:s,date:o,groupIndex:e.groupIndex}),s},t.prototype.getContentTdClass=function(e){return e.last?[Te]:[Te,i6]},t.prototype.renderContentTableHeader=function(e){var i=N("thead");i.appendChild(this.parent.eventBase.createEventWrapper()),this.parent.activeViewOptions.timeScale.enable&&i.appendChild(this.parent.eventBase.createEventWrapper("timeIndicator")),Tt([i],e)},t.prototype.getScrollableElement=function(){return this.parent.isAdaptive&&!this.isTimelineView()?this.element.querySelector("."+XN):this.getContentAreaElement()},t.prototype.getLeftPanelElement=function(){return this.element.querySelector("."+GN)},t.prototype.getEndDateFromStartDate=function(e){var n=this.parent.activeViewOptions.timeScale.interval*Os/this.parent.activeViewOptions.timeScale.slotCount,s=new Date(e.getTime());return s.setMilliseconds(s.getMilliseconds()+n),s},t.prototype.getTimeSlotRows=function(e){var i=[],n=this.getStartHour(),s=this.getEndHour(),a=this.parent.activeViewOptions.timeScale.interval*Os,o=a/this.parent.activeViewOptions.timeScale.slotCount,l=Math.round(Hi/o),h=n.getTime(),c=s.getTime();if(h!==c){var d=this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount;l=Math.abs(c-h)/o-(new Date(c).getTimezoneOffset()-new Date(h).getTimezoneOffset())/d}this.parent.activeViewOptions.timeScale.enable||(l=1);for(var p=this.parent.getStartEndTime(this.parent.workHours.start),f=this.parent.getStartEndTime(this.parent.workHours.end),m=0;m<l;m++){var g=new Date(h+o*m);if(jbe(g)||new Date(h).getTimezoneOffset()!==g.getTimezoneOffset()){var y=new Date(h).getTimezoneOffset()-g.getTimezoneOffset();g=new Date(g.getTime()-6e4*y)}var C=m%(a/o),E={date:new Date(""+g),startHour:p,endHour:f,first:0===C,middle:C<this.parent.activeViewOptions.timeScale.slotCount-1,last:C===this.parent.activeViewOptions.timeScale.slotCount-1,type:""};e&&e(E),i.push(E)}return i},t.prototype.getAdjustedDate=function(e){if(!this.parent.activeViewOptions.timeScale.enable)return new Date(e.setHours(0,0,0,0));for(var i=this.getTimeSlotRows(),n=new Date(new Date(i[0].date.getTime()).setHours(e.getHours(),e.getMinutes(),e.getMilliseconds())),s=0;s<i.length;s++)if(i[parseInt(s.toString(),10)].date.getTime()>n.getTime())return e.setHours(i[s-1].date.getHours(),i[s-1].date.getMinutes(),i[s-1].date.getMilliseconds()),new Date(e);return null},t.prototype.destroy=function(){if(!(!this.parent||this.parent&&this.parent.isDestroyed)&&(this.clearCurrentTimeIndicatorTimer(),this.element)){this.appointment&&(this.appointment.destroy(),this.appointment=null);var e=this.getContentAreaElement();e&&(b.remove(e,"scroll",this.onContentScroll),b.remove(e,O.touchMoveEvent,this.onAdaptiveMove)),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.scheduleTouchModule&&this.parent.scheduleTouchModule.resetValues(),r.prototype.destroy.call(this)}},t}(NS),TEe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),U8=function(r){function t(e){var i=r.call(this,e)||this;return i.viewClass="e-day-view",i}return TEe(t,r),t.prototype.getModuleName=function(){return"day"},t}(_S),IEe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),W8=function(r){function t(e){var i=r.call(this,e)||this;return i.viewClass="e-week-view",i}return IEe(t,r),t.prototype.startDate=function(){return this.getViewStartDate()},t.prototype.endDate=function(){return this.getViewEndDate()},t.prototype.getModuleName=function(){return"week"},t}(_S),AEe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),q8=function(r){function t(e){var i=r.call(this,e)||this;return i.viewClass="e-work-week-view",i}return AEe(t,r),t.prototype.startDate=function(){return this.getViewStartDate()},t.prototype.endDate=function(){return this.getViewEndDate()},t.prototype.getModuleName=function(){return"workWeek"},t}(_S),xEe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),LS=function(r){function t(e){var i=r.call(this,e)||this;return i.dayNameFormat="wide",i.viewClass="e-month-view",i.isInverseTableSelect=!1,i.monthEvent=null,i.monthDates={},i}return xEe(t,r),t.prototype.addEventListener=function(){this.parent.on(Ma,this.onScrollUIUpdate,this),this.parent.on(wa,this.onDataReady,this),this.parent.on(Al,this.onCellClick,this)},t.prototype.removeEventListener=function(){this.parent&&(this.parent.off(Ma,this.onScrollUIUpdate),this.parent.off(wa,this.onDataReady),this.parent.off(Al,this.onCellClick))},t.prototype.onDataReady=function(e){this.monthEvent=new lm(this.parent),this.monthEvent.renderAppointments(),this.parent.notify(Wc,{})},t.prototype.onCellClick=function(e){},t.prototype.onContentScroll=function(e){this.parent.removeNewEventElement(),this.parent.notify(ay,e),this.scrollTopPanel(e.target),this.scrollLeftPanel(e.target),this.parent.uiStateValues.top=e.target.scrollTop,this.parent.uiStateValues.left=e.target.scrollLeft,this.setPersistence()},t.prototype.scrollLeftPanel=function(e){var i=this.getLeftPanelElement();i&&(i.scrollTop=e.scrollTop)},t.prototype.getLeftPanelElement=function(){return this.element.querySelector("."+e1)},t.prototype.onScrollUIUpdate=function(e){var i=this.getHeaderBarHeight(),n=this.getDatesHeaderElement(),s=this.getContentAreaElement(),a=this.parent.element.offsetHeight-i-n.offsetHeight,o=this.getLeftPanelElement();"auto"!==this.parent.height&&this.setContentHeight(s,o,a);var l=$D();if(n.firstElementChild.style[e.cssProperties.rtlBorder]="",n.style[e.cssProperties.rtlPadding]="",s.offsetWidth-s.clientWidth>0?(n.firstElementChild.style[e.cssProperties.border]=l>0?"1px":"0px",n.style[e.cssProperties.padding]=l>0?l-1+"px":"0px"):(n.firstElementChild.style[e.cssProperties.border]="",n.style[e.cssProperties.padding]=""),this.setColWidth(s),e.scrollPosition||!e.isPreventScrollUpdate&&"TimelineMonth"===this.parent.currentView){var h="TimelineMonth"===this.parent.currentView?this.parent.uiStateValues.top:e.scrollPosition.top;o&&(o.scrollTop=h),s.scrollTop=h,this.parent.uiStateValues.isInitial?(this.scrollToSelectedDate(),this.parent.uiStateValues.isInitial=!1):s.scrollLeft="TimelineMonth"===this.parent.currentView?this.parent.uiStateValues.left:e.scrollPosition.left}else this.scrollToSelectedDate();this.retainScrollPosition()},t.prototype.scrollToSelectedDate=function(){var e=this.element.querySelector("."+Vn+'[data-date="'+this.parent.selectedDate.getTime().toString()+'"]'),i=this.getContentAreaElement();i.scrollLeft=u(e)?0:this.parent.enableRtl?-(this.parent.getContentTable().offsetWidth-e.offsetLeft-e.offsetWidth):e.offsetLeft,0===i.scrollLeft&&this.parent.uiStateValues.isInitial&&(this.parent.uiStateValues.left=0)},t.prototype.setContentHeight=function(e,i,n){e.style.height="auto","Month"===this.parent.currentView&&(e.style.height=$(n)),i&&("MonthAgenda"===this.parent.currentView&&(n=this.parent.activeViewOptions.interval>1?this.getContentAreaElement().firstElementChild.offsetHeight:this.element.querySelector("."+_i).offsetHeight),i.style.height="auto",i.style.height=$(n-this.getScrollXIndent(e)))},t.prototype.generateColumnLevels=function(){var e=[],i=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);if(this.parent.activeViewOptions.group.resources.length>0){if(e=this.parent.resourceBase.generateResourceLevels(i),"MonthAgenda"===this.parent.currentView&&(e=[i]),this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0){var n=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex],s=this.getDateSlots(n.renderDates,n.workDays);if(this.parent.activeViewOptions.group.byDate&&this.parent.activeViewOptions.group.hideNonWorkingDays){var a=s.findIndex(function(o,l){return 0!==l&&o.date.getDay()===s[0].date.getDay()});s=a>-1?s.slice(0,a):s}e=[s]}}else e.push(i);return this.colLevels=e,e},t.prototype.getDateSlots=function(e,i){for(var n=this.parent.activeViewOptions.showWeekend?7:i.length,s=[],a=this.isCurrentMonth(this.parent.selectedDate),o=0;o<n;o++){var l=[Vn],h=e.slice(0,n).map(function(c){return c.getDay()});a&&h.indexOf(this.parent.currentTimezoneDate.getDay())===o&&l.push(XD),s.push({date:e[parseInt(o.toString(),10)],type:"monthDay",className:l,colSpan:1,workDays:i})}return s},t.prototype.getDayNameFormat=function(){return this.parent.isAdaptive||this.parent.activeViewOptions.group.resources.length>0?"abbreviated":"wide"},t.prototype.renderLayout=function(e){this.dayNameFormat=this.getDayNameFormat(),this.setPanel(N("div",{className:sS}));var i=[this.viewClass];i.push(e),this.parent.activeViewOptions.group.byDate&&(i.push("e-by-date"),"Month"!==this.parent.currentView&&(this.parent.activeViewOptions.group.hideNonWorkingDays=!1)),this.parent.activeViewOptions.allowVirtualScrolling&&!this.parent.uiStateValues.isGroupAdaptive&&i.push(D1),this.parent.rowAutoHeight&&this.parent.eventSettings.ignoreWhitespace&&i.push(j6),D([this.element],i),this.renderPanel(e),this.element.appendChild(this.createTableLayout(rS)),this.element.querySelector("table").setAttribute("role","presentation"),this.colLevels=this.generateColumnLevels(),this.renderHeader(),this.renderContent();var n="MonthAgenda"===this.parent.currentView?this.parent.activeView.getPanel():this.parent.element;this.parent.uiStateValues.isGroupAdaptive&&!n.querySelector("."+dy)&&this.renderResourceMobileLayout(),this.parent.notify(Vr,{}),this.parent.uiStateValues.isCustomMonth&&(this.parent.uiStateValues.isCustomMonth=!1)},t.prototype.refreshHeader=function(){me(this.element.querySelector("tbody tr")),this.renderHeader(),this.parent.notify(Vr,{})},t.prototype.wireCellEvents=function(e){b.add(e,"mousedown",this.parent.workCellAction.cellMouseDown,this.parent.workCellAction),b.add(e,"click",this.parent.workCellAction.cellClick,this.parent.workCellAction),this.parent.isAdaptive||b.add(e,"dblclick",this.parent.workCellAction.cellDblClick,this.parent.workCellAction)},t.prototype.renderHeader=function(){var e=N("tr");this.renderLeftIndent(e);var i=N("td");i.appendChild(this.renderDatesHeader()),e.appendChild(i),Tt([e],this.element.querySelector("tbody"))},t.prototype.renderLeftIndent=function(e){this.parent.activeViewOptions.showWeekNumber&&e.appendChild(N("td",{className:"e-left-indent"}))},t.prototype.renderContent=function(){this.parent.activeViewOptions.group.resources.length>0&&(this.parent.resourceBase.renderedResources=z([],this.parent.resourceBase.lastResourceLevel,null,!0));var e=N("tr");this.parent.activeViewOptions.showWeekNumber&&e.appendChild(this.renderWeekNumberContent());var i=N("td"),n=this.colLevels.slice(0);this.parent.virtualScrollModule&&this.resetColLevels();var s=N("div",{className:ut}),a=this.renderContentArea();if("Month"===this.parent.currentView)s.appendChild(a);else{var o=N("div",{className:so});o.appendChild(a),s.appendChild(o)}b.add(s,"scroll",this.onContentScroll,this),i.appendChild(s),e.appendChild(i),this.parent.virtualScrollModule&&(this.colLevels=n,this.parent.virtualScrollModule.renderVirtualTrack(s)),this.element.querySelector("tbody").appendChild(e),this.renderAppointmentContainer()},t.prototype.renderWeekNumberContent=function(){var e=this.renderDates.map(function(d){return new Date(+d)}),i=N("td"),n=N("div",{className:e1});i.appendChild(n);var s=this.createTableLayout();n.appendChild(s);for(var a=this.parent.activeViewOptions.showWeekend?7:this.parent.activeViewOptions.workDays.length,o=0,l=this.renderDates.length/a;o<l;o++){var h=e.splice(0,a),c=this.parent.getWeekNumberContent(h);s.querySelector("tbody").appendChild(this.createWeekNumberElement(c))}return i},t.prototype.renderAppointmentContainer=function(){},t.prototype.renderDatesHeader=function(){var e=N("div",{className:hy}),i=N("div",{className:Er});e.appendChild(i);var n=this.createTableLayout();if("Month"===this.parent.currentView){var s=N("thead");s.appendChild(N("tr")),Tt([s],n)}this.createColGroup(n,this.colLevels[this.colLevels.length-1]);for(var a=N("tr"),o=0;o<this.colLevels.length;o++){for(var l=this.colLevels[parseInt(o.toString(),10)],h=a.cloneNode(),c=0;c<l.length;c++){var d=l[parseInt(c.toString(),10)];h.appendChild(this.createHeaderCell(d))}n.querySelector("tbody").appendChild(h)}return i.appendChild(n),e},t.prototype.createHeaderCell=function(e){var i=N("td");if(this.addAttributes(e,i),"monthDay"===e.type){var n=N("span",{innerHTML:Di(this.parent.getDayNames(this.dayNameFormat)[e.date.getDay()],"single")});i.appendChild(n)}if("resourceHeader"===e.type&&this.setResourceHeaderContent(i,e),"dateHeader"===e.type){if(D([i],rm),i.setAttribute("data-date",e.date.getTime().toString()),this.parent.activeViewOptions.dateHeaderTemplate){var s={date:e.date,type:e.type},l=this.parent.element.id+"_"+this.parent.activeViewOptions.dateHeaderTemplateName+"dateHeaderTemplate",h=[].slice.call(this.parent.getDateHeaderTemplate()(s,this.parent,"dateHeaderTemplate",l,!1));h&&h.length&&ce(h,i)}else{n=N("span",{className:gd});var d=this.parent.globalize.formatDate(e.date,{skeleton:"full",calendar:this.parent.getCalendarMode()});n.setAttribute("title",Di(d,"multiple"));var p=!this.parent.calendarUtil.isMonthStart(e.date)||this.isCurrentDate(e.date)||this.parent.isAdaptive?this.parent.globalize.formatDate(e.date,{skeleton:"d",calendar:this.parent.getCalendarMode()}):this.parent.globalize.formatDate(e.date,{format:"MMM d",calendar:this.parent.getCalendarMode()});n.innerHTML=Di(p,"single"),i.appendChild(n)}this.wireCellEvents(i)}return this.parent.trigger(br,{elementType:e.type,element:i,date:e.date,groupIndex:e.groupIndex}),i},t.prototype.getContentSlots=function(){if(!this.colLevels[this.colLevels.length-1]||!this.colLevels[this.colLevels.length-1][0])return[];var e=[],i=function(T,k,j,J){var ne={date:new Date(+k),groupIndex:j.groupIndex,workDays:j.workDays,type:"monthCells",className:J||[Te]};e[parseInt(T.toString(),10)]||(e[parseInt(T.toString(),10)]=[]),e[parseInt(T.toString(),10)].push(ne)},n="MonthAgenda"!==this.parent.currentView&&this.parent.activeViewOptions.group.resources.length>0;if(!n||this.parent.uiStateValues.isGroupAdaptive||this.parent.activeViewOptions.group.byDate){l=this.renderDates.map(function(j){return new Date(+j)}),h=this.parent.activeViewOptions.showWeekend?7:this.parent.activeViewOptions.workDays.length;var g=this.colLevels.slice(0,1)[0],y=this.renderDates.map(Number).indexOf(+g[0].date);for(c=0;c<this.renderDates.length/h;c++){d=l.splice(0,h);for(var w,C=y,E=function(ne){var R=d[parseInt(C.toString(),10)];if(C++,n){var G=S.colLevels[S.colLevels.length-1],V=G.slice(0,G.length/h);if(S.parent.activeViewOptions.group.hideNonWorkingDays&&0===(V=G.filter(function(L){return L.date.getDay()===R.getDay()})).length)return w=ne-=1,"continue";for(var B=0;B<V.length;B++){var F=void 0;0!==B&&(F=[Te,"e-disable-date"]),i(c,R,V[parseInt(B.toString(),10)],F)}}else i(c,R,S.colLevels[S.colLevels.length-1][0]);w=ne},S=this,A=y;A<this.colLevels[0].length+y&&A<d.length;A++)E(A),A=w}}else for(var s=0,a=this.colLevels[this.colLevels.length-2];s<a.length;s++)for(var o=a[s],l=o.renderDates.map(function(T){return new Date(+T)}),h=this.parent.activeViewOptions.showWeekend?7:o.workDays.length,c=0;c<o.renderDates.length/h;c++)for(var d,p=0,f=d=l.splice(0,h);p<f.length;p++)i(c,f[p],o);return e},t.prototype.updateClassList=function(e){!this.isCustomMonth()&&this.isOtherMonth(e.date)&&e.className.push(wi),this.parent.isMinMaxDate(e.date)||e.className.push(Bh),this.updateSelectedCellClass(e)},t.prototype.updateSelectedCellClass=function(e){},t.prototype.isOtherMonth=function(e){return e.getTime()<this.monthDates.start.getTime()||e.getTime()>this.monthDates.end.getTime()},t.prototype.renderContentArea=function(){var e=this.createTableLayout(_i);this.setAriaAttributes(e),this.addAutoHeightClass(e),"TimelineMonth"===this.parent.currentView&&this.createColGroup(e,this.colLevels[this.colLevels.length-1]);var i=new Date(this.parent.selectedDate.getTime());this.monthDates={start:this.parent.calendarUtil.firstDateOfMonth(i),end:this.parent.calendarUtil.lastDateOfMonth(Qo(i,this.parent.activeViewOptions.interval-1))};var n=e.querySelector("tbody");return ce(this.getContentRows(),n),this.wireCellEvents(n),e},t.prototype.getContentRows=function(){for(var e=[],i=N("tr"),n=N("td",{attrs:{"aria-selected":"false"}}),s=this.getContentSlots(),a=0;a<s.length;a++){for(var o=i.cloneNode(),l=0;l<s[parseInt(a.toString(),10)].length;l++){var h=this.createContentTd(s[parseInt(a.toString(),10)][parseInt(l.toString(),10)],n);o.appendChild(h)}e.push(o)}return e},t.prototype.createContentTd=function(e,i){var n=i.cloneNode();e.colSpan&&n.setAttribute("colspan",e.colSpan.toString()),this.updateClassList(e);var s=e.type;if(-1!==e.className.indexOf($o)&&(e.className.push(Gc),s="resourceGroupCells"),this.parent.workHours.highlight&&this.isWorkDay(e.date,e.workDays)&&e.className.push("e-work-days"),this.isCurrentDate(e.date)&&e.className.push(UN),D([n],e.className),n.setAttribute("data-date",e.date.getTime().toString()),(!u(e.groupIndex)||this.parent.uiStateValues.isGroupAdaptive)&&n.setAttribute("data-group-index",""+(this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:e.groupIndex)),this.renderDateHeaderElement(e,n),this.parent.activeViewOptions.cellTemplate){var o={date:e.date,type:s,groupIndex:e.groupIndex},c=this.parent.element.id+"_"+this.parent.activeViewOptions.cellTemplateName+"cellTemplate";ce([].slice.call(this.parent.getCellTemplate()(o,this.parent,"cellTemplate",c,!1)),n)}return this.parent.trigger(br,{elementType:s,element:n,date:e.date,groupIndex:e.groupIndex}),n},t.prototype.renderDateHeaderElement=function(e,i){if("TimelineMonth"!==this.parent.currentView){var n=N("div",{className:rm});if(this.parent.activeViewOptions.cellHeaderTemplate){var s={date:e.date,type:e.type,groupIndex:e.groupIndex},l=this.parent.element.id+"_"+this.parent.activeViewOptions.cellHeaderTemplateName+"cellHeaderTemplate";ce([].slice.call(this.parent.getCellHeaderTemplate()(s,this.parent,"cellHeaderTemplate",l,!1)),n)}else{var c=!this.parent.calendarUtil.isMonthStart(e.date)||this.isCurrentDate(e.date)||this.parent.isAdaptive?this.parent.globalize.formatDate(e.date,{skeleton:"d",calendar:this.parent.getCalendarMode()}):this.parent.globalize.formatDate(e.date,{format:"MMM d",calendar:this.parent.getCalendarMode()});n.innerHTML=Di(c,"single")}if(i.appendChild(n),"month"===this.getModuleName()){D([n],gd);var p=this.parent.globalize.formatDate(e.date,{skeleton:"full",calendar:this.parent.getCalendarMode()});i.setAttribute("aria-label",p)}}},t.prototype.getMonthStart=function(e){var s=jr("Month"!==this.parent.currentView||u(this.parent.activeViewOptions.displayDate)||!this.parent.uiStateValues.isCustomMonth&&!this.isCustomRange()?this.parent.uiStateValues.isCustomMonth||this.isCustomRange()||!this.isCustomMonth()?this.parent.calendarUtil.firstDateOfMonth(e):e:this.parent.activeViewOptions.displayDate,this.parent.activeViewOptions.firstDayOfWeek);return new Date(s.getFullYear(),s.getMonth(),s.getDate())},t.prototype.getMonthEnd=function(e){if(this.isCustomMonth())return Ee(this.getMonthStart(e),7*(this.parent.activeViewOptions.numberOfWeeks>0?this.parent.activeViewOptions.numberOfWeeks:6)-1);var s=Qo(e,this.parent.activeViewOptions.interval-1);return Ee(jr(this.parent.calendarUtil.lastDateOfMonth(s),this.parent.activeViewOptions.firstDayOfWeek),6)},t.prototype.isCustomRange=function(){var e=this.parent.getCurrentViewDates();if(e&&e.length>0){var i=ie(this.parent.selectedDate).getTime(),n=jr(e[e.length-1],this.parent.activeViewOptions.firstDayOfWeek);return!(i>=jr(e[0],this.parent.activeViewOptions.firstDayOfWeek).getTime()&&i<=Ee(n,6).getTime())}return!1},t.prototype.getRenderDates=function(e){var i=[],n=ie(this.parent.selectedDate),s=this.getMonthStart(n),a=this.getMonthEnd(n);do{(this.parent.activeViewOptions.showWeekend||this.isWorkDay(s,e))&&i.push(s),(s=Ee(s,1)).getHours()>0&&(s=ie(s))}while(s.getTime()<=a.getTime());return e||(this.renderDates=i),this.parent.headerModule&&this.parent.headerModule.previousNextIconHandler(),i},t.prototype.getNextPreviousDate=function(e){if(this.isCustomMonth()){var i=this.parent.getCurrentViewDates();return Ee(jr("next"===e?i[i.length-1]:i[0],this.parent.activeViewOptions.firstDayOfWeek),"next"===e?7:7*-(this.parent.activeViewOptions.numberOfWeeks>0?this.parent.activeViewOptions.numberOfWeeks:6))}return Qo(this.parent.selectedDate,("next"===e?1:-1)*this.parent.activeViewOptions.interval)},t.prototype.getStartDate=function(){return this.getMonthStart(this.parent.selectedDate)},t.prototype.getEndDate=function(){return this.getMonthEnd(this.parent.selectedDate)},t.prototype.getEndDateFromStartDate=function(e){return Ee(new Date(e.getTime()),1)},t.prototype.getDateRangeText=function(){if(this.parent.isAdaptive||u(this.parent.activeViewOptions.dateFormat)){var e=this.parent.selectedDate,i=void 0,n=!1;if(this.isCustomMonth()){var s=this.parent.getCurrentViewDates();(n=s[0].getMonth()!==s[s.length-1].getMonth()||s[0].getFullYear()!==s[s.length-1].getFullYear())&&(e=s[0],i=s[s.length-1])}var a="Month"!==this.parent.currentView||!this.isCustomMonth();return this.parent.activeViewOptions.interval>1&&a||n?(i=i||Qo(md(e),this.parent.activeViewOptions.interval-1),e.getFullYear()===i.getFullYear()?Di(this.parent.globalize.formatDate(e,{format:"MMMM",calendar:this.parent.getCalendarMode()})+" - "+this.parent.globalize.formatDate(i,{format:"MMMM ",calendar:this.parent.getCalendarMode()})+this.parent.globalize.formatDate(i,{skeleton:"y",calendar:this.parent.getCalendarMode()}),"single"):Di(this.parent.globalize.formatDate(e,{format:"MMMM",calendar:this.parent.getCalendarMode()})+" "+e.getFullYear()+" - "+this.parent.globalize.formatDate(i,{format:"MMMM ",calendar:this.parent.getCalendarMode()})+this.parent.globalize.formatDate(i,{skeleton:"y",calendar:this.parent.getCalendarMode()}),"single")):Di(this.parent.globalize.formatDate(e,{format:this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y",calendar:this.parent.getCalendarMode()}),"single")}return this.formatDateRange(this.parent.selectedDate)},t.prototype.getLabelText=function(e){return this.parent.localeObj.getConstant(e)+" of "+Di(this.parent.globalize.formatDate(this.parent.selectedDate,{format:"MMMM y",calendar:this.parent.getCalendarMode()}),"single")},t.prototype.createWeekNumberElement=function(e){var i=N("tr"),n=N("td",{className:JD,attrs:{title:e?this.parent.localeObj.getConstant("week")+" "+e:""},innerHTML:e||""});return i.appendChild(n),this.parent.trigger(br,{elementType:"weekNumberCell",element:n}),i},t.prototype.unWireEvents=function(){var e=this.element.querySelector("."+ut);e&&b.remove(e,"scroll",this.onContentScroll)},t.prototype.isCustomMonth=function(){return"Month"===this.parent.currentView&&(!u(this.parent.activeViewOptions.displayDate)||this.parent.activeViewOptions.numberOfWeeks>0)},t.prototype.getModuleName=function(){return"month"},t.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||this.element&&(this.monthEvent&&(this.monthEvent.destroy(),this.monthEvent=null),this.unWireEvents(),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.scheduleTouchModule&&this.parent.scheduleTouchModule.resetValues(),r.prototype.destroy.call(this))},t}(NS),kEe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Y8=function(r){function t(e){return r.call(this,e)||this}return kEe(t,r),t.prototype.createAgendaContentElement=function(e,i,n,s,a){var l,o=this,h=this.parent.eventFields;if("noEvents"===e){var c=[{subject:this.parent.localeObj.getConstant("noEvents")}];0===(l=st.createList(this.parent.createElement,c,{moduleName:"agenda",listClass:this.parent.activeView.viewClass,itemClass:this.parent.activeView.viewClass,template:'<div class="'+n1+'">'+this.parent.localeObj.getConstant("noEvents")+"</div>"})).querySelector(".e-agenda-item").children.length&&l.firstElementChild.appendChild(N("div",{className:n1,innerHTML:this.parent.localeObj.getConstant("noEvents")}))}else l=st.createList(this.parent.createElement,i,{moduleName:"agenda",listClass:this.parent.activeView.viewClass,itemClass:this.parent.activeView.viewClass}),[].slice.call(l.children).forEach(function(p,f){var g,m=N("div",{className:Ze,attrs:{"data-id":"Appointment_"+i[parseInt(f.toString(),10)][""+o.parent.eventFields.id],"data-guid":i[parseInt(f.toString(),10)].Guid,role:"button",tabindex:"0","aria-disabled":o.parent.eventBase.getReadonlyAttribute(i[parseInt(f.toString(),10)]),"aria-label":o.parent.getAnnouncementString(i[parseInt(f.toString(),10)])}});if(u(a)||m.setAttribute("data-group-index",a.toString()),o.parent.eventBase.applyResourceColor(m,i[parseInt(f.toString(),10)],"borderColor",s),u(o.parent.activeViewOptions.eventTemplate))g=o.createAppointment(i[parseInt(f.toString(),10)]);else{D([m],"e-template");var E=o.parent.element.id+"_"+o.parent.activeViewOptions.eventTemplateName+"eventTemplate";if(g=o.parent.getAppointmentTemplate()(i[parseInt(f.toString(),10)],o.parent,"eventTemplate",E,!1),!u(i[parseInt(f.toString(),10)][h.recurrenceRule])){var S=i[parseInt(f.toString(),10)][h.id]===i[parseInt(f.toString(),10)][h.recurrenceID]?gy:vy;m.appendChild(N("div",{className:sn+" "+S}))}}ce([].slice.call(g),m),Go(p),p.appendChild(m);var w={data:z({},i[parseInt(f.toString(),10)],null,!0),element:p,cancel:!1};o.parent.trigger(Qf,w,function(A){A.cancel&&me(p)})});return n.appendChild(l),("MonthAgenda"===this.parent.currentView&&this.parent.activeViewOptions.group.resources.length>0||"Agenda"===this.parent.currentView)&&D([n],c6),this.parent.renderTemplates(),n},t.prototype.createAppointment=function(e){var i=this.parent.eventFields,n=e[i.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),s=e[i.location]||this.parent.eventSettings.fields.location.default,a=N("div",{className:nS});!u(s)&&""!==s&&(n+=",");var o=N("div",{className:Cn});if(this.parent.sanitize(n,o),a.appendChild(o),!u(s)&&""!==s){var l=N("div",{className:Jc});this.parent.sanitize(s,l),a.appendChild(l)}u(e[i.recurrenceRule])||a.appendChild(N("div",{className:sn+" "+(e[i.id]===e[i.recurrenceID]?gy:vy)}));var c=e[i.startTime],d=e[i.endTime],p=e[i.isAllDay],f=this.parent.localeObj.getConstant("allDay"),m=this.parent.getTimeString(c)+" - "+this.parent.getTimeString(d);u(e.data)||(f=((d.getTimezoneOffset()!==c.getTimezoneOffset()?d.getTime()-c.getTime()+36e5:d.getTime()-c.getTime())/Hi>=1?f:m)+" ("+this.parent.localeObj.getConstant("day")+" "+e.data.index+"/"+e.data.count+")");var C=!u(e.data)||p?f:m;return[a,N("div",{className:t1,innerHTML:C})]},t.prototype.processAgendaEvents=function(e){var i=[];if(u(e))return i;for(var n=0,s=e;n<s.length;n++){var a=s[n],o=this.parent.eventBase.splitEventByDay(a);i=i.concat(o.length>1?o:a)}return i},t.prototype.wireEventActions=function(){for(var i=0,n=[].slice.call(this.parent.element.querySelectorAll("."+Ze));i<n.length;i++)this.parent.eventBase.wireAppointmentEvents(s=n[i],this.parent.getEventDetails(s),!0);for(var o=0,l=[].slice.call(this.parent.element.querySelectorAll(".e-m-date"));o<l.length;o++){var s;b.add(s=l[o],"click",this.parent.agendaModule.dayNavigationClick,this)}},t.prototype.calculateResourceTableElement=function(e,i,n){if(u(this.parent.resourceBase.lastResourceLevel)){var s=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);this.parent.resourceBase.generateResourceLevels(s)}for(var a=Ee(new Date(n.getTime()),i),o=this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView?i:1,l=this.parent.resourceBase.resourceCollection,h=this.parent.resourceBase.lastResourceLevel,c=n,d=0;d<o;d++){var p=[],f=[],m=0,g=void 0,y=void 0,C=Ee(c,d),E=this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView?Ee(C,1):a,S=this.parent.eventBase.filterEvents(C,E);if(S.length>0||!this.parent.hideEmptyAgendaDays||"MonthAgenda"===this.parent.currentView){for(var w=0;w<h.length;w++){i=this.parent.activeViewOptions.group.byDate&&"MonthAgenda"!==this.parent.currentView?1:i;var A=[],T=this.parent.eventBase.filterEvents(n=C,a,S,h[parseInt(w.toString(),10)]);if(T.length>0||!this.parent.hideEmptyAgendaDays||"MonthAgenda"===this.parent.currentView)for(var k=0;k<i;k++){var j=this.parent.eventBase.filterEvents(n,Ee(n,1),T,void 0);if((j.length>0||!this.parent.hideEmptyAgendaDays||"MonthAgenda"===this.parent.currentView)&&(A.push(j[0]),g={rowSpan:1,type:"eventColumn",resource:l[l.length-1],groupIndex:h[parseInt(w.toString(),10)].groupIndex,groupOrder:h[parseInt(w.toString(),10)].groupOrder,resourceData:h[parseInt(w.toString(),10)].resourceData,eventData:j,date:n},y={rowSpan:1,type:"dateColumn",resource:l[parseInt((l.length-1).toString(),10)],groupOrder:h[parseInt(w.toString(),10)].groupOrder,resourceData:h[parseInt(w.toString(),10)].resourceData,date:n},p[parseInt(m.toString(),10)]||(p[parseInt(m.toString(),10)]=[]),p[parseInt(m.toString(),10)].push(g),p[parseInt(m.toString(),10)].push(y),m++),(n=Ee(n,1)).getTime()>=a.getTime()||this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView){p[p.length-1][1].cssClass=c6;var J={rowSpan:A.length,type:"resourceColumn",resource:l[parseInt((l.length-1).toString(),10)],groupOrder:h[parseInt(w.toString(),10)].groupOrder.slice(0,-1),resourceData:h[parseInt(w.toString(),10)].resourceData,groupIndex:p.length-A.length,className:[a6],date:n};p[parseInt((p.length-A.length).toString(),10)].push(J),f.push(z({},J,null,!0));break}}}for(var ne=l.slice(0,-1),R=[],G=0,H=0;H<ne.length;H++){A=ne[ne.length-(H+1)].dataSource;for(var V=0;V<A.length;V++)for(var B=0,F=0;F<f.length;F++)f[parseInt(F.toString(),10)].groupOrder[ne.length-(H+1)]===A[parseInt(V.toString(),10)][ne[ne.length-(H+1)].idField]&&(G+=f[parseInt(F.toString(),10)].rowSpan,R.push(z({},f[parseInt(F.toString(),10)],null,!0))),++B===f.length&&R.length>0&&(R[0].rowSpan=G,R[0].type="parentColumnLevel_"+(H+1),R[0].resource=ne[ne.length-(H+1)],R[0].resourceData=A[parseInt(V.toString(),10)],R[0].date=n,p[R[0].groupIndex].push(R[0]),R=[],G=0)}this.createResourceTableRow(p,e)}}0===this.parent.eventBase.filterEvents(c,a).length&&!this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&this.renderEmptyContent(e,c)},t.prototype.createResourceTableRow=function(e,i){var s,o,h,n=N("tr"),a=N("td",{attrs:{"aria-selected":"false"}}),l=0;if(this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView){for(var c=[],d=this.parent.resourceBase.resourceCollection.slice(0,-1),p=0;p<e.length;p++)c=c.concat(e[parseInt(p.toString(),10)]);h=d.length>0?"parentColumnLevel_"+d.length:"resourceColumn";for(var f=c.filter(function(T){return T.type===h}),m=0;m<f.length;m++)l+=f[parseInt(m.toString(),10)].rowSpan}for(var g=0;g<e.length;g++){s=n.cloneNode();for(var y=e[parseInt(g.toString(),10)].length-1;y>=0;y--){var C=e[parseInt(g.toString(),10)][parseInt(y.toString(),10)],E=a.cloneNode();if("dateColumn"===C.type){if(this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView){o=e[parseInt(g.toString(),10)][parseInt(y.toString(),10)];continue}E.setAttribute("data-date",C.date.getTime().toString()),E.appendChild(this.createDateHeaderElement(C.date));var S=[kl,h6];C.cssClass&&S.push(C.cssClass),D([E],S),this.isCurrentDate(new Date(C.date.getTime()))&&D(E.childNodes,o6),s.appendChild(E)}else"eventColumn"===C.type?((E=this.createAgendaContentElement(0===C.eventData.length?"noEvents":"data",C.eventData,E,C.groupOrder,C.groupIndex)).setAttribute("data-date",C.date.getTime().toString()),(this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView)&&D([E],[kl,"e-day-padding"]),s.appendChild(E)):(E.setAttribute("rowspan",C.rowSpan.toString()),D([E],"e-resource-column"),this.setResourceHeaderContent(E,C,C.className[0]),s.appendChild(E))}if(this.parent.activeViewOptions.group.byDate&&0===g&&"MonthAgenda"!==this.parent.currentView){(E=a.cloneNode()).setAttribute("data-date",o.date.getTime().toString()),E.setAttribute("rowspan",l.toString()),E.appendChild(this.createDateHeaderElement(o.date)),D([E],[kl,h6,"e-date-border"]);var A=jN(this.parent.selectedDate.getTime(),o.date.getTime());if(s.setAttribute("data-row-index",A.toString()),this.parent.element.querySelector('.e-agenda-view tr[data-row-index="'+A+'"]'))break;s.insertBefore(E,s.childNodes[0])}i.appendChild(s)}},t.prototype.createDateHeaderElement=function(e){var i;if(this.parent.activeViewOptions.dateHeaderTemplate){i=N("div",{className:l6});var n={date:e,type:"dateHeader"},o=this.parent.element.id+"_"+this.parent.activeViewOptions.dateHeaderTemplateName+"dateHeaderTemplate";ce([].slice.call(this.parent.getDateHeaderTemplate()(n,this.parent,"dateHeaderTemplate",o,!1)),i)}else i=this.getMobileDateElement(e,l6);return i},t.prototype.renderEmptyContent=function(e,i){var n=this.createTableRowElement(i,"noEvents"),s=n.children[0],a=N("div",{className:"e-empty-event",innerHTML:this.parent.localeObj.getConstant("noEvents")});s.appendChild(a),e.appendChild(n)},t.prototype.createTableRowElement=function(e,i){var n=jN(this.parent.selectedDate.getTime(),e.getTime()),s=N("tr",{attrs:{"data-row-index":n.toString()}}),a=N("td",{attrs:{class:"monthHeader"===i?"e-month-header":kl,"aria-selected":"false","data-column-index":n.toString(),"data-date":e.getTime().toString()}}),o=a.cloneNode(),l=a.cloneNode();return s.appendChild(o),"noEvents"!==i&&s.appendChild(l),s},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t}(NS),NEe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Q8=function(r){function t(e){var i=r.call(this,e)||this;return i.viewClass="e-agenda-view",i.isInverseTableSelect=!1,i.agendaDates={},i.virtualScrollTop=1,i}return NEe(t,r),t.prototype.getModuleName=function(){return"agenda"},t.prototype.renderLayout=function(){this.agendaDates={},this.element=N("div",{className:sS}),D([this.element],this.viewClass),this.element.appendChild(this.createTableLayout(rS)),this.element.querySelector("table").setAttribute("role","presentation"),this.parent.element.querySelector("."+so).appendChild(this.element);var e=N("tr");this.element.querySelector("tbody").appendChild(e);var i=N("td");e.appendChild(i);var n=N("div",{className:ut});i.appendChild(n);var s=this.createTableLayout(_i);this.setAriaAttributes(s),n.appendChild(s);var a=s.querySelector("tbody"),o=ie(this.parent.selectedDate);this.renderEmptyContent(a,o),this.wireEvents(),this.parent.resourceBase&&this.parent.resourceBase.generateResourceLevels([{renderDates:this.parent.activeView.renderDates}]),this.parent.uiStateValues.isGroupAdaptive&&!this.parent.element.querySelector("."+dy)&&this.renderResourceMobileLayout(),this.parent.notify(Vr,{})},t.prototype.eventLoad=function(e){this.dataSource=z([],this.parent.eventsData,null,!0);for(var i=0,n=this.parent.eventsData;i<n.length;i++)delete n[i].generatedDates;var a=this.parent.activeViewOptions.allowVirtualScrolling?e.processedData:this.parent.eventsProcessed;if(this.parent.uiStateValues.isGroupAdaptive){var o=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];this.dataSource=this.parent.eventBase.filterEventsByResource(o,this.dataSource),a=this.parent.eventBase.filterEventsByResource(o,a)}this.parent.eventsProcessed=this.processAgendaEvents(a);var l=ie(this.parent.selectedDate),h=this.element.querySelector("."+_i+" tbody");Go(h),this.renderInitialContent(h,l),this.wireEventActions(),I(h,"."+ut).scrollTop=1,this.parent.notify(Wc,{}),this.parent.activeViewOptions.allowVirtualScrolling||this.retainScrollPosition()},t.prototype.refreshEvent=function(e){for(var i=[],n=this.parent.eventFields,s=0,a=this.dataSource;s<a.length;s++){var o=a[s];u(o[n.recurrenceID])&&!u(o[n.recurrenceRule])&&!u(o.generatedDates)&&e>=o.generatedDates.end&&(i=i.concat(this.parent.eventBase.generateOccurrence(o,e)))}this.parent.eventsProcessed=this.parent.eventsProcessed.concat(this.processAgendaEvents(i))},t.prototype.refreshHeader=function(){var e=this.element.querySelector("."+_i+" tbody");this.parent.activeViewOptions.group.byDate?Go(e):me(e.firstElementChild);var i=ie(this.parent.selectedDate),n=N("tbody"),s=new Date(i.getTime()),a=this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays?this.getEndDateFromStartDate(s):Ee(s,this.parent.agendaDaysCount);this.renderContent(n,s,a),ce([].slice.call(n.childNodes),e)},t.prototype.renderInitialContent=function(e,i){var n=N("tbody"),s=new Date(i.getTime()),a=this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays?this.getEndDateFromStartDate(s):Ee(s,this.parent.agendaDaysCount);if(this.renderContent(n,s,a),ce([].slice.call(n.childNodes),e),this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&this.parent.eventsData.length>0)for(var o=this.getContentAreaElement(),l=o.querySelector(".e-content-table");o.offsetWidth<=o.clientWidth&&!(this.parent.isAdaptive&&l.offsetHeight>=o.clientHeight);){var h=N("tbody");if(s=Ee(a=s,-this.parent.agendaDaysCount),this.renderContent(h,s,a),Tt([].slice.call(h.childNodes),e),s<=this.parent.minDate)break}e.childNodes.length<=0&&this.renderEmptyContent(e,i)},t.prototype.renderContent=function(e,i,n){var l,s=this.parent.eventFields,a=new Date(i.getTime()),o=this.appointmentFiltering(a,n);if(o.length>0&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&(i=o[0][s.startTime],i=new Date(new Date(i.getTime()).setHours(0,0,0,0)),this.updateHeaderText(o[0][s.startTime])),!this.parent.hideEmptyAgendaDays||this.parent.agendaDaysCount>0&&o.length>0){if(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var h=i;this.parent.activeViewOptions.group.byDate||(this.parent.activeViewOptions.allowVirtualScrolling=!1,h=a,this.parent.headerModule&&(this.parent.headerModule.updateDateRange(),this.parent.headerModule.updateHeaderItems("remove"))),this.calculateResourceTableElement(e,this.parent.agendaDaysCount,h)}else for(var c=0;c<this.parent.agendaDaysCount;c++){var d=this.appointmentFiltering(i),p=this.createTableRowElement(i,"data");if(this.element.querySelector('tr[data-row-index="'+parseInt(p.getAttribute("data-row-index"),10)+'"]'))i=Ee(i,1);else{var f=p.children[0],m=p.children[1];if(d.length>0||!this.parent.hideEmptyAgendaDays&&0===d.length){var g=this.parent.hideEmptyAgendaDays||0!==d.length?"data":"noEvents";f.appendChild(this.createDateHeaderElement(i)),p.appendChild(f);var y=this.createAgendaContentElement(g,d,m);p.appendChild(y),y.querySelectorAll("li").length>0&&e.appendChild(p)}else this.parent.activeViewOptions.allowVirtualScrolling&&c--;if(this.isCurrentDate(new Date(i.getTime()))&&D(f.childNodes,o6),(i=Ee(i,1)).getTime()>n.getTime())break}}l=new Date(i.getTime()-Hi)}this.agendaDates={start:a,end:l}},t.prototype.agendaScrolling=function(e){this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(),this.parent.activeViewOptions.allowVirtualScrolling&&this.virtualScrolling(e),this.parent.activeViewOptions.allowVirtualScrolling||this.setPersistence()},t.prototype.virtualScrolling=function(e){var f,i=e.target,n=i.scrollTop,s=i.scrollHeight,o=n+i.clientHeight,l=this.virtualScrollTop<n?"next":"previous",h=i.querySelector("tbody"),c=N("tbody"),d=this.getElementFromScrollerPosition(e),p=this.parent.getDateFromElement(d);if(0===n){if(f=this.getPreviousNextDate(Ee(p,-1),l),this.appointmentFiltering(f.start,f.end).length>0||!this.parent.hideEmptyAgendaDays){this.renderContent(c,f.start,f.end),Tt([].slice.call(c.childNodes),h),this.wireEventActions();for(var g=0,y=h.children;g<y.length;g++)if(y[parseInt(g.toString(),10)].getAttribute("data-row-index")===d.getAttribute("data-column-index")){var C=y[parseInt(g.toString(),10)].offsetTop-this.element.querySelector(".e-agenda-item").offsetHeight;i.scrollTop=C;break}this.updateHeaderText(p)}}else o>=s-5?(f=this.getPreviousNextDate(Ee(p,1),l),(this.appointmentFiltering(f.start,f.end).length>0||!this.parent.hideEmptyAgendaDays)&&(this.renderContent(c,f.start,f.end),ce([].slice.call(c.childNodes),h),this.wireEventActions(),this.updateHeaderText(p))):this.updateHeaderText(p);this.virtualScrollTop=n;var E=this.parent.eventBase.getSelectedAppointments();E.length>0&&E[E.length-1].focus()},t.prototype.getElementFromScrollerPosition=function(e){var i,c,n=e.target,s=n.scrollTop,a=n.scrollHeight,l=s+n.clientHeight,h=[].slice.call(n.querySelectorAll(".e-agenda-item"));if(h.length>0)if(0===s)i=I(c=h[0],"."+kl);else if(l===a)i=I(c=h[h.length-1],"."+kl);else for(var p=0,f=h.length;p<f;p++)if((c=h[parseInt(p.toString(),10)]).getBoundingClientRect().top>=0){i=I(c,"."+kl);break}return i},t.prototype.updateHeaderText=function(e){this.parent.showHeaderBar&&this.parent.headerModule.updateDateRange(e)},t.prototype.getPreviousNextDate=function(e,i){var n=new Date(e.getTime()),s=this.getStartDateFromEndDate(e),a=this.getEndDateFromStartDate(e),o=0;do{if((this.appointmentFiltering(n).length>0||!this.parent.hideEmptyAgendaDays)&&o++,(n=Ee(n,"next"===i?1:-1))<s||n>a)break}while(o!==this.parent.agendaDaysCount);var h=Ee(n,"next"===i?-1:1);return"next"===i?{start:e,end:Ee(h,1)}:{start:h,end:Ee(e,1)}},t.prototype.appointmentFiltering=function(e,i){var n,s;!u(e)&&u(i)?(n=ie(new Date(e.getTime())),s=QD(new Date(n.getTime()),Hi)):(n=new Date(e.getTime()),s=new Date(i.getTime()));var a=this.parent.eventBase.filterEvents(n,s);return 0===a.length&&(this.refreshEvent(e),a=this.parent.eventBase.filterEvents(n,s)),a},t.prototype.getStartDateFromEndDate=function(e){var i,n=this.parent.eventFields;if(this.parent.eventsProcessed.length>0){var s=Math.min.apply(Math,this.parent.eventsProcessed.map(function(a){return a[n.startTime].getTime()}));i=this.parent.hideEmptyAgendaDays?new Date(s):this.parent.minDate}else i=this.parent.hideEmptyAgendaDays?Qo(e,-1):this.parent.minDate;return ie(i)},t.prototype.getEndDateFromStartDate=function(e){var i,n=this.parent.eventFields;if(this.parent.eventsProcessed.length>0){var s=Math.max.apply(Math,this.parent.eventsProcessed.map(function(a){return a[n.endTime].getTime()}));i=this.parent.hideEmptyAgendaDays?new Date(s):this.parent.maxDate}else i=this.parent.hideEmptyAgendaDays?Qo(e,1):this.parent.maxDate;return ie(Ee(i,1))},t.prototype.getNextPreviousDate=function(e){return Ee(this.parent.selectedDate,"next"===e?1:-1)},t.prototype.startDate=function(){return ie(this.parent.selectedDate)},t.prototype.endDate=function(){return this.parent.activeViewOptions.allowVirtualScrolling?this.getEndDateFromStartDate(this.startDate()):Ee(this.startDate(),this.parent.agendaDaysCount)},t.prototype.getDateRangeText=function(e){var i=this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y";if(this.parent.activeViewOptions.allowVirtualScrolling||this.parent.isAdaptive){var n=u(e)?this.parent.selectedDate:e;return Di(this.parent.globalize.formatDate(n,{format:i,calendar:this.parent.getCalendarMode()}),"multiple")}var s=this.parent.selectedDate,a=Ee(s,this.parent.agendaDaysCount-1);return this.formatDateRange(s,a)},t.prototype.dayNavigationClick=function(e){var i=I(e.currentTarget,"."+kl),n=this.parent.getDateFromElement(i);!u(n)&&!this.parent.isAdaptive&&this.parent.isMinMaxDate(n)&&(this.parent.setProperties({selectedDate:n},!0),this.parent.changeView("Day",e))},t.prototype.wireEvents=function(){b.add(this.element.querySelector("."+ut),"scroll",this.agendaScrolling,this)},t.prototype.unWireEvents=function(){b.remove(this.element.querySelector("."+ut),"scroll",this.agendaScrolling);for(var i=0,n=[].slice.call(this.element.querySelectorAll(".e-m-date"));i<n.length;i++)b.remove(n[i],"click",this.dayNavigationClick)},t.prototype.addEventListener=function(){this.parent.on(Ma,this.onAgendaScrollUiUpdate,this),this.parent.on(wa,this.eventLoad,this)},t.prototype.removeEventListener=function(){this.parent&&(this.parent.off(Ma,this.onAgendaScrollUiUpdate),this.parent.off(wa,this.eventLoad))},t.prototype.onAgendaScrollUiUpdate=function(){var e=this.getHeaderBarHeight();this.parent.headerModule&&this.parent.headerModule.updateHeaderItems(this.parent.activeViewOptions.allowVirtualScrolling?"add":"remove");var i=this.element.querySelector("."+ut);"auto"!==this.parent.height&&(i.style.height=$(this.parent.element.offsetHeight-e))},t.prototype.scrollToDate=function(e){var i=new Date(+ie(e));if(this.parent.activeViewOptions.allowVirtualScrolling)(!this.parent.hideEmptyAgendaDays||this.parent.getEvents(i,Ee(i,1),!0).length>0)&&this.parent.changeDate(i);else{var n=this.element.querySelector("."+kl+'[data-date="'+i.getTime()+'"]');n&&(this.getContentAreaElement().scrollTop=n.offsetTop)}},t.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||this.element&&(this.unWireEvents(),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.headerModule&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.headerModule.updateHeaderItems("remove"),r.prototype.destroy.call(this))},t}(Y8),_Ee=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),G8=function(r){function t(e){var i=r.call(this,e)||this;return i.dayNameFormat="narrow",i.viewClass="e-month-agenda-view",i.monthAgendaDate=new Date(""+e.selectedDate),i}return _Ee(t,r),t.prototype.getModuleName=function(){return"monthAgenda"},t.prototype.renderAppointmentContainer=function(){var e=this.getContentAreaElement(),i=N("div",{className:py});e.appendChild(i);var n=N("div",{className:eS});i.appendChild(n),this.appendAppContainer(n),this.setEventWrapperHeight()},t.prototype.getDayNameFormat=function(){return this.parent.isAdaptive?"narrow":"abbreviated"},t.prototype.updateSelectedCellClass=function(e){ie(e.date).getTime()===ie(this.monthAgendaDate).getTime()&&e.className.push(im)},t.prototype.setEventWrapperHeight=function(){var e=(this.parent.headerModule?this.parent.headerModule.getHeaderElement().offsetHeight:0)+2,i=this.parent.element.querySelector("."+JN);i&&(e+=i.offsetHeight);var n=this.getContentAreaElement().firstElementChild,s=this.element.querySelector("."+Er),a=this.parent.element.offsetHeight-e-s.offsetHeight,o=this.parent.activeViewOptions.interval>1?Math.round(.8*a):n.offsetHeight,l=a-o,h=this.element.querySelector("."+py),c=this.element.querySelector("."+eS);"auto"!==this.parent.height&&(this.parent.activeViewOptions.interval>1&&(n.style.height=$(o),b.add(n,"scroll",this.onContentScroll,this)),h.style.height=c.style.height=$(l))},t.prototype.onDataReady=function(e){this.setEventWrapperHeight(),this.clearElements();var i=e.processedData;this.parent.uiStateValues.isGroupAdaptive&&(i=this.parent.eventBase.filterEventsByResource(this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex],i)),this.agendaBase=this.getAgendaBase(),this.parent.eventsProcessed=this.agendaBase.processAgendaEvents(i);for(var s=0,a=0,o=this.renderDates;a<o.length;a++){var l=o[a],h=this.appointmentFiltering(l),c=this.element.querySelectorAll("."+Te)[parseInt(s.toString(),10)];h.length>0&&(c.querySelector("."+s1)||c.appendChild(N("div",{className:s1})),l.getTime()===ie(new Date(this.monthAgendaDate.getTime())).getTime()&&this.onEventRender(h,l)),s++}this.parent.notify(Wc,{})},t.prototype.onCellClick=function(e){this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide();var i=this.appointmentFiltering(e.startTime);this.onEventRender(i,e.startTime),this.parent.notify(Wc,{}),this.monthAgendaDate=new Date(""+e.startTime)},t.prototype.onEventRender=function(e,i){this.agendaBase=this.getAgendaBase();var n=this.element.querySelector("."+eS);if(Go(n),0===this.parent.activeViewOptions.group.resources.length||this.parent.uiStateValues.isGroupAdaptive)if(e.length>0){var s=N("div",{className:Aa});n.appendChild(this.agendaBase.createAgendaContentElement("data",e,s))}else this.appendAppContainer(n);else if(e.length>0){var a=this.createTableLayout(),o=a.querySelector("tbody");this.agendaBase.calculateResourceTableElement(o,1,i),a.appendChild(o),n.appendChild(a)}else this.appendAppContainer(n);this.agendaBase.wireEventActions()},t.prototype.appointmentFiltering=function(e){var i=ie(new Date(e.getTime())),n=QD(new Date(i.getTime()),Hi);return this.parent.eventBase.filterEvents(i,n)},t.prototype.clearElements=function(){for(var i=0,n=[].slice.call(this.element.querySelectorAll("."+s1));i<n.length;i++)me(n[i]);this.appendAppContainer(this.element.querySelector("."+eS))},t.prototype.appendAppContainer=function(e){var i=N("div",{className:Aa});D([i],n1),i.innerHTML=this.parent.localeObj.getConstant("noEvents"),Go(e),e.appendChild(i)},t.prototype.getNextPreviousDate=function(e){var i=this.parent.selectedDate,s=Qo(this.parent.selectedDate,"next"===e?this.parent.activeViewOptions.interval:-this.parent.activeViewOptions.interval),a="next"===e?2:0,o=new Date(i.getFullYear(),i.getMonth()+a,0).getDate(),l=o>=this.monthAgendaDate.getDate()?this.monthAgendaDate.getDate():o;return this.monthAgendaDate=new Date(s.getFullYear(),s.getMonth(),l),this.monthAgendaDate},t.prototype.getAgendaBase=function(){return this.agendaBase||new Y8(this.parent)},t.prototype.destroy=function(){this.agendaBase&&(this.agendaBase.destroy(),this.agendaBase=null),r.prototype.destroy.call(this)},t}(LS),$8=function(){function r(t,e){this.parent=t,this.renderDates=e}return r.prototype.groupByYear=function(t){for(var e={},i=0,n=t;i<n.length;i++){var s=n[i],a=s.getFullYear();e[parseInt(a.toString(),10)]=e[parseInt(a.toString(),10)]||[],e[parseInt(a.toString(),10)].push(s)}return e},r.prototype.groupByMonth=function(t){for(var e={},i=0,n=t;i<n.length;i++){var s=n[i],a=12*(s.getFullYear()-1970)+s.getMonth();e[parseInt(a.toString(),10)]=e[parseInt(a.toString(),10)]||[],e[parseInt(a.toString(),10)].push(s)}return e},r.prototype.groupByWeek=function(t){for(var e={},i=0,n=t;i<n.length;i++){var s=n[i],a=+new Date(1970,0,1),o=s.getTimezoneOffset()-new Date(1970,0,1).getTimezoneOffset(),l=Math.ceil(((+s-a-60*o*1e3)/Hi+new Date(a).getDay()+1)/7);this.parent.firstDayOfWeek&&this.parent.firstDayOfWeek>new Date(+s).getDay()&&(l-=1),e[parseInt(l.toString(),10)]=e[parseInt(l.toString(),10)]||[],e[parseInt(l.toString(),10)].push(s)}return e},r.prototype.generateSlots=function(t,e,i,n,s){for(var a=this,o=function(C,E){return a.parent.globalize.formatDate(C,{format:E,calendar:a.parent.getCalendarMode()})},l=[],h=Object.keys(t),c=0;c<h.length;c++){var d=t[h[parseInt(c.toString(),10)]],p=void 0;if(i.template){var f={date:d[0],type:s},m=this.parent.element.id+"_headerRowTemplate";p=[].slice.call(this.parent.templateParser(i.template)(f,this.parent,"template",m,!1))}else{var g=void 0;switch(i.option){case"Year":g='<span class="e-header-year">'+o(d[0],"y")+"</span>";break;case"Month":g='<span class="e-header-month">'+Di(o(d[0],"MMMM"),"single")+"</span>";break;case"Week":g='<span class="e-header-week">'+this.parent.getWeekNumberContent(d)+"</span>"}var y=N("div",{innerHTML:g});p=[].slice.call(y.childNodes)}l.push({date:d[0],type:s,className:[n],colSpan:d.length*e,template:p})}return l},r.prototype.generateColumnLevels=function(t,e){var i=[],n=this.parent.activeViewOptions.headerRows,s=1;"Hour"===n[n.length-1].option&&e.length>0&&(s=e.length/t.length);for(var o,l,h,a=[],c=0,d=n;c<d.length;c++){var p=d[c];switch(p.option){case"Year":o=this.groupByYear(this.renderDates),a=this.generateSlots(o,s,p,"e-header-year-cell","yearHeader"),i.push(a);break;case"Month":l=this.groupByMonth(this.renderDates),a=this.generateSlots(l,s,p,"e-header-month-cell","monthHeader"),i.push(a);break;case"Week":h=this.groupByWeek(this.renderDates),a=this.generateSlots(h,s,p,"e-header-week-cell","weekHeader"),i.push(a);break;case"Date":a=(a=t).map(function(f){return f.colSpan=s,f}),i.push(a);break;case"Hour":e.length>0&&i.push(e)}}return i},r}(),LEe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),K8=function(r){function t(e){var i=r.call(this,e)||this;return i.timelineAppointment=null,i.baseCssClass="e-timeline-view",i}return LEe(t,r),t.prototype.getModuleName=function(){return"timelineViews"},t.prototype.getLeftPanelElement=function(){return this.element.querySelector("."+Ta)},t.prototype.scrollTopPanel=function(e){r.prototype.scrollTopPanel.call(this,e),this.scrollHeaderLabels(e)},t.prototype.scrollToWorkHour=function(){var e=this.parent.getStartEndTime(this.parent.workHours.start),i=this.isWorkDay(this.parent.selectedDate)&&this.parent.workHours.highlight&&!u(e)?new Date(+this.parent.selectedDate).setHours(e.getHours(),e.getMinutes(),0,0):new Date(+this.parent.selectedDate).setHours(0,0,0,0),n='[data-date="'+new Date(i).getTime().toString()+'"]',s=this.element.querySelector(n);s&&(this.getContentAreaElement().scrollLeft=this.parent.enableRtl?-(this.parent.getContentTable().offsetWidth-s.offsetLeft-s.offsetWidth):s.offsetLeft)},t.prototype.scrollToHour=function(e,i){var n,s,o;if(i&&(s=this.parent.getIndexOfDate(this.renderDates,ie(i)))>=0&&(n=i,!u(e))){var a=e.split(":");2===a.length&&(n=new Date(i.setHours(parseInt(a[0],10),parseInt(a[1],10),0)))}n=u(i)?this.parent.getStartEndTime(e):n,u(n)||(o=u(e)||!this.parent.activeViewOptions.timeScale.enable?s*this.getWorkCellWidth():u(i)?this.getLeftFromDateTime(null,n):this.getLeftFromDateTime([s],n),this.getScrollableElement().scrollLeft=this.parent.enableRtl?-o:o)},t.prototype.generateColumnLevels=function(){var e=[],i=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);e.push(i),this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.generateResourceLevels(i,!this.parent.uiStateValues.isGroupAdaptive);var n=[];return this.parent.activeViewOptions.timeScale.enable&&(n=this.generateTimeSlots(e[e.length-1]),e.push(n)),this.parent.activeViewOptions.headerRows.length>0&&(e=new $8(this.parent,this.renderDates).generateColumnLevels(i,n)),e},t.prototype.generateTimeSlots=function(e){for(var i=this,s=this.getTimeSlotRows(function(g){return g.type=g.first?"majorSlot":"minorSlot",g.className=g.first?[em]:[em,t6],g.workDays=i.parent.activeViewOptions.workDays,g}),a=[],o=0,l=e;o<l.length;o++){var h=l[o];h.colSpan=s.length;for(var d=0,p=z([],s,null,!0);d<p.length;d++){var f=p[d],m=ie(new Date(""+h.date));f.date=QD(m,Lh(f.date)),a.push(f)}}return a},t.prototype.changeCurrentTimePosition=function(){if(!(!this.parent||this.parent&&this.parent.isDestroyed)){this.removeCurrentTimeIndicatorElements();var e=this.getCurrentTimeIndicatorIndex(),i=this.getLeftFromDateTime(e,this.parent.getCurrentTime()),n=this.element.querySelector("."+_i).offsetHeight,s=this.element.querySelector("."+Er);this.element.querySelector("."+ut).appendChild(N("div",{className:tm,styles:(this.parent.enableRtl?"right":"left")+":"+$(i)+"; height:"+$(n)})),this.parent.virtualScrollModule&&ue(this.parent.element.querySelector("."+tm),{transform:this.parent.element.querySelector("."+ut+" table").style.transform});var h=N("div",{innerHTML:this.parent.getTimeString(this.parent.getCurrentTime()),className:$N});s.appendChild(h),h.style[this.parent.enableRtl?"right":"left"]=$(i-h.offsetWidth/2)}},t.prototype.getLeftFromDateTime=function(e,i){var n=this.getStartHour(),s=0,a=60*(i.getHours()-n.getHours())+(i.getMinutes()-n.getMinutes());if(!u(e)&&0!==e[0]){var o=this.parent.activeView.colLevels.findIndex(function(c){return"dateHeader"===c[0].type});if(this.parent.activeView.colLevels[parseInt(o.toString(),10)]&&this.parent.activeView.colLevels[parseInt(o.toString(),10)][0].colSpan)s=e[0]*this.parent.activeView.colLevels[parseInt(o.toString(),10)][0].colSpan*this.getWorkCellWidth();else{var l=this.getEndHour(),h=0===l.getHours()?24:l.getHours();a+=e[0]*(60*(h-n.getHours())+(l.getMinutes()-n.getMinutes()))}}return s+a*this.getWorkCellWidth()*this.parent.activeViewOptions.timeScale.slotCount/this.parent.activeViewOptions.timeScale.interval},t.prototype.getWorkCellWidth=function(){return this.element.querySelector(".e-work-cells").getBoundingClientRect().width},t.prototype.renderHeader=function(){var e=N("tr");this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.renderResourceHeaderIndent(e);var i=N("td");i.appendChild(this.renderDatesHeader()),e.appendChild(i),Tt([e],this.element.querySelector("tbody"))},t.prototype.createAllDayRow=function(e,i){},t.prototype.getCurrentTimeIndicatorIndex=function(){var e=[],i=this.parent.getIndexOfDate(this.renderDates,ie(this.parent.getCurrentTime()));return i>=0&&e.push(i),e},t.prototype.renderContent=function(){var e=N("tr");if(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var i=N("td");i.appendChild(this.parent.resourceBase.createResourceColumn()),e.appendChild(i)}var n=N("td"),s=this.renderContentArea();s.appendChild(this.createEventTable(this.getRowCount())),this.collapseRows(s),n.appendChild(s),e.appendChild(n),this.parent.virtualScrollModule&&this.parent.virtualScrollModule.renderVirtualTrack(s),this.element.querySelector("tbody").appendChild(e)},t.prototype.getRowCount=function(){return this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?this.parent.resourceBase.renderedResources.length:1},t.prototype.getResourceTdData=function(e,i){var n=this.parent.resourceBase.renderedResources[parseInt(e.toString(),10)],a=n.resourceData[n.resource.endHourField]||this.parent.workHours.end;return i.startHour=this.parent.getStartEndTime(n.resourceData[n.resource.startHourField]||this.parent.workHours.start),i.endHour=this.parent.getStartEndTime(a),i.workDays=n.resourceData[n.resource.workDaysField]||this.parent.workDays,i.className=n.className,i.groupIndex=n.groupIndex,i.groupOrder=n.groupOrder,i},t.prototype.renderContentTable=function(e){var i=e.querySelector("tbody");ce(this.getContentRows(),i)},t.prototype.getContentRows=function(){for(var e=[],i=N("tr"),n=N("td",{attrs:{"aria-selected":"false"}}),s=this.getRowCount(),a=0;a<s;a++){for(var o=i.cloneNode(),l=0,h=this.colLevels[this.colLevels.length-1];l<h.length;l++){var c=h[l];this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(c=this.getResourceTdData(a,c));var d=this.createContentTd(c,c,n);o.appendChild(d)}e.push(o)}return e},t.prototype.getContentTdClass=function(e){return e.first||!this.parent.activeViewOptions.timeScale.enable?[Te]:[Te,i6]},t.prototype.renderEvents=function(){this.timelineAppointment=new cm(this.parent,this.parent.activeViewOptions.timeScale.enable?"hour":"day"),this.timelineAppointment.renderAppointments(),this.parent.notify(Wc,{})},t.prototype.getAdjustedDate=function(e){if(!this.parent.activeViewOptions.timeScale.enable)return new Date(e.setHours(0,0,0,0));for(var i=this.colLevels[this.colLevels.length-1],n=0;n<i.length;n++)if(i[parseInt(n.toString(),10)].date.getTime()>e.getTime())return i[n-1].date;return null},t.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||(this.timelineAppointment&&(this.timelineAppointment.destroy(),this.timelineAppointment=null),r.prototype.destroy.call(this))},t}(_S),REe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),X8=function(r){function t(e){var i=r.call(this,e)||this;return i.viewClass="e-timeline-month-view",i.isInverseTableSelect=!0,i.appointment=null,i}return REe(t,r),t.prototype.getModuleName=function(){return"timelineMonth"},t.prototype.onDataReady=function(){this.appointment=new cm(this.parent,"day"),this.appointment.renderAppointments(),this.parent.notify(Wc,{})},t.prototype.getLeftPanelElement=function(){return this.element.querySelector("."+Ta)},t.prototype.scrollTopPanel=function(e){r.prototype.scrollTopPanel.call(this,e),this.scrollHeaderLabels(e)},t.prototype.setContentHeight=function(e,i,n){i&&(i.style.height=$(n-this.getScrollXIndent(e))),e.style.height=$(n)},t.prototype.getDateSlots=function(e,i){for(var n=[],s=0,a=e;s<a.length;s++){var o=a[s],l=[Vn];this.isCurrentDate(o)&&l.push(XD),n.push({date:o,type:"dateHeader",className:l,colSpan:1,workDays:i})}return n},t.prototype.renderLeftIndent=function(e){this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.renderResourceHeaderIndent(e)},t.prototype.renderContent=function(){var e=N("tr");if(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var i=N("td");i.appendChild(this.parent.resourceBase.createResourceColumn()),e.appendChild(i)}var n=N("td");this.element.querySelector("tbody").appendChild(e);var s=N("div",{className:ut});s.appendChild(this.renderContentArea()),s.appendChild(this.createEventTable(this.getRowCount())),this.collapseRows(s),b.add(s,"scroll",this.onContentScroll,this),n.appendChild(s),this.parent.virtualScrollModule&&this.parent.virtualScrollModule.renderVirtualTrack(s),e.appendChild(n)},t.prototype.getRowCount=function(){return this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?this.parent.resourceBase.renderedResources.length:1},t.prototype.getContentSlots=function(){for(var e=[],i=0;i<this.getRowCount();i++)for(var n=0,s=this.colLevels[this.colLevels.length-1];n<s.length;n++){var a=s[n];if(a.className=[Te],this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var o=this.parent.resourceBase.renderedResources[parseInt(i.toString(),10)];a.workDays=o.resourceData[o.resource.workDaysField]||this.parent.workDays,a.className=a.className.concat(o.className),a.groupIndex=o.groupIndex,a.groupOrder=o.groupOrder}var l={date:new Date(+a.date),colSpan:a.colSpan,groupIndex:a.groupIndex,workDays:a.workDays,type:"monthCells",className:a.className};e[parseInt(i.toString(),10)]||(e[parseInt(i.toString(),10)]=[]),e[parseInt(i.toString(),10)].push(l)}return e},t.prototype.updateClassList=function(e){this.parent.isMinMaxDate(e.date)||e.className.push(Bh)},t.prototype.unWireEvents=function(){b.remove(this.getContentAreaElement(),"scroll",this.onContentScroll)},t.prototype.getMonthStart=function(e){var i=this.parent.calendarUtil.firstDateOfMonth(ie(e));return new Date(i.getFullYear(),i.getMonth(),i.getDate())},t.prototype.getMonthEnd=function(e){var i=this.parent.calendarUtil.firstDateOfMonth(ie(e));return this.parent.calendarUtil.lastDateOfMonth(Qo(new Date(+i),this.parent.activeViewOptions.interval-1))},t.prototype.generateColumnLevels=function(){var e=[],i=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);return e.push(i),this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.generateResourceLevels(i,!this.parent.uiStateValues.isGroupAdaptive),this.parent.activeViewOptions.headerRows.length>0&&(e=new $8(this.parent,this.renderDates).generateColumnLevels(i,[])),this.colLevels=e,e},t.prototype.getAdjustedDate=function(e){for(var i=this.colLevels[this.colLevels.length-1],n=0;n<i.length;n++)if(i[parseInt(n.toString(),10)].date.getTime()>e.getTime())return i[n-1].date;return null},t.prototype.destroy=function(){if(!(!this.parent||this.parent&&this.parent.isDestroyed)){if(this.element){var e=this.element.querySelector("."+ut);e&&b.remove(e,"scroll",this.onContentScroll)}this.appointment&&(this.appointment.destroy(),this.appointment=null),r.prototype.destroy.call(this)}},t}(LS);const J8=["dateHeaderTemplate"],e7=["dateRangeTemplate"],t7=["dayHeaderTemplate"],i7=["cellHeaderTemplate"],n7=["cellTemplate"],HEe=["eventTemplate"],s7=["monthHeaderTemplate"],r7=["resourceHeaderTemplate"],a7=["headerIndentTemplate"],o7=["timeScaleMinorSlotTemplate"],l7=["timeScaleMajorSlotTemplate"],h7=["groupHeaderTooltipTemplate"],zEe=["template"],UEe=["eventSettingsTooltipTemplate"],WEe=["eventSettingsTemplate"],qEe=["editorTemplate"],YEe=["editorHeaderTemplate"],QEe=["editorFooterTemplate"],GEe=["quickInfoTemplatesHeader"],$Ee=["quickInfoTemplatesContent"],KEe=["quickInfoTemplatesFooter"];let XEe=["allowVirtualScrolling","cellHeaderTemplate","cellTemplate","dateFormat","dateHeaderTemplate","dateRangeTemplate","dayHeaderTemplate","displayDate","displayName","enableLazyLoading","endHour","eventTemplate","firstDayOfWeek","firstMonthOfYear","group","headerIndentTemplate","headerRows","interval","isSelected","monthHeaderTemplate","monthsCount","numberOfWeeks","option","orientation","readonly","resourceHeaderTemplate","showWeekNumber","showWeekend","startHour","timeFormat","timeScale","workDays"],ZEe=[],JEe=(()=>{class r extends TC{constructor(e){super(),this.viewContainerRef=e,ef("currentInstance",this,this.viewContainerRef),this.registerEvents(ZEe),this.directivePropList=XEe}}return r.\u0275fac=function(e){return new(e||r)(K(ws))},r.\u0275dir=Be({type:r,selectors:[["e-view"]],contentQueries:function(e,i,n){if(1&e&&(Ke(n,J8,5),Ke(n,e7,5),Ke(n,t7,5),Ke(n,i7,5),Ke(n,n7,5),Ke(n,HEe,5),Ke(n,s7,5),Ke(n,r7,5),Ke(n,a7,5),Ke(n,o7,5),Ke(n,l7,5),Ke(n,h7,5)),2&e){let s;Pe(s=Fe())&&(i.dateHeaderTemplate=s.first),Pe(s=Fe())&&(i.dateRangeTemplate=s.first),Pe(s=Fe())&&(i.dayHeaderTemplate=s.first),Pe(s=Fe())&&(i.cellHeaderTemplate=s.first),Pe(s=Fe())&&(i.cellTemplate=s.first),Pe(s=Fe())&&(i.eventTemplate=s.first),Pe(s=Fe())&&(i.monthHeaderTemplate=s.first),Pe(s=Fe())&&(i.resourceHeaderTemplate=s.first),Pe(s=Fe())&&(i.headerIndentTemplate=s.first),Pe(s=Fe())&&(i.timeScale_minorSlotTemplate=s.first),Pe(s=Fe())&&(i.timeScale_majorSlotTemplate=s.first),Pe(s=Fe())&&(i.group_headerTooltipTemplate=s.first)}},inputs:{allowVirtualScrolling:"allowVirtualScrolling",cellHeaderTemplate:"cellHeaderTemplate",cellTemplate:"cellTemplate",dateFormat:"dateFormat",dateHeaderTemplate:"dateHeaderTemplate",dateRangeTemplate:"dateRangeTemplate",dayHeaderTemplate:"dayHeaderTemplate",displayDate:"displayDate",displayName:"displayName",enableLazyLoading:"enableLazyLoading",endHour:"endHour",eventTemplate:"eventTemplate",firstDayOfWeek:"firstDayOfWeek",firstMonthOfYear:"firstMonthOfYear",group:"group",headerIndentTemplate:"headerIndentTemplate",headerRows:"headerRows",interval:"interval",isSelected:"isSelected",monthHeaderTemplate:"monthHeaderTemplate",monthsCount:"monthsCount",numberOfWeeks:"numberOfWeeks",option:"option",orientation:"orientation",readonly:"readonly",resourceHeaderTemplate:"resourceHeaderTemplate",showWeekNumber:"showWeekNumber",showWeekend:"showWeekend",startHour:"startHour",timeFormat:"timeFormat",timeScale:"timeScale",workDays:"workDays"},features:[ft]}),Bt([Jt()],r.prototype,"dateHeaderTemplate",void 0),Bt([Jt()],r.prototype,"dateRangeTemplate",void 0),Bt([Jt()],r.prototype,"dayHeaderTemplate",void 0),Bt([Jt()],r.prototype,"cellHeaderTemplate",void 0),Bt([Jt()],r.prototype,"cellTemplate",void 0),Bt([Jt()],r.prototype,"eventTemplate",void 0),Bt([Jt()],r.prototype,"monthHeaderTemplate",void 0),Bt([Jt()],r.prototype,"resourceHeaderTemplate",void 0),Bt([Jt()],r.prototype,"headerIndentTemplate",void 0),Bt([Jt()],r.prototype,"timeScale_minorSlotTemplate",void 0),Bt([Jt()],r.prototype,"timeScale_majorSlotTemplate",void 0),Bt([Jt()],r.prototype,"group_headerTooltipTemplate",void 0),r})(),eDe=(()=>{class r extends IC{constructor(){super("views")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=Be({type:r,selectors:[["e-views"]],contentQueries:function(e,i,n){if(1&e&&Ke(n,JEe,4),2&e){let s;Pe(s=Fe())&&(i.children=s)}},features:[ft]}),r})(),tDe=["allowMultiple","colorField","cssClassField","dataSource","endHourField","expandedField","field","groupIDField","idField","name","query","startHourField","textField","title","workDaysField"],iDe=[],nDe=(()=>{class r extends TC{constructor(e){super(),this.viewContainerRef=e,ef("currentInstance",this,this.viewContainerRef),this.registerEvents(iDe),this.directivePropList=tDe}}return r.\u0275fac=function(e){return new(e||r)(K(ws))},r.\u0275dir=Be({type:r,selectors:[["e-resource"]],inputs:{allowMultiple:"allowMultiple",colorField:"colorField",cssClassField:"cssClassField",dataSource:"dataSource",endHourField:"endHourField",expandedField:"expandedField",field:"field",groupIDField:"groupIDField",idField:"idField",name:"name",query:"query",startHourField:"startHourField",textField:"textField",title:"title",workDaysField:"workDaysField"},features:[ft]}),r})(),sDe=(()=>{class r extends IC{constructor(){super("resources")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=Be({type:r,selectors:[["e-resources"]],contentQueries:function(e,i,n){if(1&e&&Ke(n,nDe,4),2&e){let s;Pe(s=Fe())&&(i.children=s)}},features:[ft]}),r})(),rDe=["option","template"],aDe=[],oDe=(()=>{class r extends TC{constructor(e){super(),this.viewContainerRef=e,ef("currentInstance",this,this.viewContainerRef),this.registerEvents(aDe),this.directivePropList=rDe}}return r.\u0275fac=function(e){return new(e||r)(K(ws))},r.\u0275dir=Be({type:r,selectors:[["e-header-row"]],contentQueries:function(e,i,n){if(1&e&&Ke(n,zEe,5),2&e){let s;Pe(s=Fe())&&(i.template=s.first)}},inputs:{option:"option",template:"template"},features:[ft]}),Bt([Jt()],r.prototype,"template",void 0),r})(),lDe=(()=>{class r extends IC{constructor(){super("headerrows")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=Be({type:r,selectors:[["e-header-rows"]],contentQueries:function(e,i,n){if(1&e&&Ke(n,oDe,4),2&e){let s;Pe(s=Fe())&&(i.children=s)}},features:[ft]}),r})();const hDe=["actionBegin","actionComplete","actionFailure","cellClick","cellDoubleClick","created","dataBinding","dataBound","destroyed","drag","dragStart","dragStop","eventClick","eventDoubleClick","eventRendered","hover","moreEventsClick","navigating","popupClose","popupOpen","renderCell","resizeStart","resizeStop","resizing","select","virtualScrollStart","virtualScrollStop","currentViewChange","selectedDateChange"],cDe=["currentView","selectedDate"];let n_=(()=>{let r=class extends t_{constructor(e,i,n,s){super(),this.ngEle=e,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.tags=["views","resources","headerRows"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let a=this.injector.get("ScheduleDay");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleWeek");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleWorkWeek");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleMonth");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleYear");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleAgenda");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleMonthAgenda");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleTimelineViews");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleTimelineMonth");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleTimelineYear");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleResize");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleDragAndDrop");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleExcelExport");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleICalendarExport");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("ScheduleICalendarImport");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}try{let a=this.injector.get("SchedulePrint");-1===this.injectedModules.indexOf(a)&&this.injectedModules.push(a)}catch(a){}this.registerEvents(hDe),this.addTwoWay.call(this,cDe),ef("currentInstance",this,this.viewContainerRef),this.context=new AC}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childViews,this.childResources&&(this.tagObjects[1].instance=this.childResources),this.childHeaderRows&&(this.tagObjects[2].instance=this.childHeaderRows),this.context.ngAfterContentChecked(this)}};return r.\u0275fac=function(e){return new(e||r)(K(Ai),K(So),K(ws),K(An))},r.\u0275cmp=ci({type:r,selectors:[["ejs-schedule"]],contentQueries:function(e,i,n){if(1&e&&(Ke(n,J8,5),Ke(n,e7,5),Ke(n,t7,5),Ke(n,n7,5),Ke(n,i7,5),Ke(n,UEe,5),Ke(n,WEe,5),Ke(n,qEe,5),Ke(n,YEe,5),Ke(n,QEe,5),Ke(n,s7,5),Ke(n,o7,5),Ke(n,l7,5),Ke(n,r7,5),Ke(n,a7,5),Ke(n,GEe,5),Ke(n,$Ee,5),Ke(n,KEe,5),Ke(n,h7,5),Ke(n,eDe,5),Ke(n,sDe,5),Ke(n,lDe,5)),2&e){let s;Pe(s=Fe())&&(i.dateHeaderTemplate=s.first),Pe(s=Fe())&&(i.dateRangeTemplate=s.first),Pe(s=Fe())&&(i.dayHeaderTemplate=s.first),Pe(s=Fe())&&(i.cellTemplate=s.first),Pe(s=Fe())&&(i.cellHeaderTemplate=s.first),Pe(s=Fe())&&(i.eventSettings_tooltipTemplate=s.first),Pe(s=Fe())&&(i.eventSettings_template=s.first),Pe(s=Fe())&&(i.editorTemplate=s.first),Pe(s=Fe())&&(i.editorHeaderTemplate=s.first),Pe(s=Fe())&&(i.editorFooterTemplate=s.first),Pe(s=Fe())&&(i.monthHeaderTemplate=s.first),Pe(s=Fe())&&(i.timeScale_minorSlotTemplate=s.first),Pe(s=Fe())&&(i.timeScale_majorSlotTemplate=s.first),Pe(s=Fe())&&(i.resourceHeaderTemplate=s.first),Pe(s=Fe())&&(i.headerIndentTemplate=s.first),Pe(s=Fe())&&(i.quickInfoTemplates_header=s.first),Pe(s=Fe())&&(i.quickInfoTemplates_content=s.first),Pe(s=Fe())&&(i.quickInfoTemplates_footer=s.first),Pe(s=Fe())&&(i.group_headerTooltipTemplate=s.first),Pe(s=Fe())&&(i.childViews=s.first),Pe(s=Fe())&&(i.childResources=s.first),Pe(s=Fe())&&(i.childHeaderRows=s.first)}},inputs:{agendaDaysCount:"agendaDaysCount",allowDragAndDrop:"allowDragAndDrop",allowInline:"allowInline",allowKeyboardInteraction:"allowKeyboardInteraction",allowMultiCellSelection:"allowMultiCellSelection",allowMultiDrag:"allowMultiDrag",allowMultiRowSelection:"allowMultiRowSelection",allowResizing:"allowResizing",allowSwiping:"allowSwiping",calendarMode:"calendarMode",cellHeaderTemplate:"cellHeaderTemplate",cellTemplate:"cellTemplate",cssClass:"cssClass",currentView:"currentView",dateFormat:"dateFormat",dateHeaderTemplate:"dateHeaderTemplate",dateRangeTemplate:"dateRangeTemplate",dayHeaderTemplate:"dayHeaderTemplate",editorFooterTemplate:"editorFooterTemplate",editorHeaderTemplate:"editorHeaderTemplate",editorTemplate:"editorTemplate",enableAdaptiveUI:"enableAdaptiveUI",enableAllDayScroll:"enableAllDayScroll",enableHtmlSanitizer:"enableHtmlSanitizer",enablePersistence:"enablePersistence",enableRecurrenceValidation:"enableRecurrenceValidation",enableRtl:"enableRtl",endHour:"endHour",eventDragArea:"eventDragArea",eventSettings:"eventSettings",firstDayOfWeek:"firstDayOfWeek",firstMonthOfYear:"firstMonthOfYear",group:"group",headerIndentTemplate:"headerIndentTemplate",headerRows:"headerRows",height:"height",hideEmptyAgendaDays:"hideEmptyAgendaDays",locale:"locale",maxDate:"maxDate",minDate:"minDate",monthHeaderTemplate:"monthHeaderTemplate",monthsCount:"monthsCount",quickInfoOnSelectionEnd:"quickInfoOnSelectionEnd",quickInfoTemplates:"quickInfoTemplates",readonly:"readonly",resourceHeaderTemplate:"resourceHeaderTemplate",resources:"resources",rowAutoHeight:"rowAutoHeight",selectedDate:"selectedDate",showHeaderBar:"showHeaderBar",showQuickInfo:"showQuickInfo",showTimeIndicator:"showTimeIndicator",showWeekNumber:"showWeekNumber",showWeekend:"showWeekend",startHour:"startHour",timeFormat:"timeFormat",timeScale:"timeScale",timezone:"timezone",timezoneDataSource:"timezoneDataSource",views:"views",weekRule:"weekRule",width:"width",workDays:"workDays",workHours:"workHours"},outputs:{actionBegin:"actionBegin",actionComplete:"actionComplete",actionFailure:"actionFailure",cellClick:"cellClick",cellDoubleClick:"cellDoubleClick",created:"created",dataBinding:"dataBinding",dataBound:"dataBound",destroyed:"destroyed",drag:"drag",dragStart:"dragStart",dragStop:"dragStop",eventClick:"eventClick",eventDoubleClick:"eventDoubleClick",eventRendered:"eventRendered",hover:"hover",moreEventsClick:"moreEventsClick",navigating:"navigating",popupClose:"popupClose",popupOpen:"popupOpen",renderCell:"renderCell",resizeStart:"resizeStart",resizeStop:"resizeStop",resizing:"resizing",select:"select",virtualScrollStart:"virtualScrollStart",virtualScrollStop:"virtualScrollStop",currentViewChange:"currentViewChange",selectedDateChange:"selectedDateChange"},features:[ft],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),Bt([Jt()],r.prototype,"dateHeaderTemplate",void 0),Bt([Jt()],r.prototype,"dateRangeTemplate",void 0),Bt([Jt()],r.prototype,"dayHeaderTemplate",void 0),Bt([Jt()],r.prototype,"cellTemplate",void 0),Bt([Jt()],r.prototype,"cellHeaderTemplate",void 0),Bt([Jt()],r.prototype,"eventSettings_tooltipTemplate",void 0),Bt([Jt()],r.prototype,"eventSettings_template",void 0),Bt([Jt()],r.prototype,"editorTemplate",void 0),Bt([Jt()],r.prototype,"editorHeaderTemplate",void 0),Bt([Jt()],r.prototype,"editorFooterTemplate",void 0),Bt([Jt()],r.prototype,"monthHeaderTemplate",void 0),Bt([Jt()],r.prototype,"timeScale_minorSlotTemplate",void 0),Bt([Jt()],r.prototype,"timeScale_majorSlotTemplate",void 0),Bt([Jt()],r.prototype,"resourceHeaderTemplate",void 0),Bt([Jt()],r.prototype,"headerIndentTemplate",void 0),Bt([Jt()],r.prototype,"quickInfoTemplates_header",void 0),Bt([Jt()],r.prototype,"quickInfoTemplates_content",void 0),Bt([Jt()],r.prototype,"quickInfoTemplates_footer",void 0),Bt([Jt()],r.prototype,"group_headerTooltipTemplate",void 0),r=Bt([O4([AC])],r),r})(),uDe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({imports:[[lc]]}),r})();const s_={provide:"ScheduleDay",useValue:U8},r_={provide:"ScheduleWeek",useValue:W8},a_={provide:"ScheduleWorkWeek",useValue:q8},o_={provide:"ScheduleMonth",useValue:LS},l_={provide:"ScheduleAgenda",useValue:Q8},h_={provide:"ScheduleMonthAgenda",useValue:G8},c_={provide:"ScheduleTimelineViews",useValue:K8},u_={provide:"ScheduleTimelineMonth",useValue:X8};let c7=(()=>{class r{constructor(e,i){this.http=e,this.notificationService=i,this.operationUrl=ch+"operation/event/",this.AddOperationUrl=this.operationUrl+"add",this.EditOperationUrl=this.operationUrl+"edit",this.DeleteOperationUrl=this.operationUrl+"delete",this.GetOperationUrl=this.operationUrl+"all"}addNewEvent(e){e?this.http.post(this.AddOperationUrl,e).subscribe({next:i=>{this.notificationService.sendMessage({message:"Event added successfully",type:Ui.success})},error:i=>{this.notificationService.sendMessage({message:"Event could not be added: "+i.error.msg,type:Ui.error})}}):console.log("Event could not be added")}editEvent(e){e?this.http.post(this.EditOperationUrl,e).subscribe({next:i=>{this.notificationService.sendMessage({message:"Event updated successfully",type:Ui.success})},error:i=>{this.notificationService.sendMessage({message:"Event could not be updated: "+i.error.msg,type:Ui.error})}}):this.notificationService.sendMessage({message:"Event could not be added",type:Ui.error})}deleteEvent(e){e?this.http.post(this.DeleteOperationUrl,e).subscribe({next:i=>{this.notificationService.sendMessage({message:"Event deleted successfully",type:Ui.success})},error:i=>{this.notificationService.sendMessage({message:"Event could not be deleted: "+i.error.msg,type:Ui.error})}}):this.notificationService.sendMessage({message:"Event could not be deleted",type:Ui.error})}getAllEvents(){return this.http.get(this.GetOperationUrl)}}return r.\u0275fac=function(e){return new(e||r)(le(Ou),le(ku))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),d_=(()=>{class r{constructor(e,i){this.eventService=e,this.notificationService=i,this.oldData=[],this.flag=!1,this.currentView="Month",this.data=[],this.eventSettings={dataSource:this.data},this.eventService.getAllEvents().subscribe({next:n=>{this.scheduleObj&&(this.scheduleObj.eventSettings.dataSource=n)},error:n=>{this.notificationService.sendMessage({message:"Could not get events: "+n.error.msg,type:Ui.error})}})}actionComplete(e){e.addedRecords&&e.addedRecords.length?this.eventService.addNewEvent(e.addedRecords[0]):e.changedRecords&&e.changedRecords.length?this.eventService.editEvent(e.changedRecords[0]):e.deletedRecords&&e.deletedRecords.length&&this.eventService.deleteEvent(e.deletedRecords[0])}}return r.\u0275fac=function(e){return new(e||r)(K(c7),K(ku))},r.\u0275cmp=ci({type:r,selectors:[["app-calendar"]],viewQuery:function(e,i){if(1&e&&ja(n_,5),2&e){let n;Pe(n=Fe())&&(i.scheduleObj=n.first)}},features:[Ii([s_,r_,a_,o_,l_,h_,c_,u_])],decls:1,vars:2,consts:[[3,"eventSettings","currentView","actionComplete"]],template:function(e,i){1&e&&(W(0,"ejs-schedule",0),xt("actionComplete",function(s){return i.actionComplete(s)}),q()),2&e&&Ne("eventSettings",i.eventSettings)("currentView",i.currentView)},directives:[n_],styles:[""]}),r})();var Vl=(()=>(function(r){r.ADMIN="Admin",r.SUPER_ADMIN="Super Admin",r.GENERAL_USER="General User"}(Vl||(Vl={})),Vl))();let dDe=(()=>{class r extends k2{onSubmit(e){e.preventDefault(),this.uploadService.upload(this.documents,"https://www.bso-toronto.ca:3000/api/operation/upload/images").subscribe({next:i=>{this.notificationService.sendMessage({message:"Images Uploaded successfully",type:Ui.success})},error:i=>{this.notificationService.sendMessage({message:"Images could not be uploaded: "+i.error.msg,type:Ui.error})}})}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=Rs(r)))(i||r)}}(),r.\u0275cmp=ci({type:r,selectors:[["app-image-upload"]],features:[ft],decls:10,vars:0,consts:[[2,"text-align","center"],["type","file","name","image","multiple","",3,"change"],["type","submit",3,"click"]],template:function(e,i){1&e&&(W(0,"div",0),W(1,"form"),W(2,"div"),W(3,"input",1),xt("change",function(s){return i.selectDocuments(s)}),q(),W(4,"span"),he(5,"(Supported file types - jpeg, png, jpg, svg)"),q(),Ce(6,"br"),W(7,"div"),W(8,"button",2),xt("click",function(s){return i.onSubmit(s)}),he(9,"Upload"),q(),q(),q(),q(),q())},directives:[Vp,Pp,Lu],styles:[""]}),r})();function Gn(r){return null!=r&&"false"!=`${r}`}function p_(r,t=0){return function(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):t}function u7(r){return Array.isArray(r)?r:[r]}function ys(r){return null==r?"":"string"==typeof r?r:`${r}px`}function qh(r){return r instanceof Ai?r.nativeElement:r}class fDe extends rn{constructor(t,e){super()}schedule(t,e=0){return this}}const RS={setInterval(...r){const{delegate:t}=RS;return((null==t?void 0:t.setInterval)||setInterval)(...r)},clearInterval(r){const{delegate:t}=RS;return((null==t?void 0:t.clearInterval)||clearInterval)(r)},delegate:void 0};class f_ extends fDe{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this}requestAsyncId(t,e,i=0){return RS.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;RS.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,i=!1;try{this.work(t)}catch(s){i=!0,n=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Ld(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const d7={now:()=>(d7.delegate||Date).now(),delegate:void 0};class Qy{constructor(t,e=Qy.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Qy.now=d7.now;class m_ extends Qy{constructor(t,e=Qy.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const g_=new m_(f_),p7=g_;function f7(r,t=g_){return In((e,i)=>{let n=null,s=null,a=null;const o=()=>{if(n){n.unsubscribe(),n=null;const h=s;s=null,i.next(h)}};function l(){const h=a+r,c=t.now();if(c<h)return n=this.schedule(void 0,h-c),void i.add(n);o()}e.subscribe(new fn(i,h=>{s=h,a=t.now(),n||(n=t.schedule(l,r),i.add(n))},()=>{o(),i.complete()},void 0,()=>{s=n=null}))})}let v_,m7=(()=>{class r{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),mDe=(()=>{class r{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=qh(e);return new zi(n=>{const a=this._observeElement(i).subscribe(n);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new kt,n=this._mutationObserverFactory.create(s=>i.next(s));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:n}=this._observedElements.get(e);i&&i.disconnect(),n.complete(),this._observedElements.delete(e)}}}return r.\u0275fac=function(e){return new(e||r)(le(m7))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),g7=(()=>{class r{constructor(e,i,n){this._contentObserver=e,this._elementRef=i,this._ngZone=n,this.event=new _t,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Gn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=p_(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(f7(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null==(e=this._currentSubscription)||e.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(K(mDe),K(Ai),K(qt))},r.\u0275dir=Be({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),r})(),v7=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({providers:[m7]}),r})();function um(r,...t){return t.length?t.some(e=>r[e]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}function C7(r,t=Qh){return r=null!=r?r:ADe,In((e,i)=>{let n,s=!0;e.subscribe(new fn(i,a=>{const o=t(a);(s||!r(n,o))&&(s=!1,n=o,i.next(a))}))})}function ADe(r,t){return r===t}function Ur(r){return In((t,e)=>{oa(r).subscribe(new fn(e,()=>e.complete(),Rd)),!e.closed&&t.subscribe(e)})}try{v_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(r){v_=!1}let dm,lo=(()=>{class r{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(r){return r===UB}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!v_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(e){return new(e||r)(le(hg))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),y_=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({}),r})();const E7=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function D7(){if(dm)return dm;if("object"!=typeof document||!document)return dm=new Set(E7),dm;let r=document.createElement("input");return dm=new Set(E7.filter(t=>(r.setAttribute("type",t),r.type===t))),dm}let Gy,Td,b_;function $y(r){return function(){if(null==Gy&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Gy=!0}))}finally{Gy=Gy||!1}return Gy}()?r:!!r.capture}function ODe(){if(null==Td){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Td=!1,Td;if("scrollBehavior"in document.documentElement.style)Td=!0;else{const r=Element.prototype.scrollTo;Td=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return Td}function Id(r){return r.composedPath?r.composedPath()[0]:r.target}function C_(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}class M7{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new kt,this._typeaheadSubscription=rn.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new kt,this.change=new kt,t instanceof Dp&&t.changes.subscribe(e=>{if(this._activeItem){const n=e.toArray().indexOf(this._activeItem);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Qs(e=>this._pressedLetters.push(e)),f7(t),ur(()=>this._pressedLetters.length>0),Ut(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let n=1;n<i.length+1;n++){const s=(this._activeItemIndex+n)%i.length,a=i[s];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||um(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),n=e[i];this._activeItem=null==n?null:n,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const n=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[n]))return void this.setActiveItem(n)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Dp?this._items.toArray():this._items}}class RDe extends M7{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class PDe extends M7{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}function E_(r){return 0===r.offsetX&&0===r.offsetY}function D_(r){const t=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const zDe=new Ve("cdk-input-modality-detector-options"),UDe={ignoreKeys:[18,17,224,91,16]},pm=$y({passive:!0,capture:!0});let WDe=(()=>{class r{constructor(e,i,n,s){this._platform=e,this._mostRecentTarget=null,this._modality=new ba(null),this._lastTouchMs=0,this._onKeydown=a=>{var o,l;(null==(l=null==(o=this._options)?void 0:o.ignoreKeys)?void 0:l.some(h=>h===a.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Id(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(E_(a)?"keyboard":"mouse"),this._mostRecentTarget=Id(a))},this._onTouchstart=a=>{D_(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Id(a))},this._options=xe(xe({},UDe),s),this.modalityDetected=this._modality.pipe(ur((t,e)=>1<=e)),this.modalityChanged=this.modalityDetected.pipe(C7()),e.isBrowser&&i.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,pm),n.addEventListener("mousedown",this._onMousedown,pm),n.addEventListener("touchstart",this._onTouchstart,pm)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,pm),document.removeEventListener("mousedown",this._onMousedown,pm),document.removeEventListener("touchstart",this._onTouchstart,pm))}}return r.\u0275fac=function(e){return new(e||r)(le(lo),le(qt),le(Xt),le(zDe,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const qDe=new Ve("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),QDe=new Ve("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let GDe=(()=>{class r{constructor(e,i,n,s){this._ngZone=i,this._defaultOptions=s,this._document=n,this._liveElement=e||this._createLiveElement()}announce(e,...i){const n=this._defaultOptions;let s,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[s,a]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=n&&n.politeness?n.politeness:"polite"),null==a&&n&&(a=n.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>new Promise(o=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,o(),"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e;clearTimeout(this._previousTimeout),null==(e=this._liveElement)||e.remove(),this._liveElement=null}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),n=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return n.classList.add(e),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return r.\u0275fac=function(e){return new(e||r)(le(qDe,8),le(qt),le(Xt),le(QDe,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const $De=new Ve("cdk-focus-monitor-default-options"),US=$y({passive:!0,capture:!0});let WS=(()=>{class r{constructor(e,i,n,s,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new kt,this._rootNodeFocusAndBlurListener=o=>{const l=Id(o),h="focus"===o.type?this._onFocus:this._onBlur;for(let c=l;c;c=c.parentElement)h.call(this,o,c)},this._document=s,this._detectionMode=(null==a?void 0:a.detectionMode)||0}monitor(e,i=!1){const n=qh(e);if(!this._platform.isBrowser||1!==n.nodeType)return pt(null);const s=function(r){if(function(){if(null==b_){const r="undefined"!=typeof document?document.head:null;b_=!(!r||!r.createShadowRoot&&!r.attachShadow)}return b_}()){const t=r.getRootNode?r.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(n)||this._getDocument(),a=this._elementInfo.get(n);if(a)return i&&(a.checkChildren=!0),a.subject;const o={checkChildren:i,subject:new kt,rootNode:s};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(e){const i=qh(e),n=this._elementInfo.get(i);n&&(n.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(n))}focusVia(e,i,n){const s=qh(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([o,l])=>this._originChanged(o,i,l)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(n))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const n=this._elementInfo.get(i),s=Id(e);!n||!n.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),n)}_onBlur(e,i){const n=this._elementInfo.get(i);!n||n.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(n.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,n=this._rootNodeFocusListenerCount.get(i)||0;n||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,US),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,US)}),this._rootNodeFocusListenerCount.set(i,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ur(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const n=this._rootNodeFocusListenerCount.get(i);n>1?this._rootNodeFocusListenerCount.set(i,n-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,US),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,US),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,n){this._setClasses(e,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((n,s)=>{(s===e||n.checkChildren&&s.contains(e))&&i.push([s,n])}),i}}return r.\u0275fac=function(e){return new(e||r)(le(qt),le(lo),le(WDe),le(Xt,8),le($De,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const A7="cdk-high-contrast-black-on-white",x7="cdk-high-contrast-white-on-black",S_="cdk-high-contrast-active";let KDe=(()=>{class r{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,n=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(n&&n.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(S_),e.remove(A7),e.remove(x7),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(S_),e.add(A7)):2===i&&(e.add(S_),e.add(x7))}}}return r.\u0275fac=function(e){return new(e||r)(le(lo),le(Xt))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const XDe=new Ve("cdk-dir-doc",{providedIn:"root",factory:function(){return yM(Xt)}});let Ky=(()=>{class r{constructor(e){if(this.value="ltr",this.change=new _t,e){const n=e.documentElement?e.documentElement.dir:null,s=(e.body?e.body.dir:null)||n;this.value="ltr"===s||"rtl"===s?s:"ltr"}}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(e){return new(e||r)(le(XDe,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Xy=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({}),r})();function k7(){return"undefined"!=typeof window&&void 0!==window.document}function w_(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function nu(r){switch(r.length){case 0:return new Ap;case 1:return r[0];default:return new hH(r)}}function N7(r,t,e,i,n={},s={}){const a=[],o=[];let l=-1,h=null;if(i.forEach(c=>{const d=c.offset,p=d==l,f=p&&h||{};Object.keys(c).forEach(m=>{let g=m,y=c[m];if("offset"!==m)switch(g=t.normalizePropertyName(g,a),y){case"!":y=n[m];break;case ih:y=s[m];break;default:y=t.normalizeStyleValue(m,g,y,a)}f[g]=y}),p||o.push(f),h=f,l=d}),a.length){const c="\n - ";throw new Error(`Unable to animate due to the following errors:${c}${a.join(c)}`)}return o}function M_(r,t,e,i){switch(t){case"start":r.onStart(()=>i(e&&T_(e,"start",r)));break;case"done":r.onDone(()=>i(e&&T_(e,"done",r)));break;case"destroy":r.onDestroy(()=>i(e&&T_(e,"destroy",r)))}}function T_(r,t,e){const i=e.totalTime,s=I_(r.element,r.triggerName,r.fromState,r.toState,t||r.phaseName,null==i?r.totalTime:i,!!e.disabled),a=r._data;return null!=a&&(s._data=a),s}function I_(r,t,e,i,n="",s=0,a){return{element:r,triggerName:t,fromState:e,toState:i,phaseName:n,totalTime:s,disabled:!!a}}function Oa(r,t,e){let i;return r instanceof Map?(i=r.get(t),i||r.set(t,i=e)):(i=r[t],i||(i=r[t]=e)),i}function _7(r){const t=r.indexOf(":");return[r.substring(1,t),r.substr(t+1)]}let A_=(r,t)=>!1,x_=(r,t)=>!1,L7=(r,t,e)=>[];const R7=w_();(R7||"undefined"!=typeof Element)&&(A_=k7()?(r,t)=>{for(;t&&t!==document.documentElement;){if(t===r)return!0;t=t.parentNode||t.host}return!1}:(r,t)=>r.contains(t),x_=(()=>{if(R7||Element.prototype.matches)return(r,t)=>r.matches(t);{const r=Element.prototype,t=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):x_}})(),L7=(r,t,e)=>{let i=[];if(e){const n=r.querySelectorAll(t);for(let s=0;s<n.length;s++)i.push(n[s])}else{const n=r.querySelector(t);n&&i.push(n)}return i});let Ad=null,P7=!1;function O_(r){Ad||(Ad=("undefined"!=typeof document?document.body:null)||{},P7=!!Ad.style&&"WebkitAppearance"in Ad.style);let t=!0;return Ad.style&&!function(r){return"ebkit"==r.substring(1,6)}(r)&&(t=r in Ad.style,!t&&P7&&(t="Webkit"+r.charAt(0).toUpperCase()+r.substr(1)in Ad.style)),t}const k_=x_,N_=A_,__=L7;function F7(r){const t={};return Object.keys(r).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=r[e]}),t}let V7=(()=>{class r{validateStyleProperty(e){return O_(e)}matchesElement(e,i){return k_(e,i)}containsElement(e,i){return N_(e,i)}query(e,i,n){return __(e,i,n)}computeStyle(e,i,n){return n||""}animate(e,i,n,s,a,o=[],l){return new Ap(n,s)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),L_=(()=>{class r{}return r.NOOP=new V7,r})();const R_="ng-enter",qS="ng-leave",YS="ng-trigger",QS=".ng-trigger",B7="ng-animating",P_=".ng-animating";function xd(r){if("number"==typeof r)return r;const t=r.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:F_(parseFloat(t[1]),t[2])}function F_(r,t){return"s"===t?1e3*r:r}function GS(r,t,e){return r.hasOwnProperty("duration")?r:function(r,t,e){let n,s=0,a="";if("string"==typeof r){const o=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return t.push(`The provided timing value "${r}" is invalid.`),{duration:0,delay:0,easing:""};n=F_(parseFloat(o[1]),o[2]);const l=o[3];null!=l&&(s=F_(parseFloat(l),o[4]));const h=o[5];h&&(a=h)}else n=r;if(!e){let o=!1,l=t.length;n<0&&(t.push("Duration values below 0 are not allowed for this animation step."),o=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),o=!0),o&&t.splice(l,0,`The provided timing value "${r}" is invalid.`)}return{duration:n,delay:s,easing:a}}(r,t,e)}function fm(r,t={}){return Object.keys(r).forEach(e=>{t[e]=r[e]}),t}function su(r,t,e={}){if(t)for(let i in r)e[i]=r[i];else fm(r,e);return e}function z7(r,t,e){return e?t+":"+e+";":""}function U7(r){let t="";for(let e=0;e<r.style.length;e++){const i=r.style.item(e);t+=z7(0,i,r.style.getPropertyValue(i))}for(const e in r.style)r.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=z7(0,aSe(e),r.style[e]));r.setAttribute("style",t)}function jl(r,t,e){r.style&&(Object.keys(t).forEach(i=>{const n=j_(i);e&&!e.hasOwnProperty(i)&&(e[i]=r.style[n]),r.style[n]=t[i]}),w_()&&U7(r))}function Od(r,t){r.style&&(Object.keys(t).forEach(e=>{const i=j_(e);r.style[i]=""}),w_()&&U7(r))}function Zy(r){return Array.isArray(r)?1==r.length?r[0]:oH(r):r}const V_=new RegExp("{{\\s*(.+?)\\s*}}","g");function W7(r){let t=[];if("string"==typeof r){let e;for(;e=V_.exec(r);)t.push(e[1]);V_.lastIndex=0}return t}function $S(r,t,e){const i=r.toString(),n=i.replace(V_,(s,a)=>{let o=t[a];return t.hasOwnProperty(a)||(e.push(`Please provide a value for the animation param ${a}`),o=""),o.toString()});return n==i?r:n}function KS(r){const t=[];let e=r.next();for(;!e.done;)t.push(e.value),e=r.next();return t}const rSe=/-+([a-z0-9])/g;function j_(r){return r.replace(rSe,(...t)=>t[1].toUpperCase())}function aSe(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function q7(r,t){return 0===r||0===t}function Y7(r,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],a=[];if(i.forEach(o=>{s.hasOwnProperty(o)||a.push(o),s[o]=e[o]}),a.length)for(var n=1;n<t.length;n++){let o=t[n];a.forEach(function(l){o[l]=B_(r,l)})}}return t}function ka(r,t,e){switch(t.type){case 7:return r.visitTrigger(t,e);case 0:return r.visitState(t,e);case 1:return r.visitTransition(t,e);case 2:return r.visitSequence(t,e);case 3:return r.visitGroup(t,e);case 4:return r.visitAnimate(t,e);case 5:return r.visitKeyframes(t,e);case 6:return r.visitStyle(t,e);case 8:return r.visitReference(t,e);case 9:return r.visitAnimateChild(t,e);case 10:return r.visitAnimateRef(t,e);case 11:return r.visitQuery(t,e);case 12:return r.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function B_(r,t){return window.getComputedStyle(r)[t]}function oSe(r,t){const e=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(i=>function(r,t,e){if(":"==r[0]){const l=function(r,t){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${r}" is not supported`),"* => *"}}(r,e);if("function"==typeof l)return void t.push(l);r=l}const i=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${r}" is not supported`),t;const n=i[1],s=i[2],a=i[3];t.push(Q7(n,a));"<"==s[0]&&!("*"==n&&"*"==a)&&t.push(Q7(a,n))}(i,e,t)):e.push(r),e}const ZS=new Set(["true","1"]),JS=new Set(["false","0"]);function Q7(r,t){const e=ZS.has(r)||JS.has(r),i=ZS.has(t)||JS.has(t);return(n,s)=>{let a="*"==r||r==n,o="*"==t||t==s;return!a&&e&&"boolean"==typeof n&&(a=n?ZS.has(r):JS.has(r)),!o&&i&&"boolean"==typeof s&&(o=s?ZS.has(t):JS.has(t)),a&&o}}const cSe=new RegExp("s*:selfs*,?","g");function H_(r,t,e){return new uSe(r).build(t,e)}class uSe{constructor(t){this._driver=t}build(t,e){const i=new fSe(e);return this._resetContextStyleTimingState(i),ka(this,Zy(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,n=e.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(o=>{if(this._resetContextStyleTimingState(e),0==o.type){const l=o,h=l.name;h.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,s.push(this.visitState(l,e))}),l.name=h}else if(1==o.type){const l=this.visitTransition(o,e);i+=l.queryCount,n+=l.depCount,a.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:s,transitions:a,queryCount:i,depCount:n,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),n=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=n||{};if(i.styles.forEach(o=>{if(ew(o)){const l=o;Object.keys(l).forEach(h=>{W7(l[h]).forEach(c=>{a.hasOwnProperty(c)||s.add(c)})})}}),s.size){const o=KS(s.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${o.join(", ")}`)}}return{type:0,name:t.name,style:i,options:n?{params:n}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ka(this,Zy(t.animation),e);return{type:1,matchers:oSe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:kd(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ka(this,i,e)),options:kd(t.options)}}visitGroup(t,e){const i=e.currentTime;let n=0;const s=t.steps.map(a=>{e.currentTime=i;const o=ka(this,a,e);return n=Math.max(n,e.currentTime),o});return e.currentTime=n,{type:3,steps:s,options:kd(t.options)}}visitAnimate(t,e){const i=function(r,t){let e=null;if(r.hasOwnProperty("duration"))e=r;else if("number"==typeof r)return z_(GS(r,t).duration,0,"");const i=r;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=z_(0,0,"");return s.dynamic=!0,s.strValue=i,s}return e=e||GS(i,t),z_(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let n,s=t.styles?t.styles:cr({});if(5==s.type)n=this.visitKeyframes(s,e);else{let a=t.styles,o=!1;if(!a){o=!0;const h={};i.easing&&(h.easing=i.easing),a=cr(h)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(a,e);l.isEmptyStep=o,n=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(a=>{"string"==typeof a?a==ih?i.push(a):e.errors.push(`The provided style string value ${a} is not allowed.`):i.push(a)}):i.push(t.styles);let n=!1,s=null;return i.forEach(a=>{if(ew(a)){const o=a,l=o.easing;if(l&&(s=l,delete o.easing),!n)for(let h in o)if(o[h].toString().indexOf("{{")>=0){n=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:n,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let n=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(o=>{if(!this._driver.validateStyleProperty(o))return void e.errors.push(`The provided animation property "${o}" is not a supported CSS property for animations`);const l=e.collectedStyles[e.currentQuerySelector],h=l[o];let c=!0;h&&(s!=n&&s>=h.startTime&&n<=h.endTime&&(e.errors.push(`The CSS property "${o}" that exists between the times of "${h.startTime}ms" and "${h.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${n}ms"`),c=!1),s=h.startTime),c&&(l[o]={startTime:s,endTime:n}),e.options&&function(r,t,e){const i=t.params||{},n=W7(r);n.length&&n.forEach(s=>{i.hasOwnProperty(s)||e.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(a[o],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let s=0;const a=[];let o=!1,l=!1,h=0;const c=t.steps.map(C=>{const E=this._makeStyleAst(C,e);let S=null!=E.offset?E.offset:function(r){if("string"==typeof r)return null;let t=null;if(Array.isArray(r))r.forEach(e=>{if(ew(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(ew(r)&&r.hasOwnProperty("offset")){const e=r;t=parseFloat(e.offset),delete e.offset}return t}(E.styles),w=0;return null!=S&&(s++,w=E.offset=S),l=l||w<0||w>1,o=o||w<h,h=w,a.push(w),E});l&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const d=t.steps.length;let p=0;s>0&&s<d?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(p=1/(d-1));const f=d-1,m=e.currentTime,g=e.currentAnimateTimings,y=g.duration;return c.forEach((C,E)=>{const S=p>0?E==f?1:p*E:a[E],w=S*y;e.currentTime=m+g.delay+w,g.duration=w,this._validateStyleAst(C,e),C.offset=S,i.styles.push(C)}),i}visitReference(t,e){return{type:8,animation:ka(this,Zy(t.animation),e),options:kd(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:kd(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:kd(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,n=t.options||{};e.queryCount++,e.currentQuery=t;const[s,a]=function(r){const t=!!r.split(/\s*,\s*/).find(e=>":self"==e);return t&&(r=r.replace(cSe,"")),r=r.replace(/@\*/g,QS).replace(/@\w+/g,e=>QS+"-"+e.substr(1)).replace(/:animating/g,P_),[r,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Oa(e.collectedStyles,e.currentQuerySelector,{});const o=ka(this,Zy(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:n.limit||0,optional:!!n.optional,includeSelf:a,animation:o,originalSelector:t.selector,options:kd(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:GS(t.timings,e.errors,!0);return{type:12,animation:ka(this,Zy(t.animation),e),timings:i,options:null}}}class fSe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ew(r){return!Array.isArray(r)&&"object"==typeof r}function kd(r){return r?(r=fm(r)).params&&(r.params=function(r){return r?fm(r):null}(r.params)):r={},r}function z_(r,t,e){return{duration:r,delay:t,easing:e}}function U_(r,t,e,i,n,s,a=null,o=!1){return{type:1,element:r,keyframes:t,preStyleProps:e,postStyleProps:i,duration:n,delay:s,totalTime:n+s,easing:a,subTimeline:o}}class tw{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const bSe=new RegExp(":enter","g"),ESe=new RegExp(":leave","g");function W_(r,t,e,i,n,s={},a={},o,l,h=[]){return(new DSe).buildKeyframes(r,t,e,i,n,s,a,o,l,h)}class DSe{buildKeyframes(t,e,i,n,s,a,o,l,h,c=[]){h=h||new tw;const d=new q_(t,e,h,n,s,c,[]);d.options=l,d.currentTimeline.setStyles([a],null,d.errors,l),ka(this,i,d);const p=d.timelines.filter(f=>f.containsAnimation());if(p.length&&Object.keys(o).length){const f=p[p.length-1];f.allowOnlyTimelineStyles()||f.setStyles([o],null,d.errors,l)}return p.length?p.map(f=>f.buildKeyframes()):[U_(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const n=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,n,n.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const a=null!=i.duration?xd(i.duration):null,o=null!=i.delay?xd(i.delay):null;return 0!==a&&t.forEach(l=>{const h=e.appendInstructionToTimeline(l,a,o);s=Math.max(s,h.duration+h.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),ka(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let n=e;const s=t.options;if(s&&(s.params||s.delay)&&(n=e.createSubContext(s),n.transformIntoNewTimeline(),null!=s.delay)){6==n.previousNode.type&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=iw);const a=xd(s.delay);n.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>ka(this,a,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let n=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?xd(t.options.delay):0;t.steps.forEach(a=>{const o=e.createSubContext(t.options);s&&o.delayNextStep(s),ka(this,a,o),n=Math.max(n,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(n),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return GS(e.params?$S(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),n=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),n.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,n=e.currentAnimateTimings;!n&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=n&&n.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,n=e.currentTimeline.duration,s=i.duration,o=e.createSubContext().currentTimeline;o.easing=i.easing,t.styles.forEach(l=>{o.forwardTime((l.offset||0)*s),o.setStyles(l.styles,l.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(n+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,n=t.options||{},s=n.delay?xd(n.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=iw);let a=i;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!n.optional,e.errors);e.currentQueryTotal=o.length;let l=null;o.forEach((h,c)=>{e.currentQueryIndex=c;const d=e.createSubContext(t.options,h);s&&d.delayNextStep(s),h===e.element&&(l=d.currentTimeline),ka(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,n=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),o=a*(e.currentQueryTotal-1);let l=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=o-l;break;case"full":l=i.currentStaggerTime}const c=e.currentTimeline;l&&c.delayNextStep(l);const d=c.currentTime;ka(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=n.currentTime-d+(n.startTime-i.currentTimeline.startTime)}}const iw={};class q_{constructor(t,e,i,n,s,a,o,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=s,this.errors=a,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=iw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new nw(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let n=this.options;null!=i.duration&&(n.duration=xd(i.duration)),null!=i.delay&&(n.delay=xd(i.delay));const s=i.params;if(s){let a=n.params;a||(a=this.options.params={}),Object.keys(s).forEach(o=>{(!e||!a.hasOwnProperty(o))&&(a[o]=$S(s[o],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(n=>{i[n]=e[n]})}}return t}createSubContext(t=null,e,i){const n=e||this.element,s=new q_(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=iw,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const n={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new SSe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,n,t.stretchStartingKeyframe);return this.timelines.push(s),n}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,n,s,a){let o=[];if(n&&o.push(this.element),t.length>0){t=(t=t.replace(bSe,"."+this._enterClassName)).replace(ESe,"."+this._leaveClassName);let h=this._driver.query(this.element,t,1!=i);0!==i&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),o.push(...h)}return!s&&0==o.length&&a.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class nw{constructor(t,e,i,n){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=n,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new nw(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||ih,this._currentKeyframe[e]=ih}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,n){e&&(this._previousKeyframe.easing=e);const s=n&&n.params||{},a=function(r,t){const e={};let i;return r.forEach(n=>{"*"===n?(i=i||Object.keys(t),i.forEach(s=>{e[s]=ih})):su(n,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(a).forEach(o=>{const l=$S(a[o],s,i);this._pendingStyles[o]=l,this._localTimelineStyles.hasOwnProperty(o)||(this._backFill[o]=this._globalTimelineStyles.hasOwnProperty(o)?this._globalTimelineStyles[o]:ih),this._updateStyle(o,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],n=t._styleSummary[e];(!i||n.time>i.time)&&this._updateStyle(e,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let n=[];this._keyframes.forEach((o,l)=>{const h=su(o,!0);Object.keys(h).forEach(c=>{const d=h[c];"!"==d?t.add(c):d==ih&&e.add(c)}),i||(h.offset=l/this.duration),n.push(h)});const s=t.size?KS(t.values()):[],a=e.size?KS(e.values()):[];if(i){const o=n[0],l=fm(o);o.offset=0,l.offset=1,n=[o,l]}return U_(this.element,n,s,a,this.duration,this.startTime,this.easing,!1)}}class SSe extends nw{constructor(t,e,i,n,s,a,o=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=n,this.postStyleProps=s,this._stretchStartingKeyframe=o,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],a=i+e,o=e/a,l=su(t[0],!1);l.offset=0,s.push(l);const h=su(t[0],!1);h.offset=K7(o),s.push(h);const c=t.length-1;for(let d=1;d<=c;d++){let p=su(t[d],!1);p.offset=K7((e+p.offset*i)/a),s.push(p)}i=a,e=0,n="",t=s}return U_(this.element,t,this.preStyleProps,this.postStyleProps,i,e,n,!0)}}function K7(r,t=3){const e=Math.pow(10,t-1);return Math.round(r*e)/e}class Y_{}class MSe extends Y_{normalizePropertyName(t,e){return j_(t)}normalizeStyleValue(t,e,i,n){let s="";const a=i.toString().trim();if(TSe[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const o=i.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&n.push(`Please provide a CSS unit value for ${t}:${i}`)}return a+s}}const TSe=(()=>function(r){const t={};return r.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function X7(r,t,e,i,n,s,a,o,l,h,c,d,p){return{type:0,element:r,triggerName:t,isRemovalTransition:n,fromState:e,fromStyles:s,toState:i,toStyles:a,timelines:o,queriedElements:l,preStyleProps:h,postStyleProps:c,totalTime:d,errors:p}}const Q_={};class Z7{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,n){return function(r,t,e,i,n){return r.some(s=>s(t,e,i,n))}(this.ast.matchers,t,e,i,n)}buildStyles(t,e,i){const n=this._stateStyles["*"],s=this._stateStyles[t],a=n?n.buildStyles(e,i):{};return s?s.buildStyles(e,i):a}build(t,e,i,n,s,a,o,l,h,c){const d=[],p=this.ast.options&&this.ast.options.params||Q_,m=this.buildStyles(i,o&&o.params||Q_,d),g=l&&l.params||Q_,y=this.buildStyles(n,g,d),C=new Set,E=new Map,S=new Map,w="void"===n,A={params:xe(xe({},p),g)},T=c?[]:W_(t,e,this.ast.animation,s,a,m,y,A,h,d);let k=0;if(T.forEach(J=>{k=Math.max(J.duration+J.delay,k)}),d.length)return X7(e,this._triggerName,i,n,w,m,y,[],[],E,S,k,d);T.forEach(J=>{const ne=J.element,R=Oa(E,ne,{});J.preStyleProps.forEach(H=>R[H]=!0);const G=Oa(S,ne,{});J.postStyleProps.forEach(H=>G[H]=!0),ne!==e&&C.add(ne)});const j=KS(C.values());return X7(e,this._triggerName,i,n,w,m,y,T,j,E,S,k)}}class xSe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},n=fm(this.defaultParams);return Object.keys(t).forEach(s=>{const a=t[s];null!=a&&(n[s]=a)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const a=s;Object.keys(a).forEach(o=>{let l=a[o];l.length>1&&(l=$S(l,n,e));const h=this.normalizer.normalizePropertyName(o,e);l=this.normalizer.normalizeStyleValue(o,h,l,e),i[h]=l})}}),i}}class kSe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(n=>{this.states[n.name]=new xSe(n.style,n.options&&n.options.params||{},i)}),J7(this.states,"true","1"),J7(this.states,"false","0"),e.transitions.forEach(n=>{this.transitionFactories.push(new Z7(t,n,this.states))}),this.fallbackTransition=function(r,t,e){return new Z7(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,o)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,n){return this.transitionFactories.find(a=>a.match(t,e,i,n))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function J7(r,t,e){r.hasOwnProperty(t)?r.hasOwnProperty(e)||(r[e]=r[t]):r.hasOwnProperty(e)&&(r[t]=r[e])}const _Se=new tw;class LSe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],n=H_(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=n}_buildPlayer(t,e,i){const n=t.element,s=N7(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(n,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const n=[],s=this._animations[t];let a;const o=new Map;if(s?(a=W_(this._driver,e,s,R_,qS,{},{},i,_Se,n),a.forEach(c=>{const d=Oa(o,c.element,{});c.postStyleProps.forEach(p=>d[p]=null)})):(n.push("The requested animation doesn't exist or has already been destroyed"),a=[]),n.length)throw new Error(`Unable to create the animation due to the following errors: ${n.join("\n")}`);o.forEach((c,d)=>{Object.keys(c).forEach(p=>{c[p]=this._driver.computeStyle(d,p,ih)})});const h=nu(a.map(c=>{const d=o.get(c.element);return this._buildPlayer(c,{},d)}));return this._playersById[t]=h,h.onDestroy(()=>this.destroy(t)),this.players.push(h),h}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,n){const s=I_(e,"","","");return M_(this._getPlayer(t),i,s,n),()=>{}}command(t,e,i,n){if("register"==i)return void this.register(t,n[0]);if("create"==i)return void this.create(t,e,n[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(t)}}}const e9="ng-animate-queued",t9="ng-animate-disabled",i9=".ng-animate-disabled",VSe=[],n9={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jSe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ho="__ng_removed";class G_{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(r){return null!=r?r:null}(i?t.value:t),i){const s=fm(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(n=>{null==i[n]&&(i[n]=e[n])})}}}const Jy="void",$_=new G_(Jy);class BSe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,co(e,this._hostClassName)}listen(t,e,i,n){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(r){return"start"==r||"done"==r}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const s=Oa(this._elementListeners,t,[]),a={name:e,phase:i,callback:n};s.push(a);const o=Oa(this._engine.statesByElement,t,{});return o.hasOwnProperty(e)||(co(t,YS),co(t,YS+"-"+e),o[e]=$_),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(a);l>=0&&s.splice(l,1),this._triggers[e]||delete o[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,n=!0){const s=this._getTrigger(e),a=new K_(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(co(t,YS),co(t,YS+"-"+e),this._engine.statesByElement.set(t,o={}));let l=o[e];const h=new G_(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&h.absorbOptions(l.options),o[e]=h,l||(l=$_),h.value!==Jy&&l.value===h.value){if(!function(r,t){const e=Object.keys(r),i=Object.keys(t);if(e.length!=i.length)return!1;for(let n=0;n<e.length;n++){const s=e[n];if(!t.hasOwnProperty(s)||r[s]!==t[s])return!1}return!0}(l.params,h.params)){const g=[],y=s.matchStyles(l.value,l.params,g),C=s.matchStyles(h.value,h.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Od(t,y),jl(t,C)})}return}const p=Oa(this._engine.playersByElement,t,[]);p.forEach(g=>{g.namespaceId==this.id&&g.triggerName==e&&g.queued&&g.destroy()});let f=s.matchTransition(l.value,h.value,t,h.params),m=!1;if(!f){if(!n)return;f=s.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:h,player:a,isFallbackTransition:m}),m||(co(t,e9),a.onStart(()=>{mm(t,e9)})),a.onDone(()=>{let g=this.players.indexOf(a);g>=0&&this.players.splice(g,1);const y=this._engine.playersByElement.get(t);if(y){let C=y.indexOf(a);C>=0&&y.splice(C,1)}}),this.players.push(a),p.push(a),a}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(n=>n.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,QS,!0);i.forEach(n=>{if(n[ho])return;const s=this._engine.fetchNamespacesByElement(n);s.size?s.forEach(a=>a.triggerLeaveAnimation(n,e,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(t,e,i,n){const s=this._engine.statesByElement.get(t);if(s){const a=[];if(Object.keys(s).forEach(o=>{if(this._triggers[o]){const l=this.trigger(t,o,Jy,n);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&nu(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const n=new Set;e.forEach(s=>{const a=s.name;if(n.has(a))return;n.add(a);const l=this._triggers[a].fallbackTransition,h=i[a]||$_,c=new G_(Jy),d=new K_(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:l,fromState:h,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let n=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)n=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(t),n)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[ho];(!s||s===n9)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){co(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const n=i.player;if(n.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(o=>{if(o.name==i.triggerName){const l=I_(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,M_(i.player,o.phase,l,o.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):e.push(i)}),this._queue=[],e.sort((i,n)=>{const s=i.transition.ast.depCount,a=n.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,n.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class HSe{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(n,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new BSe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let n=!1;for(let s=i;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,e)){this._namespaceList.splice(s+1,0,t),n=!0;break}n||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let n=this._namespaceLookup[t];n&&n.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const n=this._namespaceList.indexOf(i);n>=0&&this._namespaceList.splice(n,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const n=Object.keys(i);for(let s=0;s<n.length;s++){const a=i[n[s]].namespaceId;if(a){const o=this._fetchNamespace(a);o&&e.add(o)}}}return e}trigger(t,e,i,n){if(sw(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,n),!0}return!1}insertNode(t,e,i,n){if(!sw(e))return;const s=e[ho];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}n&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),co(t,t9)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),mm(t,t9))}removeNode(t,e,i,n){if(sw(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,n)}}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,i,n){this.collectedLeaveElements.push(e),e[ho]={namespaceId:t,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,n,s){return sw(e)?this._fetchNamespace(t).listen(e,i,n,s):()=>{}}_buildInstruction(t,e,i,n,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,n,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,QS,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,P_,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return nu(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ho];if(e&&e.setForRemoval){if(t[ho]=n9,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,i9)&&this.markElementAsDisabled(t,!1),this.driver.query(t,i9,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,n)=>this._balanceNamespaceList(i,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)co(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let n=0;n<i.length;n++)i[n]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?nu(e).onDone(()=>{i.forEach(n=>n())}):i.forEach(n=>n())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new tw,n=[],s=new Map,a=[],o=new Map,l=new Map,h=new Map,c=new Set;this.disabledNodes.forEach(F=>{c.add(F);const L=this.driver.query(F,".ng-animate-queued",!0);for(let U=0;U<L.length;U++)c.add(L[U])});const d=this.bodyNode,p=Array.from(this.statesByElement.keys()),f=a9(p,this.collectedEnterElements),m=new Map;let g=0;f.forEach((F,L)=>{const U=R_+g++;m.set(L,U),F.forEach(ee=>co(ee,U))});const y=[],C=new Set,E=new Set;for(let F=0;F<this.collectedLeaveElements.length;F++){const L=this.collectedLeaveElements[F],U=L[ho];U&&U.setForRemoval&&(y.push(L),C.add(L),U.hasAnimation?this.driver.query(L,".ng-star-inserted",!0).forEach(ee=>C.add(ee)):E.add(L))}const S=new Map,w=a9(p,Array.from(C));w.forEach((F,L)=>{const U=qS+g++;S.set(L,U),F.forEach(ee=>co(ee,U))}),t.push(()=>{f.forEach((F,L)=>{const U=m.get(L);F.forEach(ee=>mm(ee,U))}),w.forEach((F,L)=>{const U=S.get(L);F.forEach(ee=>mm(ee,U))}),y.forEach(F=>{this.processLeaveNode(F)})});const A=[],T=[];for(let F=this._namespaceList.length-1;F>=0;F--)this._namespaceList[F].drainQueuedTransitions(e).forEach(U=>{const ee=U.player,de=U.element;if(A.push(ee),this.collectedEnterElements.length){const Me=de[ho];if(Me&&Me.setForMove)return void ee.destroy()}const Se=!d||!this.driver.containsElement(d,de),ge=S.get(de),we=m.get(de),De=this._buildInstruction(U,i,we,ge,Se);if(De.errors&&De.errors.length)T.push(De);else{if(Se)return ee.onStart(()=>Od(de,De.fromStyles)),ee.onDestroy(()=>jl(de,De.toStyles)),void n.push(ee);if(U.isFallbackTransition)return ee.onStart(()=>Od(de,De.fromStyles)),ee.onDestroy(()=>jl(de,De.toStyles)),void n.push(ee);De.timelines.forEach(Me=>Me.stretchStartingKeyframe=!0),i.append(de,De.timelines),a.push({instruction:De,player:ee,element:de}),De.queriedElements.forEach(Me=>Oa(o,Me,[]).push(ee)),De.preStyleProps.forEach((Me,ht)=>{const Dt=Object.keys(Me);if(Dt.length){let Je=l.get(ht);Je||l.set(ht,Je=new Set),Dt.forEach(bs=>Je.add(bs))}}),De.postStyleProps.forEach((Me,ht)=>{const Dt=Object.keys(Me);let Je=h.get(ht);Je||h.set(ht,Je=new Set),Dt.forEach(bs=>Je.add(bs))})}});if(T.length){const F=[];T.forEach(L=>{F.push(`@${L.triggerName} has failed due to:\n`),L.errors.forEach(U=>F.push(`- ${U}\n`))}),A.forEach(L=>L.destroy()),this.reportError(F)}const k=new Map,j=new Map;a.forEach(F=>{const L=F.element;i.has(L)&&(j.set(L,L),this._beforeAnimationBuild(F.player.namespaceId,F.instruction,k))}),n.forEach(F=>{const L=F.element;this._getPreviousPlayers(L,!1,F.namespaceId,F.triggerName,null).forEach(ee=>{Oa(k,L,[]).push(ee),ee.destroy()})});const J=y.filter(F=>l9(F,l,h)),ne=new Map;r9(ne,this.driver,E,h,ih).forEach(F=>{l9(F,l,h)&&J.push(F)});const G=new Map;f.forEach((F,L)=>{r9(G,this.driver,new Set(F),l,"!")}),J.forEach(F=>{const L=ne.get(F),U=G.get(F);ne.set(F,xe(xe({},L),U))});const H=[],V=[],B={};a.forEach(F=>{const{element:L,player:U,instruction:ee}=F;if(i.has(L)){if(c.has(L))return U.onDestroy(()=>jl(L,ee.toStyles)),U.disabled=!0,U.overrideTotalTime(ee.totalTime),void n.push(U);let de=B;if(j.size>1){let ge=L;const we=[];for(;ge=ge.parentNode;){const De=j.get(ge);if(De){de=De;break}we.push(ge)}we.forEach(De=>j.set(De,de))}const Se=this._buildAnimation(U.namespaceId,ee,k,s,G,ne);if(U.setRealPlayer(Se),de===B)H.push(U);else{const ge=this.playersByElement.get(de);ge&&ge.length&&(U.parentPlayer=nu(ge)),n.push(U)}}else Od(L,ee.fromStyles),U.onDestroy(()=>jl(L,ee.toStyles)),V.push(U),c.has(L)&&n.push(U)}),V.forEach(F=>{const L=s.get(F.element);if(L&&L.length){const U=nu(L);F.setRealPlayer(U)}}),n.forEach(F=>{F.parentPlayer?F.syncPlayerEvents(F.parentPlayer):F.destroy()});for(let F=0;F<y.length;F++){const L=y[F],U=L[ho];if(mm(L,qS),U&&U.hasAnimation)continue;let ee=[];if(o.size){let Se=o.get(L);Se&&Se.length&&ee.push(...Se);let ge=this.driver.query(L,P_,!0);for(let we=0;we<ge.length;we++){let De=o.get(ge[we]);De&&De.length&&ee.push(...De)}}const de=ee.filter(Se=>!Se.destroyed);de.length?qSe(this,L,de):this.processLeaveNode(L)}return y.length=0,H.forEach(F=>{this.players.push(F),F.onDone(()=>{F.destroy();const L=this.players.indexOf(F);this.players.splice(L,1)}),F.play()}),H}elementContainsData(t,e){let i=!1;const n=e[ho];return n&&n.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,n,s){let a=[];if(e){const o=this.playersByQueriedElement.get(t);o&&(a=o)}else{const o=this.playersByElement.get(t);if(o){const l=!s||s==Jy;o.forEach(h=>{h.queued||!l&&h.triggerName!=n||a.push(h)})}}return(i||n)&&(a=a.filter(o=>!(i&&i!=o.namespaceId||n&&n!=o.triggerName))),a}_beforeAnimationBuild(t,e,i){const s=e.element,a=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const h=l.element,c=h!==s,d=Oa(i,h,[]);this._getPreviousPlayers(h,c,a,o,e.toState).forEach(f=>{const m=f.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),f.destroy(),d.push(f)})}Od(s,e.fromStyles)}_buildAnimation(t,e,i,n,s,a){const o=e.triggerName,l=e.element,h=[],c=new Set,d=new Set,p=e.timelines.map(m=>{const g=m.element;c.add(g);const y=g[ho];if(y&&y.removedBeforeQueried)return new Ap(m.duration,m.delay);const C=g!==l,E=function(r){const t=[];return o9(r,t),t}((i.get(g)||VSe).map(k=>k.getRealPlayer())).filter(k=>!!k.element&&k.element===g),S=s.get(g),w=a.get(g),A=N7(0,this._normalizer,0,m.keyframes,S,w),T=this._buildPlayer(m,A,E);if(m.subTimeline&&n&&d.add(g),C){const k=new K_(t,o,g);k.setRealPlayer(T),h.push(k)}return T});h.forEach(m=>{Oa(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>function(r,t,e){let i;if(r instanceof Map){if(i=r.get(t),i){if(i.length){const n=i.indexOf(e);i.splice(n,1)}0==i.length&&r.delete(t)}}else if(i=r[t],i){if(i.length){const n=i.indexOf(e);i.splice(n,1)}0==i.length&&delete r[t]}return i}(this.playersByQueriedElement,m.element,m))}),c.forEach(m=>co(m,B7));const f=nu(p);return f.onDestroy(()=>{c.forEach(m=>mm(m,B7)),jl(l,e.toStyles)}),d.forEach(m=>{Oa(n,m,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Ap(t.duration,t.delay)}}class K_{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Ap,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>M_(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Oa(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function sw(r){return r&&1===r.nodeType}function s9(r,t){const e=r.style.display;return r.style.display=null!=t?t:"none",e}function r9(r,t,e,i,n){const s=[];e.forEach(l=>s.push(s9(l)));const a=[];i.forEach((l,h)=>{const c={};l.forEach(d=>{const p=c[d]=t.computeStyle(h,d,n);(!p||0==p.length)&&(h[ho]=jSe,a.push(h))}),r.set(h,c)});let o=0;return e.forEach(l=>s9(l,s[o++])),a}function a9(r,t){const e=new Map;if(r.forEach(o=>e.set(o,[])),0==t.length)return e;const n=new Set(t),s=new Map;function a(o){if(!o)return 1;let l=s.get(o);if(l)return l;const h=o.parentNode;return l=e.has(h)?h:n.has(h)?1:a(h),s.set(o,l),l}return t.forEach(o=>{const l=a(o);1!==l&&e.get(l).push(o)}),e}const rw="$$classes";function co(r,t){if(r.classList)r.classList.add(t);else{let e=r[rw];e||(e=r[rw]={}),e[t]=!0}}function mm(r,t){if(r.classList)r.classList.remove(t);else{let e=r[rw];e&&delete e[t]}}function qSe(r,t,e){nu(e).onDone(()=>r.processLeaveNode(t))}function o9(r,t){for(let e=0;e<r.length;e++){const i=r[e];i instanceof hH?o9(i.players,t):t.push(i)}}function l9(r,t,e){const i=e.get(r);if(!i)return!1;let n=t.get(r);return n?i.forEach(s=>n.add(s)):t.set(r,i),e.delete(r),!0}class aw{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(n,s)=>{},this._transitionEngine=new HSe(t,e,i),this._timelineEngine=new LSe(t,e,i),this._transitionEngine.onRemovalComplete=(n,s)=>this.onRemovalComplete(n,s)}registerTrigger(t,e,i,n,s){const a=t+"-"+n;let o=this._triggerCache[a];if(!o){const l=[],h=H_(this._driver,s,l);if(l.length)throw new Error(`The animation trigger "${n}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);o=function(r,t,e){return new kSe(r,t,e)}(n,h,this._normalizer),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(e,n,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,n){this._transitionEngine.insertNode(t,e,i,n)}onRemove(t,e,i,n){this._transitionEngine.removeNode(t,e,n||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,n){if("@"==i.charAt(0)){const[s,a]=_7(i);this._timelineEngine.command(s,e,a,n)}else this._transitionEngine.trigger(t,e,i,n)}listen(t,e,i,n,s){if("@"==i.charAt(0)){const[a,o]=_7(i);return this._timelineEngine.listen(a,e,o,s)}return this._transitionEngine.listen(t,e,i,n,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function h9(r,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=X_(t[0]),t.length>1&&(i=X_(t[t.length-1]))):t&&(e=X_(t)),e||i?new GSe(r,e,i):null}let GSe=(()=>{class r{constructor(e,i,n){this._element=e,this._startStyles=i,this._endStyles=n,this._state=0;let s=r.initialStylesByElement.get(e);s||r.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&jl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(jl(this._element,this._initialStyles),this._endStyles&&(jl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Od(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Od(this._element,this._endStyles),this._endStyles=null),jl(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function X_(r){let t=null;const e=Object.keys(r);for(let i=0;i<e.length;i++){const n=e[i];$Se(n)&&(t=t||{},t[n]=r[n])}return t}function $Se(r){return"display"===r||"position"===r}const c9="animation",u9="animationend";class ZSe{constructor(t,e,i,n,s,a,o){this._element=t,this._name=e,this._duration=i,this._delay=n,this._easing=s,this._fillMode=a,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(r,t){const e=J_(r,"").trim();let i=0;e.length&&(function(r,t){let e=0;for(let i=0;i<r.length;i++)","===r.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),ow(r,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),f9(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){d9(this._element,this._name,"paused")}resume(){d9(this._element,this._name,"running")}setPosition(t){const e=p9(this._element,this._name);this._position=t*this._duration,ow(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),f9(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(r,t){const i=J_(r,"").split(","),n=Z_(i,t);n>=0&&(i.splice(n,1),ow(r,"",i.join(",")))}(this._element,this._name))}}function d9(r,t,e){ow(r,"PlayState",e,p9(r,t))}function p9(r,t){const e=J_(r,"");return e.indexOf(",")>0?Z_(e.split(","),t):Z_([e],t)}function Z_(r,t){for(let e=0;e<r.length;e++)if(r[e].indexOf(t)>=0)return e;return-1}function f9(r,t,e){e?r.removeEventListener(u9,t):r.addEventListener(u9,t)}function ow(r,t,e,i){const n=c9+t;if(null!=i){const s=r.style[n];if(s.length){const a=s.split(",");a[i]=e,e=a.join(",")}}r.style[n]=e}function J_(r,t){return r.style[c9+t]||""}class m9{constructor(t,e,i,n,s,a,o,l){this.element=t,this.keyframes=e,this.animationName=i,this._duration=n,this._delay=s,this._finalStyles=o,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=n+s,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ZSe(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:B_(this.element,i))})}this.currentSnapshot=t}}class swe extends Ap{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=F7(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class v9{constructor(){this._count=0}validateStyleProperty(t){return O_(t)}matchesElement(t,e){return k_(t,e)}containsElement(t,e){return N_(t,e)}query(t,e,i){return __(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(o=>F7(o));let n=`@keyframes ${e} {\n`,s="";i.forEach(o=>{s=" ";const l=parseFloat(o.offset);n+=`${s}${100*l}% {\n`,s+=" ",Object.keys(o).forEach(h=>{const c=o[h];switch(h){case"offset":return;case"easing":return void(c&&(n+=`${s}animation-timing-function: ${c};\n`));default:return void(n+=`${s}${h}: ${c};\n`)}}),n+=`${s}}\n`}),n+="}\n";const a=document.createElement("style");return a.textContent=n,a}animate(t,e,i,n,s,a=[],o){const l=a.filter(y=>y instanceof m9),h={};q7(i,n)&&l.forEach(y=>{let C=y.currentSnapshot;Object.keys(C).forEach(E=>h[E]=C[E])});const c=function(r){let t={};return r&&(Array.isArray(r)?r:[r]).forEach(i=>{Object.keys(i).forEach(n=>{"offset"==n||"easing"==n||(t[n]=i[n])})}),t}(e=Y7(t,e,h));if(0==i)return new swe(t,c);const d="gen_css_kf_"+this._count++,p=this.buildKeyframeElement(t,d,e);(function(r){var e;const t=null==(e=r.getRootNode)?void 0:e.call(r);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(t).appendChild(p);const m=h9(t,e),g=new m9(t,e,d,i,n,s,c,m);return g.onDestroy(()=>function(r){r.parentNode.removeChild(r)}(p)),g}}class b9{constructor(t,e,i,n){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:B_(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class hwe{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(C9().toString()),this._cssKeyframesDriver=new v9}validateStyleProperty(t){return O_(t)}matchesElement(t,e){return k_(t,e)}containsElement(t,e){return N_(t,e)}query(t,e,i){return __(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,n,s,a=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,n,s,a);const c={duration:i,delay:n,fill:0==n?"both":"forwards"};s&&(c.easing=s);const d={},p=a.filter(m=>m instanceof b9);q7(i,n)&&p.forEach(m=>{let g=m.currentSnapshot;Object.keys(g).forEach(y=>d[y]=g[y])});const f=h9(t,e=Y7(t,e=e.map(m=>su(m,!1)),d));return new b9(t,e,c,f)}}function C9(){return k7()&&Element.prototype.animate||{}}let uwe=(()=>{class r extends aH{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:po.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?oH(e):e;return E9(this._renderer,null,i,"register",[n]),new dwe(i,this._renderer)}}return r.\u0275fac=function(e){return new(e||r)(le(ng),le(Xt))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();class dwe extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new pwe(this._id,t,e||{},this._renderer)}}class pwe{constructor(t,e,i,n){this.id=t,this.element=e,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return E9(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!=(e=null==(t=this._renderer.engine.players[+this.id])?void 0:t.getPosition())?e:0}}function E9(r,t,e,i,n){return r.setProperty(t,`@@${e}:${i}`,n)}const D9="@.disabled";let fwe=(()=>{class r{constructor(e,i,n){this.delegate=e,this.engine=i,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const o=null==a?void 0:a.parentNode(s);o&&a.removeChild(o,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let c=this._rendererCache.get(s);return c||(c=new S9("",s,this.engine),this._rendererCache.set(s,c)),c}const a=i.id,o=i.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(a,o,e,c.name,c)};return i.data.animation.forEach(l),new mwe(this,o,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,n){e>=0&&e<this._microtaskId?this._zone.run(()=>i(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,o]=s;a(o)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(e){return new(e||r)(le(ng),le(aw),le(qt))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();class S9{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?n=>e.destroyNode(n):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,n=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,n)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,n){this.delegate.setAttribute(t,e,i,n)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,n){this.delegate.setStyle(t,e,i,n)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==D9?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class mwe extends S9{constructor(t,e,i,n){super(e,i,n),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==D9?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const n=function(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(t);let s=e.substr(1),a="";return"@"!=s.charAt(0)&&([s,a]=function(r){const t=r.indexOf(".");return[r.substring(0,t),r.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,n,s,a,o=>{this.factory.scheduleListenerCallback(o._data||-1,i,o)})}return this.delegate.listen(t,e,i)}}let ywe=(()=>{class r extends aw{constructor(e,i,n){super(e.body,i,n)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(e){return new(e||r)(le(Xt),le(L_),le(Y_))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const ru=new Ve("AnimationModuleType"),w9=[{provide:aH,useClass:uwe},{provide:Y_,useFactory:function(){return new MSe}},{provide:aw,useClass:ywe},{provide:ng,useFactory:function(r,t,e){return new fwe(r,t,e)},deps:[x0,aw,qt]}],M9=[{provide:L_,useFactory:function(){return"function"==typeof C9()?new hwe:new v9}},{provide:ru,useValue:"BrowserAnimations"},...w9],Dwe=[{provide:L_,useClass:V7},{provide:ru,useValue:"NoopAnimations"},...w9];let Swe=(()=>{class r{static withConfig(e){return{ngModule:r,providers:e.disableAnimations?Dwe:M9}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({providers:M9,imports:[iH]}),r})();function wwe(r,t){if(1&r&&Ce(0,"mat-pseudo-checkbox",4),2&r){const e=Nt();Ne("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function Mwe(r,t){if(1&r&&(W(0,"span",5),he(1),q()),2&r){const e=Nt();_e(1),ll("(",e.group.label,")")}}const Twe=["*"],Awe=new Ve("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let ks=(()=>{class r{constructor(e,i,n){this._sanityChecks=i,this._document=n,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!C_()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return r.\u0275fac=function(e){return new(e||r)(le(KDe),le(Awe,8),le(Xt))},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({imports:[[Xy],Xy]}),r})();function hw(r){return class extends r{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Gn(t)}}}function cw(r,t){return class extends r{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function uw(r){return class extends r{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Gn(t)}}}function I9(r,t=0){return class extends r{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?p_(e):this.defaultTabIndex}}}function A9(r){return class extends r{constructor(...t){super(...t),this.stateChanges=new kt,this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}let eL=(()=>{class r{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class Owe{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const x9={enterDuration:225,exitDuration:150},tL=$y({passive:!0}),O9=["mousedown","touchstart"],k9=["mouseup","mouseleave","touchend","touchcancel"];class Nwe{constructor(t,e,i,n){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,n.isBrowser&&(this._containerElement=qh(i))}fadeInRipple(t,e,i={}){const n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=xe(xe({},x9),i.animation);i.centered&&(t=n.left+n.width/2,e=n.top+n.height/2);const a=i.radius||function(r,t,e){const i=Math.max(Math.abs(r-e.left),Math.abs(r-e.right)),n=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+n*n)}(t,e,n),o=t-n.left,l=e-n.top,h=s.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-a+"px",c.style.top=l-a+"px",c.style.height=2*a+"px",c.style.width=2*a+"px",null!=i.color&&(c.style.backgroundColor=i.color),c.style.transitionDuration=`${h}ms`,this._containerElement.appendChild(c),function(r){window.getComputedStyle(r).getPropertyValue("opacity")}(c),c.style.transform="scale(1)";const d=new Owe(this,c,i);return d.state=0,this._activeRipples.add(d),i.persistent||(this._mostRecentTransientRipple=d),this._runTimeoutOutsideZone(()=>{const p=d===this._mostRecentTransientRipple;d.state=1,!i.persistent&&(!p||!this._isPointerDown)&&d.fadeOut()},h),d}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,n=xe(xe({},x9),t.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},n.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=qh(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(O9))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(k9),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=E_(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!D_(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,tL)})})}_removeTriggerEvents(){this._triggerElement&&(O9.forEach(t=>{this._triggerElement.removeEventListener(t,this,tL)}),this._pointerUpEventsRegistered&&k9.forEach(t=>{this._triggerElement.removeEventListener(t,this,tL)}))}}const Rwe=new Ve("mat-ripple-global-options");let gm=(()=>{class r{constructor(e,i,n,s,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Nwe(this,i,e,n)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:xe(xe(xe({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,n){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,xe(xe({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,xe(xe({},this.rippleConfig),e))}}return r.\u0275fac=function(e){return new(e||r)(K(Ai),K(qt),K(lo),K(Rwe,8),K(ru,8))},r.\u0275dir=Be({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&ss("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),r})(),dw=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({imports:[[ks,y_],ks]}),r})(),Pwe=(()=>{class r{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return r.\u0275fac=function(e){return new(e||r)(K(ru,8))},r.\u0275cmp=ci({type:r,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&ss("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),r})(),Fwe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({imports:[[ks]]}),r})();const N9=new Ve("MAT_OPTION_PARENT_COMPONENT"),_9=new Ve("MatOptgroup");let Vwe=0;class jwe{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Bwe=(()=>{class r{constructor(e,i,n,s){this._element=e,this._changeDetectorRef=i,this._parent=n,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Vwe++,this.onSelectionChange=new _t,this._stateChanges=new kt}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Gn(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!um(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new jwe(this,e))}}return r.\u0275fac=function(e){Xb()},r.\u0275dir=Be({type:r,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),r})(),L9=(()=>{class r extends Bwe{constructor(e,i,n,s){super(e,i,n,s)}}return r.\u0275fac=function(e){return new(e||r)(K(Ai),K(ac),K(N9,8),K(_9,8))},r.\u0275cmp=ci({type:r,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&xt("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(Zm("id",i.id),Vi("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),ss("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[ft],ngContentSelectors:Twe,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(Co(),yt(0,wwe,1,2,"mat-pseudo-checkbox",0),W(1,"span",1),Hn(2),q(),yt(3,Mwe,2,1,"span",2),Ce(4,"div",3)),2&e&&(Ne("ngIf",i.multiple),_e(3),Ne("ngIf",i.group&&i.group._inert),_e(1),Ne("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[oc,gm,Pwe],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),r})();function R9(r,t,e){if(e.length){let i=t.toArray(),n=e.toArray(),s=0;for(let a=0;a<r+1;a++)i[a].group&&i[a].group===n[s]&&s++;return s}return 0}let P9=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({imports:[[dw,lc,ks,Fwe]]}),r})();const zwe=["addListener","removeListener"],Uwe=["addEventListener","removeEventListener"],Wwe=["on","off"];function pw(r,t,e,i){if(It(e)&&(i=e,e=void 0),i)return pw(r,t,e).pipe(OI(i));const[n,s]=function(r){return It(r.addEventListener)&&It(r.removeEventListener)}(r)?Uwe.map(a=>o=>r[a](t,o,e)):function(r){return It(r.addListener)&&It(r.removeListener)}(r)?zwe.map(F9(r,t)):function(r){return It(r.on)&&It(r.off)}(r)?Wwe.map(F9(r,t)):[];if(!n&&_w(r))return is(a=>pw(a,t,e))(oa(r));if(!n)throw new TypeError("Invalid event target");return new zi(a=>{const o=(...l)=>a.next(1<l.length?l:l[0]);return n(o),()=>s(o)})}function F9(r,t){return e=>i=>r[e](t,i)}const Gwe=["connectionContainer"],$we=["inputContainer"],Kwe=["label"];function Xwe(r,t){1&r&&(yu(0),W(1,"div",14),Ce(2,"div",15),Ce(3,"div",16),Ce(4,"div",17),q(),W(5,"div",18),Ce(6,"div",15),Ce(7,"div",16),Ce(8,"div",17),q(),bu())}function Zwe(r,t){if(1&r){const e=Kl();W(0,"div",19),xt("cdkObserveContent",function(){return pa(e),Nt().updateOutlineGap()}),Hn(1,1),q()}2&r&&Ne("cdkObserveContentDisabled","outline"!=Nt().appearance)}function Jwe(r,t){if(1&r&&(yu(0),Hn(1,2),W(2,"span"),he(3),q(),bu()),2&r){const e=Nt(2);_e(3),Eu(e._control.placeholder)}}function eMe(r,t){1&r&&Hn(0,3,["*ngSwitchCase","true"])}function tMe(r,t){1&r&&(W(0,"span",23),he(1," *"),q())}function iMe(r,t){if(1&r){const e=Kl();W(0,"label",20,21),xt("cdkObserveContent",function(){return pa(e),Nt().updateOutlineGap()}),yt(2,Jwe,4,1,"ng-container",12),yt(3,eMe,1,0,"ng-content",12),yt(4,tMe,2,0,"span",22),q()}if(2&r){const e=Nt();ss("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),Ne("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),Vi("for",e._control.id)("aria-owns",e._control.id),_e(2),Ne("ngSwitchCase",!1),_e(1),Ne("ngSwitchCase",!0),_e(1),Ne("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function nMe(r,t){1&r&&(W(0,"div",24),Hn(1,4),q())}function sMe(r,t){if(1&r&&(W(0,"div",25),Ce(1,"span",26),q()),2&r){const e=Nt();_e(1),ss("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function rMe(r,t){1&r&&(W(0,"div"),Hn(1,5),q()),2&r&&Ne("@transitionMessages",Nt()._subscriptAnimationState)}function aMe(r,t){if(1&r&&(W(0,"div",30),he(1),q()),2&r){const e=Nt(2);Ne("id",e._hintLabelId),_e(1),Eu(e.hintLabel)}}function oMe(r,t){if(1&r&&(W(0,"div",27),yt(1,aMe,2,2,"div",28),Hn(2,6),Ce(3,"div",29),Hn(4,7),q()),2&r){const e=Nt();Ne("@transitionMessages",e._subscriptAnimationState),_e(1),Ne("ngIf",e.hintLabel)}}const lMe=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],hMe=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],cMe=new Ve("MatError"),uMe={transitionMessages:Ip("transitionMessages",[nh("enter",cr({opacity:1,transform:"translateY(0%)"})),sh("void => enter",[cr({opacity:0,transform:"translateY(-5px)"}),cc("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let fw=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=Be({type:r}),r})();const dMe=new Ve("MatHint");let tb=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=Be({type:r,selectors:[["mat-label"]]}),r})(),pMe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=Be({type:r,selectors:[["mat-placeholder"]]}),r})();const fMe=new Ve("MatPrefix"),mMe=new Ve("MatSuffix");let V9=0;const vMe=cw(class{constructor(r){this._elementRef=r}},"primary"),yMe=new Ve("MAT_FORM_FIELD_DEFAULT_OPTIONS"),iL=new Ve("MatFormField");let nL=(()=>{class r extends vMe{constructor(e,i,n,s,a,o,l){super(e),this._changeDetectorRef=i,this._dir=n,this._defaults=s,this._platform=a,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new kt,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+V9++,this._labelId="mat-form-field-label-"+V9++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Gn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(rh(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Ur(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ur(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Hl(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(rh(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(rh(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Ur(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,pw(this._label.nativeElement,"transitionend").pipe(wr(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,n=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let i=0,n=0;const s=this._connectionContainerRef.nativeElement,a=s.querySelectorAll(".mat-form-field-outline-start"),o=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const l=s.getBoundingClientRect();if(0===l.width&&0===l.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const h=this._getStartEnd(l),c=e.children,d=this._getStartEnd(c[0].getBoundingClientRect());let p=0;for(let f=0;f<c.length;f++)p+=c[f].offsetWidth;i=Math.abs(d-h)-5,n=p>0?.75*p+10:0}for(let l=0;l<a.length;l++)a[l].style.width=`${i}px`;for(let l=0;l<o.length;l++)o[l].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return r.\u0275fac=function(e){return new(e||r)(K(Ai),K(ac),K(Ky,8),K(yMe,8),K(lo),K(qt),K(ru,8))},r.\u0275cmp=ci({type:r,selectors:[["mat-form-field"]],contentQueries:function(e,i,n){if(1&e&&(Ke(n,fw,5),Ke(n,fw,7),Ke(n,tb,5),Ke(n,tb,7),Ke(n,pMe,5),Ke(n,cMe,5),Ke(n,dMe,5),Ke(n,fMe,5),Ke(n,mMe,5)),2&e){let s;Pe(s=Fe())&&(i._controlNonStatic=s.first),Pe(s=Fe())&&(i._controlStatic=s.first),Pe(s=Fe())&&(i._labelChildNonStatic=s.first),Pe(s=Fe())&&(i._labelChildStatic=s.first),Pe(s=Fe())&&(i._placeholderChild=s.first),Pe(s=Fe())&&(i._errorChildren=s),Pe(s=Fe())&&(i._hintChildren=s),Pe(s=Fe())&&(i._prefixChildren=s),Pe(s=Fe())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(ja(Gwe,7),ja($we,5),ja(Kwe,5)),2&e){let n;Pe(n=Fe())&&(i._connectionContainerRef=n.first),Pe(n=Fe())&&(i._inputContainerRef=n.first),Pe(n=Fe())&&(i._label=n.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&ss("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Ii([{provide:iL,useExisting:r}]),ft],ngContentSelectors:hMe,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(Co(lMe),W(0,"div",0),W(1,"div",1,2),xt("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),yt(3,Xwe,9,0,"ng-container",3),yt(4,Zwe,2,1,"div",4),W(5,"div",5,6),Hn(7),W(8,"span",7),yt(9,iMe,5,16,"label",8),q(),q(),yt(10,nMe,2,0,"div",9),q(),yt(11,sMe,2,4,"div",10),W(12,"div",11),yt(13,rMe,2,1,"div",12),yt(14,oMe,5,2,"div",13),q(),q()),2&e&&(_e(3),Ne("ngIf","outline"==i.appearance),_e(1),Ne("ngIf",i._prefixChildren.length),_e(5),Ne("ngIf",i._hasFloatingLabel()),_e(1),Ne("ngIf",i._suffixChildren.length),_e(1),Ne("ngIf","outline"!=i.appearance),_e(1),Ne("ngSwitch",i._getDisplayedMessages()),_e(1),Ne("ngSwitchCase","error"),_e(1),Ne("ngSwitchCase","hint"))},directives:[oc,pg,bI,g7],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[uMe.transitionMessages]},changeDetection:0}),r})(),mw=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({imports:[[lc,ks,v7],ks]}),r})();const ib={schedule(r){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=ib;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const n=t(s=>{e=void 0,r(s)});return new rn(()=>null==e?void 0:e(n))},requestAnimationFrame(...r){const{delegate:t}=ib;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...r)},cancelAnimationFrame(...r){const{delegate:t}=ib;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...r)},delegate:void 0};new class extends m_{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,n=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++n<s&&(t=e.shift()));if(this._active=!1,i){for(;++n<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends f_{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ib.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(ib.cancelAnimationFrame(e),t._scheduled=void 0)}});let sL,DMe=1;const gw={};function B9(r){return r in gw&&(delete gw[r],!0)}const SMe={setImmediate(r){const t=DMe++;return gw[t]=!0,sL||(sL=Promise.resolve()),sL.then(()=>B9(t)&&r()),t},clearImmediate(r){B9(r)}},{setImmediate:wMe,clearImmediate:MMe}=SMe,vw={setImmediate(...r){const{delegate:t}=vw;return((null==t?void 0:t.setImmediate)||wMe)(...r)},clearImmediate(r){const{delegate:t}=vw;return((null==t?void 0:t.clearImmediate)||MMe)(r)},delegate:void 0},rL=new class extends m_{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,n=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++n<s&&(t=e.shift()));if(this._active=!1,i){for(;++n<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends f_{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=vw.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(vw.clearImmediate(e),t._scheduled=void 0)}});function H9(r=0,t,e=p7){let i=-1;return null!=t&&(RL(t)?e=t:i=t),new zi(n=>{let s=function(r){return r instanceof Date&&!isNaN(r)}(r)?+r-e.now():r;s<0&&(s=0);let a=0;return e.schedule(function(){n.closed||(n.next(a++),0<=i?this.schedule(void 0,i):n.complete())},s)})}function z9(r,t=p7){return function(r){return In((t,e)=>{let i=!1,n=null,s=null,a=!1;const o=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const h=n;n=null,e.next(h)}a&&e.complete()},l=()=>{s=null,a&&e.complete()};t.subscribe(new fn(e,h=>{i=!0,n=h,s||oa(r()).subscribe(s=new fn(e,o,l))},()=>{a=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>H9(r,t))}let kMe=(()=>{class r{constructor(e,i,n){this._ngZone=e,this._platform=i,this._scrolled=new kt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new zi(i=>{this._globalSubscription||this._addGlobalListener();const n=e>0?this._scrolled.pipe(z9(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):pt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const n=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(ur(s=>!s||n.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((n,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let n=qh(i),s=e.getElementRef().nativeElement;do{if(n==s)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>pw(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(e){return new(e||r)(le(qt),le(lo),le(Xt,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),aL=(()=>{class r{constructor(e,i,n){this._platform=e,this._change=new kt,this._changeListener=s=>{this._change.next(s)},this._document=n,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+i,height:n,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),n=e.documentElement,s=n.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||n.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||n.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(z9(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(e){return new(e||r)(le(lo),le(qt),le(Xt,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),yw=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({}),r})(),U9=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({imports:[[Xy,y_,yw],Xy,yw]}),r})();class oL{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class _Me extends oL{constructor(t,e,i,n){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=n}}class lL extends oL{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class LMe extends oL{constructor(t){super(),this.element=t instanceof Ai?t.nativeElement:t}}class PMe extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof _Me?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof lL?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof LMe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,i,n,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=n,this.attachDomPortal=a=>{const o=a.element,l=this._document.createComment("dom-portal");o.parentNode.insertBefore(l,o),this.outletElement.appendChild(o),this._attachedPortal=a,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(o,l)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=i.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(n=>this.outletElement.appendChild(n)),i.detectChanges(),this.setDisposeFn(()=>{let n=e.indexOf(i);-1!==n&&e.remove(n)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let FMe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({}),r})();const W9=ODe();class jMe{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ys(-this._previousScrollPosition.left),t.style.top=ys(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,n=this._document.body.style,s=i.scrollBehavior||"",a=n.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),W9&&(i.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),W9&&(i.scrollBehavior=s,n.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class BMe{constructor(t,e,i,n){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class q9{enable(){}disable(){}attach(){}}function hL(r,t){return t.some(e=>r.bottom<e.top||r.top>e.bottom||r.right<e.left||r.left>e.right)}function Y9(r,t){return t.some(e=>r.top<e.top||r.bottom>e.bottom||r.left<e.left||r.right>e.right)}class HMe{constructor(t,e,i,n){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=n,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:n}=this._viewportRuler.getViewportSize();hL(e,[{width:i,height:n,bottom:n,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let zMe=(()=>{class r{constructor(e,i,n,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=n,this.noop=()=>new q9,this.close=a=>new BMe(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new jMe(this._viewportRuler,this._document),this.reposition=a=>new HMe(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return r.\u0275fac=function(e){return new(e||r)(le(kMe),le(aL),le(qt),le(Xt))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class cL{constructor(t){if(this.scrollStrategy=new q9,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class UMe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Q9=(()=>{class r{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return r.\u0275fac=function(e){return new(e||r)(le(Xt))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),WMe=(()=>{class r extends Q9{constructor(e){super(e),this._keydownListener=i=>{const n=this._attachedOverlays;for(let s=n.length-1;s>-1;s--)if(n[s]._keydownEvents.observers.length>0){n[s]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return r.\u0275fac=function(e){return new(e||r)(le(Xt))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),qMe=(()=>{class r extends Q9{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=n=>{this._pointerDownEventTarget=Id(n)},this._clickListener=n=>{const s=Id(n),a="click"===n.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const o=this._attachedOverlays.slice();for(let l=o.length-1;l>-1;l--){const h=o[l];if(!(h._outsidePointerEvents.observers.length<1)&&h.hasAttached()){if(h.overlayElement.contains(s)||h.overlayElement.contains(a))break;h._outsidePointerEvents.next(n)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return r.\u0275fac=function(e){return new(e||r)(le(Xt),le(lo))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),G9=(()=>{class r{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null==(e=this._containerElement)||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||C_()){const n=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<n.length;s++)n[s].remove()}const i=this._document.createElement("div");i.classList.add(e),C_()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return r.\u0275fac=function(e){return new(e||r)(le(Xt),le(lo))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class YMe{constructor(t,e,i,n,s,a,o,l,h){this._portalOutlet=t,this._host=e,this._pane=i,this._config=n,this._ngZone=s,this._keyboardDispatcher=a,this._document=o,this._location=l,this._outsideClickDispatcher=h,this._backdropElement=null,this._backdropClick=new kt,this._attachments=new kt,this._detachments=new kt,this._locationChanges=rn.EMPTY,this._backdropClickHandler=c=>this._backdropClick.next(c),this._keydownEvents=new kt,this._outsidePointerEvents=new kt,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(wr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null==(e=this._host)||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=xe(xe({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Tn(xe({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ys(this._config.width),t.height=ys(this._config.height),t.minWidth=ys(this._config.minWidth),t.minHeight=ys(this._config.minHeight),t.maxWidth=ys(this._config.maxWidth),t.maxHeight=ys(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const n=u7(e||[]).filter(s=>!!s);n.length&&(i?t.classList.add(...n):t.classList.remove(...n))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Ur(Hl(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.remove(),this._backdropElement===t&&(this._backdropElement=null))}}const $9="cdk-overlay-connected-position-bounding-box",QMe=/([A-Za-z%]+)$/;class GMe{constructor(t,e,i,n,s){this._viewportRuler=e,this._document=i,this._platform=n,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new kt,this._resizeSubscription=rn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add($9),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,n=[];let s;for(let a of this._preferredPositions){let o=this._getOriginPoint(t,a),l=this._getOverlayPoint(o,e,a),h=this._getOverlayFit(l,e,i,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,o);this._canFitWithFlexibleDimensions(h,l,i)?n.push({position:a,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,a)}):(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:l,originPoint:o,position:a,overlayRect:e})}if(n.length){let a=null,o=-1;for(const l of n){const h=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);h>o&&(o=h,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Nd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove($9),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,n;if("center"==e.originX)i=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;i="start"==e.originX?s:a}return n="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:n}}_getOverlayPoint(t,e,i){let n,s;return n="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+n,y:t.y+s}}_getOverlayFit(t,e,i,n){const s=X9(e);let{x:a,y:o}=t,l=this._getOffset(n,"x"),h=this._getOffset(n,"y");l&&(a+=l),h&&(o+=h);let p=0-o,f=o+s.height-i.height,m=this._subtractOverflows(s.width,0-a,a+s.width-i.width),g=this._subtractOverflows(s.height,p,f),y=m*g;return{visibleArea:y,isCompletelyWithinViewport:s.width*s.height===y,fitsInViewportVertically:g===s.height,fitsInViewportHorizontally:m==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const n=i.bottom-e.y,s=i.right-e.x,a=K9(this._overlayRef.getConfig().minHeight),o=K9(this._overlayRef.getConfig().minWidth),h=t.fitsInViewportHorizontally||null!=o&&o<=s;return(t.fitsInViewportVertically||null!=a&&a<=n)&&h}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const n=X9(e),s=this._viewportRect,a=Math.max(t.x+n.width-s.width,0),o=Math.max(t.y+n.height-s.height,0),l=Math.max(s.top-i.top-t.y,0),h=Math.max(s.left-i.left-t.x,0);let c=0,d=0;return c=n.width<=s.width?h||-a:t.x<this._viewportMargin?s.left-i.left-t.x:0,d=n.height<=s.height?l||-o:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:c,y:d},{x:t.x+c,y:t.y+d}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),n=new UMe(t,i);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,n=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${n}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,n=this._isRtl();let s,a,o,c,d,p;if("top"===e.overlayY)a=t.y,s=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)o=i.height-t.y+2*this._viewportMargin,s=i.height-o+this._viewportMargin;else{const f=Math.min(i.bottom-t.y+i.top,t.y),m=this._lastBoundingBoxSize.height;s=2*f,a=t.y-f,s>m&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-m/2)}if("end"===e.overlayX&&!n||"start"===e.overlayX&&n)p=i.width-t.x+this._viewportMargin,c=t.x-this._viewportMargin;else if("start"===e.overlayX&&!n||"end"===e.overlayX&&n)d=t.x,c=i.right-t.x;else{const f=Math.min(i.right-t.x+i.left,t.x),m=this._lastBoundingBoxSize.width;c=2*f,d=t.x-f,c>m&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-m/2)}return{top:a,left:d,bottom:o,right:p,width:c,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;n.height=ys(i.height),n.top=ys(i.top),n.bottom=ys(i.bottom),n.width=ys(i.width),n.left=ys(i.left),n.right=ys(i.right),n.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",n.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(n.maxHeight=ys(s)),a&&(n.maxWidth=ys(a))}this._lastBoundingBoxSize=i,Nd(this._boundingBox.style,n)}_resetBoundingBoxStyles(){Nd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Nd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},n=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(n){const c=this._viewportRuler.getViewportScrollPosition();Nd(i,this._getExactOverlayY(e,t,c)),Nd(i,this._getExactOverlayX(e,t,c))}else i.position="static";let o="",l=this._getOffset(e,"x"),h=this._getOffset(e,"y");l&&(o+=`translateX(${l}px) `),h&&(o+=`translateY(${h}px)`),i.transform=o.trim(),a.maxHeight&&(n?i.maxHeight=ys(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(n?i.maxWidth=ys(a.maxWidth):s&&(i.maxWidth="")),Nd(this._pane.style,i)}_getExactOverlayY(t,e,i){let n={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let a=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=a,"bottom"===t.overlayY?n.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":n.top=ys(s.y),n}_getExactOverlayX(t,e,i){let a,n={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?n.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":n.left=ys(s.x),n}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Y9(t,i),isOriginOutsideView:hL(t,i),isOverlayClipped:Y9(e,i),isOverlayOutsideView:hL(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,n)=>i-Math.max(n,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&u7(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Ai)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Nd(r,t){for(let e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r}function K9(r){if("number"!=typeof r&&null!=r){const[t,e]=r.split(QMe);return e&&"px"!==e?null:parseFloat(t)}return r||null}function X9(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}const Z9="cdk-global-overlay-wrapper";class $Me{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Z9),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:n,height:s,maxWidth:a,maxHeight:o}=i,l=!("100%"!==n&&"100vw"!==n||a&&"100%"!==a&&"100vw"!==a),h=!("100%"!==s&&"100vh"!==s||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=l?"0":this._leftOffset,t.marginTop=h?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,l?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Z9),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let KMe=(()=>{class r{constructor(e,i,n,s){this._viewportRuler=e,this._document=i,this._platform=n,this._overlayContainer=s}global(){return new $Me}flexibleConnectedTo(e){return new GMe(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return r.\u0275fac=function(e){return new(e||r)(le(aL),le(Xt),le(lo),le(G9))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),XMe=0,vm=(()=>{class r{constructor(e,i,n,s,a,o,l,h,c,d,p){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=n,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=o,this._ngZone=l,this._document=h,this._directionality=c,this._location=d,this._outsideClickDispatcher=p}create(e){const i=this._createHostElement(),n=this._createPaneElement(i),s=this._createPortalOutlet(n),a=new cL(e);return a.direction=a.direction||this._directionality.value,new YMe(s,i,n,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+XMe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(rc)),new PMe(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return r.\u0275fac=function(e){return new(e||r)(le(zMe),le(G9),le(nc),le(KMe),le(WMe),le(An),le(qt),le(Xt),le(Ky),le(f0),le(qMe))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const ZMe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],J9=new Ve("cdk-connected-overlay-scroll-strategy");let eQ=(()=>{class r{constructor(e){this.elementRef=e}}return r.\u0275fac=function(e){return new(e||r)(K(Ai))},r.\u0275dir=Be({type:r,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),r})(),tQ=(()=>{class r{constructor(e,i,n,s,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=rn.EMPTY,this._attachSubscription=rn.EMPTY,this._detachSubscription=rn.EMPTY,this._positionSubscription=rn.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new _t,this.positionChange=new _t,this.attach=new _t,this.detach=new _t,this.overlayKeydown=new _t,this.overlayOutsideClick=new _t,this._templatePortal=new lL(i,n),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Gn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Gn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Gn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Gn(e)}get push(){return this._push}set push(e){this._push=Gn(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ZMe);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!um(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new cL({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(n=>({originX:n.originX,originY:n.originY,overlayX:n.overlayX,overlayY:n.overlayY,offsetX:n.offsetX||this.offsetX,offsetY:n.offsetY||this.offsetY,panelClass:n.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof eQ?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(r,t=!1){return In((e,i)=>{let n=0;e.subscribe(new fn(i,s=>{const a=r(s,n++);(a||t)&&i.next(s),!a&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(K(vm),K(wo),K(ws),K(J9),K(Ky,8))},r.\u0275dir=Be({type:r,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[or]}),r})();const eTe={provide:J9,deps:[vm],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let iQ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({providers:[vm,eTe],imports:[[Xy,FMe,U9],U9]}),r})();class tTe{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new kt,e&&e.length&&(t?e.forEach(n=>this._markSelected(n)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const iTe=["trigger"],nTe=["panel"];function sTe(r,t){if(1&r&&(W(0,"span",8),he(1),q()),2&r){const e=Nt();_e(1),Eu(e.placeholder)}}function rTe(r,t){if(1&r&&(W(0,"span",12),he(1),q()),2&r){const e=Nt(2);_e(1),Eu(e.triggerValue)}}function aTe(r,t){1&r&&Hn(0,0,["*ngSwitchCase","true"])}function oTe(r,t){1&r&&(W(0,"span",9),yt(1,rTe,2,1,"span",10),yt(2,aTe,1,0,"ng-content",11),q()),2&r&&(Ne("ngSwitch",!!Nt().customTrigger),_e(2),Ne("ngSwitchCase",!0))}function lTe(r,t){if(1&r){const e=Kl();W(0,"div",13),W(1,"div",14,15),xt("@transformPanel.done",function(n){return pa(e),Nt()._panelDoneAnimatingStream.next(n.toState)})("keydown",function(n){return pa(e),Nt()._handleKeydown(n)}),Hn(3,1),q(),q()}if(2&r){const e=Nt();Ne("@transformPanelWrap",void 0),_e(1),function(r,t,e){Do(fa,ol,lp(be(),r,t,e),!0)}("mat-select-panel ",e._getPanelTheme(),""),Cu("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),Ne("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),Vi("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const hTe=[[["mat-select-trigger"]],"*"],cTe=["mat-select-trigger","*"],nQ={transformPanelWrap:Ip("transformPanelWrap",[sh("* => void",zse("@transformPanel",[Hse()],{optional:!0}))]),transformPanel:Ip("transformPanel",[nh("void",cr({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),nh("showing",cr({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),nh("showing-multiple",cr({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),sh("void => *",cc("120ms cubic-bezier(0, 0, 0.2, 1)")),sh("* => void",cc("100ms 25ms linear",cr({opacity:0})))])};let sQ=0;const aQ=new Ve("mat-select-scroll-strategy"),fTe=new Ve("MAT_SELECT_CONFIG"),mTe={provide:aQ,deps:[vm],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};class gTe{constructor(t,e){this.source=t,this.value=e}}const vTe=uw(I9(hw(A9(class{constructor(r,t,e,i,n){this._elementRef=r,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=n}})))),yTe=new Ve("MatSelectTrigger");let bTe=(()=>{class r extends vTe{constructor(e,i,n,s,a,o,l,h,c,d,p,f,m,g){var y,C,E;super(a,s,l,h,d),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=n,this._dir=o,this._parentFormField=c,this._liveAnnouncer=m,this._defaultOptions=g,this._panelOpen=!1,this._compareWith=(S,w)=>S===w,this._uid="mat-select-"+sQ++,this._triggerAriaLabelledBy=null,this._destroy=new kt,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+sQ++,this._panelDoneAnimatingStream=new kt,this._overlayPanelClass=(null==(y=this._defaultOptions)?void 0:y.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!=(E=null==(C=this._defaultOptions)?void 0:C.disableOptionCentering)&&E,this.ariaLabel="",this.optionSelectionChanges=kI(()=>{const S=this.options;return S?S.changes.pipe(rh(S),Ao(()=>Hl(...S.map(w=>w.onSelectionChange)))):this._ngZone.onStable.pipe(wr(1),Ao(()=>this.optionSelectionChanges))}),this.openedChange=new _t,this._openedStream=this.openedChange.pipe(ur(S=>S),Ut(()=>{})),this._closedStream=this.openedChange.pipe(ur(S=>!S),Ut(()=>{})),this.selectionChange=new _t,this.valueChange=new _t,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==g?void 0:g.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=g.typeaheadDebounceInterval),this._scrollStrategyFactory=f,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(p)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,n,s;return null!=(s=null!=(n=this._required)?n:null==(i=null==(e=this.ngControl)?void 0:e.control)?void 0:i.hasValidator(Qr.required))&&s}set required(e){this._required=Gn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Gn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Gn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=p_(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new tTe(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(C7(),Ur(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Ur(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(rh(null),Ur(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null==(e=this._selectionModel)?void 0:e.selected)||[]:null==(i=this._selectionModel)?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,n=40===i||38===i||37===i||39===i,s=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&s&&!um(e)||(this.multiple||e.altKey)&&n)e.preventDefault(),this.open();else if(!this.multiple){const o=this.selected;a.onKeydown(e);const l=this.selected;l&&o!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,n=e.keyCode,s=40===n||38===n,a=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(a||13!==n&&32!==n||!i.activeItem||um(e))if(!a&&this._multiple&&65===n&&e.ctrlKey){e.preventDefault();const o=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(o?l.select():l.deselect())})}else{const o=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==o&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(wr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectValue(i)),this._sortValues();else{const i=this._selectValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const i=this.options.find(n=>{if(this._selectionModel.isSelected(n))return!1;try{return null!=n.value&&this._compareWith(n.value,e)}catch(s){return!1}});return i&&this._selectionModel.select(i),i}_initKeyManager(){this._keyManager=new RDe(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Ur(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Ur(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=Hl(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ur(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Hl(...this.options.map(i=>i._stateChanges)).pipe(Ur(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const n=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(n!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),n!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,n)=>this.sortComparator?this.sortComparator(i,n,e):e.indexOf(i)-e.indexOf(n)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(n=>n.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null==(e=this.options)?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var n;if(this.ariaLabel)return null;const e=null==(n=this._parentFormField)?void 0:n.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var n;if(this.ariaLabel)return null;const e=null==(n=this._parentFormField)?void 0:n.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return r.\u0275fac=function(e){return new(e||r)(K(aL),K(ac),K(qt),K(eL),K(Ai),K(Ky,8),K(Lu,8),K(mc,8),K(iL,8),K(dl,10),ec("tabindex"),K(aQ),K(GDe),K(fTe,8))},r.\u0275dir=Be({type:r,viewQuery:function(e,i){if(1&e&&(ja(iTe,5),ja(nTe,5),ja(tQ,5)),2&e){let n;Pe(n=Fe())&&(i.trigger=n.first),Pe(n=Fe())&&(i.panel=n.first),Pe(n=Fe())&&(i._overlayDir=n.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[ft,or]}),r})(),CTe=(()=>{class r extends bTe{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,n){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Ur(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(wr(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=R9(e,this.options,this.optionGroups),n=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function(r,t,e,i){return r<e?r:r+t>e+256?Math.max(0,r-256+t):e}((e+i)*n,n,this.panel.nativeElement.scrollTop)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new gTe(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),n=this._isRtl(),s=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let h=this._selectionModel.selected[0]||this.options.first;a=h&&h.group?32:16}n||(a*=-1);const o=0-(e.left+a-(n?s:0)),l=e.right+a-i.width+(n?0:s);o>0?a+=o+8:l>0&&(a-=l+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,n){const s=this._getItemHeight(),a=(s-this._triggerRect.height)/2,o=Math.floor(256/s);let l;return this.disableOptionCentering?0:(l=0===this._scrollTop?e*s:this._scrollTop===n?(e-(this._getItemCount()-o))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*l-a))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,a=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),h=Math.min(this._getItemCount()*i,256)-o-this._triggerRect.height;h>a?this._adjustPanelUp(h,a):o>s?this._adjustPanelDown(o,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const n=Math.round(e-i);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,n){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),n=Math.min(i*e,256),a=i*e-n;let o;o=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),o+=R9(o,this.options,this.optionGroups);const l=n/2;this._scrollTop=this._calculateOverlayScroll(o,l,a),this._offsetY=this._calculateOverlayOffsetY(o,l,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=Rs(r)))(i||r)}}(),r.\u0275cmp=ci({type:r,selectors:[["mat-select"]],contentQueries:function(e,i,n){if(1&e&&(Ke(n,yTe,5),Ke(n,L9,5),Ke(n,_9,5)),2&e){let s;Pe(s=Fe())&&(i.customTrigger=s.first),Pe(s=Fe())&&(i.options=s),Pe(s=Fe())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&xt("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(Vi("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),ss("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[Ii([{provide:fw,useExisting:r},{provide:N9,useExisting:r}]),ft],ngContentSelectors:cTe,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(Co(hTe),W(0,"div",0,1),xt("click",function(){return i.toggle()}),W(3,"div",2),yt(4,sTe,2,1,"span",3),yt(5,oTe,3,2,"span",4),q(),W(6,"div",5),Ce(7,"div",6),q(),q(),yt(8,lTe,4,14,"ng-template",7),xt("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const n=$l(1);Vi("aria-owns",i.panelOpen?i.id+"-panel":null),_e(3),Ne("ngSwitch",i.empty),Vi("id",i._valueId),_e(1),Ne("ngSwitchCase",!0),_e(1),Ne("ngSwitchCase",!1),_e(3),Ne("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",n)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[eQ,pg,bI,tQ,BB,vI],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[nQ.transformPanelWrap,nQ.transformPanel]},changeDetection:0}),r})(),ETe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({providers:[mTe],imports:[[lc,iQ,P9,ks],yw,mw,P9,ks]}),r})();function DTe(r,t){if(1&r){const e=Kl();W(0,"mat-option",1),xt("onSelectionChange",function(){const s=pa(e).$implicit;return Nt().select(s)}),he(1),q()}if(2&r){const e=t.$implicit;_e(1),Eu(e.Name)}}let STe=(()=>{class r{constructor(e){this.uploadService=e,this.files=[],this.uploadService.getFileList("https://www.bso-toronto.ca:3000/api/list/files").subscribe({next:i=>{this.files=i},error:i=>{console.log("No File Found",i)}})}ngOnInit(){}select(e){window.location.href=e.url}}return r.\u0275fac=function(e){return new(e||r)(K(aA))},r.\u0275cmp=ci({type:r,selectors:[["app-file-downloader"]],decls:5,vars:1,consts:[["value","file.url",3,"onSelectionChange",4,"ngFor","ngForOf"],["value","file.url",3,"onSelectionChange"]],template:function(e,i){1&e&&(W(0,"mat-form-field"),W(1,"mat-label"),he(2,"Select Option to download"),q(),W(3,"mat-select"),yt(4,DTe,2,1,"mat-option",0),q(),q()),2&e&&(_e(4),Ne("ngForOf",i.files))},directives:[nL,tb,CTe,FB,L9],styles:[""]}),r})(),wTe=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=ci({type:r,selectors:[["app-about-bso"]],decls:19,vars:0,consts:[[1,"header"],[1,"content"]],template:function(e,i){1&e&&(W(0,"h1",0),he(1,"About US"),q(),W(2,"span",1),he(3,"The Buddhist Society of Ontario (BSO) extends its sincere appreciation for your interest in visiting our website and investing your valuable time in learning about our organization. "),W(4,"p"),he(5,"BSO was established by Bangladeshi Buddhists who had immigrated to Canada and chose Ontario as their new home. Recognizing the importance of preserving, practicing, and promoting their socio-religious culture, they came together under one collective vision. BSO was formed in October 2017 and officially received a charitable status in July 6, 2021 (Registered Charity Number 79314 2936 RR0001)."),q(),W(6,"p"),he(7,"In its early years, BSO members gathered to celebrate their religious traditions at Sinhalese and Burmese Buddhist temples. Cultural events took place in the homes of our dedicated members."),q(),W(8,"p"),he(9,"On May 31, 2018, we acquired property at 10 Harrow Street, Mississauga, Ontario, with the aim of establishing a dedicated temple. This ambitious project was made possible through the unwavering commitment and support of our founding member families. Under the patronage of Ven. Dr. Bhante Saranapala, we embarked on the journey to create a place of worship and reflection."),q(),W(10,"p"),he(11,"Originally named the 'Toronto Buddhist Monastery and Meditation Centre (TBMMC),' our temple underwent a name change in 2023 to become the 'Bangladesh Buddhist Vihara of Toronto (BBVT).'"),q(),W(12,"p"),he(13,"From the very beginning, BSO has been dedicated to serving charitable causes both within Canada and abroad. Our initiatives include supporting local food banks, aiding homeless individuals, and providing assistance to disadvantaged families overseas."),q(),W(14,"p"),he(15,"BSO is managed by a dedicated committee and relies on the generous financial support of our member families. We are grateful for any contributions from our visitors and issue official tax receipts at the end of each year."),q(),W(16,"p"),he(17,"We invite you to explore our website further to learn more about our activities, events, and how you can get involved in our vibrant and compassionate community."),q(),he(18," Thank you for being a part of our journey\n"),q())},styles:[""]}),r})(),MTe=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=ci({type:r,selectors:[["app-about-temple"]],decls:24,vars:0,consts:[[1,"header"],[1,"content"]],template:function(e,i){1&e&&(W(0,"h1",0),he(1,"Bangladesh Buddhist Vihara of Toronto (BBVT)"),q(),W(2,"span",1),he(3," This is the first Buddhist temple in Canada established by the Bangladeshi origin immigrants. Who are deeply inspired by the Venerable Bhante Dr. Saranapala. "),W(4,"p"),he(5,"After the establishment of the temple in 2018, we have been honored to host various religious activities including meditation sessions each year, including the observance of the three-month rainy retreat by renowned monks from different countries. Here is a list of esteemed monks who have undertaken this retreat at our temple:"),q(),W(6,"p"),Ce(7,"br"),he(8,"In 2019, we welcomed Venerable Indiparape Dhammasiri Maha Thero from Sri Lanka."),Ce(9,"br"),Ce(10,"br"),he(11," In 2020, Venerable Shilabhadra Mahathero from Bangladesh graced our temple."),Ce(12,"br"),Ce(13,"br"),he(14," The year 2021 saw the presence of Venerable Bhante Kusala from the USA."),Ce(15,"br"),Ce(16,"br"),he(17," In 2022, we were blessed by the presence of Venerable Buddhananda Mahathero from Bangladesh."),Ce(18,"br"),Ce(19,"br"),he(20," For the year 2023, we are honored to host Venerable Jinapal Mahathero from Bangladesh and Venerable M. Dharmaratna Mahathero from India."),Ce(21,"br"),Ce(22,"br"),he(23," These revered monks have contributed to the spiritual enrichment of our temple and community through their dedicated practice and teachings. We are deeply grateful for their presence and guidance"),q(),q())},styles:[""]}),r})(),TTe=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=ci({type:r,selectors:[["app-welcome"]],decls:4,vars:0,consts:[[1,"header"],[1,"content"]],template:function(e,i){1&e&&(W(0,"h1",0),he(1,"All Are Welcome"),q(),W(2,"p",1),he(3,"BSO extends a warm welcome to generous individuals and volunteers who wish to become members of our organization. Whether you choose to be a member or not, we invite everyone to participate in our regular temple activities, where you can accumulate merit and nurture your spiritual growth"),q())},styles:[""]}),r})(),ITe=(()=>{class r extends c7{constructor(){super(...arguments),this.operationUrl=ch+"operation/alms/",this.AddOperationUrl=this.operationUrl+"add",this.EditOperationUrl=this.operationUrl+"edit",this.DeleteOperationUrl=this.operationUrl+"delete",this.GetOperationUrl=this.operationUrl+"all"}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=Rs(r)))(i||r)}}(),r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ATe=(()=>{class r extends d_{constructor(e,i){super(e,i)}}return r.\u0275fac=function(e){return new(e||r)(K(ITe),K(ku))},r.\u0275cmp=ci({type:r,selectors:[["app-calendar"]],features:[Ii([s_,r_,a_,o_,l_,h_,c_,u_]),ft],decls:1,vars:2,consts:[[3,"eventSettings","currentView","actionComplete"]],template:function(e,i){1&e&&(W(0,"ejs-schedule",0),xt("actionComplete",function(s){return i.actionComplete(s)}),q()),2&e&&Ne("eventSettings",i.eventSettings)("currentView",i.currentView)},directives:[n_],styles:[""]}),r})(),xTe=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=ci({type:r,selectors:[["app-committee"]],decls:38,vars:0,template:function(e,i){1&e&&(W(0,"h1"),he(1,"Board of Directors"),q(),he(2,"\n1. President: Mr. Ashish Barua"),Ce(3,"br"),he(4,"\n2. Vice-president-1: Mr. Bivash Baran Chowdhury"),Ce(5,"br"),he(6,"\n3. Vice-president-2: Mr. Apollo Barua"),Ce(7,"br"),he(8,"\n4. General Secretary: Mr. Sanath Barua"),Ce(9,"br"),he(10,"\n5. Organizing Secretary: Mr. Shantanu Barua"),Ce(11,"br"),he(12,"\n6. Organizing Secretary: Mr. Rupayan Barua"),Ce(13,"br"),he(14,"\n7. Treasurer: Mr. Saikat Barua"),Ce(15,"br"),he(16,"\n8. Assistant Finance Secretary (Asstt. Treasurer): Ms. Mita Barua"),Ce(17,"br"),he(18,"\n9. Publications and Publicity Secretary-1: Ms. Anusree Barua"),Ce(19,"br"),he(20,"\n10.Publications and Publicity Secretary-2: Mr. Ripon Barua"),Ce(21,"br"),he(22,"\n11.Publications and Publicity Secretary-3: Ms. Anti Barua"),Ce(23,"br"),he(24,"\n12.Member: Mr. Uday Shankar Barua"),Ce(25,"br"),he(26,"\n13.Member: Mr. Tapan Barua"),Ce(27,"br"),he(28,"\n14.Member: Mr. Shantanu Barua Manna"),Ce(29,"br"),he(30,"\n15.Member: Mr. Punya Barua"),Ce(31,"br"),he(32,"\n16.Member: Mr. Avijit Barua"),Ce(33,"br"),he(34,"\n17.Member: Mr. Ananya Bikash Barua"),Ce(35,"br"),he(36,"\n18.Member: Ms. Shova Barua"),Ce(37,"br"))},styles:[""]}),r})(),OTe=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=ci({type:r,selectors:[["app-trustee"]],decls:17,vars:0,template:function(e,i){1&e&&(W(0,"h1"),he(1,"Trustee"),q(),W(2,"h3"),he(3,"Board of trustee is comprised of following six persons:"),q(),he(4,"\nA) Venerable Bhante Dr. Saranapala"),Ce(5,"br"),he(6,"\nB) Mr. Shurid Barua"),Ce(7,"br"),he(8,"\nC) Mrs. Minati Prabha Chowdhury"),Ce(9,"br"),he(10,"\nD) Mr. Manoj Barua"),Ce(11,"br"),he(12,"\nE) One member of guarantor\u2019s family of BSO property"),Ce(13,"br"),he(14,"\nF) One member of guarantor\u2019s family of BSO property"),Ce(15,"br"),Ce(16,"br"))},styles:[""]}),r})(),kTe=(()=>{class r{constructor(e){this.http=e,this.emailUrl=ch+"email"}sendEmail(e){return this.http.post(this.emailUrl,e)}}return r.\u0275fac=function(e){return new(e||r)(le(Ou))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function NTe(r,t){1&r&&(W(0,"span",13),he(1," Name is required. "),q())}function _Te(r,t){if(1&r&&(W(0,"span",11),yt(1,NTe,2,0,"span",12),q()),2&r){const e=Nt();_e(1),Ne("ngIf",null==e.emailForm.controls.name.errors?null:e.emailForm.controls.name.errors.required)}}function LTe(r,t){1&r&&(W(0,"span",13),he(1," Email is required. "),q())}function RTe(r,t){if(1&r&&(W(0,"span",11),yt(1,LTe,2,0,"span",12),q()),2&r){const e=Nt();_e(1),Ne("ngIf",null==e.emailForm.controls.email.errors?null:e.emailForm.controls.email.errors.required)}}function PTe(r,t){1&r&&(W(0,"span",13),he(1," Subject is required. "),q())}function FTe(r,t){if(1&r&&(W(0,"span",11),yt(1,PTe,2,0,"span",12),q()),2&r){const e=Nt();_e(1),Ne("ngIf",null==e.emailForm.controls.subject.errors?null:e.emailForm.controls.subject.errors.required)}}function VTe(r,t){1&r&&(W(0,"span",13),he(1," Message is required. "),q())}function jTe(r,t){if(1&r&&(W(0,"span",11),yt(1,VTe,2,0,"span",12),q()),2&r){const e=Nt();_e(1),Ne("ngIf",null==e.emailForm.controls.message.errors?null:e.emailForm.controls.message.errors.required)}}let BTe=(()=>{class r{constructor(e,i,n){this.emailService=e,this.fb=i,this.notificationService=n,this.emailForm=this.fb.group({name:["",Qr.required],email:["",[Qr.email,Qr.required]],message:["",Qr.required],subject:["",Qr.required]})}onSubmit(){this.emailService.sendEmail(this.emailForm.value).subscribe({next:e=>{this.notificationService.sendMessage({message:"Email sent successfully!",type:Ui.success})},error:e=>{this.notificationService.sendMessage({message:"Error sending email: "+e.error.msg,type:Ui.error})}})}}return r.\u0275fac=function(e){return new(e||r)(K(kTe),K(IA),K(ku))},r.\u0275cmp=ci({type:r,selectors:[["app-email-form"]],decls:27,vars:6,consts:[[1,"contact-form-wrapper","d-flex","justify-content-center"],[1,"contact-form",3,"formGroup","ngSubmit"],[1,"title"],[1,"description"],["type","text","formControlName","name",1,"form-control","rounded","border-black","mb-3","form-input"],["class","alert alert-danger",4,"ngIf"],["type","email","formControlName","email","name","email",1,"form-control","rounded","border-black","mb-3","form-input"],["type","text","formControlName","subject","name","subject",1,"form-control","rounded","border-black","mb-3","form-input"],["formControlName","message","name","message","rows","5","cols","30",1,"form-control","rounded","border-black","mb-3","form-text-area"],[1,"submit-button-wrapper"],["type","submit",3,"disabled"],[1,"alert","alert-danger"],["style","color: red;",4,"ngIf"],[2,"color","red"]],template:function(e,i){1&e&&(W(0,"div"),W(1,"div",0),W(2,"form",1),xt("ngSubmit",function(){return i.onSubmit()}),W(3,"h2",2),he(4,"Contact us"),q(),Ce(5,"p",3),W(6,"div"),W(7,"label"),he(8,"Name: "),q(),Ce(9,"input",4),yt(10,_Te,2,1,"span",5),q(),W(11,"div"),W(12,"label"),he(13,"Email: "),q(),Ce(14,"input",6),yt(15,RTe,2,1,"span",5),q(),W(16,"div"),W(17,"label"),he(18,"Subject: "),q(),Ce(19,"input",7),yt(20,FTe,2,1,"span",5),q(),W(21,"div"),Ce(22,"textarea",8),yt(23,jTe,2,1,"span",5),q(),W(24,"div",9),W(25,"button",10),he(26,"Send"),q(),q(),q(),q(),q()),2&e&&(_e(2),Ne("formGroup",i.emailForm),_e(8),Ne("ngIf",i.emailForm.controls.name.invalid&&(i.emailForm.controls.name.dirty||i.emailForm.controls.name.touched)),_e(5),Ne("ngIf",i.emailForm.controls.email.invalid&&(i.emailForm.controls.email.dirty||i.emailForm.controls.email.touched)),_e(5),Ne("ngIf",i.emailForm.controls.subject.invalid&&(i.emailForm.controls.subject.dirty||i.emailForm.controls.subject.touched)),_e(3),Ne("ngIf",i.emailForm.controls.message.invalid&&(i.emailForm.controls.message.dirty||i.emailForm.controls.message.touched)),_e(2),Ne("disabled",!i.emailForm.valid))},directives:[Vp,Pp,mc,Rp,Z0,Lg,oc],styles:[".ng-valid[required][_ngcontent-%COMP%], .ng-valid.required[_ngcontent-%COMP%]{border-left:5px solid #42A948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}.alert[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#fed3d3;color:#820000;padding:1rem;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}label[_ngcontent-%COMP%]{margin-bottom:.5rem}select[_ngcontent-%COMP%]{width:100%;padding:.5rem}"]}),r})(),HTe=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=ci({type:r,selectors:[["app-contact"]],decls:21,vars:0,consts:[[1,"header"],[1,"container"],[1,"row","rounded"],[1,"col-3"]],template:function(e,i){1&e&&(W(0,"span",0),W(1,"h1"),he(2,"Contact"),q(),W(3,"h4"),he(4,"10 Harrow Street"),Ce(5,"br"),he(6," Mississauga,ON"),Ce(7,"br"),he(8," L4T 1J3"),Ce(9,"br"),he(10," Canada"),Ce(11,"br"),he(12," torontobd.monastery@gmail.com"),Ce(13,"br"),he(14," admin@bso-toronto.ca"),Ce(15,"br"),he(16," 905-678-1104 "),q(),q(),W(17,"div",1),W(18,"div",2),W(19,"div",3),Ce(20,"app-email-form"),q(),q(),q())},directives:[BTe],styles:[""]}),r})();const zTe=["*",[["mat-card-footer"]]],UTe=["*","mat-card-footer"],WTe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],qTe=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let oQ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=Be({type:r,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),r})(),lQ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=Be({type:r,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),r})(),hQ=(()=>{class r{constructor(){this.align="start"}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=Be({type:r,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(e,i){2&e&&ss("mat-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),r})(),cQ=(()=>{class r{constructor(e){this._animationMode=e}}return r.\u0275fac=function(e){return new(e||r)(K(ru,8))},r.\u0275cmp=ci({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&ss("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:UTe,decls:2,vars:0,template:function(e,i){1&e&&(Co(zTe),Hn(0),Hn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),r})(),uQ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=ci({type:r,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:qTe,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,i){1&e&&(Co(WTe),Hn(0),W(1,"div",0),Hn(2,1),q(),Hn(3,2))},encapsulation:2,changeDetection:0}),r})(),YTe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({imports:[[ks],ks]}),r})();const dQ=$y({passive:!0});let QTe=(()=>{class r{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Xo;const i=qh(e),n=this._monitoredElements.get(i);if(n)return n.subject;const s=new kt,a="cdk-text-field-autofilled",o=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",o,dQ),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",o,dQ)}}),s}stopMonitoring(e){const i=qh(e),n=this._monitoredElements.get(i);n&&(n.unlisten(),n.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return r.\u0275fac=function(e){return new(e||r)(le(lo),le(qt))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),pQ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({imports:[[y_]]}),r})();const GTe=new Ve("MAT_INPUT_VALUE_ACCESSOR"),$Te=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let KTe=0;const XTe=A9(class{constructor(r,t,e,i){this._defaultErrorStateMatcher=r,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let fQ=(()=>{class r extends XTe{constructor(e,i,n,s,a,o,l,h,c,d){super(o,s,a,n),this._elementRef=e,this._platform=i,this._autofillMonitor=h,this._formField=d,this._uid="mat-input-"+KTe++,this.focused=!1,this.stateChanges=new kt,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(m=>D7().has(m));const p=this._elementRef.nativeElement,f=p.nodeName.toLowerCase();this._inputValueAccessor=l||p,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&c.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",m=>{const g=m.target;!g.value&&0===g.selectionStart&&0===g.selectionEnd&&(g.setSelectionRange(1,1),g.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=p.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Gn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,n,s;return null!=(s=null!=(n=this._required)?n:null==(i=null==(e=this.ngControl)?void 0:e.control)?void 0:i.hasValidator(Qr.required))&&s}set required(e){this._required=Gn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&D7().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Gn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var i,n;const e=(null==(n=null==(i=this._formField)?void 0:i._hideControlPlaceholder)?void 0:n.call(i))?null:this.placeholder;if(e!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=e,e?s.setAttribute("placeholder",e):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){$Te.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return r.\u0275fac=function(e){return new(e||r)(K(Ai),K(lo),K(dl,10),K(Lu,8),K(mc,8),K(eL),K(GTe,10),K(QTe),K(qt),K(iL,8))},r.\u0275dir=Be({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,i){1&e&&xt("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(Zm("disabled",i.disabled)("required",i.required),Vi("id",i.id)("data-placeholder",i.placeholder)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),ss("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Ii([{provide:fw,useExisting:r}]),ft,or]}),r})(),ZTe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({providers:[eL],imports:[[pQ,mw,ks],pQ,mw]}),r})();const JTe=["mat-button",""],eIe=["*"],iIe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],nIe=cw(hw(uw(class{constructor(r){this._elementRef=r}})));let uL=(()=>{class r extends nIe{constructor(e,i,n){super(e),this._focusMonitor=i,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of iIe)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return r.\u0275fac=function(e){return new(e||r)(K(Ai),K(WS),K(ru,8))},r.\u0275cmp=ci({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&ja(gm,5),2&e){let n;Pe(n=Fe())&&(i.ripple=n.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(Vi("disabled",i.disabled||null),ss("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ft],attrs:JTe,ngContentSelectors:eIe,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(Co(),W(0,"span",0),Hn(1),q(),Ce(2,"span",1),Ce(3,"span",2)),2&e&&(_e(2),ss("mat-button-ripple-round",i.isRoundButton||i.isIconButton),Ne("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[gm],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),r})(),sIe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({imports:[[dw,ks],ks]}),r})(),rIe=(()=>{class r{constructor(e,i){this.authService=e,this.fb=i}ngOnInit(){this.registerForm=this.fb.group({name:["",Qr.required],email:["",[Qr.required,Qr.email]],password:[new _u("",Qr.required)]})}onSubmit(){this.authService.registerNewUser(Object.assign(Object.assign({},this.registerForm.value),{role:Vl.GENERAL_USER}))}}return r.\u0275fac=function(e){return new(e||r)(K(Wp),K(IA))},r.\u0275cmp=ci({type:r,selectors:[["app-register"]],decls:26,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center",1,"authentication-card-container"],[1,"authentication-card"],["fxLayout","column","fxLayoutAlign","center stretch",3,"formGroup"],["matInput","","formControlName","name"],["matInput","","type","email","formControlName","email"],["matInput","","type","password","formControlName","password"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-button","","routerLink","/login","routerLinkActive","active"]],template:function(e,i){1&e&&(W(0,"div",0),W(1,"mat-card",1),W(2,"mat-card-header"),W(3,"mat-card-title"),he(4,"Register"),q(),q(),W(5,"mat-card-content"),W(6,"form",2),W(7,"mat-form-field"),W(8,"mat-label"),he(9,"Name"),q(),Ce(10,"input",3),q(),Ce(11,"br"),W(12,"mat-form-field"),W(13,"mat-label"),he(14,"Email"),q(),Ce(15,"input",4),q(),Ce(16,"br"),W(17,"mat-form-field"),W(18,"mat-label"),he(19,"Password"),q(),Ce(20,"input",5),q(),q(),q(),W(21,"mat-card-actions"),W(22,"button",6),xt("click",function(){return i.onSubmit()}),he(23," Register "),q(),W(24,"button",7),he(25," Already have an account? Login here. "),q(),q(),q(),q()),2&e&&(_e(6),Ne("formGroup",i.registerForm),_e(16),Ne("disabled",!i.registerForm.valid))},directives:[cQ,uQ,lQ,oQ,Vp,Pp,mc,nL,tb,fQ,Rp,Z0,Lg,hQ,uL,Au,KI],styles:[".authentication-card[_ngcontent-%COMP%]{width:30%;margin:0 auto}.authentication-card-container[_ngcontent-%COMP%]{min-height:100vh}"]}),r})(),aIe=(()=>{class r{constructor(e,i){this.authService=e,this.fb=i}ngOnInit(){this.loginForm=this.fb.group({email:["",[Qr.required,Qr.email]],password:["",Qr.required]})}onSubmit(){this.authService.loginUser(this.loginForm.value)}}return r.\u0275fac=function(e){return new(e||r)(K(Wp),K(IA))},r.\u0275cmp=ci({type:r,selectors:[["app-login"]],decls:21,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center",1,"authentication-card-container"],[1,"authentication-card"],["fxLayout","column","fxLayoutAlign","center stretch",3,"formGroup"],["matInput","","formControlName","email"],["matInput","","type","password","formControlName","password","autocomplete","on"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-button","","routerLink","/register","routerLinkActive","active"]],template:function(e,i){1&e&&(W(0,"div",0),W(1,"mat-card",1),W(2,"mat-card-header"),W(3,"mat-card-title"),he(4,"Login"),q(),q(),W(5,"mat-card-content"),W(6,"form",2),W(7,"mat-form-field"),W(8,"mat-label"),he(9,"Email"),q(),Ce(10,"input",3),q(),Ce(11,"br"),W(12,"mat-form-field"),W(13,"mat-label"),he(14,"Password"),q(),Ce(15,"input",4),q(),q(),q(),W(16,"mat-card-actions"),W(17,"button",5),xt("click",function(){return i.onSubmit()}),he(18," Login "),q(),W(19,"button",6),he(20," Don't have an account? Register here. "),q(),q(),q(),q()),2&e&&(_e(6),Ne("formGroup",i.loginForm),_e(11),Ne("disabled",!i.loginForm.valid))},directives:[cQ,uQ,lQ,oQ,Vp,Pp,mc,nL,tb,fQ,Rp,Z0,Lg,hQ,uL,Au,KI],styles:[".authentication-card[_ngcontent-%COMP%]{width:30%;margin:0 auto}"]}),r})(),mQ=(()=>{class r{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return!this.authService.isLoggedIn()||(this.router.navigate(["/"]),!1)}}return r.\u0275fac=function(e){return new(e||r)(le(Wp),le(dr))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const oIe=[{path:"calendar",component:d_},{path:"upload/images",component:dDe,canActivate:[q2],data:{roles:[Vl.ADMIN,Vl.SUPER_ADMIN]}},{path:"upload/files",component:k2,canActivate:[q2],data:{roles:[Vl.ADMIN,Vl.SUPER_ADMIN]}},{path:"download/files",component:STe},{path:"calendar/events",component:d_},{path:"calendar/alms",component:ATe},{path:"bso",component:wTe},{path:"temple",component:MTe},{path:"welcome",component:TTe},{path:"committee",component:xTe},{path:"trustee",component:OTe},{path:"contact",component:HTe},{path:"register",component:rIe,canActivate:[mQ]},{path:"login",component:aIe,canActivate:[mQ]}];let lIe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({imports:[[vz.forRoot(oIe)],vz]}),r})();function gQ(r,t){return t?e=>_0(t.pipe(wr(1),In((r,t)=>{r.subscribe(new fn(t,Rd))})),e.pipe(gQ(r))):is((e,i)=>r(e,i).pipe(wr(1),function(r){return Ut(()=>r)}(e)))}function vQ(r,t=g_){const e=H9(r,t);return gQ(()=>e)}const uIe=["mat-menu-item",""];function dIe(r,t){1&r&&(Ct.lFrame.currentNamespace=tR,W(0,"svg",2),Ce(1,"polygon",3),q())}const yQ=["*"];function pIe(r,t){if(1&r){const e=Kl();W(0,"div",0),xt("keydown",function(n){return pa(e),Nt()._handleKeydown(n)})("click",function(){return pa(e),Nt().closed.emit("click")})("@transformMenu.start",function(n){return pa(e),Nt()._onAnimationStart(n)})("@transformMenu.done",function(n){return pa(e),Nt()._onAnimationDone(n)}),W(1,"div",1),Hn(2),q(),q()}if(2&r){const e=Nt();Ne("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),Vi("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const Cw={transformMenu:Ip("transformMenu",[nh("void",cr({opacity:0,transform:"scale(0.8)"})),sh("void => enter",cc("120ms cubic-bezier(0, 0, 0.2, 1)",cr({opacity:1,transform:"scale(1)"}))),sh("* => void",cc("100ms 25ms linear",cr({opacity:0})))]),fadeInItems:Ip("fadeInItems",[nh("showing",cr({opacity:1})),sh("void => *",[cr({opacity:0}),cc("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},fIe=new Ve("MatMenuContent"),dL=new Ve("MAT_MENU_PANEL"),mIe=uw(hw(class{}));let Ew=(()=>{class r extends mIe{constructor(e,i,n,s,a){super(),this._elementRef=e,this._focusMonitor=n,this._parentMenu=s,this._changeDetectorRef=a,this.role="menuitem",this._hovered=new kt,this._focused=new kt,this._highlighted=!1,this._triggersSubmenu=!1,s&&s.addItem&&s.addItem(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var n;const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let s=0;s<i.length;s++)i[s].remove();return(null==(n=e.textContent)?void 0:n.trim())||""}_setHighlighted(e){var i;this._highlighted=e,null==(i=this._changeDetectorRef)||i.markForCheck()}}return r.\u0275fac=function(e){return new(e||r)(K(Ai),K(Xt),K(WS),K(dL,8),K(ac))},r.\u0275cmp=ci({type:r,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&xt("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(Vi("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),ss("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[ft],attrs:uIe,ngContentSelectors:yQ,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(Co(),Hn(0),Ce(1,"div",0),yt(2,dIe,2,0,"svg",1)),2&e&&(_e(1),Ne("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),_e(1),Ne("ngIf",i._triggersSubmenu))},directives:[gm,oc],encapsulation:2,changeDetection:0}),r})();const bQ=new Ve("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let vIe=0,sb=(()=>{class r{constructor(e,i,n){this._elementRef=e,this._ngZone=i,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Dp,this._tabSubscription=rn.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new kt,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new _t,this.close=this.closed,this.panelId="mat-menu-panel-"+vIe++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Gn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Gn(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(n=>{this._classList[n]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(n=>{this._classList[n]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new PDe(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(rh(this._directDescendantItems),Ao(e=>Hl(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(rh(this._directDescendantItems),Ao(i=>Hl(...i.map(n=>n._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,n=this._keyManager;switch(i){case 27:um(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===i||40===i)&&n.setFocusOrigin("keyboard"),n.onKeydown(e)}}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.pipe(wr(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const i=this._keyManager;if(i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&this._directDescendantItems.length){let n=this._directDescendantItems.first._getHostElement().parentElement;for(;n;){if("menu"===n.getAttribute("role")){n.focus();break}n=n.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),n=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(a=>a.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[n]=!0,this._previousElevation=n)}setPositionClasses(e=this.xPosition,i=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===e,n["mat-menu-after"]="after"===e,n["mat-menu-above"]="above"===i,n["mat-menu-below"]="below"===i}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(rh(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return r.\u0275fac=function(e){return new(e||r)(K(Ai),K(qt),K(bQ))},r.\u0275dir=Be({type:r,contentQueries:function(e,i,n){if(1&e&&(Ke(n,fIe,5),Ke(n,Ew,5),Ke(n,Ew,4)),2&e){let s;Pe(s=Fe())&&(i.lazyContent=s.first),Pe(s=Fe())&&(i._allItems=s),Pe(s=Fe())&&(i.items=s)}},viewQuery:function(e,i){if(1&e&&ja(wo,5),2&e){let n;Pe(n=Fe())&&(i.templateRef=n.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),r})(),yIe=(()=>{class r extends sb{constructor(e,i,n){super(e,i,n),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return r.\u0275fac=function(e){return new(e||r)(K(Ai),K(qt),K(bQ))},r.\u0275cmp=ci({type:r,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&Vi("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Ii([{provide:dL,useExisting:r}]),ft],ngContentSelectors:yQ,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(Co(),yt(0,pIe,3,6,"ng-template"))},directives:[vI],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[Cw.transformMenu,Cw.fadeInItems]},changeDetection:0}),r})();const CQ=new Ve("mat-menu-scroll-strategy"),CIe={provide:CQ,deps:[vm],useFactory:function(r){return()=>r.scrollStrategies.reposition()}},DQ=$y({passive:!0});let EIe=(()=>{class r{constructor(e,i,n,s,a,o,l,h){this._overlay=e,this._element=i,this._viewContainerRef=n,this._menuItemInstance=o,this._dir=l,this._focusMonitor=h,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=rn.EMPTY,this._hoverSubscription=rn.EMPTY,this._menuCloseSubscription=rn.EMPTY,this._handleTouchStart=c=>{D_(c)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new _t,this.onMenuOpen=this.menuOpened,this.menuClosed=new _t,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=a instanceof sb?a:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,DQ),o&&(o._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,DQ),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),i=e.getConfig();this._setPosition(i.positionStrategy),i.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof sb&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){var e;null==(e=this._overlayRef)||e.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof sb?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(ur(n=>"void"===n.toState),wr(1),Ur(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i.lazyContent&&i.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,i=this.menu.parentMenu;for(;i;)e++,i=i.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new cL({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(i=>{this.menu.setPositionClasses("start"===i.connectionPair.overlayX?"after":"before","top"===i.connectionPair.overlayY?"below":"above")})}_setPosition(e){let[i,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[s,a]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[o,l]=[s,a],[h,c]=[i,n],d=0;this.triggersSubmenu()?(c=i="before"===this.menu.xPosition?"start":"end",n=h="end"===i?"start":"end",d="bottom"===s?8:-8):this.menu.overlapTrigger||(o="top"===s?"bottom":"top",l="top"===a?"bottom":"top"),e.withPositions([{originX:i,originY:o,overlayX:h,overlayY:s,offsetY:d},{originX:n,originY:o,overlayX:c,overlayY:s,offsetY:d},{originX:i,originY:l,overlayX:h,overlayY:a,offsetY:-d},{originX:n,originY:l,overlayX:c,overlayY:a,offsetY:-d}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments();return Hl(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:pt(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(ur(a=>a!==this._menuItemInstance),ur(()=>this._menuOpen)):pt(),i)}_handleMousedown(e){E_(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(ur(e=>e===this._menuItemInstance&&!e.disabled),vQ(0,rL)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof sb&&this.menu._isAnimating?this.menu._animationDone.pipe(wr(1),vQ(0,rL),Ur(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new lL(this.menu.templateRef,this._viewContainerRef)),this._portal}}return r.\u0275fac=function(e){return new(e||r)(K(vm),K(Ai),K(ws),K(CQ),K(dL,8),K(Ew,10),K(Ky,8),K(WS))},r.\u0275dir=Be({type:r,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(e,i){1&e&&xt("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&e&&Vi("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),r})(),DIe=(()=>{class r extends EIe{}return r.\u0275fac=function(){let t;return function(i){return(t||(t=Rs(r)))(i||r)}}(),r.\u0275dir=Be({type:r,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[ft]}),r})(),SIe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({providers:[CIe],imports:[[lc,ks,dw,iQ],yw,ks]}),r})();const MIe=["*"];let Dw;function rb(r){var t;return(null==(t=function(){if(void 0===Dw&&(Dw=null,"undefined"!=typeof window)){const r=window;void 0!==r.trustedTypes&&(Dw=r.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Dw}())?void 0:t.createHTML(r))||r}function SQ(r){return Error(`Unable to find icon with the name "${r}"`)}function wQ(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function MQ(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class _d{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Sw=(()=>{class r{constructor(e,i,n,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(e,i,n){return this.addSvgIconInNamespace("",e,i,n)}addSvgIconLiteral(e,i,n){return this.addSvgIconLiteralInNamespace("",e,i,n)}addSvgIconInNamespace(e,i,n,s){return this._addSvgIconConfig(e,i,new _d(n,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,n,s){const a=this._sanitizer.sanitize(Ti.HTML,n);if(!a)throw MQ(n);const o=rb(a);return this._addSvgIconConfig(e,i,new _d("",o,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,n){return this._addSvgIconSetConfig(e,new _d(i,null,n))}addSvgIconSetLiteralInNamespace(e,i,n){const s=this._sanitizer.sanitize(Ti.HTML,i);if(!s)throw MQ(i);const a=rb(s);return this._addSvgIconSetConfig(e,new _d("",a,n))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(Ti.RESOURCE_URL,e);if(!i)throw wQ(e);const n=this._cachedIconsByUrl.get(i);return n?pt(ww(n)):this._loadSvgIconFromConfig(new _d(e,null)).pipe(Qs(s=>this._cachedIconsByUrl.set(i,s)),Ut(s=>ww(s)))}getNamedSvgIcon(e,i=""){const n=TQ(i,e);let s=this._svgIconConfigs.get(n);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(n,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):function(r,t){const e=It(r)?r:()=>r,i=n=>n.error(e());return new zi(i)}(SQ(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?pt(ww(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Ut(i=>ww(i)))}_getSvgFromIconSetConfigs(e,i){const n=this._extractIconWithNameFromAnySet(e,i);return n?pt(n):kz(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(ah(o=>{const h=`Loading icon set URL: ${this._sanitizer.sanitize(Ti.RESOURCE_URL,a.url)} failed: ${o.message}`;return this._errorHandler.handleError(new Error(h)),pt(null)})))).pipe(Ut(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw SQ(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let n=i.length-1;n>=0;n--){const s=i[n];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(s),o=this._extractSvgIconFromSet(a,e,s.options);if(o)return o}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Qs(i=>e.svgText=i),Ut(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?pt(null):this._fetchIcon(e).pipe(Qs(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,n){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,n);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),n);const o=this._svgElementFromString(rb("<svg></svg>"));return o.appendChild(a),this._setSvgAttributes(o,n)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const n=i.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(e){const i=this._svgElementFromString(rb("<svg></svg>")),n=e.attributes;for(let s=0;s<n.length;s++){const{name:a,value:o}=n[s];"id"!==a&&i.setAttribute(a,o)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var h;const{url:i,options:n}=e,s=null!=(h=null==n?void 0:n.withCredentials)&&h;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(Ti.RESOURCE_URL,i);if(!a)throw wQ(i);const o=this._inProgressUrlFetches.get(a);if(o)return o;const l=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(Ut(c=>rb(c)),CH(()=>this._inProgressUrlFetches.delete(a)),BL());return this._inProgressUrlFetches.set(a,l),l}_addSvgIconConfig(e,i,n){return this._svgIconConfigs.set(TQ(e,i),n),this}_addSvgIconSetConfig(e,i){const n=this._iconSetConfigs.get(e);return n?n.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let n=0;n<this._resolvers.length;n++){const s=this._resolvers[n](i,e);if(s)return xIe(s)?new _d(s.url,null,s.options):new _d(s,null)}}}return r.\u0275fac=function(e){return new(e||r)(le(Ou,8),le(O0),le(Xt,8),le(Yl))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function ww(r){return r.cloneNode(!0)}function TQ(r,t){return r+":"+t}function xIe(r){return!(!r.url||!r.options)}const OIe=cw(class{constructor(r){this._elementRef=r}}),kIe=new Ve("mat-icon-location",{providedIn:"root",factory:function(){const r=yM(Xt),t=r?r.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),IQ=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],_Ie=IQ.map(r=>`[${r}]`).join(", "),LIe=/^url\(['"]?#(.*?)['"]?\)$/;let RIe=(()=>{class r extends OIe{constructor(e,i,n,s,a){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=a,this._inline=!1,this._currentIconFetch=rn.EMPTY,n||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Gn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=e.querySelectorAll("style");for(let s=0;s<i.length;s++)i[s].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const n=e.childNodes[i];(1!==n.nodeType||"svg"===n.nodeName.toLowerCase())&&n.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((n,s)=>{n.forEach(a=>{s.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(_Ie),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)IQ.forEach(a=>{const o=i[s],l=o.getAttribute(a),h=l?l.match(LIe):null;if(h){let c=n.get(o);c||(c=[],n.set(o,c)),c.push({name:a,value:h[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,n]=this._splitIconName(e);i&&(this._svgNamespace=i),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,i).pipe(wr(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${n}! ${s.message}`))})}}}return r.\u0275fac=function(e){return new(e||r)(K(Ai),K(Sw),ec("aria-hidden"),K(kIe),K(Yl))},r.\u0275cmp=ci({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(Vi("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),ss("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[ft],ngContentSelectors:MIe,decls:1,vars:0,template:function(e,i){1&e&&(Co(),Hn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),r})(),PIe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({imports:[[ks],ks]}),r})();const FIe=["itemTemplate"],VIe=["template"],jIe=["indicatorsTemplate"],BIe=["nextButtonTemplate"],HIe=["previousButtonTemplate"],zIe=["playButtonTemplate"];let UIe=["cssClass","htmlAttributes","interval","template"],WIe=[],qIe=(()=>{class r extends TC{constructor(e){super(),this.viewContainerRef=e,ef("currentInstance",this,this.viewContainerRef),this.registerEvents(WIe),this.directivePropList=UIe}}return r.\u0275fac=function(e){return new(e||r)(K(ws))},r.\u0275dir=Be({type:r,selectors:[["e-carousel-item"]],contentQueries:function(e,i,n){if(1&e&&Ke(n,VIe,5),2&e){let s;Pe(s=Fe())&&(i.template=s.first)}},inputs:{cssClass:"cssClass",htmlAttributes:"htmlAttributes",interval:"interval",template:"template"},features:[ft]}),Bt([Jt()],r.prototype,"template",void 0),r})(),YIe=(()=>{class r extends IC{constructor(){super("items")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=Be({type:r,selectors:[["e-carousel-items"]],contentQueries:function(e,i,n){if(1&e&&Ke(n,qIe,4),2&e){let s;Pe(s=Fe())&&(i.children=s)}},features:[ft]}),r})();const QIe=["slideChanged","slideChanging","selectedIndexChange"],GIe=["selectedIndex"];let $Ie=(()=>{let r=class extends Fme{constructor(e,i,n,s){super(),this.ngEle=e,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.tags=["items"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(QIe),this.addTwoWay.call(this,GIe),ef("currentInstance",this,this.viewContainerRef),this.context=new AC}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childItems,this.context.ngAfterContentChecked(this)}};return r.\u0275fac=function(e){return new(e||r)(K(Ai),K(So),K(ws),K(An))},r.\u0275cmp=ci({type:r,selectors:[["ejs-carousel"]],contentQueries:function(e,i,n){if(1&e&&(Ke(n,jIe,5),Ke(n,BIe,5),Ke(n,HIe,5),Ke(n,zIe,5),Ke(n,FIe,5),Ke(n,YIe,5)),2&e){let s;Pe(s=Fe())&&(i.indicatorsTemplate=s.first),Pe(s=Fe())&&(i.nextButtonTemplate=s.first),Pe(s=Fe())&&(i.previousButtonTemplate=s.first),Pe(s=Fe())&&(i.playButtonTemplate=s.first),Pe(s=Fe())&&(i.itemTemplate=s.first),Pe(s=Fe())&&(i.childItems=s.first)}},inputs:{animationEffect:"animationEffect",autoPlay:"autoPlay",buttonsVisibility:"buttonsVisibility",cssClass:"cssClass",dataSource:"dataSource",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enableTouchSwipe:"enableTouchSwipe",height:"height",htmlAttributes:"htmlAttributes",indicatorsTemplate:"indicatorsTemplate",indicatorsType:"indicatorsType",interval:"interval",itemTemplate:"itemTemplate",items:"items",locale:"locale",loop:"loop",nextButtonTemplate:"nextButtonTemplate",partialVisible:"partialVisible",pauseOnHover:"pauseOnHover",playButtonTemplate:"playButtonTemplate",previousButtonTemplate:"previousButtonTemplate",selectedIndex:"selectedIndex",showIndicators:"showIndicators",showPlayButton:"showPlayButton",swipeMode:"swipeMode",width:"width"},outputs:{slideChanged:"slideChanged",slideChanging:"slideChanging",selectedIndexChange:"selectedIndexChange"},features:[ft],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),Bt([Jt()],r.prototype,"indicatorsTemplate",void 0),Bt([Jt()],r.prototype,"nextButtonTemplate",void 0),Bt([Jt()],r.prototype,"previousButtonTemplate",void 0),Bt([Jt()],r.prototype,"playButtonTemplate",void 0),Bt([Jt()],r.prototype,"itemTemplate",void 0),r=Bt([O4([AC])],r),r})(),KIe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({imports:[[lc]]}),r})(),XIe=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=ci({type:r,selectors:[["app-footer"]],decls:53,vars:0,consts:[[1,"text-center","text-lg-start","bg-body-tertiary","text-muted"],[1,"d-flex","justify-content-center","justify-content-lg-between","p-4","border-bottom"],[1,""],[1,"container","text-center","text-md-start","mt-5"],[1,"row","mt-3"],[1,"col-md-3","col-lg-4","col-xl-3","mx-auto","mb-4"],[1,"text-uppercase","fw-bold","mb-4"],[1,"fas","fa-gem","me-3"],["href","https://www.facebook.com/BuddhistSocietyOfOntario",1,"me-4","text-reset"],[1,"fab","fa-facebook-f"],["href","https://www.bso-toronto.ca/contact",1,"me-4","text-reset"],[1,"fab","fa-google"],[1,"col-md-3","col-lg-2","col-xl-2","mx-auto","mb-4"],["href","https://www.bso-toronto.ca/calendar/events",1,"text-reset"],["href","https://www.bso-toronto.ca/contact",1,"text-reset"],[1,"col-md-4","col-lg-4","col-xl-4","mx-auto","mb-md-0","mb-4"],[1,"fas","fa-home","me-3"],[1,"fas","fa-envelope","me-3"],[1,"fas","fa-phone","me-3"],[1,"text-center","p-4",2,"background-color","rgba(0, 0, 0, 0.05)"],["href","https://www.bso-toronto.ca/contact",1,"text-reset","fw-bold"],["href","https://www.linkedin.com/in/chapal-barua",1,"text-reset","fw-bold"],["href","https://www.linkedin.com/in/chapal-barua",1,"me-2","text-reset"],[1,"fab","fa-linkedin","ms-2"],["href","https://github.com/ChapalBarua",1,"me-2","text-reset"],[1,"fab","fa-github"],["href","https://www.facebook.com/chapal42",1,"me-2","text-reset"],[1,"fab","fa-facebook"]],template:function(e,i){1&e&&(W(0,"footer",0),Ce(1,"section",1),W(2,"section",2),W(3,"div",3),W(4,"div",4),W(5,"div",5),W(6,"h6",6),Ce(7,"i",7),he(8,"Buddhist Society of Ontario "),q(),W(9,"p"),he(10," Follow us in socal media. "),q(),W(11,"div"),W(12,"a",8),Ce(13,"i",9),q(),W(14,"a",10),Ce(15,"i",11),q(),q(),q(),W(16,"div",12),W(17,"h6",6),he(18," Useful links "),q(),W(19,"p"),W(20,"a",13),he(21,"Upcoming Events"),q(),q(),W(22,"p"),W(23,"a",14),he(24,"Contact Us"),q(),q(),q(),W(25,"div",15),W(26,"h6",6),he(27,"Contact"),q(),W(28,"p"),Ce(29,"i",16),he(30," 10 Harrow Street, Mississauga,ON, L4T 1J3, Canada"),q(),W(31,"p"),Ce(32,"i",17),he(33," torontobd.monastery@gmail.com, "),Ce(34,"br"),he(35,"admin@bso-toronto.ca "),q(),W(36,"p"),Ce(37,"i",18),he(38,"905-678-1104"),q(),q(),q(),q(),q(),W(39,"div",19),he(40," \xa9 2024 Copyright: "),W(41,"a",20),he(42,"Buddhist Society of Ontario"),q(),Ce(43,"br"),he(44," Developed By "),W(45,"a",21),he(46,"Chapal Barua"),q(),W(47,"a",22),Ce(48,"i",23),q(),W(49,"a",24),Ce(50,"i",25),q(),W(51,"a",26),Ce(52,"i",27),q(),q(),q())},styles:[""]}),r})();function ZIe(r,t){if(1&r&&(Ce(0,"div",20),W(1,"figure",21),Ce(2,"img",22),q()),2&r){const e=t.$implicit;_e(2),Ne("src",e.url,Vb)}}let JIe=(()=>{class r{constructor(){this.images=[],this.partialVisible=!0}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=ci({type:r,selectors:[["app-home"]],inputs:{images:"images"},decls:32,vars:5,consts:[[1,"container","mt-2"],[1,"row","rounded","shadow","my-4"],[1,"col-lg-3","col-sm-2","px-0"],[1,"card","shadow"],["src","assets/buddha.jpg","alt","Card image cap",1,"card-img-top;"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["album","",1,"col-9","bg-light","pe-0"],["width","100%",1,"partial-carousel","album",3,"dataSource","showPlayButton","autoPlay","buttonsVisibility","partialVisible"],["itemTemplate",""],[1,"container","home"],[1,"row","rounded","shadow"],[1,"card","mx-4","my-4",2,"width","18rem"],["src","assets/facebook.png","alt","...",1,"card-img-top"],["href","https://www.facebook.com/BuddhistSocietyOfOntario",1,"btn","btn-primary"],[1,"col-9","bg-light","mb-4"],[1,"header"],[1,"content"],["routerLink","/bso",1,"center"],[1,"slide-content"],[1,"img-container"],["alt","",2,"width","66%",3,"src"]],template:function(e,i){1&e&&(W(0,"div",0),W(1,"div",1),W(2,"div",2),W(3,"div",3),Ce(4,"img",4),W(5,"div",5),W(6,"h5",6),he(7,"Sayings Of The Buddha"),q(),W(8,"p",7),he(9,'" All tremble at punishment. Life is dear to all. Put yourself in the place of others; kill none nor have another killed. Dhammapada 130 "'),q(),W(10,"p"),he(11,"Buddha"),q(),q(),q(),q(),W(12,"div",8),W(13,"ejs-carousel",9),yt(14,ZIe,3,1,"ng-template",null,10,Nj),q(),q(),q(),q(),W(16,"div",11),W(17,"div",12),W(18,"div",2),W(19,"div",13),Ce(20,"img",14),W(21,"div",5),W(22,"a",15),he(23,"Go To Temple Facebook Page"),q(),q(),q(),q(),W(24,"div",16),W(25,"h1",17),he(26,"Welcome to BSO"),q(),W(27,"p",18),he(28,"Welcome to the Buddhist Society of Ontario (BSO) and the Bangladesh Buddhist Vihara of Toronto (BBVT). Our organization was founded by Bangladeshi immigrants who have made Ontario their home, driven by the shared goal of preserving, nurturing, and promoting our cultural and religious values. We extend a warm welcome to anyone interested in learning about our activities and joining our vibrant community "),q(),W(29,"button",19),he(30,"Find More About Us"),q(),q(),q(),q(),Ce(31,"app-footer")),2&e&&(_e(13),Ne("dataSource",i.images)("showPlayButton",!0)("autoPlay",!0)("buttonsVisibility","Visible")("partialVisible",i.partialVisible))},directives:[$Ie,Au,XIe],styles:[".e-carousel .e-carousel-navigators .e-previous .e-btn:not(:disabled) .e-btn-icon,   .e-carousel .e-carousel-navigators .e-next .e-btn:not(:disabled) .e-btn-icon,   .e-carousel .e-carousel-navigators .e-play-pause .e-btn:not(:disabled) .e-btn-icon{color:#000}.e-carousel[_ngcontent-%COMP%]   .e-previous-icon[_ngcontent-%COMP%]:before{color:#000}.e-carousel[_ngcontent-%COMP%]   .e-carousel-indicators.e-default[_ngcontent-%COMP%]   .e-indicator-bar[_ngcontent-%COMP%]   .e-indicator[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#000}.e-carousel[_ngcontent-%COMP%]   .e-carousel-indicators.e-default[_ngcontent-%COMP%]   .e-indicator-bar.e-active[_ngcontent-%COMP%]   .e-indicator[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:red}figure[_ngcontent-%COMP%]{margin:0}"],changeDetection:0}),r})();function eAe(r,t){1&r&&(W(0,"div",31),W(1,"button",32),he(2,"Register/Login"),q(),q())}function tAe(r,t){if(1&r){const e=Kl();W(0,"div",31),W(1,"button",33),xt("click",function(){return pa(e),Nt().logOut()}),he(2,"LogOut"),q(),q()}}function iAe(r,t){if(1&r&&(yu(0),Ce(1,"app-home",34),bu()),2&r){const e=Nt();_e(1),Ne("images",e.images)}}function nAe(r,t){1&r&&(W(0,"button",35),he(1,"Upload Images"),q())}function sAe(r,t){1&r&&(W(0,"button",36),he(1,"Upload Documents"),q())}let rAe=(()=>{class r{constructor(e,i,n,s){this.router=e,this.authService=i,this.uploadService=n,this.notificationService=s,this.title="TempleWebsite",this.showHome=!1,this.showLogOut=!1,this.loggedIn=!1,this.hideNonAdminMenu=!0,this.images=[]}ngOnInit(){this.router.events.subscribe(e=>{e instanceof L0&&("/"===e.url?0===this.images.length?this.uploadService.getFileList("https://www.bso-toronto.ca:3000/api/list/images").subscribe({next:i=>{this.images=i,this.showHome=!0},error:i=>{this.notificationService.sendMessage({message:"No Images Found: "+i.error.msg,type:Ui.error})}}):this.showHome=!0:this.showHome=!1)}),this.authService.token&&(this.loggedIn=!0,this.showOrHideNonAdminMenu()),this.authService.isLoggedIn$.subscribe(e=>{this.loggedIn=e,this.showOrHideNonAdminMenu()})}downloadMembershipForm(){const e=document.createElement("a");e.download="MemberShipForm.pdf",e.href="assets/MemberShipForm.pdf",e.click(),e.remove()}logOut(){this.authService.logOut()}showOrHideNonAdminMenu(){var e,i;this.hideNonAdminMenu=(null===(e=this.authService.user)||void 0===e?void 0:e.role)!==Vl.ADMIN&&(null===(i=this.authService.user)||void 0===i?void 0:i.role)!==Vl.SUPER_ADMIN}}return r.\u0275fac=function(e){return new(e||r)(K(dr),K(Wp),K(aA),K(ku))},r.\u0275cmp=ci({type:r,selectors:[["app-root"]],decls:73,vars:10,consts:[[1,"container","bg-info","sticky-top"],["navBar","",1,"row"],["src","assets/logo.png","alt","image of temple",1,"img-fluid","px-0"],["navBar","",1,"row","rounded","shadow"],[1,"col-lg-1","col-3"],["mat-button","","routerLink","/"],[1,"col-lg-1","col-3","text-center"],["mat-button","",1,"px-1",3,"matMenuTriggerFor"],["mat-button","","routerLink","/calendar/events"],["mat-button","","disabled",""],["mat-button","","routerLink","/contact"],[1,"col-lg-2","col-sm-1"],["class","col-lg-2 col-3 text-center",4,"ngIf"],[4,"ngIf"],["media","matMenu"],["mat-menu-item","","routerLink","/upload/images",4,"ngIf"],["mat-menu-item","","routerLink","/upload/files",4,"ngIf"],["mat-menu-item","","routerLink","/download/files"],["about","matMenu"],["mat-menu-item","",3,"matMenuTriggerFor"],["bso","matMenu"],["mat-menu-item","","routerLink","/bso"],["mat-menu-item","","routerLink","/committee"],["mat-menu-item","","routerLink","/trustee"],["mat-menu-item",""],["temple","matMenu"],["mat-menu-item","","routerLink","/temple"],["mat-menu-item","","routerLink","/calendar/alms"],["joinUs","matMenu"],["mat-menu-item","","routerLink","welcome"],["mat-menu-item","",3,"click"],[1,"col-lg-2","col-3","text-center"],["mat-button","","routerLink","/login",1,"btn","btn-danger","btn-sm"],["mat-button","",1,"btn","btn-danger","btn-sm",3,"click"],[3,"images"],["mat-menu-item","","routerLink","/upload/images"],["mat-menu-item","","routerLink","/upload/files"]],template:function(e,i){if(1&e&&(W(0,"div",0),W(1,"div",1),Ce(2,"img",2),q(),W(3,"div",3),W(4,"div",4),W(5,"button",5),he(6,"Home"),q(),q(),W(7,"div",6),W(8,"button",7),he(9," About Us "),W(10,"mat-icon"),he(11,"arrow_drop_down"),q(),q(),q(),W(12,"div",4),W(13,"button",7),he(14," Media "),W(15,"mat-icon"),he(16,"arrow_drop_down"),q(),q(),q(),W(17,"div",4),W(18,"button",8),he(19,"Events"),q(),q(),W(20,"div",4),W(21,"button",9),he(22,"News"),q(),q(),W(23,"div",4),W(24,"button",9),he(25,"Blog"),q(),q(),W(26,"div",4),W(27,"button",10),he(28,"Contact"),q(),q(),W(29,"div",4),W(30,"button",9),he(31,"Donate"),q(),q(),Ce(32,"div",11),yt(33,eAe,3,0,"div",12),yt(34,tAe,3,0,"div",12),q(),q(),yt(35,iAe,2,1,"ng-container",13),W(36,"mat-menu",null,14),yt(38,nAe,2,0,"button",15),yt(39,sAe,2,0,"button",16),W(40,"button",17),he(41,"Download Documents"),q(),q(),W(42,"mat-menu",null,18),W(44,"button",19),he(45,"BSO"),q(),W(46,"button",19),he(47,"Temple"),q(),q(),W(48,"mat-menu",null,20),W(50,"button",21),he(51,"About BSO"),q(),W(52,"button",22),he(53,"BSO Commitee"),q(),W(54,"button",23),he(55,"Trustee"),q(),W(56,"button",24),he(57,"BSO Annual Report"),q(),q(),W(58,"mat-menu",null,25),W(60,"button",26),he(61,"About temple"),q(),W(62,"button",19),he(63,"Join Us"),q(),W(64,"button",27),he(65,"Daily Alms/Puja Schedule"),q(),q(),W(66,"mat-menu",null,28),W(68,"button",29),he(69,"All Are Welcome"),q(),W(70,"button",30),xt("click",function(){return i.downloadMembershipForm()}),he(71,"MemeberShip"),q(),q(),Ce(72,"router-outlet")),2&e){const n=$l(37),s=$l(43),a=$l(49),o=$l(59),l=$l(67);_e(8),Ne("matMenuTriggerFor",s),_e(5),Ne("matMenuTriggerFor",n),_e(20),Ne("ngIf",!i.loggedIn),_e(1),Ne("ngIf",i.loggedIn),_e(1),Ne("ngIf",i.showHome),_e(3),Ne("ngIf",!i.hideNonAdminMenu),_e(1),Ne("ngIf",!i.hideNonAdminMenu),_e(5),Ne("matMenuTriggerFor",a),_e(2),Ne("matMenuTriggerFor",o),_e(16),Ne("matMenuTriggerFor",l)}},directives:[uL,Au,DIe,RIe,oc,yIe,Ew,WI,JIe],styles:[".page-header[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{font-size:large}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:50%}.sticky-top[_ngcontent-%COMP%]{z-index:999}"]}),r})(),aAe=(()=>{class r{constructor(e){this.injector=e}intercept(e,i){let n=this.injector.get(Wp);if(n.token){let s=e.clone({setHeaders:{Authorization:`Bearer ${n.token}`}});return i.handle(s)}return i.handle(e)}}return r.\u0275fac=function(e){return new(e||r)(le(An))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),OQ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({}),r})(),yAe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r}),r.\u0275inj=Wt({imports:[[dw,ks,v7,OQ],ks,OQ]}),r})(),bAe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=$t({type:r,bootstrap:[rAe]}),r.\u0275inj=Wt({providers:[{provide:iA,useClass:aAe,multi:!0},s_,r_,a_,o_,l_,u_,h_,c_],imports:[[iH,lIe,Uoe,Swe,uDe,KIe,O2,yAe,Ble,mw,ETe,ZTe,SIe,sIe,PIe,YTe,ure.forRoot({positionClass:"toast-top-right"})]]}),r})();cB=!1,y4("Ngo9BigBOggjHTQxAR8/V1NHaF5cXmVCf1FpRmJGdld5fUVHYVZUTXxaS00DNHVRdkdgWH1fc3VXRGNdWEZzX0E="),Ase().bootstrapModule(bAe).catch(r=>console.error(r))}},It=>{It(It.s=337)}]);